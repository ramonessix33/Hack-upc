define("metaserver/static/js/prod_assets_web_modules/dig-components/controls",["exports","../common/tslib.es6","../classnames","react","focus-visible"],(function(e,t,n,a,r){"use strict";var i=a.forwardRef((function(e,r){var i=e.checked,l=e.className,c=e.isIndeterminate,d=void 0!==c&&c,u=e.inverse,f=void 0!==u&&u,m=e.style,p=void 0===m?{}:m,g=t.__rest(e,["checked","className","isIndeterminate","inverse","style"]),v=a.useState(!1),h=v[0],_=v[1],E=a.useRef(i);a.useEffect((function(){h||i===E.current||_(!0)}),[i,E,h]);var b=n("dig-Checkbox-input",{"dig-Checkbox--inverse":f,"dig-Checkbox--initiallyChecked":!h&&i}),k=n("dig-Checkbox",l),y=a.useRef(),C=(function(e,t){return function(n){t.current=n,e&&("function"==typeof e?e(n):e.current=n)}})(r,y);return a.useEffect((function(){y.current&&(y.current.indeterminate=d)}),[d,r]),a.createElement("span",{className:k,style:p},a.createElement("input",t.__assign({checked:i,className:b,ref:C,type:"checkbox"},g)),a.createElement("span",{className:"dig-Checkbox-styles"}),a.createElement(s,null),a.createElement(o,null))}));i.displayName="Checkbox";var o=function(){return a.createElement("svg",{className:"dig-Checkbox-checked-icon","aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},a.createElement("path",{d:"M1 4L4.5 7.5L11 1",stroke:"currentColor",strokeWidth:"2",transform:"translate(4, 6)"}))};o.displayName="CheckedCheckboxIcon";var s=function(){return a.createElement("svg",{"aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",className:"dig-Checkbox-indeterminate-icon",focusable:"false"},a.createElement("rect",{x:"5px",y:"9px",width:"10px",height:"2px"}))};s.displayName="IndeterminateCheckboxIcon";var l=a.forwardRef((function(e,r){var i=e.className;e.children;var o=e.inverse,s=t.__rest(e,["className","children","inverse"]),l=n("dig-Radio",i,{"dig-Radio--inverse":o});return a.createElement("input",t.__assign({type:"radio",className:l,ref:r},s))}));l.displayName="RadioButton";var c={options:new Map},d=function(e,n){var a;switch(n.type){case"UPDATE_OPTION":var r=new Map(e.options);r.set(n.payload.key,n.payload.value),a={options:r};break;case"REMOVE_OPTION":var i=new Map(e.options);i.delete(n.payload.key),a={options:i}}return t.__assign(t.__assign({},e),a)},u={setSelectedOption:function(){return!1},optionItems:{items:new Map,updateOption:function(){return!1},addOption:function(){return!1},removeOption:function(){return!1}}},f=a.createContext(u),m=a.forwardRef((function(e,r){var i=e.children,o=e.disabled,s=e.variant,l=void 0===s?"icon":s,c=e.value,d=e.role,u=void 0===d?"tab":d,m=e.onClick,p=t.__rest(e,["children","disabled","variant","value","role","onClick"]),g=a.useContext(f),v=g.setSelectedOption,h=g.optionItems,_=g.selectedElement,E=a.useRef(null);(function(e,t){a.useEffect((function(){return t.addOption(e),function(){t.removeOption(e.value)}}),[]),a.useEffect((function(){t.updateOption(e)}),[e.value,e.element])})({value:c,element:E.current},h);var b=n("dig-SegmentedControl-option","dig-SegmentedControl-option--"+l,{"dig-SegmentedControl-option--disabled":o});a.useImperativeHandle(r,(function(){return{offsetWidth:E.current?E.current.offsetWidth:0,offsetLeft:E.current?E.current.offsetLeft:0,getBoundingClientRect:function(){if(E.current)return E.current.getBoundingClientRect()}}}));var k=a.useMemo((function(){return void 0===_?"false":_===E.current?"true":"false"}),[_,E]);return a.createElement("button",t.__assign({role:u,className:b,disabled:o,ref:E,onClick:function(e){m&&m(e),v({value:c,element:E.current})},"aria-selected":k},p),i)}));m.displayName="Option";var p=function(e){var t=e.offsetWidth,n=e.offsetLeft,r=a.useRef(null);return a.useEffect((function(){r.current.setAttribute("style","width: "+t+"px; \n       transform: translate("+n+"px, 0);")}),[t,n]),a.createElement("span",{ref:r,className:"dig-SegmentedControl-selector"})},g=function(e){var r=e.className,i=e.children,o=e.selectedValue,s=e.onSelection,l=e.onValueChange,u=e.inverse,m=void 0!==u&&u,g=t.__rest(e,["className","children","selectedValue","onSelection","onValueChange","inverse"]),v=a.useState(!1),h=v[0],_=v[1],E=(function(){var e=a.useReducer(d,c),t=e[0],n=e[1],r=function(e){var t=e.value,a=e.element;t&&n({type:"UPDATE_OPTION",payload:{key:t,value:a}})},i=r;return{items:t.options,updateOption:r,addOption:i,removeOption:function(e){e&&n({type:"REMOVE_OPTION",payload:{key:e}})}}})(),b=a.useState(null),k=b[0],y=b[1],C=n("dig-SegmentedControl",r,{"dig-SegmentedControl--inverse":m});a.useEffect((function(){h||_(!0)}),[]),a.useEffect((function(){var e,t,n;y((e=E.items,n=null,void 0!==(t=o)&&e.has(t)&&(n=e.get(t)),n))}),[E.items,o]),a.useEffect((function(){h&&l&&l(o)}),[o]);var N={setSelectedOption:function(e){y(e.element?e.element:null),l&&l(e.value),s&&s(e.value)},optionItems:E,selectedElement:k};return a.createElement(f.Provider,{value:N},a.createElement("div",t.__assign({role:"tablist",className:C},g),k&&a.createElement(p,{offsetWidth:k.offsetWidth,offsetLeft:k.offsetLeft}),i))};g.displayName="SegmentedControl",g.Option=m;var v=a.forwardRef((function(e,r){var i=e.isToggled,o=e.disabled,s=e.className,l=e.wrapperProps,c=e.inverse,d=t.__rest(e,["isToggled","disabled","className","wrapperProps","inverse"]),u=n(s,"dig-Toggle",{"dig-Toggle--isToggled":i,"dig-Toggle--disabled":o,"dig-Toggle--inverse":c});return a.createElement("label",t.__assign({className:u},l),a.createElement("input",t.__assign({role:"switch",type:"checkbox",className:"dig-Toggle-input",checked:i,disabled:o,ref:r},d)),a.createElement("span",{className:"dig-Toggle-track"}))}));v.displayName="Toggle",e.Checkbox=i,e.RadioButton=l,e.SegmentedControl=g,e.Toggle=v,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pkg-dig-controls.min.js-vfl2qF4C-.map