
<!-- saved from url=(0152)https://consent.dropbox.com/?hide_gdpr=false&is_ccpa_enabled=true&gpc_signal=undefined&origin=https%253A%252F%252Fwww.dropbox.com&sandbox_redirect=false -->
<html><script async="" src="./evidon-banner.js" charset="utf-8"></script><script async="" src="./en.js" charset="utf-8"></script><script async="" id="evidon-settings" src="./settings.js" charset="utf-8"></script><script async="" id="evidon-language" src="./en.js" charset="utf-8"></script><script async="" id="evidon-themes" src="./snthemes.js" charset="utf-8"></script><script id="evidon-notice" src="./evidon-sitenotice-tag.js" charset="utf-8"></script><script data-timezone-ext-el="[&quot;Etc/GMT&quot;,0,-120,null]" src="chrome-extension://cejckpjfigehbeecbbfhangbknpidcnh/data/inject-content.js"></script><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <script type="text/javascript">
        var COOKIE_CONSENT_DURATION_MONTHS = 6;
        var MANAGE_COOKIES_LINK_TAG = '#manage-cookies';
        var SETTINGS_ELEMENT_ID = 'evidon-prefdiag-overlay';
        var BANNER_ELEMENT_ID = '_evidon_banner';
        var BACKGROUND_ELEMENT_ID = 'evidon-prefdiag-background';
        var BUTTON_ELEMENT_ID = '_evh-button';
        var PRIVACY_CONSENT_MESSAGE_ID = 'prc-message'
        var COOKIE_ACCEPT_BUTTON_ID = 'evidon-prefdiag-accept';
        var COOKIE_DECLINE_BUTTON_ID = 'evidon-prefdiag-decline';
        var PREFDIAG_TABPANEL_ID = 'evidon-prefdialog-tabpanel';
        var PREFDIAG_TABCONTAINER_ID = 'evidon-prefdiag-tabcontainer';
        var CCPA_IFRAME_ORIGIN = 'https://www.dropbox.com';
        var CCPA_IFRAME_PATH = '/ccpa_iframe';
        var CCPA_IFRAME_ID = 'ccpa-iframe';
        var COOKIE_POLICY_URL = 'https://dropbox.com/terms/cookies';
        var EVIDON_CONSENT_COOKIE_NAME = '_evidon_consent_cookie';
        var EVIDON_SUPPRESS_COOKIE_NAME = '_evidon_suppress_notification_cookie';
        var SHADOW_COOKIE_NAME = '__Secure-dbx_consent'
        var ALLOWED_TARGET_ORIGINS = [
            /^https:\/\/meta-\w+-dbx\.dev\.corp\.dropbox\.com$/,
            /^https:\/\/www\.dropbox\.com$/,
            /^https:\/\/dropbox-stage\.adobemsbasic\.com$/,
            /^https:\/\/experience-stg\.dropbox\.com$/,
            /^https:\/\/experience\.dropbox\.com$/,
            /^https:\/\/help-stg\.dropbox\.com$/,
            /^https:\/\/help\.dropbox\.com$/,
            /^https:\/\/brandpartners-stg\.dropbox\.com$/,
            /^https:\/\/brandpartners\.dropbox\.com$/,
            /^https:\/\/learn\.dropbox\.com$/,
            /^https:\/\/learn-stage\.dropbox\.com$/,
            /^https:\/\/blog\.dropbox\.com$/,
            /^https:\/\/blog-stg\.dropbox\.com$/,
            /^https:\/\/capture\.dropbox\.com$/,
            /^https:\/\/capture-stage\.netlify\.app$/,
            /^https:\/\/www\.dropboxforum\.com$/,
            /^https:\/\/forum-stage\.dropboxforum\.com$/,
            /^https:\/\/dropbox-stg\.tech$/,
            /^https:\/\/dropbox\.tech$/,
            /^https:\/\/hellosign\.com$/,
            /^https:\/\/hellosign-prod\.webflow\.io$/,
            /^https:\/\/faq\.hellosign\.com$/,
            /^https:\/\/app\.hellosign\.com$/,
            /^https:\/\/app\.staging-hellosign\.com$/,
            /^https:\/\/app\.qa-hellosign\.com$/,
            /^https:\/\/app\.dev-hellosign\.com$/,
            /^https:\/\/app\.hellofax\.com$/,
            /^https:\/\/app\.staging-hellofax\.com$/,
            /^https:\/\/app\.qa-hellofax\.com$/,
            /^https:\/\/app\.dev-hellofax\.com$/,
            /^https:\/\/docsendstaging\.wpengine\.com$/,
            /^https:\/\/docsenddev\.wpengine\.com$/,
            /^https:\/\/www\.docsend\.local$/,
            /^https:\/\/www\.docsendlocal\.com$/,
            /^https:\/\/help\.docsend\.com$/,
            /^https:\/\/\S*\.?docsend\.com$/,
            /^https:\/\/\S*\.?ducksend\.com$/,
            /^https:\/\/\S*\.?platsend\.com$/,
            /^https:\/\/\S*\.?parrotsend\.com$/,
            /^https:\/\/\S*\.?dogesend\.com$/,
            /^https:\/\/\S*\.?yeetsend\.com$/,
            /^https:\/\/\S*\.?codsend\.com$/,
            /^https:\/\/\S*\.?ottersend\.com$/,
            /^https:\/\/replay\.dropbox\.com$/,
            /^https:\/\/replay-stage\.netlify\.app$/,
            /^https:\/\/investors\.dropbox\.com$/,
            /^https:\/\/dropbox\.gcs-web\.com$/,
            /^https:\/\/dropbox-preview\.gcs-web\.com$/,
            /^https:\/\/\S*\.?d2dzj839csize7\.amplifyapp\.com$/,
        ]
        var LANGUAGE_CODES_CONVERSION = {
            // These are the language codes that don't match up exactly with Crownpeak's
            en: 'en-us',
            es_ES: 'es',
            da_DK: 'da',
            en_GB: 'en-gb',
            nl_NL: 'nl',
            nb_NO: 'no',
            pt_BR: 'pt-br',
            sv_SE: 'sv',
            uk_UA: 'uk',
            th_TH: 'th',
            zh_CN: 'zh-cn',
            zh_TW: 'zh-tw',
        };
        var LOCALE_TO_COUNTRY_MAP = {
            // maps a country code to Crownpeak's numerical ids
            "us": 1,
            "jo": 65,
            "de": 3,
            "ir": 66,
            "es": 4,
            "ua": 67,
            "fr": 5,
            "vn": 68,
            "gb": 6,
            "ws": 69,
            "it": 7,
            "am": 70,
            "nl": 8,
            "ph": 71,
            "ca": 9,
            "al": 72,
            "cn": 10,
            "ai": 73,
            "il": 11,
            "ag": 74,
            "mx": 12,
            "aw": 75,
            "ru": 13,
            "bs": 76,
            "dk": 15,
            "bb": 77,
            "ie": 16,
            "bz": 78,
            "no": 17,
            "bm": 79,
            "pl": 18,
            "bo": 80,
            "at": 19,
            "ba": 81,
            "be": 20,
            "vg": 82,
            "ch": 21,
            "ky": 83,
            "sv": 92,
            "cl": 84,
            "sk": 23,
            "co": 85,
            "hu": 24,
            "cg": 86,
            "fi": 25,
            "cr": 87,
            "pt": 26,
            "cd": 88,
            "cz": 27,
            "dm": 89,
            "lu": 28,
            "do": 90,
            "gr": 29,
            "ec": 91,
            "bg": 30,
            "ro": 31,
            "ga": 93,
            "ee": 32,
            "gh": 94,
            "lv": 33,
            "gd": 95,
            "lt": 34,
            "gt": 96,
            "si": 35,
            "gy": 97,
            "mt": 36,
            "ht": 98,
            "cy": 37,
            "hn": 99,
            "is": 38,
            "jm": 100,
            "tr": 39,
            "md": 101,
            "eg": 40,
            "ma": 102,
            "sa": 41,
            "an": 103,
            "br": 42,
            "ni": 104,
            "ar": 43,
            "pa": 105,
            "tw": 44,
            "py": 106,
            "kr": 45,
            "pe": 107,
            "jp": 46,
            "pr": 108,
            "au": 47,
            "kn": 109,
            "nz": 48,
            "sn": 110,
            "za": 49,
            "lc": 111,
            "dz": 50,
            "vc": 112,
            "ly": 51,
            "sr": 113,
            "sd": 52,
            "tt": 114,
            "ng": 53,
            "tn": 115,
            "ae": 54,
            "tc": 116,
            "id": 55,
            "uy": 117,
            "my": 56,
            "vi": 118,
            "th": 57,
            "ve": 119,
            "pk": 58,
            "ge": 120,
            "in": 59,
            "az": 121,
            "sg": 60,
            "la": 122,
            "hr": 61,
            "kh": 123,
            "mk": 62,
            "np": 124,
            "rs": 63,
            "lk": 125,
            "hk": 64,
            "mm": 126,
            "bn": 127
        };
        var isNotIframe = window === window.parent;

        // currently saved DNS state, bases on comms w/ CCPA iframe
        var dnsEnrolled = false;

        // determines if user can select "Send Verification" button yet
        var dnsEmailValid = false;

        // desired event handlers for accept/decline buttons
        var targetAcceptHandler = null;
        var targetDeclineHandler = null;

        // references to default handlers and text, so we can swap in the ccpa handlers and text when needed
        var cookieAcceptObserver = null;
        var cookieDeclineObserver = null;
        var cookieAcceptHandler = null;
        var cookieDeclineHandler = null;
        var cookieAcceptText = null;
        var cookieDeclineText = null;

        var hasAutoOpenedPreferences = false;

        var queryParams = new URLSearchParams(window.location.search);
        var hideGdpr = queryParams.get('hide_gdpr') === 'true';
        var ccpaToken = queryParams.get('ccpa_token');
        var gpcSignal = queryParams.get('gpc_signal') === 'true';
        var ccpaEnabled = queryParams.get('is_ccpa_enabled') === 'true';
        var sandboxRedirect = queryParams.get('sandbox_redirect') === 'true';
        var sandbox_verifier = queryParams.get('sandbox_verifier'); // snake case to be consistent w/ CMS global
        var targetOrigin = queryParams.get('origin');
        var localeQueryParam = queryParams.get('locale');
        var evidonConsentCookie = queryParams.get(EVIDON_CONSENT_COOKIE_NAME);
        var evidonSuppressCookie = queryParams.get(EVIDON_SUPPRESS_COOKIE_NAME);
        var cookieSettingsMinimizedQuery = queryParams.get('minimized');
        var gdprElementIds = ['prc-title', 'prc-message', 'prc-tp-cat-panel'];
        var localizedText = {};

        if (!(targetOrigin === undefined || targetOrigin === '')) {
            targetOrigin = decodeURIComponent(targetOrigin);
            var isValid = false;
            for (var i = 0; i < ALLOWED_TARGET_ORIGINS.length; i++) {
                var pattern = ALLOWED_TARGET_ORIGINS[i];
                if (targetOrigin.match(pattern) !== null) {
                    isValid = true;
                    break;
                }
            }

            if (!isValid) {
                targetOrigin = 'https://www.dropbox.com';
            }
        } else {
            targetOrigin = 'https://www.dropbox.com';
        }

        // when full screen, like when in ccpa proof token flows, we need additional styling
        // this is tied to hideGdpr for now but could be expanded to more use cases later on
        var fullScreen = hideGdpr;

        (function (id) {
            function append(scriptid, url, async) {
                var d = document, sn = 'script', f = d.getElementsByTagName(sn)[0];
                if (!f) f = d.head;
                var s = d.createElement(sn);
                s.async = async;
                s.id = scriptid;
                s.src = url;
                s.charset = 'utf-8';
                s.onload = function () {
                    handleScriptEvent('SCRIPT_LOADED', scriptid, url);
                };
                s.onerror = function () {
                    handleScriptEvent('SCRIPT_LOAD_ERROR', scriptid, url);
                };
                f.parentNode.insertBefore(s, f);
            }

            function send(messageData) {
                var origin = targetOrigin;
                // todo - once cms sandbox is retired, never set origin to '*'
                // https://jira.dropboxer.net/browse/GRWACQ-3413
                if (!!sandbox_verifier) {
                    origin = '*';
                }
                window.parent.postMessage(messageData, origin);
            }

            function sendToCCPAIFrame(messageData) {
                var frame = window.document.getElementById(CCPA_IFRAME_ID);


                if (!!frame) {
                    frame.contentWindow.postMessage(messageData, CCPA_IFRAME_ORIGIN);
                }
            }

            function handleScriptEvent(type, id, url) {
                var messageData = {
                    message_type: type,
                    scriptId: id,
                    scriptUrl: url,
                }
                send(messageData);
            }

            function getCookieDescriptor() {
                // depending on browser, the cookie descriptor could be on "Document" or "HTMLDocument"
                return Object.getOwnPropertyDescriptor(Document.prototype, 'cookie') ||
                    Object.getOwnPropertyDescriptor(HTMLDocument.prototype, 'cookie');
            }

            function setToSameSiteNone(cookieStr) {
                const sameSitePattern = /[Ss]ame[Ss]ite=\w+/;

                if (cookieStr.search(sameSitePattern) === -1) {
                    if (cookieStr.search(/;\s*$/) === -1) {
                        cookieStr += '; '
                    }
                    cookieStr += 'SameSite=None';
                } else {
                    cookieStr = cookieStr.replace(sameSitePattern, 'SameSite=None');
                }

                const securePattern = /[Ss]ecure/;
                if (cookieStr.search(securePattern) === -1) {
                    if (cookieStr.search(/;\s*$/) === -1) {
                        cookieStr += '; '
                    }
                    cookieStr += 'Secure';
                }

                return cookieStr;
            }

            class SameDomainCookieShim {
                constructor() {
                    /* no state needed */
                }

                getAll() {
                    var result = '';
                    try {
                        result = getCookieDescriptor().get.call(document);
                    } catch (e) {
                        // can fail if in a sandbox
                    }
                    return result;
                }

                setCookie(cookieStr) {
                    cookieStr = setToSameSiteNone(cookieStr);
                    try {
                        getCookieDescriptor().set.call(document, cookieStr);
                    } catch (e) {
                        // can fail if in a sandbox
                    }
                }
            }

            // Intercepts usage of document.cookie so evidon code will work!
            // Some code is taken from here - //metaserver/static/src/cms_sandbox_shim/src/sandbox_cookie.ts
            class CrossDomainCookieShim {
                constructor(initialDocumentCookie) {
                    this.initialDocumentCookie = initialDocumentCookie || '';

                    // initialize the cookie cache
                    this.cache = {};
                    if (
                        this.initialDocumentCookie.search(EVIDON_CONSENT_COOKIE_NAME) === -1 &&
                        evidonConsentCookie !== undefined && evidonConsentCookie !== null
                    ) {
                        this.cache[EVIDON_CONSENT_COOKIE_NAME] = decodeURIComponent(evidonConsentCookie);
                    }
                    if (
                        this.initialDocumentCookie.search(EVIDON_SUPPRESS_COOKIE_NAME) === -1 &&
                        evidonSuppressCookie !== undefined && evidonSuppressCookie !== null
                    ) {
                        this.cache[EVIDON_SUPPRESS_COOKIE_NAME] = decodeURIComponent(evidonSuppressCookie);
                    }

                    // since we pass the class functions around, we need to do some binding
                    this.setRealDocumentCookie = this.setRealDocumentCookie.bind(this);
                    this.getAll = this.getAll.bind(this);
                    this.setCookie = this.setCookie.bind(this);
                    this.parse = this.parse.bind(this);
                    this.chop = this.chop.bind(this);
                }

                setRealDocumentCookie(cookieStr) {
                    // attempts to write to the real document cookie store

                    // writing to document.cookie will not work unless it is secure and samesite is None
                    cookieStr = setToSameSiteNone(cookieStr);

                    try {
                        getCookieDescriptor().set.call(document, cookieStr);
                    } catch (e) {
                        console.log(e);
                    }
                }

                // getAll returns the actual cookies (if possible) and the shimmed cookies
                getAll() {
                    var actualCookies = '';
                    try {
                        actualCookies = getCookieDescriptor().get.call(document);
                    } catch (e) { /* do nothing */
                    }

                    // skip cookies if they are present in the real document cookie
                    const cachedCookies = Object.keys(this.cache)
                        .filter((key) => {
                            if (!!actualCookies) {
                                return !actualCookies.includes(key);
                            }
                            return true;
                        })
                        .reduce((memo, key) => {
                            memo.push(`${key}=${this.cache[key]}`);
                            return memo;
                        }, [])
                        .join('; ');

                    var result = '';
                    if (!!actualCookies) {
                        result = actualCookies + '; ' + cachedCookies
                    } else {
                        result = cachedCookies;
                    }
                    return result;
                }

                setCookie(cookieStr) {
                    // first attempt to use the real document cookie
                    this.setRealDocumentCookie(cookieStr);

                    // then save to local cache
                    const {key, value, expires, domain} = this.parse(cookieStr);

                    // To update the local copy, we need to look at the expiry. In the past == delete
                    if (expires && expires < new Date()) {
                        delete this.cache[key];
                    } else {
                        this.cache[key] = value;
                    }


                    // finally, sync to host page
                    if (key !== SHADOW_COOKIE_NAME) {
                        send({
                            message_type: 'EVIDON_COOKIE_WRITE',
                            cookie: cookieStr,
                        });
                    }
                }

                parse(cookieStr) {
                    const parts = cookieStr.split(';').map((s) => s.trim());
                    const [key, value] = this.chop(parts[0], '=').map((s) => s.trim());

                    // Find expiration, if it exists.  Same for domain.
                    let expires = null;
                    let domain = null;
                    for (const part of parts.slice(1)) {
                        const [param, param_value] = this.chop(part, '=').map((s) => s.trim());
                        if (param.toLowerCase() === 'expires') {
                            expires = new Date(param_value);
                        } else if (param.toLowerCase() === 'domain') {
                            domain = param_value;
                        }
                    }

                    return {key, value, expires, domain};
                }

                chop(str, separator) {
                    const idx = str.indexOf(separator);
                    if (idx >= 0) {
                        return [str.slice(0, idx), str.slice(idx + 1)];
                    } else {
                        return [str, ''];
                    }
                }
            }

            function initStorageShims() {
                if (isCrossOrigin()) {
                    var docCookie = '';
                    try {
                        docCookie = document.cookie;
                    } catch (e) { /* do nothing */
                    }
                    var cookieShim = new CrossDomainCookieShim(docCookie);
                    Object.defineProperty(document, 'cookie', {
                        get() {
                            return cookieShim.getAll();
                        },
                        set(cookieStr) {
                            cookieShim.setCookie(cookieStr);
                        },
                    });
                    Object.defineProperty(window, 'localStorage', {value: new LocalStorageShim(), writable: false});
                } else {
                    var cookieShim = new SameDomainCookieShim();
                    Object.defineProperty(document, 'cookie', {
                        get() {
                            return cookieShim.getAll();
                        },
                        set(cookieStr) {
                            cookieShim.setCookie(cookieStr);
                        },
                    });
                }
            }

            class SessionStorageProxy {
                constructor(minimizedQuery) {
                    this.useProxy = false;
                    try {
                        sessionStorage;
                    } catch (e) {
                        this.useProxy = true;
                    }

                    if (this.useProxy) {
                        if (minimizedQuery === undefined || minimizedQuery === null) {
                            minimizedQuery = false;
                        }
                        this.minimized = minimizedQuery === 'true';
                    }
                }

                getCookieSettingsMinimized() {
                    if (this.useProxy) {
                        return this.minimized;
                    } else {
                        return sessionStorage.getItem('cookie-settings-minimized') === 'true';
                    }
                }

                setCookieSettingsMinimized(minimized) {
                    if (this.useProxy) {
                        send({
                            message_type: 'SET_COOKIE_SETTINGS_MINIMIZED',
                            minimized: minimized,
                        });
                        this.minimized = minimized;
                    } else {
                        sessionStorage.setItem('cookie-settings-minimized', minimized);
                    }
                }
            }

            // Intentionally does nothing, this is just to sidestep errors in case localStorage access is not allowed
            class LocalStorageShim {
                key(i) {
                    return null;
                }

                getItem(key) {
                    return null;
                }

                setItem(key, value) { /* do nothing */
                }

                removeItem(key) { /* do nothing */
                }

                clear() { /* do nothing */
                }
            }

            function addSandboxClickHandler(el) {
                el.addEventListener('click', (e) => {
                    e.preventDefault();
                    send({message_type: 'RENDER_SANDBOX_REDIRECT'})
                });
            }

            var addSandboxClickHandlerDelayCounter = 0;

            function addSandboxClickHandlerToBanner() {
                // Puts a click handler on the main evidon banner element which will prompt the user
                // to make their preferences on a different page. Since we don't know when the banner
                // will appear, we just attempt to add it multiple times with a delay in-between.
                var bannerEl = document.getElementById('_evidon_banner');
                if (bannerEl != null) {
                    addSandboxClickHandler(bannerEl);

                    var bannerReEntryEl = document.querySelector('#_evidon_banner a[href="#manage-cookies"]');
                    if (!!bannerReEntryEl) {
                      bannerReEntryEl.removeAttribute('onclick');
                      addSandboxClickHandler(bannerReEntryEl);
                    }
                } else {
                  if (addSandboxClickHandlerDelayCounter != 10) {
                    addSandboxClickHandlerDelayCounter = addSandboxClickHandlerDelayCounter + 1;
                    setTimeout(() => addSandboxClickHandlerToBanner(), 500);
                  }
                }
            }

            function isCrossOrigin() {
                // any host page that is not "*.dropbox.com" is considered cross origin.
                // cms sandbox pages are cross origin as well, since they are sandboxed from "*.dropbox.com" and have
                // a "null" origin
                const isCrossOrigin = !targetOrigin.endsWith("dropbox.com");
                return isCrossOrigin || !!sandbox_verifier;
            }

            // Crownpeak swaps the onclick handlers for the accept/decline buttons dynamically,
            // so we need to ensure our handlers are swapped back in. The MutationObserver API
            // does not detect changes to "onclick", so we will use any attribute change as a proxy.
            function createButtonObserver(htmlEl, targetHandler, text, isAccept) {
                var config = {attributes: true, childList: false, subtree: false};
                var onMutationDetected = function (mutations) {
                    mutations.forEach(function (mutation) {
                        if (mutation.type !== 'attributes') {
                            return;
                        }

                        if (mutation.target.onclick !== targetHandler) {
                            // update refs to handlers that Crownpeak expects in case
                            // they are needed to sync cookie state.

                            // note: We need to ensure we don't set the cookieAcceptHandler
                            // to the custom onDNSDisableConfirmation to avoid an infinite loop (since onDNSDisableConfirmation
                            // has to call the cookieAcceptHandler)
                            if (isAccept) {
                                if (mutation.target.onclick !== onDNSDisableConfirmation) {
                                    cookieAcceptHandler = mutation.target.onclick;
                                }
                            } else {
                                cookieDeclineHandler = mutation.target.onclick;
                            }
                            mutation.target.onclick = targetHandler;
                            if (!(text === null || text === undefined)) {
                                // Make the text override stick around until we reset it
                                mutation.target.textContent = text;
                            }
                        }
                    });
                };
                if (isAccept) {
                    if (cookieAcceptObserver) {
                        cookieAcceptObserver.disconnect();
                    }
                    cookieAcceptObserver = new MutationObserver(onMutationDetected);
                    cookieAcceptObserver.observe(htmlEl, config);
                } else {
                    if (cookieDeclineObserver) {
                        cookieDeclineObserver.disconnect();
                    }
                    cookieDeclineObserver = new MutationObserver(onMutationDetected);
                    cookieDeclineObserver.observe(htmlEl, config);
                }
            }

            // Crownpeak removes and adds elements after user interaction,
            // so we'll set up a mutation observer on the body of this page
            function createObserver() {
                var htmlEl = window.document.documentElement;
                var config = {childList: true, subtree: true};
                var onMutationDetected = function (mutations) {
                    // if we removed the banner or dialog, add it back to the DOM
                    // so we can apply animations to it before removing again
                    var animatedIds = [BANNER_ELEMENT_ID, SETTINGS_ELEMENT_ID, BACKGROUND_ELEMENT_ID];
                    mutations.forEach(function (mutation) {
                        mutation.removedNodes.forEach(function (node) {
                            if (node.nodeType !== Node.ELEMENT_NODE) {
                                return;
                            }
                            if (isNotIframe && node.id === SETTINGS_ELEMENT_ID && node.classList.contains('animate-out')) {
                                navigateToCookiePolicy();
                            }
                            if (animatedIds.includes(node.id) && !node.classList.contains('animate-out')) {
                                animateHide(node, true);
                            }
                        });
                        mutation.addedNodes.forEach(function (node) {
                            if (node.nodeType !== Node.ELEMENT_NODE) {
                                return;
                            }

                            var banner = window.document.getElementById(BANNER_ELEMENT_ID);
                            var isBannerOrButton = node.id == BANNER_ELEMENT_ID || node.id == BUTTON_ELEMENT_ID;
                            if (node.id == BUTTON_ELEMENT_ID) {
                                if (!isNotIframe) {
                                    updateButtonAttributes(node);
                                    addCollapseToggle(node);
                                }
                            } else if (node.id == BANNER_ELEMENT_ID) {
                                setLocale();
                            } else if (node.id == SETTINGS_ELEMENT_ID && !node.classList.contains('animate-out') && !!banner) {
                                // if the dialog is opened while the banner is still up (e.g. user clicks 'Cookie Consent Tool' link in banner)
                                // then animate the banner exit
                                animateHide(banner, false);
                            } else if (node.id == PRIVACY_CONSENT_MESSAGE_ID) {
                                if (!!sandbox_verifier) {
                                    addCCPARedirect(node);
                                } else {
                                    addCCPAIFrame(node);
                                }
                            }

                            // if opening the settings dialog automatically (i.e. when user visits cookie settings link directly),
                            // don't bother with animating the button or banner.
                            // otherwise, apply the animation to the added element
                            if (isBannerOrButton && shouldAutoOpenOptions()) {
                                node.remove();
                            } else if (animatedIds.includes(node.id) && !node.classList.contains('animate-start')) {
                                // if this is the settings dialog, focus the first focusable element in the panel
                                var callback = node.id == SETTINGS_ELEMENT_ID ? function () {
                                    focusFirstInElement(document.getElementById('evidon-prefdiag-tabcontainer'));
                                } : null;

                                if (!hideGdpr) {
                                    delayEnter(node, callback);
                                }
                            }

                            // setup ccpa only version of UI if hidGdpr flag is true
                            if (hideGdpr && gdprElementIds.includes(node.id)) {
                                // hide gdpr related UI elements when we want to only allow DNS selection
                                node.style.display = 'none';
                            }

                            // add additional styles for when preferences are full screen
                            var fullScreenTargets = [SETTINGS_ELEMENT_ID, PREFDIAG_TABPANEL_ID, PREFDIAG_TABCONTAINER_ID]
                            if (fullScreen && fullScreenTargets.includes(node.id)) {
                                node.classList.add('full-screen');
                            }
                            if (node.id === PREFDIAG_TABCONTAINER_ID) {
                                node.style.overflow = '';
                            }

                            if (!hideGdpr && (node.id === COOKIE_ACCEPT_BUTTON_ID || node.id === COOKIE_DECLINE_BUTTON_ID)) {
                                node.classList.add('display-flex');
                            }
                        });
                    });
                    sendButtonDimensions();
                    sendElementsState();
                    sendBannerHeight();
                    removeCategoryLinks();
                    replaceRequiredText();
                };
                var observer = new MutationObserver(onMutationDetected);
                observer.observe(htmlEl, config);
            }

            // we want this page to be saved in session history, so not using location.replace here
            function navigateToCookiePolicy() {
                window.location.href = COOKIE_POLICY_URL;
            }

            // if the url has '#manage-cookies', this means the user opened the cookies settings link in a new tab/window
            function shouldAutoOpenOptions() {
                return window.location.hash == MANAGE_COOKIES_LINK_TAG || hideGdpr === true;
            }

            function focusFirstInElement(el) {
                // focus the first focusable element
                if (el) {
                    var focusable = el.querySelectorAll('[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"])');
                    if (focusable.length) {
                        focusable[0].focus();
                    }
                }
            }

            // we don't want the vendor category links
            function removeCategoryLinks() {
                var links = document.querySelectorAll('.evidon-prefdiag-categoryheader .evidon-prefdiag-link');
                links.forEach(function (link) {
                    link.replaceWith(link.text);
                });
            }

            // replace 'Required' label on the 'Strictly necessary' category with a disabled toggle instead
            function replaceRequiredText() {
                var toggleId = 'strictly_necessary-toggle-chk';
                var label = document.querySelector('#prc-tp-cat-name-strictly_necessary label');
                if (!!window.evidon.preferencesDialog && !document.getElementById(toggleId) && !!label) {
                    var sliderId = 'strictly_necessary-slider'
                    var toggle = `<input id='${toggleId}' type='checkbox' disabled='true' checked='true'/><div id='${sliderId}' class='evidon-switch-slider slideron disabled'></div>`;
                    label.innerHTML = toggle;
                    label.classList.add('evidon-switch');
                    label.setAttribute('role', 'switch');
                    label.setAttribute('tabindex', '0');
                    label.setAttribute('aria-checked', 'true');
                    var categoryEl = document.getElementById('prc-tp-cat-name-strictly_necessary');
                    var localizedCategoryName = categoryEl ? categoryEl.textContent : 'Strictly necessary';
                    label.setAttribute('aria-label', localizedCategoryName);
                }
            }

            // move the aria-label and role from the container to the actual link
            function updateButtonAttributes(button) {
                var link = window.document.getElementById('_evh-link');
                if (!!link) {
                    link.setAttribute('aria-label', getLocalizedText('Cookies & CCPA Preferences button'));
                    link.setAttribute('role', 'button');
                    button.style.visibility = 'hidden';
                    button.removeAttribute('aria-label');
                    button.removeAttribute('role');
                    button.removeAttribute('tabindex');
                }
            }

            function onCCPARedirectText(ccpaRedirectLocalizedText) {
                localizedText = {...localizedText, ...ccpaRedirectLocalizedText};
            }

            function notifyCCPARedirect(event) {
                event.preventDefault();
                send({message_type: 'DNS_PAGE_CLICK'});
            }

            function addCCPARedirect(node) {
                // construct each node individually to prevent XSS that could occur if we use "innerHTML" directly
                const root = document.createElement('div');
                root.id = 'ccpa-redirect'
                root.style.paddingTop = '24px';
                root.style.paddingBottom = '24px';
                root.style.borderTop = '1px solid rgba(0, 0, 0, 0.15)';

                const titleNode = document.createElement('p');
                titleNode.style.fontSize = '16px';
                titleNode.style.lineHeight = '24px';
                titleNode.style.fontWeight = '400';
                titleNode.innerText = getLocalizedText('Do not sell or share my information');

                const detailsContainerNode = document.createElement('p');
                detailsContainerNode.style.fontSize = '14px';
                detailsContainerNode.style.lineHeight = '22px';

                const details1Node = document.createElement('span');
                details1Node.innerText = `${getLocalizedText('Do Not Sell preferences cannot be confirmed on this page. If you wish to continue Do Not Sell selection, visit our')} `;

                const linkNode = document.createElement('button');
                linkNode.id = 'ccpa-redirect-link';
                linkNode.href = 'https://www.dropbox.com/ccpa-consent-settings?hide_gdpr=true';
                linkNode.innerText = getLocalizedText('Do Not Sell');
                linkNode.onclick = notifyCCPARedirect;


                const details2Node = document.createElement('span');
                details2Node.innerText = ` ${getLocalizedText('page.')}`;

                detailsContainerNode.append(details1Node);
                detailsContainerNode.append(linkNode);
                detailsContainerNode.append(details2Node);
                root.append(titleNode);
                root.append(detailsContainerNode);

                if (!!node) {
                    node.after(root);
                }
            }

            function addCCPAIFrame(node) {
                // add to document body and hide
                if (!ccpaEnabled) {
                    return;
                }

                var ccpaQuery = '?hide_gdpr=' + hideGdpr;
                if (ccpaToken !== null && ccpaToken !== '') {
                    ccpaQuery += '&mobile=1&ccpa_token=' + ccpaToken;
                }
                if (localeQueryParam !== null && localeQueryParam !== '') {
                    ccpaQuery += "&locale_override=" + localeQueryParam;
                }
                if (isCrossOrigin()) {
                    ccpaQuery += '&csrf_origin=' + encodeURIComponent(targetOrigin);
                }
                ccpaQuery += '&gpc_signal=' + gpcSignal;

                var startTime = Date.now();
                var ccpaIFrame = window.document.createElement("iframe");
                ccpaIFrame.setAttribute("src", CCPA_IFRAME_ORIGIN + CCPA_IFRAME_PATH + ccpaQuery);
                ccpaIFrame.setAttribute("id", CCPA_IFRAME_ID);
                ccpaIFrame.setAttribute("scrolling", "no");
                ccpaIFrame.setAttribute("frameborder", "0");
                ccpaIFrame.onload = () => {
                    window.parent.postMessage({message_type: 'CCPA_IFRAME_LOAD', start_time: startTime}, targetOrigin);
                };
                ccpaIFrame.onerror = () => {
                    window.parent.postMessage({message_type: 'CCPA_IFRAME_ERROR', start_time: startTime}, targetOrigin);
                };

                if (!!node) {
                    node.after(ccpaIFrame);
                }
            }

            function onCCPAIFrameInit(messageData) {
                if (messageData.localized_text_overrides) {
                    localizedText = {...localizedText, ...messageData.localized_text_overrides};
                }
                // force sync in case cookie consent state does not align with DNS state
                // due to user sign in or other conditions
                if (messageData.dns_enrolled) {
                    if (messageData.expireDate) {
                        send({message_type: 'DNS_ENABLED', optInToDNS: true, expireDate: messageData.expireDate})
                    }
                    dnsEnrolled = true;

                    disableCookieConsentUI();
                    window.evidon.notice.withdrawConsent();

                    if (!hideGdpr) {
                        overrideButtonsForDNSEnabled();
                        disableCookieAcceptButton();
                    }
                } else if (messageData.expireDate) {
                    // the expire date here only act as indicator of cookie need to be cleared
                    send({message_type: 'DNS_DISABLED'});
                }

                if (hideGdpr) {
                    overrideCookieAcceptButtonForHideGdpr();
                    overrideCookieDeclineButtonForHideGdpr();
                }
            }

            function onCCPAIFrameResize(messageData) {
                // Adjusts iframe height when notified.
                // This is necessary because iframe dimensions do not dynamically adjust.
                var height = messageData.height;
                var ccpaIFrame = window.document.getElementById(CCPA_IFRAME_ID);

                if (!!ccpaIFrame && !!height) {
                    ccpaIFrame.style.height = height;
                }
            }

            function getLocalizedText(text) {
                if (Object.keys(localizedText).length === 0) {
                    return text;
                }
                switch (text) {
                    case 'Accept All':
                        return localizedText.acceptAll || text;
                    case 'Save & Exit':
                        return localizedText.saveAndExit || text;
                    case 'Save Preferences':
                        return localizedText.savePreferences || text;
                    case 'Verification Sent!':
                        return localizedText.verificationSent || text;
                    case 'Send Verification':
                        return localizedText.sendVerification || text;
                    case 'Cancel':
                        return localizedText.cancel || text;
                    case 'Do not sell or share my information':
                        return localizedText.doNotSellRedirectTitle || text;
                    case 'Do Not Sell preferences cannot be confirmed on this page. If you wish to continue Do Not Sell selection, visit our':
                        return localizedText.doNotSellRedirectDetails1 || text;
                    case 'Do Not Sell':
                        return localizedText.doNotSellLinkText || text;
                    case 'page.':
                        return localizedText.doNotSellDetails2 || text;
                    case 'Cookies & CCPA Preferences button':
                        return localizedText.floatingButtonAriaLabel || text;
                    case 'Cookies & CCPA Preferences button minimize toggle':
                        return localizedText.floatingButtonMinimizeAriaLabel || text;
                    default:
                        return text;
                }
            }

            function onDNSPendingEnabled(messageData) {
                disableCookieConsentUI();

                if (dnsEmailValid || messageData.logged_in) {
                    onDNSEmailValid();
                } else {
                    onDNSEmailInvalid();
                }

                if (hideGdpr) {
                    enableCookieAcceptButton();
                } else if (messageData.logged_in) {
                    overrideCookieAcceptButton(getLocalizedText("Save Preferences"), onDNSConfirmation);
                    overrideCookieDeclineButton(getLocalizedText("Cancel"), onDNSCancellation);
                } else if (gpcSignal) {
                    // With GPC on there is nothing user can update, cancel will just close the menu

                    overrideCookieAcceptButton(getLocalizedText("Send Verification"), onDNSConfirmation);
                    overrideCookieDeclineButton(getLocalizedText("Cancel"), null);
                } else {
                    overrideCookieAcceptButton(getLocalizedText("Send Verification"), onDNSConfirmation);
                    overrideCookieDeclineButton(getLocalizedText("Cancel"), onDNSCancellation);
                }
            }

            function onDNSPendingDisabled(messageData) {
                enableCookieAcceptButton();
                if (hideGdpr) {
                    return;
                }

                overrideCookieAcceptButton(getLocalizedText("Save Preferences"), onDNSDisableConfirmation);
                overrideCookieDeclineButton(getLocalizedText("Cancel"), onDNSCancellation);
                enableCookieConsentUI();
            }

            function onDNSPendingReset(messageData) {
                if (hideGdpr) {
                    disableCookieAcceptButton();
                    return;
                }

                resetCookieAcceptButton();
                resetCookieDeclineButton();

                if (!messageData.dns_enabled) {
                    enableCookieConsentUI();
                } else {
                    disableCookieConsentUI();
                    disableCookieAcceptButton();
                    overrideButtonsForDNSEnabled();
                }

            }

            function onDNSEnabled(messageData) {
                dnsEnrolled = true;
                // sync data
                window.evidon.notice.withdrawConsent();
                send({message_type: 'DNS_ENABLED', optInToDNS: true, expireDate: messageData.expireDate})

                // since there is no api to trigger the menu to close,
                // we just use the original onClick handlers for
                // when cookie consent is declined or cancelled

                if (hideGdpr) {
                    setTimeout(() => {
                        onCCPAConsentSettingsRegistered();
                    }, 1000);
                } else if (messageData.logged_in) {
                    cookieDeclineHandler();
                } else if (gpcSignal) {
                    setTimeout(() => {
                        cookieDeclineHandler();
                    }, 1000);
                    overrideCookieAcceptButton(getLocalizedText("Verification Sent!"), () => {
                        cookieDeclineHandler();
                    });
                } else {
                    setTimeout(() => {
                        cookieDeclineHandler();
                    }, 1000);
                    overrideCookieAcceptButton(getLocalizedText("Verification Sent!"), () => {
                        cookieDeclineHandler();
                    });

                    overrideCookieDeclineButton(getLocalizedText("Cancel"), () => {
                    });
                }
            }

            function onDNSDisabled() {
                dnsEnrolled = false;
                send({message_type: 'DNS_DISABLED'});

                if (!hideGdpr) {
                    // when none of the cookie consent categories are checked,
                    // the default cookieAcceptHandler will attempt to accept all.
                    // to workaround this, we must manually withdraw consent if only
                    // the mandatory cookie categories are enabled
                    var els = window.document.querySelectorAll('input:checked');

                    if (els.length === 1) {
                        window.evidon.notice.withdrawConsent();
                        setTimeout(() => {
                            cookieDeclineHandler(); // won't actually decline, just closes menu
                        }, 1000);
                        return;
                    }

                    // call the cookie consent confirmation handler, since we've replaced it
                    // with the DNS confirmation handler
                    cookieAcceptHandler();
                } else {
                    // if gdpr options are not visible, just leave the cookie consent as is and leave the flow
                    setTimeout(() => {
                        onCCPAConsentSettingsRegistered();
                    }, 1000);
                }

            }

            function onDNSConfirmation() {
                sendToCCPAIFrame({message_type: 'DNS_SETTINGS_CONFIRMED'});
            }

            function onDNSDisableConfirmation() {
                sendToCCPAIFrame({message_type: 'DNS_SETTINGS_CONFIRMED'});
            }

            function onCCPAConsentSettingsRegistered() {
                // end of flow after cancelling or selecting DNS preferences
                send({message_type: 'CCPA_CONSENT_SETTINGS_REGISTERED'})
            }

            function onDNSGPCSignalDetected() {
                // silently withdraw consent
                window.evidon.notice.withdrawConsent();
            }

            function onCCPACookieFAQClick() {
                send({message_type: 'CCPA_COOKIE_FAQ_CLICK'})
            }

            function onDNSCancellation() {
                sendToCCPAIFrame({message_type: 'DNS_SETTINGS_CANCELLED'});
            }

            function onDNSEmailValid() {
                dnsEmailValid = true;
                enableCookieAcceptButton();
            }

            function onDNSEmailInvalid() {
                dnsEmailValid = false;
                disableCookieAcceptButton();
            }

            function disableCookieAcceptButton() {
                var btn = window.document.getElementById(COOKIE_ACCEPT_BUTTON_ID);

                if (!!btn) {
                    btn.setAttribute('disabled', '');
                }
            }

            function enableCookieAcceptButton() {
                var btn = window.document.getElementById(COOKIE_ACCEPT_BUTTON_ID);

                if (!!btn) {
                    btn.removeAttribute('disabled', '');
                }
            }

            function overrideCookieAcceptButtonForHideGdpr() {
                disableCookieAcceptButton();
                overrideCookieAcceptButton(getLocalizedText("Save Preferences"), onDNSConfirmation);

                var btn = document.getElementById(COOKIE_ACCEPT_BUTTON_ID);
                if (!!btn && !btn.classList.contains('display-flex')) {
                    btn.classList.add('display-flex');
                }
            }

            function overrideCookieDeclineButtonForHideGdpr() {
                overrideCookieDeclineButton(getLocalizedText("Cancel"), onCCPAConsentSettingsRegistered);

                var btn = document.getElementById(COOKIE_DECLINE_BUTTON_ID);
                if (!!btn && !btn.classList.contains('display-flex')) {
                    btn.classList.add('display-flex');
                }
            }

            function overrideButtonsForDNSEnabled() {
                overrideCookieAcceptButton(getLocalizedText("Save Preferences"), onDNSConfirmation);
                // default behavior is fine - pref menu will close and consent will be declined
                overrideCookieDeclineButton(getLocalizedText("Save & Exit"), null);
            }

            function overrideCookieAcceptButton(text, fn) {
                var btn = window.document.getElementById(COOKIE_ACCEPT_BUTTON_ID)
                if (!!btn) {
                    if (cookieAcceptHandler === null) {
                        cookieAcceptHandler = btn.onclick;
                    }
                    if (cookieAcceptText === null) {
                        cookieAcceptText = btn.textContent;
                    }
                    if (!(text === null || text === undefined)) {
                        btn.textContent = text;
                    }
                    if (!(fn === null || fn === undefined)) {
                        targetAcceptHandler = fn;
                        createButtonObserver(btn, targetAcceptHandler, text, true);
                        btn.onclick = fn;
                    }
                }
            }

            function resetCookieAcceptButton() {
                var btn = window.document.getElementById(COOKIE_ACCEPT_BUTTON_ID);

                if (!!btn && cookieAcceptHandler !== null && cookieAcceptText !== null) {
                    targetAcceptHandler = null;
                    btn.onclick = cookieAcceptHandler;
                    btn.innerText = cookieAcceptText;
                    enableCookieAcceptButton();
                    cookieAcceptHandler = null;
                    cookieAcceptText = null;
                    if (cookieAcceptObserver) {
                        cookieAcceptObserver.disconnect();
                    }
                }
            }

            function overrideCookieDeclineButton(text, fn) {
                var btn = window.document.getElementById(COOKIE_DECLINE_BUTTON_ID);

                if (!!btn) {
                    if (cookieDeclineHandler === null) {
                        cookieDeclineHandler = btn.onclick;
                    }
                    if (cookieDeclineText === null) {
                        cookieDeclineText = btn.textContent;
                    }
                    if (!(text === null || text === undefined)) {
                        btn.textContent = text;
                    }
                    if (!(fn === null || fn === undefined)) {
                        targetDeclineHandler = fn;
                        createButtonObserver(btn, targetDeclineHandler, text, false);
                        btn.onclick = fn;
                    }
                }
            }

            function resetCookieDeclineButton() {
                var btn = window.document.getElementById(COOKIE_DECLINE_BUTTON_ID);

                if (!!btn && cookieDeclineHandler !== null && cookieDeclineText !== null) {
                    targetDeclineHandler = null;
                    btn.onclick = cookieDeclineHandler;
                    btn.innerText = cookieDeclineText;
                    cookieDeclineHandler = null;
                    cookieDeclineText = null;
                    if (cookieDeclineObserver) {
                        cookieDeclineObserver.disconnect();
                    }
                }
            }

            function disableCookieConsentUI() {
                var sliderEls = window.document.getElementsByClassName('evidon-switch-slider');

                for (var i = 0; i < sliderEls.length; i++) {
                    var el = sliderEls[i];
                    el.setAttribute("disabled", "true");
                    el.classList.add("disabled");
                }

                var switchEls = window.document.getElementsByClassName('evidon-switch');

                for (var i = 0; i < switchEls.length; i++) {
                    var el = switchEls[i];
                    el.setAttribute("disabled", "");
                    el.classList.add("disabled");
                }
            }

            function enableCookieConsentUI() {
                // todo - report when selectors return empty collection
                // so we can detect breaking changes from crownpeak
                var sliderEls = window.document.getElementsByClassName('evidon-switch-slider');

                for (var i = 0; i < sliderEls.length; i++) {
                    var el = sliderEls[i];
                    if (el.id !== 'strictly_necessary-slider') {
                        el.removeAttribute("disabled");
                        el.classList.remove("disabled");
                    }
                }

                var switchEls = window.document.getElementsByClassName('evidon-switch');

                for (var i = 0; i < switchEls.length; i++) {
                    var el = switchEls[i];
                    el.removeAttribute("disabled");
                    el.classList.remove("disabled");
                }
            }

            function addCollapseToggle(el) {
                if (!!el) {
                    var minimized = sessionStorageProxy.getCookieSettingsMinimized();
                    var input = document.createElement('input');
                    var label = document.createElement('label');
                    input.setAttribute('id', 'collapse-toggle-input');
                    input.setAttribute('type', 'checkbox');
                    input.checked = minimized;
                    input.style.display = 'none';
                    input.onchange = onToggleCollapse;
                    label.setAttribute('id', 'collapse-toggle-label');
                    label.setAttribute('class', 'collapse-toggle-label');
                    label.innerHTML = '<svg class="collapse-icon" width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n' +
                        '<path d="M13.5 6.99999H5.74349L9.04449 3.51599L7.95549 2.48399L2.96699 7.74999L7.95549 13.016L9.04449 11.984L5.74349 8.49999H13.5V6.99999Z" fill="#1E1919"/>\n' +
                        '<path d="M1.5 0.5H0V15H1.5V0.5Z" fill="#1E1919"/>\n' +
                        '</svg>';
                    label.setAttribute('for', 'collapse-toggle-input')
                    label.setAttribute('aria-label', getLocalizedText('Cookies & CCPA Preferences button minimize toggle'));
                    label.setAttribute('aria-checked', minimized);
                    label.setAttribute('role', 'switch');
                    label.setAttribute('tabindex', '0');
                    label.onkeydown = onButtonToggleKeydown;
                    // wait until font is loaded before showing button to prevent FOIT (Flash of Invisible Text)
                    document.fonts.load('12px AtlasGrotesk').then(() => {
                        el.appendChild(label);
                        label.prepend(input);
                        el.style.visibility = 'visible';
                    });
                }
            }

            function onButtonToggleKeydown(e) {
                if (e.keyCode === 32) {
                    e.preventDefault();
                    var checkbox = document.getElementById('collapse-toggle-input');
                    if (!!checkbox) {
                        checkbox.checked = !checkbox.checked;
                        checkbox.onchange(e);
                    }
                }
            }

            function onToggleCollapse() {
                var label = document.getElementById('collapse-toggle-label');
                var input = document.getElementById('collapse-toggle-input');
                if (!!label && !!input) {
                    var minimized = input.checked;
                    label.setAttribute('aria-checked', minimized);
                    sessionStorageProxy.setCookieSettingsMinimized(minimized);
                    send({message_type: 'TOGGLE_BUTTON_MINIMIZE', buttonMinimized: minimized});
                }
            }

            // add exit animation, add back to DOM, then optionally remove when animation finishes
            function animateHide(el, remove) {
                el.classList.add('animate-out');
                document.body.appendChild(el);
                if (remove) {
                    el.onanimationend = function () {
                        el.remove();
                    }
                }
            }

            // delay showing/animating the dialog because crownpeak is still loading the contents. this is to prevent choppy animation
            function delayEnter(el, callback) {
                el.style.visibility = 'hidden';
                if (el.id === SETTINGS_ELEMENT_ID) {
                    el.classList.add('animate-slide-in-left');
                }
                setTimeout(function () {
                    el.classList.add('animate-start');
                    el.style.visibility = 'visible';
                    if (typeof callback === 'function') {
                        callback();
                    }
                }, 0);
            }

            function elementIdVisible(id) {
                var element = window.document.getElementById(id);
                return !!element && window.getComputedStyle(element).getPropertyValue('display') !== 'none';
            }

            function sendElementsState() {
                var messageData = {
                    message_type: 'BODY_CONTENT_CHANGE',
                    bannerVisible: elementIdVisible(BANNER_ELEMENT_ID),
                    dialogVisible: elementIdVisible(SETTINGS_ELEMENT_ID),
                    optionsButtonVisible: elementIdVisible('_evh-link'),
                    optionsButtonLoaded: !!document.getElementById('_evh-link'),
                }
                send(messageData);
            }

            function sendBannerHeight() {
                var banner = window.document.getElementById(BANNER_ELEMENT_ID);
                if (!!banner) {
                    var messageData = {
                        message_type: 'BANNER_RESIZE',
                        bannerHeight: banner.offsetHeight,
                    }
                    send(messageData);
                }
            }

            function sendButtonDimensions() {
                if (elementIdVisible(BUTTON_ELEMENT_ID)) {
                    var button = window.document.getElementById(BUTTON_ELEMENT_ID);
                    var focusOutlinePx = 3; // include focus outline, otherwise the iframe dimensions will cut it off
                    var width = button.offsetWidth + parseInt(button.style.marginLeft || 0) + focusOutlinePx;
                    var height = button.offsetHeight + parseInt(button.style.marginBottom || 0) + focusOutlinePx;
                    var messageData = {
                        message_type: 'DISPLAY_BUTTON',
                        buttonHeight: height,
                        buttonWidth: width,
                    }
                    send(messageData);
                }
            }

            function getConvertedLocale(locale) {
                return LANGUAGE_CODES_CONVERSION[locale] || locale;
            }

            function getCookieStr(cookieName) {
                try {
                    return (
                        String(document.cookie || '')
                            .split(';')
                            .map((row) => row.split('='))
                            .map((chunks) =>
                                [chunks[0], chunks.slice(1).join(';')].map((token) =>
                                    token.replace(/^[ \t]+|[ \t]+$/g, '')
                                )
                            )
                            .reduce((jar, [name, value]) => (Object.assign(jar, {[name]: value})), Object.create({}))[
                            cookieName
                            ] || ''
                    );
                } catch (e) {
                    // document context with no cookie read access
                    return '';
                }
            }

            function getLocale(localeQueryParam) {
                var dbxLocale = 'en-us';

                if (!!localeQueryParam) {
                    dbxLocale = localeQueryParam;
                } else {
                    var dbxLocaleCookie = getCookieStr(getLocaleCookieName());

                    if (!!dbxLocaleCookie) {
                        dbxLocale = dbxLocaleCookie
                    }
                }

                return getConvertedLocale(dbxLocale);
            }

            function getLocaleCookieName() {
                return IS_PROD ? 'locale' : 'locale_dev_none';
            }

            // Sets the locale/language - this controls the MESSAGING of the notice
            function setLocale() {
                if (window.evidon && window.evidon.notice) {
                    window.evidon.notice.activateTranslations(convertedLocale);
                }
            }

            // Preload the translation files so that they're ready when setLocale is called
            function loadTranslation() {
                const localeGroup = (convertedLocale && convertedLocale.split('-')[0]) || 'en'; // Crownpeak groups translations together (e.g. en-gb and en-us are both in en.js)
                append('evidon-language', noticecdn + id + '/translations/' + localeGroup + '.js', true);
            }

            // Sets the location/country - this controls the EXPERIENCE of the notice
            // Currently this won't make a difference in the notice since we have one notice for all locations,
            // but this will be needed if we ever decide to have country-based notices in the future
            function setCountry(code) {
                var countryObj = {
                    code: code,
                    id: LOCALE_TO_COUNTRY_MAP[code],
                    defaultLanguage: convertedLocale,
                };
                if (window.evidon && window.evidon.notice) {
                    window.evidon.notice.setLocation(countryObj);
                } else {
                    window.evidon.location = countryObj;
                }
            }

            function debounce(f) {
                var timer;
                return function (event) {
                    if (timer) clearTimeout(timer);
                    timer = setTimeout(f, 100, event);
                };
            }

            function init() {
                setLocale();
                overrideIsMobile();
                window.onload = function () {
                    setLocale();
                    overrideIsMobile();
                    sendBannerHeight();
                    if (sandboxRedirect) {
                        addSandboxClickHandlerToBanner();
                    }
                    if (shouldAutoOpenOptions()) {
                        autoOpenOptionsDialog();
                    }
                }

                if (isNotIframe) {
                    window.document.body.classList.add('not-iframe', 'button-visible');
                }
            }

            function receiveMessage(message) {
                if (!(message.origin == targetOrigin || message.origin == CCPA_IFRAME_ORIGIN || message.origin == "null")) {
                    return;
                }

                var messageData = message.data;

                switch (messageData.message_type) {
                    case 'COUNTRY_CODE':
                        onCountryCode(messageData);
                        break;
                    case 'OPEN_OPTIONS_DIALOG':
                        openOptionsDialog()
                        break;
                    case 'SHOW_FLOATING_BUTTON':
                        onShowFloatingButton(messageData);
                        break;
                    case 'CCPA_IFRAME_INIT':
                        onCCPAIFrameInit(messageData);
                        break;
                    case 'CCPA_IFRAME_RESIZE':
                        onCCPAIFrameResize(messageData);
                        break;
                    case 'DNS_PENDING_ENABLED':
                        onDNSPendingEnabled(messageData);
                        break;
                    case 'DNS_PENDING_DISABLED':
                        onDNSPendingDisabled(messageData);
                        break;
                    case 'DNS_PENDING_RESET':
                        onDNSPendingReset(messageData);
                        break;
                    case 'DNS_ENABLED':
                        onDNSEnabled(messageData);
                        break;
                    case 'DNS_DISABLED':
                        onDNSDisabled();
                        break;
                    case 'DNS_EMAIL_VALID':
                        onDNSEmailValid();
                        break;
                    case 'DNS_EMAIL_INVALID':
                        onDNSEmailInvalid();
                        break;
                    case 'DNS_GPC_SIGNAL':
                        onDNSGPCSignalDetected();
                        break;
                    case 'CCPA_COOKIE_FAQ_CLICK':
                        onCCPACookieFAQClick();
                        break;
                    case 'PRIVACY_CONSENT_PAGE_INFO':
                        onPrivacyConsentPageInfo(messageData);
                        break;
                    case 'SHADOW_COOKIE_WRITE':
                        document.cookie = messageData.cookie;
                    case 'CSRF_HANDSHAKE_END':
                        sendToCCPAIFrame(messageData); // just middleman into the ccpa iframe
                        break;
                    case 'CCPA_REDIRECT_TEXT':
                        onCCPARedirectText(messageData.localized_text);
                        break;
                    default:
                        break;
                }
            }

            function onCountryCode(messageData) {
                if (messageData.country_code) {
                    setCountry(messageData.country_code.toLowerCase());
                }

            }

            function openOptionsDialog() {
                if (window.evidon && window.evidon.notice) {
                    window.evidon.notice.showOptions();
                }
            }

            var autoOpenOptionsDialogDelayCounter = 0;
            const autoOpenOptionsDialogMaxRetries = 20;
            const autoOpenOptionsDialogRetryInterval = 500; // milliseconds

            function autoOpenOptionsDialog() {
                if (window.evidon && window.evidon.notice) {
                    window.evidon.notice.showOptions();
                    return;
                }

                autoOpenOptionsDialogDelayCounter += 1;

                if (autoOpenOptionsDialogDelayCounter < autoOpenOptionsDialogMaxRetries) {
                    setTimeout(() => {
                        autoOpenOptionsDialog();
                    }, autoOpenOptionsDialogRetryInterval);
                }
            }

            function onShowFloatingButton(messageData) {
                if (!!messageData.text_override) {
                    // replacing the text on the node itself doesn't work (evidon code will overwrite it)
                    // as a workaround, change the text on the translation itself
                    window.evidon.notice.activeTranslations.buttonText = messageData.text_override;
                }
                window.document.body.classList.add('button-visible');
                sendButtonDimensions();
            }

            function onPrivacyConsentPageInfo(messageData) {
                sendToCCPAIFrame(messageData);
            }

            // Force Crownpeak to use desktop template, due to style compatibility issues with their mobile templates
            // We already handle different screen sizes in our custom CSS below
            function overrideIsMobile() {
                if (window.evidon && window.evidon.notice) {
                    window.evidon.notice.isMobile = function () {
                        return false;
                    }
                }
            }

            function clearSuppressionCookie() {
                document.cookie = '_evidon_suppress_notification_cookie=;  Domain=dropbox.com; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
            }

            function onConsentChanged(message_type) {
                // todo - record metrics (here and other places where DNS/Cookie consent state changes)
                var expireTimestamp = new Date();
                expireTimestamp.setMonth(new Date().getMonth() + COOKIE_CONSENT_DURATION_MONTHS); // calculate days between 6 months from now
                var suppressDays = (expireTimestamp - new Date()) / (1000 * 60 * 60 * 24);
                window.evidon.notice.dropSuppressionCookie(suppressDays); // suppress the notice
                send({message_type: message_type});
            }

            var IS_PROD = 'PROD' === 'PROD';
            var convertedLocale = getLocale(localeQueryParam);
            window.evidon = {};
            window.evidon.id = id;
            window.evidon.test = !IS_PROD;  // set to true for non-production testing.
            // initial country is US, we'll receive the actual country from the parent window
            window.evidon.location = {'code': 'us', 'id': 1, 'defaultLanguage': convertedLocale};

            createObserver();

            // before loading anything from evidon, we want to setup our cookie shim
            initStorageShims();

            const sessionStorageProxy = new SessionStorageProxy(cookieSettingsMinimizedQuery);


            var cdn = '//c.evidon.com/', rootDomain = 'dropbox', noticecdn = cdn + 'sitenotice/';
            append('evidon-notice', noticecdn + 'evidon-sitenotice-tag.js', false);
            // normally the crownpeak script imports their country.js script here,
            // but it was removed since we will be using our own geolocation/locale detection
            // and don't want to make unnecessary calls to their CDN/Akamai.
            append('evidon-themes', noticecdn + id + '/snthemes.js', true);
            loadTranslation(); // preload the translation file from crownpeak
            if (rootDomain) append('evidon-settings', noticecdn + id + '/' + rootDomain + (window.evidon.test ? '/test' : '') + '/settings.js', true);

            window.addEventListener('message', receiveMessage);

            setTimeout(init, 0);

            // When the window resizes, the banner resizes too so we need
            // to tell the iframe what its height should be
            window.onresize = debounce(sendBannerHeight);

            //==================
            // CALLBACKS
            //==================

            window.evidon.priorConsentCallback = function (categories, vendors, cookies) {
                // NOTE: this also fires when the users grants consent

                // add the tags which need to wait for prior consent
                // here. this should be all your advertising tags and
                // probably most of your social and tracking tags.
                clearSuppressionCookie();
                var messageData = {
                    message_type: 'PRIOR_CONSENT',
                    categories: categories,
                    vendors: vendors,
                    cookies: cookies,
                }
                send(messageData);
            }

            window.evidon.closeCallback = function () {
                // this is executed if the user closed a UI element without either Accepting (providing consent)
                // or Declining (declining to provide consent).
                send({message_type: 'CLOSED_ELEMENT'});
            }

            window.evidon.consentWithdrawnCallback = function () {
                // this is executed if the user withdraws consent and elects to
                // no longer allow technologies to run on the site.
                onConsentChanged('CONSENT_WITHDRAWN');
            }

            window.evidon.consentDeclinedCallback = function () {
                // this is executed if the user explicitly declines giving consent by
                // using a Decline button
                onConsentChanged('CONSENT_DECLINED');
            }

            window.evidon.consentChangedCallback = function (categories, vendors, cookies) {
                clearSuppressionCookie();
                var messageData = {
                    message_type: 'CONSENT_CHANGED',
                    categories: categories,
                    vendors: vendors,
                    cookies: cookies,
                }
                send(messageData);
            }
        })(3401);
    </script>
    <title>Cookies &amp; CCPA Preferences - Dropbox</title>
    <style>
        @font-face {
            font-family: 'Atlas Grotesk Web';
            src: url('https://cfl.dropboxstatic.com/static/fonts/atlasgrotesk/AtlasGrotesk-Regular-Web.eot');
            src: url('https://cfl.dropboxstatic.com/static/fonts/atlasgrotesk/AtlasGrotesk-Regular-Web.eot?#iefix') format('embedded-opentype'),
            url('https://cfl.dropboxstatic.com/static/fonts/atlasgrotesk/AtlasGrotesk-Regular-Web.woff') format('woff'),
            url('https://cfl.dropboxstatic.com/static/fonts/atlasgrotesk/AtlasGrotesk-Regular-Web.ttf') format('truetype'),
            url('https://cfl.dropboxstatic.com/static/fonts/atlasgrotesk/AtlasGrotesk-Regular-Web.svg#Atlas Grotesk Web') format('svg');
            font-weight: 400;
            font-style: normal;
            font-stretch: normal;
        }

        @font-face {
            font-family: 'Atlas Grotesk Web';
            src: url('https://cfl.dropboxstatic.com/static/fonts/paper-atlasgrotesk/AtlasGrotesk-Medium-Web.woff2') format('woff2'),
            url('https://cfl.dropboxstatic.com/static/fonts/paper-atlasgrotesk/AtlasGrotesk-Medium-Web.woff') format('woff'),
            url('https://cfl.dropboxstatic.com/static/fonts/paper-atlasgrotesk/AtlasGrotesk-Medium-Web.ttf') format('truetype');
            font-weight: 500;
            font-style: normal;
            font-stretch: normal;
        }

        @font-face {
            font-family: 'Atlas Grotesk Web';
            src: url('https://cfl.dropboxstatic.com/static/fonts/atlasgrotesk/AtlasGrotesk-Bold-Web.eot');
            src: url('https://cfl.dropboxstatic.com/static/fonts/atlasgrotesk/AtlasGrotesk-Bold-Web.eot?#iefix') format('embedded-opentype'),
            url('https://cfl.dropboxstatic.com/static/fonts/atlasgrotesk/AtlasGrotesk-Bold-Web.woff') format('woff'),
            url('https://cfl.dropboxstatic.com/static/fonts/atlasgrotesk/AtlasGrotesk-Bold-Web.ttf') format('truetype'),
            url('https://cfl.dropboxstatic.com/static/fonts/atlasgrotesk/AtlasGrotesk-Bold-Web.svg#Atlas Grotesk Web') format('svg');
            font-weight: 600;
            font-style: normal;
            font-stretch: normal;
        }

        @font-face {
            font-family: 'SharpGrotesk';
            src: url('https://cfl.dropboxstatic.com/static/fonts/sharpgrotesk/SharpGroteskDBBook20.woff2') format('woff2'),
            url('https://cfl.dropboxstatic.com/static/fonts/sharpgrotesk/SharpGroteskDBBook20.woff') format('woff'),
            url('https://cfl.dropboxstatic.com/static/fonts/sharpgrotesk/SharpGroteskDBBook20.ttf') format('truetype');
            font-weight: 400;
            font-style: normal;
        }

        @keyframes slide-in-left {
            from {
                transform: translateX(-100%);
                -webkit-transform: translateX(-100%);
            }
            to {
                transform: translateX(0%);
                -webkit-transform: translateX(0%);
            }
        }

        @keyframes slide-in-bottom {
            from {
                transform: translateY(100%);
                -webkit-transform: translateY(100%);
            }
            to {
                transform: translateY(0%);
                -webkit-transform: translateY(0%);
            }
        }

        @keyframes fade-in {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        :root {
            /* Colors */
            --color__theme__link: #0061ff;
            --color_primary--light: #0061fe;
            --color_primary--dark: #0057e5;
            --color_graphite: #1e1919;
            --color_graphite--darker: #312A25;
            --color_coconut: #F7F5F2;
            --color__utility__focusring: rgba(178, 205, 255, 0.8);
            --color__disabled__background: #bfbfbf;
            --color__opacity--darken1: #F3F0EB;
            --color__opacity--darken2: #E4DDD3;

            /* Animation Speeds */
            --motion__time--fastest: 100ms;
            --motion__time--faster: 200ms;
            --motion__time--slow: 600ms;

            /* Fonts */
            --type__body--fontfamily: Atlas Grotesk Web, Atlas Grotesk, AtlasGrotesk, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol' !important;
        }

        body {
            background-color: transparent;
            display: flex;
            align-items: flex-end;
            justify-content: flex-start;
            margin: 0;
        }

        #ccpa-iframe {
            width: 100%;
        }

        /* Overriding Crownpeak styles that can't be configured in the tooling */

        /* ========== Main Elements (Banner, Dialog) ========== */
        .evidon-prefdiag-background {
            /* Can't use animation shorthand here otherwise Safari has trouble reversing the animations */
            animation-name: fade-in;
            animation-duration: var(--motion__time--slow);
            animation-timing-function: ease-out;
            animation-direction: normal;
            animation-fill-mode: forwards;
            animation-play-state: paused;
            -webkit-animation-name: fade-in;
            -webkit-animation-duration: var(--motion__time--slow);
            -webkit-animation-timing-function: ease-out;
            -webkit-animation-direction: normal;
            -webkit-animation-fill-mode: forwards;
            -webkit-animation-play-state: paused;
        }

        .evidon-banner {
            /* Can't use animation shorthand here otherwise Safari has trouble reversing the animations */
            animation-name: slide-in-bottom;
            animation-duration: var(--motion__time--faster);
            animation-timing-function: ease-out;
            animation-direction: normal;
            animation-fill-mode: forwards;
            animation-play-state: paused;
            -webkit-animation-name: slide-in-bottom;
            -webkit-animation-duration: var(--motion__time--faster);
            -webkit-animation-timing-function: ease-out;
            -webkit-animation-direction: normal;
            -webkit-animation-fill-mode: forwards;
            -webkit-animation-play-state: paused;
        }

        /* evidon-prefdiag-overlay */
        .animate-slide-in-left {
            /* Can't use animation shorthand here otherwise Safari has trouble reversing the animations */
            animation-name: slide-in-left;
            animation-duration: var(--motion__time--slow);
            animation-timing-function: ease-out;
            animation-direction: normal;
            animation-fill-mode: forwards;
            animation-play-state: paused;
            -webkit-animation-name: slide-in-left;
            -webkit-animation-duration: var(--motion__time--slow);
            -webkit-animation-timing-function: ease-out;
            -webkit-animation-direction: normal;
            -webkit-animation-fill-mode: forwards;
            -webkit-animation-play-state: paused;
        }

        .evidon-prefdiag-overlay.full-screen {
            width: 100vw !important;
        }

        .animate-start {
            animation-play-state: running;
            -webkit-animation-play-state: running;
        }

        .animate-out {
            display: flex !important;
            opacity: 1 !important;
            animation-direction: reverse !important;
            -webkit-animation-direction: reverse !important;
        }

        #evidon-prefdiag-tabcontainer {
            position: static !important;
            order: 1;
            flex-grow: 1;
            overscroll-behavior: contain;
            overflow-y: scroll !important;
        }

        #evidon-prefdialog-tabpanel {
            position: static !important;
            height: 100%;
            display: flex;
            flex-direction: column;
            min-height: 100px;
        }

        #evidon-prefdiag-tab-0 {
            height: 100% !important;
            padding: 0 !important;
            overflow-y: visible !important;
            overscroll-behavior: contain;
        }

        .evidon-prefdiag-tabfooter {
            position: static !important;
            display: flex !important;
            height: auto !important;
            border: none !important;
            justify-content: flex-end;
            order: 2;
            padding: 24px 0 0 0 !important;
        }

        #prc-tp-cat-container {
            margin-top: 0 !important;
        }


        /* ========== Links/Buttons ========== */
        .evidon-banner a, .evidon-prefdiag-message a, #ccpa-redirect-link {
            color: var(--color__theme__link) !important;
            text-decoration: underline solid var(--color__theme__link) !important;
        }

        .evidon-banner a:hover, .evidon-prefdiag-message a:hover, #ccpa-redirect-link:hover {
            text-decoration-line: none !important;
        }

        .evidon-prefdiag-acceptbtn:hover, .evidon-prefdiag-declinebtn:hover,
        .evidon-banner-acceptbutton:hover, .evidon-banner-declinebutton:hover {
            background-color: var(--color_primary--light) !important;
            border: 1px solid var(--color_primary--light) !important;
            color: #fff !important;
        }

        .evidon-prefdiag-acceptbtn:active, .evidon-prefdiag-declinebtn:active,
        .evidon-banner-acceptbutton:active, .evidon-banner-declinebutton:active {
            background-color: var(--color_primary--dark) !important;
            border: 1px solid var(--color_primary--dark) !important;
            color: #fff !important;
        }

        .evidon-prefdiag-link {
            font-size: 16px !important;
            font-weight: normal !important;
            color: var(--color_graphite) !important;
        }

        #_evh-newvendor-indicator {
            display: none !important;
        }

        /* Disable category links */
        .evidon-prefdiag-categoryheader .evidon-prefdiag-link {
            pointer-events: none !important;
            cursor: default !important;
        }

        /* Settings Re-entry Button */
        #_evh-button {
            display: none !important;
            margin: 3px 3px 0 0;
        }

        .button-visible #_evh-button {
            display: flex !important;
        }

        #_evh-link {
            border-right: none !important;
            justify-content: center;
        }

        .button-visible #_evh-link {
            display: flex !important;
        }

        #_evh-link:hover, .collapse-toggle-label:hover {
            background-color: var(--color__opacity--darken1) !important;
        }

        #_evh-link:active, .collapse-toggle-label:active {
            background-color: var(--color__opacity--darken2) !important;
        }

        .evidon-prefdiag-acceptbtn, .evidon-prefdiag-declinebtn {
            display: flex !important;
        }

        .evidon-prefdiag-acceptbtn, .evidon-prefdiag-declinebtn {
            display: none !important;
        }

        .display-flex {
            display: flex !important;
        }

        .not-iframe #_evh-link {
            border: 1px solid rgba(166, 158, 146, 0.6) !important;
        }

        /* Settings Re-entry Collapse Toggle Button */
        .collapse-toggle-label {
            width: 40px;
            display: flex;
            margin-bottom: 16px;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(166, 158, 146, 0.6);
            border-left: none;
            cursor: pointer;
            background: #fff;
            font-size: 12px;
            line-height: 16px;
        }

        .collapse-toggle-label input:checked + .collapse-icon {
            transform: rotate(180deg);
        }

        /* ========== Slider/Toggle Control ========== */
        .evidon-switch-slider {
            background-color: #fff !important;
            border: 1px solid var(--color_graphite--darker) !important;
            border-radius: 10px !important;
            transition: transform var(--motion__time--fastest) ease-in-out !important;
        }

        .evidon-switch-slider:hover {
            background-color: rgba(166, 145, 113, 0.14) !important;
        }

        .evidon-switch {
            display: flex !important;
            order: 3;
            height: 20px !important;
            width: 36px !important;
            align-self: center;
            padding: 0 !important;
        }

        .evidon-switch:focus, a:focus, button:focus, .collapse-toggle-label:focus {
            box-shadow: 0 0 0 3px var(--color__utility__focusring);
            outline: none;
            z-index: 1;
        }

        .evidon-switch:focus:not(:focus-visible), a:focus:not(:focus-visible), button:focus:not(:focus-visible), .collapse-toggle-label:focus:not(:focus-visible) {
            box-shadow: none;
        }

        .slideron {
            background-color: var(--color_graphite) !important;
        }

        .slideron:hover {
            background-color: var(--color_graphite--darker) !important;
        }

        .evidon-switch-slider:before {
            background-color: var(--color_graphite) !important;
            height: 12px !important;
            width: 12px !important;
            bottom: 3px !important;
            transition: transform var(--motion__time--fastest) ease-in-out, background-color 0s !important;
        }

        .slideron:before {
            left: 3px !important;
            background-color: var(--color_coconut) !important;
            transform: matrix(1, 0, 0, 1, 16, 0) !important;
            transition: transform var(--motion__time--fastest) ease-in-out, background-color 0s !important;
        }

        .slideron.disabled {
            background-color: var(--color__disabled__background) !important;
            border-color: var(--color__disabled__background) !important;
            cursor: default !important;
        }

        .slideron.disabled:before {
            background-color: #fff !important;
        }

        .evidon-switch-slider.disabled:before {
            background-color: #fff !important;
        }

        .evidon-switch-slider.disabled {
            background-color: var(--color__disabled__background) !important;
            border-color: var(--color__disabled__background) !important;
            cursor: default !important;
            pointer-events: none;
        }

        .evidon-switch.disabled {
            pointer-events: none;
            background-color: transparent;
        }

        #evidon-prefdiag-accept:disabled {
            pointer-events: none;
            border: none !important;
            background-color: var(--color__disabled__background) !important;
        }

        #ccpa-redirect {
            font-family: var(--type__body--fontfamily);
            padding-top: 24px;
            padding-bottom: 24px;
            border-top: 1px solid rgba(0, 0, 0, 0.15);
        }

        #ccpa-redirect-link {
            border: none;
            background-color: transparent;
            outline: none;
            cursor: pointer;
            padding: 0px;
            font-family: var(--type__body--fontfamily);
        }


        /* ========== Headers/Text ========== */
        .evidon-prefdiag-title:before {
            content: '';
            display: block;
            height: 32px;
            width: 20px;
            margin-bottom: 48px;
            background-repeat: no-repeat;
            background-position: center;
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='18' viewBox='0 0 20 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.19644 0.854492L0.393311 3.90906L5.19644 6.96362L10.0004 3.90906L14.8035 6.96362L19.6066 3.90906L14.8035 0.854492L10.0004 3.90906L5.19644 0.854492Z' fill='%231E1919'/%3E%3Cpath d='M5.19644 13.0728L0.393311 10.0183L5.19644 6.96362L10.0004 10.0183L5.19644 13.0728Z' fill='%231E1919'/%3E%3Cpath d='M10.0004 10.0183L14.8035 6.96362L19.6066 10.0183L14.8035 13.0728L10.0004 10.0183Z' fill='%231E1919'/%3E%3Cpath d='M10.0004 17.1455L5.19644 14.091L10.0004 11.0364L14.8035 14.091L10.0004 17.1455Z' fill='%231E1919'/%3E%3C/svg%3E%0A");
        }

        #prc-tp-cat-all-toggle-label {
            font-family: var(--type__body--fontfamily);
            order: 2;
            margin-left: auto;
            font-weight: normal;
            font-size: 14px;
        }

        #prc-tp-cat-header {
            display: none !important;
        }

        #prc-tp-cat-message {
            display: none !important;
        }

        @media only screen and (min-width: 768px) {
            #evidon-prefdialog-tabpanel.full-screen {
                width: 60%;
                margin-left: auto;
                margin-right: auto;
            }

            #evidon-prefdiag-tabcontainer.full-screen {
                flex-grow: 0;
            }
        }

        /* Tablet Large */
        @media (max-width: 1279px) {
            .evidon-prefdiag-overlay {
                width: 61.53% !important;
            }
        }

        /* Tablet Standard */
        @media (max-width: 1023px) {
            .evidon-prefdiag-overlay {
                width: 76.92% !important;
            }
        }


        /* ========== Mobile Large ========== */
        @media (max-width: 767px) {
            .evidon-banner {
                flex-flow: wrap;
                padding: 24px !important;
                justify-content: flex-end !important;
            }

            .evidon-banner-message {
                margin-bottom: 16px !important;
            }

            .evidon-prefdiag-overlay {
                width: 100% !important;
            }
        }

        /* ========== Mobile Standard ========== */
        @media (max-width: 479px) {
            /* Banner */
            .evidon-banner {
                flex-direction: column;
                padding: 24px !important;
            }

            .evidon-banner-declinebutton, .evidon-banner-acceptbutton {
                flex-direction: row !important;
                align-self: stretch !important;
                width: 100%;
            }

            .evidon-banner-declinebutton {
                order: 3 !important;
            }

            .evidon-banner-acceptbutton {
                order: 2 !important;
                margin: 16px 0 !important;
            }

            .evidon-prefdiag-overlay {
                width: 100% !important;
                min-width: 0 !important;
            }

            /* Dialog */
            .evidon-prefdiag-tabfooter {
                flex-direction: column;
            }

            .evidon-prefdiag-acceptbtn, .evidon-prefdiag-declinebtn {
                align-self: stretch !important;
                width: 100%;
            }

            .evidon-prefdiag-acceptbtn {
                order: 1;
                margin: 0 0 16px 0 !important;
            }

            .evidon-prefdiag-declinebtn {
                order: 2;
            }
        }
    </style>
</head>
<body>


<div id="_evidon_banner" class="evidon-banner animate-start" role="dialog" aria-label="Cookie notice banner" style="width: 100%; display: flex; flex: 1 1 0%; background: rgb(247, 245, 242); font-size: 14px; color: rgb(51, 51, 51); padding: 24px 48px; z-index: 10001; box-sizing: border-box; font-family: &quot;Atlas Grotesk Web&quot;, &quot;Atlas Grotesk&quot;, AtlasGrotesk, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; position: fixed; bottom: 0px; text-size-adjust: 100%; visibility: visible;"><div id="_evidon-message" class="evidon-banner-message" style="margin-right: 48px; color: rgb(30, 25, 25); font-size: 12px; font-weight: 400; line-height: 16px; text-align: left; width: 100%; align-self: center;">We use cookies to provide, improve, protect, and promote our services. Visit our <a href="https://www.dropbox.com/privacy" target="_blank" rel="noopener noreferrer">Privacy Policy</a> and <a href="https://help.dropbox.com/accounts-billing/security/privacy-policy-faq" target="_blank" rel="noopener noreferrer">Privacy Policy FAQ</a> to learn more. You can manage your personal preferences in our <a href="https://consent.dropbox.com/?hide_gdpr=false&amp;is_ccpa_enabled=true&amp;gpc_signal=undefined&amp;origin=https%253A%252F%252Fwww.dropbox.com&amp;sandbox_redirect=false#manage-cookies" onclick="event.preventDefault(); window.evidon.notice.showOptions();">Cookie Consent Tool</a>.</div><button id="_evidon-decline-button" class="evidon-banner-declinebutton" style="display: flex; flex-flow: column nowrap; flex-shrink: 0; justify-content: center; align-self: center; border: 1px solid rgb(30, 25, 25); background: rgb(247, 245, 242); color: rgb(30, 25, 25); padding: 9px 20px; cursor: pointer; font-size: 16px; line-height: 26px; order: 2; font-family: &quot;Atlas Grotesk Web&quot;, &quot;Atlas Grotesk&quot;, AtlasGrotesk, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;;">Decline</button><button id="_evidon-accept-button" class="evidon-banner-acceptbutton" style="display: flex; flex-flow: column nowrap; justify-content: center; align-self: center; flex-shrink: 0; border: 1px solid rgb(30, 25, 25); color: rgb(250, 250, 250); background: rgb(30, 25, 25); padding: 9px 20px; cursor: pointer; margin: 0px 16px; font-size: 16px; line-height: 26px; order: 3; font-family: &quot;Atlas Grotesk Web&quot;, &quot;Atlas Grotesk&quot;, AtlasGrotesk, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;;">Accept All</button></div></body></html>