define("metaserver/static/js/modules/clean/react/pass/action_timestamps",["require","exports","tslib","metaserver/static/js/modules/clean/react/pass/constants","metaserver/static/js/modules/core/exception"],(function(e,t,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionTimestampsTracker=void 0,a=s.__importStar(a);const r=[n.LoggingActions.PRESENCE_RECEIVE,n.LoggingActions.TRANSMITTER_TOKEN_BEGIN,n.LoggingActions.TRANSMITTER_TOKEN_RECEIVE,n.LoggingActions.RECEIVER_TOKEN_BEGIN,n.LoggingActions.RECEIVER_TOKEN_RECEIVE,n.LoggingActions.SEEN_STATE_USERS_BEGIN,n.LoggingActions.SEEN_STATE_USERS_RECEIVE];t.ActionTimestampsTracker=new class{constructor(){this.allTimestamps={}}record(e,t){if(!t)return;const s=(new Date).getTime()/1e3;this.allTimestamps[t]=this.allTimestamps[t]||{};const n=this.allTimestamps[t];n.hasOwnProperty(e)?this.reportStackForRepeatedAction(n,e,t,s):n[e]=s}get(e){return e&&this.allTimestamps[e]||{}}reportStackForRepeatedAction(e,t,s,n){if(r.indexOf(t)>=0)return;const i=e[t];a.reportStack("Attempted to record action for which there existed a previous record",{severity:a.SEVERITY.NONCRITICAL,tags:["pass:actionTimestampsTracker"],exc_extra:{preview_session_id:s,action:t,oldTimestamp:i,newTimestamp:n}})}}})),define("metaserver/static/js/modules/clean/react/pass/actions",["require","exports","metaserver/static/js/modules/clean/flux/dispatcher","metaserver/static/js/modules/clean/react/pass/constants"],(function(e,t,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PassActions=void 0;t.PassActions=class{static passPermissionRequest(e){s.Dispatcher.dispatch({type:n.ActionTypes.PASS_PERMISSION_REQUEST,data:{fileId:e}})}static updatePermissions(e,t){s.Dispatcher.dispatch({type:n.ActionTypes.UPDATE_PERMISSIONS,data:{fileId:e,partialPermission:t}})}static fetchPassError(e){s.Dispatcher.dispatch({type:n.ActionTypes.FETCH_PASS_ERROR,data:{fileId:e}})}static fetchPassConcluded(e){s.Dispatcher.dispatch({type:n.ActionTypes.FETCH_PASS_CONCLUDED,data:{fileId:e}})}static receivePresenceDelta(e,t,a,r){s.Dispatcher.dispatch({type:n.ActionTypes.RECEIVE_PRESENCE_DELTA,data:{userId:e,fileId:t,onlineUniqueUsers:a,offlineUniqueUsers:r}})}static receivePresenceSnapshot(e,t,a){s.Dispatcher.dispatch({type:n.ActionTypes.RECEIVE_PRESENCE_SNAPSHOT,data:{userId:e,fileId:t,onlineUniqueUsers:a}})}static resetPassInfo(e){s.Dispatcher.dispatch({type:n.ActionTypes.RESET_PASS_INFO,data:{fileId:e}})}static updateSeenStateInfo(e,t,a){s.Dispatcher.dispatch({type:n.ActionTypes.UPDATE_SEEN_STATE_INFO,data:{fileId:e,seenStateInfo:t,seenStateCursor:a}})}static updateUserTeamInteractionInfo(e,t){s.Dispatcher.dispatch({type:n.ActionTypes.UPDATE_USER_TEAM_INTERACTION_INFO,data:{fileId:e,userTeamInteractionInfo:t}})}static updateSeenStateInfoContinue(e,t,a){s.Dispatcher.dispatch({type:n.ActionTypes.UPDATE_SEEN_STATE_INFO_CONTINUE,data:{fileId:e,seenStateInfo:t,seenStateCursor:a}})}static discontinueSeenStateInfo(e){s.Dispatcher.dispatch({type:n.ActionTypes.DISCONTINUE_SEEN_STATE_INFO,data:{fileId:e}})}static updateSeenStateUnavailable(e,t){s.Dispatcher.dispatch({type:n.ActionTypes.UPDATE_SEEN_STATE_UNAVAILABLE,data:{userId:e,fileId:t}})}}})),define("metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/save_as_copy/save_as_copy",["require","exports","tslib","metaserver/static/js/modules/clean/react/share_download/copy_to_dropbox/api","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/save_as_copy/save_modal"],(function(e,t,s,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.portableSaveAsCopy=void 0,n=s.__importStar(n),a=s.__importStar(a),t.portableSaveAsCopy=({shareToken:e,user:t,fileName:i},{onSuccess:o,onError:l,onNetworkRequest:c,onModalClose:d})=>{r.showSaveFileModal({user:t,onConfirm:()=>s.__awaiter(void 0,void 0,void 0,(function*(){try{null==c||c();const s=yield n.copySharedFile(e,t.id);null==o||o(),a.redirect(s)}catch(e){null==l||l(e)}})),onCancel:()=>{null==d||d()},fileName:i})}})),define("metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/save_as_copy/save_modal",["require","exports","tslib","dig-components/modal","dig-components/buttons","dig-components/icons","dig-components/icons/src","metaserver/static/js/modules/clean/react/components/modal","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/em_string","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/clean/filepath/filepath","dig-components/typography","metaserver/static/js/dig-illustrations/spot/file-folders","dig-components/buttons"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showSaveFileModal=t.SaveFileModal=void 0,l=s.__importDefault(l),m=s.__importStar(m);t.SaveFileModal=({user:e,onConfirm:t,onCancel:s,fileName:o})=>{const[f,g]=l.default.useState(!0),v=()=>{null==s||s(),g(!1)};return l.default.createElement(n.Modal,{open:f,onRequestClose:v},l.default.createElement(n.Modal.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},l.default.createElement("div",{style:{textAlign:"right"}},l.default.createElement(a.IconButton,{onClick:v,variant:"transparent"},l.default.createElement(r.UIIcon,{src:i.CloseLine}))," "),l.default.createElement(_.Title,null,(E=o,e&&e.is_cdm_member?c.intl.formatMessage({id:"bxu2bk",defaultMessage:"Save a copy of ‘{name}’ to your member folder?"},{name:d.Emstring.em_snippet(E,15)}):c.intl.formatMessage({id:"aAhGow",defaultMessage:"Save a copy of ‘{name}’?"},{name:d.Emstring.em_snippet(E,15)})))),l.default.createElement(n.Modal.Body,null,l.default.createElement("div",null,l.default.createElement("div",{style:{width:"60%",margin:"0 auto"}},l.default.createElement(p.FileFoldersSpot,null)),l.default.createElement(_.Text,null,(t=>{const s=u.Viewer.get_viewer();return e&&e.is_cdm_member?c.intl.formatMessage({id:"bxn/4H",defaultMessage:"This will save a copy of the original file to the <strong>{cdm_tmf_name}</strong> folder in your {team_name} Dropbox account."},{cdm_tmf_name:m.filename(e.cdm_tmf_path),team_name:s.team_name,strong:e=>l.default.createElement("strong",null,e)}):c.intl.formatMessage({id:"Qm4Vrc",defaultMessage:"This will save a copy of the original file to your Dropbox account. Changes made to the original file or copy will not be saved to the other."})})()))),l.default.createElement(n.Modal.Footer,null,l.default.createElement(h.Button,{variant:"opacity",onClick:v},c.intl.formatMessage({id:"Li86mZ",defaultMessage:"Cancel"})),l.default.createElement(h.Button,{variant:"primary",onClick:()=>{t(),g(!1)}},c.intl.formatMessage({id:"78AHo5",defaultMessage:"Save"}))));var E},t.showSaveFileModal=function(e){o.Modal.showInstance(l.default.createElement(t.SaveFileModal,Object.assign({},e)))}})),define("metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/save_as_copy/snackbars",["require","exports","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/files_view/file_actions/snackbars","metaserver/static/js/modules/clean/react/snackbar"],(function(e,t,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveCopyFailedSnackBar=t.saveCopySnackBarInProgress=void 0,t.saveCopySnackBarInProgress=e=>a.Snackbar.sync(s.intl.formatMessage({id:"Adz4fH",defaultMessage:"Saving to your personal Dropbox..."}),!1,e,!0),t.saveCopyFailedSnackBar=(e,t,s)=>a.Snackbar.fail(n.renameError(e.error,t),s)})),define("metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/utils",["require","exports","tslib","react","dig-components/menu","dig-components/buttons","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","dig-components/tooltips"],(function(e,t,s,n,a,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePluginActionDefinition=t.getCustomActionOverflowItem=void 0,n=s.__importDefault(n),t.getCustomActionOverflowItem=({label:e,action:t,id:s,icon:r,disabled:l={disabled:!1}})=>{const c=n.default.createElement(a.Menu.ActionItem,{value:{nodeType:"dropdown",actionType:i.ActionBarActionTypes.CUSTOM_ACTION,id:s,menuItem:{handler:t}},withLeftAccessory:r,disabled:l.disabled},e);return l.disabled?n.default.createElement(o.Tooltip,{title:l.tooltipMessage},n.default.createElement("span",{style:{display:"block"},tabIndex:0},c)):c};t.makePluginActionDefinition=e=>{const{id:s,renderButton:a,overflowItem:i}=(({label:e,action:s,id:a,icon:i,disabled:o={disabled:!1},primary:l})=>{const c=e=>{e.preventDefault(),e.stopPropagation(),s()},d=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),s())};return{id:a,renderButton:t=>n.default.createElement(r.Button,{variant:l?"primary":"opacity",onClick:c,onKeyPress:d,withIconLeft:t?null:i,disabled:o.disabled},e),overflowItem:t.getCustomActionOverflowItem({label:e,action:s,id:a,icon:i,disabled:o})}})(e);return{id:s,renderButton:a,overflowItem:i}}})),define("metaserver/static/js/modules/clean/integrations/zoom_share_dialog/async_modal",["require","exports","tslib"],(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncShowModal=void 0,t.asyncShowModal=function(t,n,a,r){return s.__awaiter(this,void 0,void 0,(function*(){const{showModal:i}=yield new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/integrations/zoom_share_dialog/modal"],t,s)}).then(s.__importStar);i(t,n,a,r||"web")}))}})),define("metaserver/static/js/modules/clean/react/onboarding_checklist/async_share_button_tooltip",["require","exports","tslib","metaserver/static/js/modules/clean/react/async/loadable","metaserver/static/js/modules/clean/web_timing_logger","metaserver/static/js/modules/clean/react/browse/data/store"],(function(e,t,s,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncOnboardingChecklistShareButtonTooltip=void 0,t.AsyncOnboardingChecklistShareButtonTooltip=n.Loadable({loader:()=>s.__awaiter(void 0,void 0,void 0,(function*(){yield a.waitForTTI();const{OnboardingChecklistShareButtonTooltip:t}=yield new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/react/onboarding_checklist/share_button_tooltip"],t,s)}).then(s.__importStar);return r.getStoreForBrowse(),t}))})})),define("metaserver/static/js/modules/clean/react/pass/beacon_presence_helpers",["require","exports","tslib","lodash","metaserver/static/js/api_v2/user_client","metaserver/static/js/api_v2/noauth_client","metaserver/static/js/modules/clean/beacon","metaserver/static/js/modules/clean/react/pass/action_timestamps","metaserver/static/js/modules/clean/react/pass/seen_state_helpers","metaserver/static/js/modules/clean/react/pass/actions","metaserver/static/js/modules/clean/react/pass/constants","metaserver/static/js/modules/clean/uuid/uuid","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/constants/python"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_){"use strict";function p(e){c.PassActions.resetPassInfo(e),c.PassActions.fetchPassError(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.BeaconPresenceHelpers=void 0,n=s.__importStar(n),i=s.__importStar(i);class h{static resetClassState(){delete this.receiverData,delete this.transmitterData,delete this.lastFileIdForReceiverTokenRequest,delete this.lastFileIdForTransmitterTokenRequest}static shutdown({beaconFileData:e,user:t,async:s,shouldWritePresence:n=!0}){if(delete this.lastFileIdForReceiverTokenRequest,delete this.lastFileIdForTransmitterTokenRequest,this.transmitterData){const{beaconUserId:a,context:r,identifier:i}=this.transmitterData;this.transmitterData.transmitter.stop(),delete this.transmitterData,!m.Viewer.get_viewer().is_assume_user_session&&n&&l.SeenStateHelpers.updateSeenStateOnResign(t,e,s,a,i,r)}this.receiverData&&this.receiverData.receiver&&(this.receiverData.receiver.stop(),delete this.receiverData)}static receiveBeaconData({beaconFileData:e,user:t,previewSessionId:n,onUpdate:a}){return s.__awaiter(this,void 0,void 0,(function*(){const{fileId:s}=e;o.ActionTimestampsTracker.record(d.LoggingActions.RECEIVER_TOKEN_BEGIN,n),this.lastFileIdForReceiverTokenRequest=s;const r=yield this.fetchReceiverToken(t,e);if(this.lastFileIdForReceiverTokenRequest!==s)return;if(r.beacon_presence_error)return c.PassActions.updatePermissions(s,{canReadPresence:!1}),void("no_permission"===r.beacon_presence_error[".tag"]||p(s));c.PassActions.updatePermissions(s,{canReadPresence:!0}),o.ActionTimestampsTracker.record(d.LoggingActions.RECEIVER_TOKEN_RECEIVE,n);const l=[new i.PresenceParams(i.PresenceType.Context,t.account_id,this.APP,r.beacon_presence_info.context,r.beacon_presence_info.token)];this.receiverData&&this.receiverData.receiver&&this.receiverData.receiver.stop(),this.receiverData={authKey:r.beacon_presence_info.auth_key,receiver:new i.Receiver(l,s=>{o.ActionTimestampsTracker.record(d.LoggingActions.PRESENCE_RECEIVE,n);const r=this.parseBeaconUpdates(s[0]);a(r,t.id,e)},()=>this.receiveBeaconData({user:t,beaconFileData:e,previewSessionId:n,onUpdate:a})),context:r.beacon_presence_info.context},this.receiverData.receiver.start()}))}static fetchReceiverToken(e,t){const{fileId:s,url:n}=t,r={file_info:f(s,n)};return(new a.UserApiV2Client).ns("file_presence").rpc("get_pass_receiver_token",r,{subjectUserId:e.id})}static isOnline(e){return this.HARMONY_ONLINE_STATUSES.includes(e)||e===_.BEACON_ONLINE_STATUS}static parseBeaconUpdates(e){var t;const s={},n={},a=e.delta?"delta":"snapshot",r=null!==(t=e.delta||e.snapshot)&&void 0!==t?t:[];for(const e of r){const t=e.agent,a=t.user_id,r=t.source.identifier;this.isOnline(e.status)?(a in s||(s[a]={}),s[a][r]=!0):(a in n||(n[a]={}),n[a][r]=!0)}return{onlineUniqueUsers:s,offlineUniqueUsers:n,type:a}}static transmitBeaconData({user:e,beaconFileData:t,prevBeaconFileData:a,previewSessionId:r}){return s.__awaiter(this,void 0,void 0,(function*(){const{fileId:s}=t;this.transmitterData&&a&&(this.transmitterData.transmitter.add_or_update_agents([this.getAgentStatusForFile(this.transmitterData.beaconUserId,this.transmitterData.identifier,this.transmitterData.authKey,this.transmitterData.context,_.BEACON_OFFLINE_STATUS)]),setTimeout(()=>{this.transmitterData.transmitter.stop()},1)),o.ActionTimestampsTracker.record(d.LoggingActions.TRANSMITTER_TOKEN_BEGIN,r),this.lastFileIdForTransmitterTokenRequest=s;const l=yield this.fetchTransmitterToken(e,t);if(this.lastFileIdForTransmitterTokenRequest===s){if(l.beacon_presence_error)return c.PassActions.updatePermissions(s,{canWritePresence:!1}),void("no_permission"===l.beacon_presence_error[".tag"]||p(s));c.PassActions.updatePermissions(s,{canWritePresence:!0}),o.ActionTimestampsTracker.record(d.LoggingActions.TRANSMITTER_TOKEN_RECEIVE,r),this.transmitterData={identifier:u.UUID.v4({allowInsecure:!0}),beaconUserId:l.beacon_presence_info.beacon_user_id,authKey:l.beacon_presence_info.auth_key,transmitter:new i.Transmitter(l.beacon_presence_info.token,()=>this.transmitBeaconData({user:e,beaconFileData:t,prevBeaconFileData:null,previewSessionId:r}),n.noop),context:l.beacon_presence_info.context},this.transmitterData.transmitter.add_or_update_agents([this.getAgentStatusForFile(this.transmitterData.beaconUserId,this.transmitterData.identifier,this.transmitterData.authKey,this.transmitterData.context,_.BEACON_ONLINE_STATUS)]),this.transmitterData.transmitter.start()}}))}static getAgentStatusForFile(e,t,s,n,a){const r=new i.Source(this.PLATFORM,this.SURFACE,t),o=new i.Agent(e,this.APP,n,r);return new i.AgentStatus(o,a,s)}static fetchTransmitterToken(e,t){const{fileId:s,url:n}=t,i={file_info:f(s,n)};return e?(new a.UserApiV2Client).ns("file_presence").rpc("get_pass_transmitter_token",i,{subjectUserId:e.id}):(new r.NoAuthApiV2Client).ns("file_presence").rpc("logged_out/get_pass_transmitter_token",i,{})}}function f(e,t){return t?{".tag":"shared_link_details",url:t}:{".tag":"file_identifier",file_identifier:e}}t.BeaconPresenceHelpers=h,h.APP="harmony",h.PLATFORM=i.Platforms.WEB,h.SURFACE="file_viewer",h.HARMONY_ONLINE_STATUSES=["modifier","viewer"]})),define("metaserver/static/js/modules/clean/react/pass/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeaconFileData=t.FacepileInfo=t.UserInfo=void 0;t.UserInfo=class{constructor(e,t,s,n,a,r,i,o,l,c,d,u,m){this.key=e,this.displayName=t,this.isActive=s,this.isViewer=n,this.incrementOverflowBasis=a,this.email=r,this.accessLevel=i,this.whenLastSeen=o,this.photoUrl=l,this.userId=c,this.platformType=d,this.same_team=u,this.is_guest=m}};class s{constructor(e,t){this.isLoaded=e,this.data=t}static create(e){return new s(!0,e)}static createNotLoaded(){return new s(!1,null)}}t.FacepileInfo=s;t.BeaconFileData=class{constructor(e,t){this.fileId=e,this.url=t}}})),define("metaserver/static/js/modules/clean/react/pass/seen_state_helpers",["require","exports","tslib","metaserver/static/js/api_v2/transport/fetch","metaserver/static/js/api_v2/user_client","metaserver/static/js/api_v2/noauth_client","metaserver/static/js/api_v2/error","metaserver/static/js/api_v2/types","metaserver/static/js/modules/clean/react/file_viewer/models","metaserver/static/js/modules/clean/react/pass/action_timestamps","metaserver/static/js/modules/clean/react/pass/actions","metaserver/static/js/modules/clean/react/pass/constants"],(function(e,t,s,n,a,r,i,o,l,c,d,u){"use strict";function m(e){d.PassActions.resetPassInfo(e),d.PassActions.fetchPassError(e)}function _(e,t){return{file_identifier:e,shared_link_details:t?{url:t}:void 0}}var p;Object.defineProperty(t,"__esModule",{value:!0}),t.SeenStateHelpers=t.APITransport=void 0,(function(e){e.create=function(e){return e?new n.FetchAsyncTransport:new n.FetchSyncTransport}})(p=t.APITransport||(t.APITransport={}));t.SeenStateHelpers=class{static constructFakeSeenStateInfo(e,t,s){const n=s.seen_states,a=[];for(const e of n)a.push(e.seen_state_user.user_id);for(const s of e)if(!a.includes(s.user_id)){s.sharing_access_type&&(s.sharing_access_type=this.convertToUnion(s.sharing_access_type));const e={seen_state_user:s,when_last_seen:t,seen_events:[]};n.unshift(e)}return s.seen_states=n,s}static convertToUnion(e){return e?o.Union.parse(e):null}static parseSeenStatePassPlatform(e){if(e){switch(o.Union.parse(e).type){case"web":return u.PassPlatform.WEB;case"mobile":return u.PassPlatform.MOBILE;case"desktop":return u.PassPlatform.DESKTOP}}return u.PassPlatform.UNKNOWN}static fetchSeenStateUsers(e,t,n,r,o){return s.__awaiter(this,void 0,void 0,(function*(){const s=Date.now()/1e3,p=l.FilePreviewSession.currentSession&&l.FilePreviewSession.currentSession.id;c.ActionTimestampsTracker.record(u.LoggingActions.SEEN_STATE_USERS_BEGIN,p);const h=yield(new a.UserApiV2Client).ns("seen_state").rpc("get_seen_state_users",{user_ids:n,file_info:_(r,o)},{subjectUserId:e}).catch(i.catchApiError(()=>(m(r),Promise.reject(void 0))));c.ActionTimestampsTracker.record(u.LoggingActions.SEEN_STATE_USERS_RECEIVE,p);const f=this.constructFakeSeenStateInfo(h,s,t);d.PassActions.updateSeenStateInfo(r,f)}))}static processAndUpdateSeenStateInfo(e,t,s,n){const{seen_state_info:a,seen_state_error:r,seen_state_cursor:i}=s[0];if(r)if(n)d.PassActions.discontinueSeenStateInfo(t);else{if("no_permission"===o.Union.parse(r).type)return;m(t)}else{for(const e of a.seen_states)e.seen_state_user.sharing_access_type=this.convertToUnion(e.seen_state_user.sharing_access_type),e.platform_type=this.parseSeenStatePassPlatform(e.platform_type);n?d.PassActions.updateSeenStateInfoContinue(t,a,i):d.PassActions.updateSeenStateInfo(t,a,i)}}static fetchSeenStateInfo(e,t,n,r,o){return s.__awaiter(this,void 0,void 0,(function*(){c.ActionTimestampsTracker.record(u.LoggingActions.SEEN_STATE_BEGIN,o);const s=yield(new a.UserApiV2Client).ns("seen_state").rpc("get_seen_state_info",{file_infos:[_(t,r)],limit:n},{subjectUserId:e.id}).catch(i.catchApiError(()=>(m(t),Promise.reject(void 0))));let l=!0;const{seen_state_info:p,seen_state_error:h}=s[0];l=!(!p||h),d.PassActions.updatePermissions(t,{canReadSeenState:l}),l||d.PassActions.updateSeenStateUnavailable(e.id,t),l&&c.ActionTimestampsTracker.record(u.LoggingActions.SEEN_STATE_RECEIVE,o),this.processAndUpdateSeenStateInfo(e,t,s,!1),l&&this.fetchRemainingSeenStateInfo(e,t,s,r)}))}static fetchRemainingSeenStateInfo(e,t,s,n){const a=s[0].seen_state_cursor;if(a&&a.has_next){const s=a.cursor_state;s&&this.fetchSeenStateInfoContinue(e,t,s,1e5,n)}}static fetchSeenStateInfoContinue(e,t,n,r,o){return s.__awaiter(this,void 0,void 0,(function*(){const s=yield(new a.UserApiV2Client).ns("seen_state").rpc("get_seen_state_info/continue",{file_infos:[_(t,o)],cursor:n,limit:r},{subjectUserId:e.id}).catch(i.catchApiError(()=>(d.PassActions.discontinueSeenStateInfo(t),Promise.reject(void 0))));this.processAndUpdateSeenStateInfo(e,t,s,!0)}))}static updateSeenStateOnResign(e,t,s,n,i,o){const l=p.create(s);return(function(e,t,s,n,i){return e?t(new a.UserApiV2Client(i).ns("seen_state"),n,{subjectUserId:e.id}):s(new r.NoAuthApiV2Client(i).ns("seen_state"),n,{})})(e,(e,t,s)=>e.rpc("update_timestamps_and_mark_offline",t,s),(e,t,s)=>e.rpc("logged_out/mark_offline",t,s),{beacon_infos:[{beacon_user_id:n,context:o,shared_link_url:t.url,identifier:i}]},l)}}})),define("metaserver/static/js/modules/clean/react/extensions/utils",["require","exports","metaserver/static/js/modules/clean/web_user_action_events"],(function(e,t,s){"use strict";function n(e,t){return t in e&&"enabled"===e[t].service_availability[".tag"]}Object.defineProperty(t,"__esModule",{value:!0}),t.computeSplitShareMenuReferrer=t.toActionBarValue=t.isTrelloAvailable=t.isZoomAvailable=t.isSlackAvailable=void 0,t.isSlackAvailable=e=>n(e,"slack_dropbox"),t.isZoomAvailable=e=>n(e,"zoom"),t.isTrelloAvailable=e=>n(e,"trello"),t.toActionBarValue=e=>({nodeType:"dropdown",actionType:3,menuItem:e}),t.computeSplitShareMenuReferrer=(e,t,n,a)=>{let r=`${t}`;return n&&(r=`${n}`,a&&(r=`${n}_${a}`,a===s.ActionSurfaceLogValue.RIGHT_SIDEBAR&&1===e.length?r=`${n}_${a}_single_file`:a===s.ActionSurfaceLogValue.RIGHT_SIDEBAR&&e.length>1&&(r=`${n}_${a}_multi_file`))),r}})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/background",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/components/css"],(function(e,t,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundWithCSS=void 0,n=s.__importDefault(n);const r=e=>{var{dimming:t,centeredContent:a}=e,r=s.__rest(e,["dimming","centeredContent"]);const i=["hs-int-dimmer-background",a?"hs-int-dimmer-background-centered":""],o={};return void 0!==t&&(o.backgroundColor="rgba(0, 0, 0, 0.5)"),n.default.createElement("div",{className:i.join(" "),style:o},r.children)};r.displayName="Background",t.BackgroundWithCSS=a.requireCssWithComponent(r,["/static/css/integrations/hellosign_deep_integration-vflFRcwcB.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/container",["require","exports","tslib","react-dom","metaserver/static/js/modules/clean/css/css"],(function(e,t,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenContainer=void 0,n=s.__importStar(n),a=s.__importStar(a);t.FullScreenContainer=class{constructor(e=document.body,t=document,s=window){this.show=()=>{this.anchor.contains(this.container)||this.anchor.appendChild(this.container),this.container.hidden=!1},this.hide=()=>{this.container.hidden=!0},this.reset=()=>{this.anchor.removeChild(this.container),this.container=this.createContainer()},this.renderContent=e=>{n.render(e,this.container)},this.hideOverflow=()=>{this.windowObj.scrollTo(0,0),this.documentEl.documentElement.classList.add("hs-int-hellosign-overflow-hide")},this.removeHideOverflow=()=>{this.documentEl.documentElement.classList.remove("hs-int-hellosign-overflow-hide")},this.createContainer=()=>{const e=document.createElement("div");return e.className="hs-int-full-screen-container",e.hidden=!0,e},this.container=this.createContainer(),this.anchor=e,this.documentEl=t,this.windowObj=s,a.require_css("/static/css/integrations/hellosign_deep_integration-vflFRcwcB.css")}}})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/hellosign",["require","exports","tslib","react","react-intl","metaserver/static/js/modules/clean/react/components/css","metaserver/static/js/modules/core/i18n","dig-components/typography","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/channel","dig-components/progress_indicators","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/core/langpack"],(function(e,t,s,n,a,r,i,o,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HelloSignWithCSS=void 0,n=s.__importDefault(n),u=s.__importStar(u);class m extends n.default.Component{constructor(e){super(e),this.setIframeRef=e=>{this.iframeRef=e,this.iframeRef.onload=()=>{this.setState({appInitialized:!0})}},this.getMessageHandlers=()=>({[l.MessageType.APP_INITIALIZE]:this.handleAppInitializedMessage,[l.MessageType.DEEP_INTEGRATION_FINISHED]:this.props.onComplete,[l.MessageType.USER_CREATE_TEMPLATE]:this.props.onComplete,[l.MessageType.USER_SEND_REQUEST]:this.props.onComplete,[l.MessageType.USER_CANCEL_REQUEST]:this.props.onClose,[l.MessageType.DEEP_INTEGRATION_WAITING_FOR_RECIPIENTS]:this.handleWaitingForRecipientsMessage}),this.handleWaitingForRecipientsMessage=()=>{if(!this.props.recipientInfo)throw new Error("No Recipient info provied but was requested by iframe");this.channel.sendRecipients(this.props.recipientInfo)},this.handleUnknownMessage=(e,t)=>{console.log(e),console.log(t)},this.handleAppInitializedMessage=()=>{this.setState({appInitialized:!0}),this.props.linkHelloSign()},this.getEditorDomain=()=>{const{url:e}=this.props,t=e.getAuthority();return`${e.getScheme()}://${t}`},this.state={appInitialized:!1}}componentDidMount(){this.channel=l.Channel.new(this.getEditorDomain(),this.iframeRef.contentWindow,this.getMessageHandlers(),this.handleUnknownMessage),this.channel.startListening()}componentWillUnmount(){this.channel.stopListening()}render(){const{url:e}=this.props,t=n.default.createElement(a.IntlProvider,{defaultLocale:"en-US",locale:i.localeToBcp47LangTag(d.USER_LOCALE),messages:u},n.default.createElement("div",{className:"hs-int-hellosign-loading"},n.default.createElement(c.Spinner,{className:"hs-int-hellosign-spinner","aria-valuetext":"Loading large",size:"large"}),n.default.createElement("div",{className:"hs-int-hellosign-loading-copy"},n.default.createElement(o.Title,{size:"standard"},n.default.createElement(a.FormattedMessage,{id:"JZpfYr",defaultMessage:"Preparing document..."})))));return n.default.createElement("div",{className:"hs-int-hellosign-page"},!this.state.appInitialized&&t,n.default.createElement("iframe",{ref:this.setIframeRef,className:"hs-int-hellosign-page-iframe",src:e.toString()}))}}m.displayName="HelloSign",t.HelloSignWithCSS=r.requireCssWithComponent(m,["/static/css/integrations/hellosign_deep_integration-vflFRcwcB.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/launcher",["require","exports","tslib","react","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/container","dig-components/icons/src","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/exception","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/A","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/B","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/V3","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/safari_unsupported_modal","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/background","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/hellosign","metaserver/static/js/api_v2/noauth_client","metaserver/static/js/modules/clean/active_user","metaserver/static/js/api_v2/default_user_client","metaserver/static/js/modules/clean/integrations/log_event","typescript/component_libraries/deep-integrations/src/instrumentation/constants","metaserver/static/js/modules/core/i18n","lodash","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/channel","metaserver/static/js/modules/core/uri","metaserver/static/js/modules/core/browser","metaserver/static/js/dropins_sdk_refactor/src/v2_entry","metaserver/static/js/modules/clean/profile_services/profile_services_link","metaserver/static/js/modules/clean/profile_services/profile_services_constants","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/clean/base64","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/clean/stormcrow/stormcrow_exposure_logger","metaserver/static/js/modules/clean/stormcrow/gating_factory"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h,f,g,v,E,S,y,b,T,w,I,M,O,k,C,N,P,A,R,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLauncher=t.HELLOSIGN_SUPPORTED_EXTENSIONS=void 0,n=s.__importDefault(n),b=s.__importStar(b),I=s.__importStar(I),k=s.__importDefault(k),N=s.__importStar(N),P=s.__importStar(P);t.HELLOSIGN_SUPPORTED_EXTENSIONS=[".doc",".docx",".pdf",".ppsx",".ppt",".pptx",".jpb",".jpeg",".png",".xls",".xlsx",".txt",".html",".gif"];const j=()=>{const e=g.getActiveUser();return e?new v.DefaultUserApiV2Client(e):new f.NoAuthApiV2Client};class x{constructor(e){this.optInRequired=!1,this.init=e=>{let t=e.apiV2Client||this.config.apiV2Client;void 0===e.apiV2Client&&e.user&&e.user!==this.config.user&&(t=new v.DefaultUserApiV2Client(e.user)),this.config=Object.assign(Object.assign(Object.assign({},this.config),e),{apiV2Client:t}),this.refreshUserSettings(),this.refreshFeatureVariant()},this.launch=()=>{if(!this.readyToLaunch()||!this.sendForSignatureEnabled)throw new Error("launcher isn't ready to launch. Make sure you have correctly initialized it.");return this.config.logEvent({event_name:S.InstrEventType.SelectAction,feature_name:S.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({action:S.InstrActionType.Start,entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}),N.msie?(this.config.logEvent({event_name:S.InstrEventType.ActionTaken,feature_name:S.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({action:S.InstrActionType.MSIEUnsupported,entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}),this.showUnsupportedBrowserSnackbar(),Promise.resolve()):Promise.all([this.sendForSignatureEnabled,this.safariFixDisabled]).then(([e,t])=>{if(!e)return this.config.logEvent({event_name:S.InstrEventType.ActionTaken,feature_name:S.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({action:S.InstrActionType.FeatureDisabled,entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}),void this.showTeamDisabledSnackbar();if(this.config.container.show(),N.safari){if(void 0===t)throw"safariFixDisabled is not loaded.";const{variant:e}=t;if("ON"!==e)return this.config.logEvent({event_name:S.InstrEventType.ActionTaken,feature_name:S.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({action:S.InstrActionType.SafariUnsupported,entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}),void this.showSafariUnsupportedModal()}return this.tosAccepted.then(e=>s.__awaiter(this,void 0,void 0,(function*(){if(e){if(this.config.navOnceAcceptedTos)return this.config.navOnceAcceptedTos();!N.safari&&!N.mozilla||this.config.hasOwnProperty("file")?yield this.showHelloSignPage():this.showTosChooseFilePage()}else yield this.showTosAcceptTermsPage()}))).catch(e=>{console.log(e),this.reset()})})},this.hideOverflow=()=>{this.config.hasOwnProperty("file")||this.config.container.hideOverflow()},this.removeHideOverflow=()=>{this.config.hasOwnProperty("file")||this.config.container.removeHideOverflow()},this.show=()=>{this.hideOverflow(),this.config.container.show()},this.hide=()=>{var e,t;this.removeHideOverflow(),this.config.container.hide(),null===(t=(e=this.config).afterHide)||void 0===t||t.call(e)},this.reset=()=>(this.config.container.reset(),this.removeHideOverflow(),this.refreshUserSettings()),this.showTosChooseFilePage=()=>{this.hideOverflow(),this.config.container.renderContent(n.default.createElement(p.BackgroundWithCSS,{dimming:!0,centeredContent:!0},n.default.createElement(c.TermsOfServiceWithCSS,{onAcceptTos:this.acceptTosInUserSettings,onClose:this.hide,onStart:this.showHelloSignPage,onChooseFile:this.showHelloSignPage,chooseFileRequired:void 0===this.config.file,logEvent:this.config.logEvent,optInRequired:this.optInRequired,pageNum:2})))},this.showTosAcceptTermsPage=()=>s.__awaiter(this,void 0,void 0,(function*(){const e=this.config.navOnceAcceptedTos?this.config.navOnceAcceptedTos:this.showHelloSignPage;this.hideOverflow();const t=yield this.getTosExperimentVariant();let s=c.TermsOfServiceWithCSS;"A"===t&&(s=d.TermsOfServiceWithCSS),"B"===t&&(s=u.TermsOfServiceWithCSS),"V3"===t&&(s=m.TermsOfServiceWithCSS),t&&this.config.logEvent({event_name:S.InstrEventType.ManualRenderedFeature,feature_name:S.InstrFeatureType.HelloSignDeepIntegrationTOS,extra:{tos_variant:t}}),this.config.container.renderContent(n.default.createElement(p.BackgroundWithCSS,{dimming:!0,centeredContent:!0},n.default.createElement(s,{onAcceptTos:this.acceptTosInUserSettings,onClose:this.hide,onStart:e,onChooseFile:e,chooseFileRequired:void 0===this.config.file,logEvent:this.config.logEvent,optInRequired:this.optInRequired})))})),this.showSafariUnsupportedModal=()=>{const e=y.intl.formatMessage({id:"WC+meb",defaultMessage:"Couldn’t start signature request"}),t=y.intl.formatMessage({id:"vxnAb7",defaultMessage:"This feature isn’t available on Safari, but will be soon. Please try on a different browser."}),s=y.intl.formatMessage({id:"WAQpuN",defaultMessage:"Close"});this.hideOverflow(),this.config.container.renderContent(n.default.createElement(p.BackgroundWithCSS,{dimming:!0,centeredContent:!0},n.default.createElement(_.SafariUnsupportedModalWithCSS,{title:e,body:t,buttonName:s,learnMoreLink:"https://help.dropbox.com/installs-integrations/third-party/hellosign#sign",onClose:this.reset})))},this.showFileChooser=e=>new Promise((s,n)=>{const a={success:function(e){e.length&&s(e[0]),s(void 0)},cancel:function(){s(void 0)},linkType:"direct",multiselect:!1,extensions:t.HELLOSIGN_SUPPORTED_EXTENSIONS,folderselect:!1,initialNavigationPath:e};M.Dropbox.choose(a)}),this.showHelloSignPage=()=>s.__awaiter(this,void 0,void 0,(function*(){const{fileId:e,filePath:t}=yield this.getFileIdAndPath();if(!e)return;if(void 0===this.featureVariant)throw"feature variant never loaded";if(!(yield this.isDeepIntegrationEnabled()))throw"deep integration is not enabled";const{variant:s}=yield this.featureVariant;if("DEEP_INTEGRATION_WITH_EXTENSION"===s)yield this.doAppActionFlowRedirectInSameTab(e);else{if("DEEP_INTEGRATION"!==s)throw"unrecognized variant";{this.hideOverflow();let s=void 0;N.safari&&(s=yield this.getDBXAuthLink());const a=yield this.getHelloSignUrl(e,t,s,this.allowEmailOptedIn),r=yield this.getVariant(this.signaturesTabOnShareVariant);this.config.container.renderContent(n.default.createElement(p.BackgroundWithCSS,{centeredContent:!0},n.default.createElement(h.HelloSignWithCSS,{onClose:this.reset,onComplete:e=>this.handleSignatureRequestComplete(e,r),recipientInfo:this.getRecipientsPayload(),url:a,linkHelloSign:this.linkHelloSignIfNecessary})))}}})),this.getRecipientsPayload=()=>{let e;return this.config.selfSign&&(e={selfSign:this.config.selfSign}),e},this.dbxCollectedRecipientInfo=()=>!!this.config.selfSign,this.showTeamDisabledSnackbar=()=>{this.showFailSnackbar(y.intl.formatMessage({id:"7NLYW8",defaultMessage:"The HelloSign integration has been disabled by your admin."}),y.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"}))},this.showSendForSignatureSuccessSnackbar=e=>{switch(this.config.entryPoint){case"landing_page":return void I.redirect("/hellosign/home");case"share_page_signature_tab_default":case"share_page_signature_tab_empty_state":return void I.redirect("/share/signatures")}const t=this.config.user;if(!t)throw new Error("User is missing in the config.");const s={name:"track_status",icon:r.SignatureLine,onClick:function(t){const s=["rich_snackbar_click","track_signature_status",e].join("_");let n;if(l.ProEventsLogger.log(s,{action:"rich_snackbar_click",variant:e}),"V1"===e)n="/hellosign/home";else{if("V2"!==e)return void o.reportException({err:new Error(`Unexpected click for feature ${S.InstrFeatureType.SignaturesTabOnShare}`+`with variant ${e}`),severity:o.SEVERITY.NONCRITICAL,tags:["rich_snackbar","product-growth"]});n="/share/signatures"}n+="?_tk=post_signature_send_snackbar",i.redirect(n)},text:y.intl.formatMessage({id:"6B08Qw",defaultMessage:"Track status"})},a={clickHandlerArgs:{userId:t.id,filePath:""},actions:[s],actionBarAlignment:"left"},c=y.intl.formatMessage({id:"h7GFOm",defaultMessage:"File shared for signature"});C.Snackbar.show(n.default.createElement(C.Snackbar,{id:"track_status_snackbar",title:c,variant:"complete",richSnackbarProps:a,timeoutDelayMs:1e4,forceDig:!0}))},this.showUnsupportedBrowserSnackbar=()=>{this.showFailSnackbar(y.intl.formatMessage({id:"Cl3pwT",defaultMessage:"This feature isn’t available on Internet Explorer. Please try on a different browser."}),y.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"}))},this.showFailSnackbar=(e,t)=>{C.Snackbar.show(n.default.createElement(C.Snackbar,{variant:"fail",timeoutDelayMs:1e4,title:e,closeButtonText:t}))},this.showRedirectSnackbar=()=>{C.Snackbar.show(n.default.createElement(C.Snackbar,{variant:"complete",timeoutDelayMs:1e4,title:y.intl.formatMessage({id:"rdpIKz",defaultMessage:"Redirecting you to the file preview."})}))},this.linkHelloSignIfNecessary=()=>s.__awaiter(this,void 0,void 0,(function*(){(yield this.isHelloSignProfileServiceLinked())?this.config.logEvent({event_name:S.InstrEventType.ActionTaken,feature_name:S.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({action:S.InstrActionType.Start,entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}):yield this.linkHelloSign()})),this.getDBXAuthLink=()=>s.__awaiter(this,void 0,void 0,(function*(){if(!this.config.user)throw"launcher isn't ready to launch. Make sure you have correctly initialized it.";if(yield this.isHelloSignProfileServiceLinked())return;const e=new O.ProfileServicesLinkingHandler,t=yield e.auth_service_with_user_promise(k.default.HELLOSIGN,this.config.user.id,null,"link_contacts",O.AuthWindowOption.HIDDEN_IFRAME,void 0,void 0,void 0,!0);return(null==t?void 0:t.dbx_auth)||void 0})),this.linkHelloSign=()=>s.__awaiter(this,void 0,void 0,(function*(){if(!this.config.user)throw"launcher isn't ready to launch. Make sure you have correctly initialized it.";const e=new O.ProfileServicesLinkingHandler;this.config.logEvent({event_name:S.InstrEventType.ServiceConnectionFlowStart,feature_name:S.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})}),yield e.auth_service_with_user_promise(k.default.HELLOSIGN,this.config.user.id,null,"link_contacts",O.AuthWindowOption.HIDDEN_IFRAME).then(({success:e})=>{e?console.log("HelloSign OAuth succeeded"):console.log("HelloSign OAuth failed")}).catch(e=>{console.log(e)}).finally(()=>{this.config.logEvent({event_name:S.InstrEventType.ServiceConnectionFlowEnd,feature_name:S.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})})})})),this.isHelloSignProfileServiceLinked=()=>this.config.apiV2Client.ns("profile_services").rpc("list_linked_services",void 0,{}).then(e=>e.linked_services.filter(e=>"hellosign"===e.service_type[".tag"]&&"is_connected"===e.connection_state[".tag"]).length>0),this.doAppActionFlowRedirectInSameTab=e=>s.__awaiter(this,void 0,void 0,(function*(){const t=yield this.config.apiV2Client.ns("app_actions").rpc("redirect",{action_id:"Nsvvd-FufEUQ9aE-snoTvw",file_id:e},{}),s=t&&t.redirect_url;if(!s)throw"Failed to open HelloSign";{const e=w.URI.parse(s);"https"===e.getScheme()&&"app.hellosign.com"===e.getAuthority()&&"/home/dropboxIncomingFile"===e.getPath()?I.unsafeRedirect(s):I.redirect(s)}})),this.getHelloSignUrl=(e,t,n,a)=>s.__awaiter(this,void 0,void 0,(function*(){var s;const r=yield this.helloSignEnvironment;if(!r)throw"launcher has not been initialized, please call init() first";const{user:i,templateFlow:o,templateRoute:l}=this.config;if(!i)throw"launcher has not been initialized with a valid user, please set a user in init() first";n&&(n=P.encode(n));let c=new w.URI;return c.setScheme("https"),c.setAuthority(r.domain),c.setPath("/dropbox/embedded"),c.updateQuery({client_id:r.client_id,user:i.account_id,role:i.role,file_id:e,file_path:t,dbx_auth:n,email_optin:"boolean"==typeof a?String(a):void 0,utm_source:null!==(s=this.config.utmSource)&&void 0!==s?s:"dropbox-deep-integration",dbx_locale:A.USER_LOCALE,di_hs_home:"1",rpbhp:String(this.dbxCollectedRecipientInfo())}),this.isOnDevbox()&&c.updateQuery({parent_url:I.get_origin()}),o&&(c.updateQuery({template:"1"}),l&&(l.startsWith("http")?(c=w.URI.parse(l),c.updateQuery({client_id:r.client_id,parent_url:window.location.href,js_version:"2.0"})):c.setPath(l))),c})),this.isOnDevbox=()=>/^https:\/\/.*\.dev\.corp\.dropbox\.com$/.test(I.get_origin()),this.getFileIdAndPath=()=>s.__awaiter(this,void 0,void 0,(function*(){let e=this.config.file;if(!e){!N.safari&&!N.mozilla&&this.hide();const t=yield this.showFileChooser(this.config.fileChooserInitialNavigationPath);if(!t)return{};!N.safari&&!N.mozilla&&this.show(),e={file_id:t.id}}return e?e.fq_path?{fileId:e.file_id,filePath:e.fq_path.split("/").slice(0,-1).join("/")}:{fileId:e.file_id}:{}})),this.readyToLaunch=()=>!("unknown"===this.config.entryPoint||void 0===this.tosAccepted||!this.config.user),this.refreshUserSettings=()=>{const e=this.config.apiV2Client.ns("integrations").rpc("get_user_settings",{},{});return e.then(e=>{var t;this.optInRequired=!!(null===(t=e.hellosign_settings)||void 0===t?void 0:t.opt_in_required)}),this.tosAccepted=e.then(e=>{var t;return!!(null===(t=e.hellosign_settings)||void 0===t?void 0:t.tos_accepted)}),this.helloSignEnvironment=e.then(e=>e.hellosign_environment),this.sendForSignatureEnabled=e.then(e=>{var t;return!!(null===(t=e.hellosign_settings)||void 0===t?void 0:t.send_for_signature_enabled)}),Promise.all([this.tosAccepted,this.helloSignEnvironment,this.sendForSignatureEnabled])},this.refreshFeatureVariant=()=>{const e=this.config.apiV2Client.ns("integrations").rpc("are_features_available",{features:[{feature:S.InstrFeatureType.HelloSignDeepIntegration,entry_point:this.config.entryPoint},{feature:S.InstrFeatureType.HelloSignDeepIntegrationSafariFixDisabled},{feature:S.InstrFeatureType.HelloSignTosExperiment},{feature:S.InstrFeatureType.SignaturesTabOnShare}]},{});return this.featureVariant=e.then(e=>e.features[0]),this.safariFixDisabled=e.then(e=>e.features[1]),this.helloSignTosVariant=e.then(e=>e.features[2]),this.signaturesTabOnShareVariant=e.then(e=>e.features[3]),Promise.all([this.featureVariant,this.safariFixDisabled,this.helloSignTosVariant,this.signaturesTabOnShareVariant])},this.acceptTosInUserSettings=e=>{this.config.apiV2Client.ns("integrations").rpc("set_user_settings",{hellosign_settings:{tos_accepted:!0}},{}).then(()=>{var e,t;this.tosAccepted=Promise.resolve(!0),null===(t=(e=this.config).afterAcceptTos)||void 0===t||t.call(e)}),this.allowEmailOptedIn=e},this.handleSignatureRequestComplete=(e,t)=>{if(this.logSignaturesTabOnShareExposure(S.InstrFeatureType.SignaturesTabOnShare,t),e&&e.payload){this.config.logEvent({event_name:S.InstrEventType.UpdateFile,feature_name:S.InstrFeatureType.HelloSignDeepIntegration,extra:Object.assign({entry_point:this.config.entryPoint},this.config.source?{source:this.config.source}:{})});const s=e.payload.filePath;if(this.isSignaturesTabOnShareExpOn(t)&&e.type===T.MessageType.DEEP_INTEGRATION_FINISHED)this.showSendForSignatureSuccessSnackbar(t);else if(this.showRedirectSnackbar(),s&&s.includes("/hellosign/home"))I.redirect(w.URI.parse(s).toString());else if(e.type===T.MessageType.USER_CREATE_TEMPLATE){const t=e.payload.template_guid,s=w.URI.parse("/hellosign/templates");t&&s.updateQuery({guid:t,"use-template-modal":"1"}),I.redirect(s.toString())}else if(e.type===T.MessageType.USER_SEND_REQUEST){const t=w.URI.parse("/hellosign/home"),s=e.payload.signatureRequestId;s&&t.updateQuery({request:s}),I.redirect(t.toString())}else I.redirect(new w.URI({path:`/preview${s}`}).toString())}this.reset()},this.isDeepIntegrationEnabled=()=>s.__awaiter(this,void 0,void 0,(function*(){return!1!==(yield this.getVariant(this.featureVariant))})),this.getTosExperimentVariant=()=>this.getVariant(this.helloSignTosVariant),this.getVariant=e=>s.__awaiter(this,void 0,void 0,(function*(){if(!e)return!1;const t=yield e;if(void 0===t)return!1;const{available:s,variant:n}=t;return"available"===s[".tag"]&&void 0!==n&&"OFF"!==n&&n})),this.config=e,M.Dropbox.init({appKey:"dropbox",productKey:"hellosign"})}isSignaturesTabOnShareExpOn(e){return"V1"===e||"V2"===e}logSignaturesTabOnShareExposure(e,t){if(this.isSignaturesTabOnShareExpOn(t)){(new R.StormcrowExposureLogger).logExposure(e,t);const s={stormcrowVariantInfo:{feature:e,variant:t}};D.getGatingClientSingleton().logExposure(s)}}}t.getLauncher=b.memoize(()=>{const e={entryPoint:"unknown",container:new a.FullScreenContainer,apiV2Client:j(),logEvent:E.createIntegrationsActionsLogger().logEvent,user:g.getActiveUser()};return new x(e)})})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/components/css","dig-components/controls","spectrum/icon_form/index","typescript/component_libraries/deep-integrations/src/text/text","dig-components/buttons","typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper","typescript/component_libraries/deep-integrations/src/instrumentation/constants","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/assets","metaserver/static/js/modules/core/i18n","react-intl","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/localized_graphic","metaserver/static/js/modules/core/browser_detection"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermsOfServiceWithCSS=t.PageName=void 0,n=s.__importDefault(n),h=s.__importStar(h);const f={agree:m.intl.formatMessage({id:"k2WBHu",defaultMessage:"Agree"}),cancel:m.intl.formatMessage({id:"fCZlT5",defaultMessage:"Cancel"}),chooseFile:m.intl.formatMessage({id:"SvnKud",defaultMessage:"Choose a File"})};var g;(function(e){e.AcceptPage="accept_page",e.ChooseFilePage="choose_file_page"})(g=t.PageName||(t.PageName={}));const v=({primaryButtonText:e,onClickPrimaryButton:t,primaryButtonDisabled:s,secondaryButtonText:a,onClickSecondaryButton:r,leftColumnContent:o,rightColumnContent:c,onClose:d,blueSide:_})=>{const p=m.intl.formatMessage({id:"9yYWu+",defaultMessage:"Close"}),h=a&&r?n.default.createElement(l.Button,{onClick:r,title:a,variant:"opacity"},a):null,f=n.default.createElement("div",{className:"hs-int-tos-container-right-col-action-buttons"},h,n.default.createElement("div",{style:{width:10}}),n.default.createElement(l.Button,{onClick:t,title:e,variant:"primary",disabled:s,className:"hs-int-tos-accept-button"},e)),[g,v]="left"===_?["hs-int-tos-container-left-col-blue","hs-int-tos-container-right-col"]:["hs-int-tos-container-left-col","hs-int-tos-container-right-col-blue"];return n.default.createElement("div",{className:"hs-int-tos-container"},n.default.createElement("div",{className:g},n.default.createElement("div",{className:"hs-int-tos-container-left-col-logo"},n.default.createElement(u.DropboxLogo,{color:"left"===_?"white":"sapphire"})),n.default.createElement("div",{className:"hs-int-tos-container-left-col-content"},o),"left"===_?null:f),n.default.createElement("div",{className:v},n.default.createElement("div",{className:"hs-int-tos-container-right-col-close-wrapper"},n.default.createElement("div",{className:"hs-int-tos-container-right-col-close"},n.default.createElement(l.Button,{onClick:d,title:p,variant:"transparent",hasNoUnderline:!0},n.default.createElement(i.IconForm,{name:"cancel"})))),n.default.createElement("div",{className:"hs-int-tos-container-right-col-content"},c),"left"===_?f:null))};v.displayName="TermsOfServiceContainer";t.TermsOfServiceWithCSS=a.requireCssWithComponent(({onAcceptTos:e,onClose:t,onStart:s,onChooseFile:a,chooseFileRequired:i,logEvent:l,optInRequired:u,pageNum:E})=>{const[S,y]=n.default.useState(E||1),[b,T]=n.default.useState(!1),[w,I]=n.default.useState(!1),M=c.functionWrapperProvider(l,d.InstrFeatureType.HelloSignDeepIntegrationTOS),O=({title:e,subTitle:t,textColor:s})=>n.default.createElement("div",null,n.default.createElement("div",{className:"hs-int-tos-container-left-col-title"},n.default.createElement(o.Text,{fontWeight:"medium",color:s,size:"xxxlarge"},e)),n.default.createElement("div",{className:"hs-int-tos-container-left-col-subtitle"},n.default.createElement(o.Text,{color:s,size:"large"},t))),k=()=>{const e=g.ChooseFilePage,s=c.onClickWrapper(M,d.InstrActionType.ChooseFile,a,{extra:{tos_page_name:e}}),[r,i]=[f.chooseFile,s],l=n.default.createElement(n.default.Fragment,null,n.default.createElement(O,{title:m.intl.formatMessage({id:"AzuKe2",defaultMessage:"Simple, secure eSignatures"}),subTitle:m.intl.formatMessage({id:"bBvwr6",defaultMessage:"Send, sign and store your most important documents - all in Dropbox"}),textColor:"text"}),n.default.createElement("ol",{className:"hs-int-tos-info-page-right-col-intro"},[m.intl.formatMessage({id:"hRdISa",defaultMessage:"<bold>Simply add signers</bold> by email address to send out for signature requests."},{bold:(...e)=>n.default.createElement(o.Text,{color:"text",size:"small",fontWeight:"medium"},e)}),m.intl.formatMessage({id:"LTJsAc",defaultMessage:"<bold>Easily prep your document</bold> by placing fields to specify the sections that needs to be signed, dated and more."},{bold:(...e)=>n.default.createElement(o.Text,{color:"text",size:"small",fontWeight:"medium"},e)}),m.intl.formatMessage({id:"swViYV",defaultMessage:"<bold>Choose your Dropbox folder</bold> for your signed copy to be automatically saved and safely stored."},{bold:(...e)=>n.default.createElement(o.Text,{color:"text",size:"small",fontWeight:"medium"},e)})].map((e,t)=>n.default.createElement(o.Text,{color:"text",size:"small",key:t},n.default.createElement("li",null,0!==t?n.default.createElement("div",{style:{height:16}}):null,e))))),u=m.intl.formatMessage({id:"yluH71",defaultMessage:"HelloSign Deep Integration"}),_=n.default.createElement("div",{className:"hs-int-tos-info-page-right-col"},n.default.createElement("img",{src:p.localizedAsset(),alt:u,className:"hs-int-tos-info-page-right-col-media"}));return n.default.createElement(v,{primaryButtonText:r,onClickPrimaryButton:i,leftColumnContent:l,rightColumnContent:_,onClose:t,blueSide:"right"})};if(1===S)return(()=>{const a=g.AcceptPage,l=c.onClickWrapper(M,d.InstrActionType.AcceptTOS,()=>{i?y(e=>e+1):s(),e(!u||w)},{extra:{tos_page_name:a}}),p=c.onClickWrapper(M,d.InstrActionType.CancelFlow,t,{extra:{tos_page_name:a}}),h=c.onClickWrapper(M,d.InstrActionType.ViewTerms,()=>{},{extra:{tos_page_name:a}}),E=c.onClickWrapper(M,d.InstrActionType.ViewPrivacyPolicy,()=>{},{extra:{tos_page_name:a}}),S=n.default.createElement(O,{title:m.intl.formatMessage({id:"ljvDJ8",defaultMessage:"Get documents signed with HelloSign— a Dropbox company"}),subTitle:m.intl.formatMessage({id:"+0ofKf",defaultMessage:"HelloSign lets you request signatures or sign documents right from Dropbox."}),textColor:"text-inverted"}),k=_.defineMessage({id:"VYh0UK",defaultMessage:"I agree to the HelloSign <term>Terms</term> and <policy>Privacy Policy</policy>."}),C=m.intl.formatMessage(k,{term:e=>n.default.createElement("a",{href:"https://www.hellosign.com/terms",target:"_blank",rel:"noreferrer noopener",onClick:h},e),policy:e=>n.default.createElement("a",{href:"https://www.hellosign.com/privacy",target:"_blank",rel:"noreferrer noopener",onClick:E},e)}),N=m.intl.formatMessage(k,{term:e=>e,policy:e=>e}),P=m.intl.formatMessage({id:"gMMLpm",defaultMessage:"Send me HelloSign updates."}),A=n.default.createElement("div",{className:"hs-int-tos-accept-page-right-col-content"},n.default.createElement(o.Text,{color:"text",size:"large"},m.intl.formatMessage({id:"llnumb",defaultMessage:"We’ll create a HelloSign account for you automatically."}),n.default.createElement("br",null),n.default.createElement("br",null),m.intl.formatMessage({id:"vjbiAf",defaultMessage:"If you already have a HelloSign account, we’ll link it to your Dropbox account if the email address for both are the same."})),n.default.createElement("div",{className:"hs-int-tos-accept-page-right-col-tos-content"},n.default.createElement(o.Text,{color:"text",size:"large"},m.intl.formatMessage({id:"HDZWlz",defaultMessage:"Click Agree to:"})),n.default.createElement("ul",{className:"hs-int-tos-accept-page-right-col-tos-content-list"},n.default.createElement("li",{className:"hs-int-tos-accept-page-right-col-tos-content-list-item"},n.default.createElement(o.Text,{color:"text",size:"large"},m.intl.formatMessage({id:"faDcx4",defaultMessage:"Give HelloSign full access to your Dropbox account."}))),n.default.createElement("li",{className:"hs-int-tos-accept-page-right-col-tos-content-list-item"},n.default.createElement(o.Text,{color:"text",size:"large"},m.intl.formatMessage({id:"MFUXPs",defaultMessage:"Give Dropbox full access to your HelloSign account."}))))),n.default.createElement("div",{className:"hs-int-tos-accept-page-right-col-checkbox"},n.default.createElement(r.Checkbox,{onChange:()=>T(e=>!e),checked:b,"aria-label":N,className:"hs-int-tos-accept-page-right-col-checkbox-square"}),n.default.createElement("div",{style:{width:10}}),n.default.createElement(o.Text,{color:"text",size:"medium"},C)),u?n.default.createElement("div",{className:"hs-int-tos-accept-page-right-col-email-promotion-checkbox"},n.default.createElement(r.Checkbox,{onChange:()=>I(e=>!e),checked:w,"aria-label":P,className:"hs-int-tos-accept-page-right-col-email-promotion-checkbox-square"}),n.default.createElement("div",{style:{width:10}}),n.default.createElement(o.Text,{color:"text",size:"medium"},P)):null);return n.default.createElement(v,{primaryButtonText:f.agree,onClickPrimaryButton:l,primaryButtonDisabled:!b,secondaryButtonText:f.cancel,onClickSecondaryButton:p,leftColumnContent:S,rightColumnContent:A,onClose:p,blueSide:"left"})})();if(2===S)return i?h.safari||h.mozilla?k():(a(),null):k();throw`wrong page number in TOS page: ${S}`},["/static/css/integrations/hellosign_deep_integration-vflFRcwcB.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vfldv4r2H.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/assets",["require","exports","tslib","react"],(function(e,t,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropboxLogo=void 0,n=s.__importDefault(n),t.DropboxLogo=({color:e})=>{const t="sapphire"===e?"#0d2484":"white";return n.default.createElement("svg",{width:"48",height:"40",viewBox:"0 0 48 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7061 14.9679L0 7.51017L11.7888 0L23.5682 7.5045L35.3483 0L47.1366 7.51017L35.4305 14.9677L47.1368 22.4256L35.3481 29.9359L23.5683 22.4313L11.7886 29.9359L0 22.4256L11.7061 14.9679ZM23.5682 7.51584L35.2656 14.9679L23.5683 22.4199L11.871 14.9677L23.5682 7.51584ZM23.6531 39.9351L11.8644 32.4247L23.6531 24.9153L35.4419 32.4247L23.6531 39.9351Z",fill:t}))},t.DropboxLogo.displayName="DropboxLogo"})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/channel",["require","exports"],(function(e,t){"use strict";var s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=t.SentMessageType=t.MessageType=void 0,(function(e){e.APP_CONFIGURE="hellosign:configure",e.APP_ERROR="hellosign:error",e.APP_INITIALIZE="hellosign:initialize",e.DEEP_INTEGRATION_FINISHED="hellosign:deepIntegrationFinished",e.USER_CANCEL_REQUEST="hellosign:userCancelRequest",e.USER_CREATE_TEMPLATE="hellosign:userCreateTemplate",e.USER_DECLINE_REQUEST="hellosign:userDeclineRequest",e.USER_FINISH_REQUEST="hellosign:userFinishRequest",e.USER_PREP_SEND_EDITOR_CONTINUE="hellosign:userPrepSendEditorContinue",e.USER_REASSIGN_REQUEST="hellosign:userReassignRequest",e.USER_SEND_REQUEST="hellosign:userSendRequest",e.USER_SIGN_REQUEST="hellosign:userSignRequest",e.USER_PREP_SEND_EDITOR_DELETE_DOC="hellosign:userPrepSendEditorDeleteDoc",e.VERIFY_DOMAIN_REQUEST="hellosign:verifyDomainRequest",e.DEEP_INTEGRATION_WAITING_FOR_RECIPIENTS="hellosign:deepIntegrationWaitingForRecipients"})(s=t.MessageType||(t.MessageType={})),(function(e){e.DEEP_INTEGRATION_SEND_RECIPIENTS="dropbox:deepIntegrationSendRecipients"})(n=t.SentMessageType||(t.SentMessageType={}));const a=e=>"object"==typeof e&&"string"==typeof e.type&&(void 0===e.payload||"object"==typeof e.payload),r=e=>!!a(e)&&!(e.type!==s.VERIFY_DOMAIN_REQUEST||!e.payload||"string"!=typeof e.payload.token),i={[s.APP_CONFIGURE]:e=>!!a(e)&&e.type===s.APP_CONFIGURE,[s.APP_ERROR]:e=>!!a(e)&&e.type===s.APP_ERROR,[s.APP_INITIALIZE]:e=>!!a(e)&&e.type===s.APP_INITIALIZE,[s.DEEP_INTEGRATION_FINISHED]:e=>!!a(e)&&!(e.type!==s.DEEP_INTEGRATION_FINISHED||!e.payload||"string"!=typeof e.payload.filePath),[s.USER_CANCEL_REQUEST]:e=>!!a(e)&&e.type===s.USER_CANCEL_REQUEST,[s.USER_CREATE_TEMPLATE]:e=>!!a(e)&&e.type===s.USER_CREATE_TEMPLATE,[s.USER_DECLINE_REQUEST]:e=>!!a(e)&&e.type===s.USER_DECLINE_REQUEST,[s.USER_FINISH_REQUEST]:e=>!!a(e)&&e.type===s.USER_FINISH_REQUEST,[s.USER_PREP_SEND_EDITOR_CONTINUE]:e=>!!a(e)&&e.type===s.USER_PREP_SEND_EDITOR_CONTINUE,[s.USER_REASSIGN_REQUEST]:e=>!!a(e)&&e.type===s.USER_REASSIGN_REQUEST,[s.USER_SEND_REQUEST]:e=>!!a(e)&&e.type===s.USER_SEND_REQUEST,[s.USER_SIGN_REQUEST]:e=>!!a(e)&&e.type===s.USER_SIGN_REQUEST,[s.USER_PREP_SEND_EDITOR_DELETE_DOC]:e=>!!a(e)&&e.type===s.USER_PREP_SEND_EDITOR_DELETE_DOC,[s.VERIFY_DOMAIN_REQUEST]:r,[s.DEEP_INTEGRATION_WAITING_FOR_RECIPIENTS]:e=>!!a(e)&&e.type===s.DEEP_INTEGRATION_WAITING_FOR_RECIPIENTS},o=()=>{},l={[s.APP_CONFIGURE]:o,[s.APP_ERROR]:o,[s.APP_INITIALIZE]:o,[s.DEEP_INTEGRATION_FINISHED]:o,[s.USER_CANCEL_REQUEST]:o,[s.USER_CREATE_TEMPLATE]:o,[s.USER_DECLINE_REQUEST]:o,[s.USER_FINISH_REQUEST]:o,[s.USER_PREP_SEND_EDITOR_CONTINUE]:o,[s.USER_REASSIGN_REQUEST]:o,[s.USER_SEND_REQUEST]:o,[s.USER_SIGN_REQUEST]:o,[s.USER_PREP_SEND_EDITOR_DELETE_DOC]:o,[s.VERIFY_DOMAIN_REQUEST]:o,[s.DEEP_INTEGRATION_WAITING_FOR_RECIPIENTS]:o};class c{constructor(e,t,s={},o){this.startListening=()=>{window&&window.addEventListener("message",this.onMessageHandler)},this.stopListening=()=>{window&&window.removeEventListener("message",this.onMessageHandler)},this.onMessageHandler=e=>{if(!this.canHandleMessage(e))return;const t=e.data;if(!a(t))return void this.unknownMessageHandler("unknown",JSON.stringify(t));if(!(0,i[t.type])(t))return void this.unknownMessageHandler(t.type,JSON.stringify(t));const s=this.externalHandlers[t.type];if(!s)throw`couldn't find messageHandler for message type ${t.type}`;r(t)&&this.respondVerifyDomainRequest(t),s(t)},this.respondVerifyDomainRequest=e=>{this.allowedSource&&this.allowedSource.postMessage({type:"hellosign:verifyDomainResponse",payload:{token:e.payload.token}},this.allowedOrigin)},this.sendRecipients=e=>{this.allowedSource&&this.allowedSource.postMessage({type:n.DEEP_INTEGRATION_SEND_RECIPIENTS,payload:e},this.allowedOrigin)},this.canHandleMessage=e=>e.origin===this.allowedOrigin&&e.source===this.allowedSource,this.allowedOrigin=e,this.allowedSource=t,this.externalHandlers=Object.assign(Object.assign({},l),s),this.unknownMessageHandler=o}static new(e,t,s={},n){return new c(e,t,s,n)}}t.Channel=c})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/localized_graphic",["require","exports","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/clean/static_urls"],(function(e,t,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localizedAsset=void 0,t.localizedAsset=function(){switch(s.USER_LOCALE||"en_US"){case"da_DK":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-da_DK-vflev2nla.gif");case"de":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-de-vflmTVCdO.gif");case"en_GB":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-en_GB-vflmA_g94.gif");case"es":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-es-vfllHw0PM.gif");case"es_ES":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-es_ES-vflRmKQl4.gif");case"fr":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-fr-vflqcThGf.gif");case"id":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-id-vflT5Hn2D.gif");case"it":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-it-vflOYD-0N.gif");case"ja":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-ja-vfliiIOOL.gif");case"ko":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-ko-vflSPFPmr.gif");case"ms":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-ms-vfli8wwVt.gif");case"nb_NO":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-nb_NO-vflcDuOCP.gif");case"nl_NL":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-nl_NL-vflPQqelQ.gif");case"pl":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-pl-vflwp4_NJ.gif");case"pt_BR":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-pt_BR-vflm25c60.gif");case"ru":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-ru-vfl6KsI3f.gif");case"sv_SE":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-sv_SE-vflPSZhlS.gif");case"th_TH":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-th_TH-vflI-EUYa.gif");case"uk_UA":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-uk_UA-vflCSYd-h.gif");case"zh_CN":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-zh_CN-vfldFx8CJ.gif");case"zh_TW":return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-zh_TW-vflbjmtiv.gif");default:return n.static_url("/static/images/integrations/hellosign/launcher/onboarding-vfl5F6roQ.gif")}}})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/safari_unsupported_modal",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/components/css","dig-components/buttons","dig-components/modal","dig-components/typography","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/i18n"],(function(e,t,s,n,a,r,i,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafariUnsupportedModalWithCSS=void 0,n=s.__importStar(n),l=s.__importStar(l);t.SafariUnsupportedModalWithCSS=a.requireCssWithComponent(({title:e,body:t,buttonName:s,learnMoreLink:a,onClose:d})=>{const[u,m]=n.useState(!0),_=()=>{m(e=>!e),d()},p=c.intl.formatMessage({id:"zcHXrL",defaultMessage:"Learn more"});return n.createElement(i.Modal,{className:"hs-int-safari-unspported-modal",open:u,width:"small",isCentered:!0,withCloseButton:"Close",onRequestClose:_},n.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard"},n.createElement(o.Title,null,e)),n.createElement(i.Modal.Body,{hasVerticalSpacing:!1},t),n.createElement(i.Modal.Footer,null,n.createElement(r.Button,{variant:"transparent",onClick:()=>{l.open_tab(a)}},p),n.createElement("div",{style:{display:"none"}},n.createElement(r.Button,{variant:"opacity"},"Button")),n.createElement(r.Button,{variant:"primary",onClick:_},s)))},["/static/css/integrations/hellosign_deep_integration-vflFRcwcB.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vfldv4r2H.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/A",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/components/css","dig-components/typography","metaserver/static/js/modules/core/i18n","dig-components/buttons","spectrum/icon_form/index","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/footer","metaserver/static/js/modules/clean/static_urls","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/common","typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper","typescript/component_libraries/deep-integrations/src/instrumentation/constants"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermsOfServiceWithCSS=void 0,n=s.__importDefault(n);const p={heading:i.intl.formatMessage({id:"AGYgMb",defaultMessage:"Allow signatures in Dropbox"}),poweredBy:i.intl.formatMessage({id:"sANI63",defaultMessage:"Powered by HelloSign, a Dropbox company"}),allowText:i.intl.formatMessage({id:"87Ic6S",defaultMessage:"Allow"}),cancelText:i.intl.formatMessage({id:"Z9Inrz",defaultMessage:"Cancel"}),graphicAlt:i.intl.formatMessage({id:"fwZb1h",defaultMessage:"Animated Image"}),hsLogoAlt:i.intl.formatMessage({id:"Te8HfQ",defaultMessage:"HelloSign Logo"})};t.TermsOfServiceWithCSS=a.requireCssWithComponent(({onAcceptTos:e,onClose:t,onStart:s,onChooseFile:a,chooseFileRequired:h,optInRequired:f,logEvent:g,pageNum:v})=>{const E=n.default.createElement(r.Link,{href:"https://help.dropbox.com/installs-integrations/third-party/hellosign",target:"_blank",rel:"noopener noreferrer",inverse:!0},i.intl.formatMessage(u.learnMoreDescriptor)),S=i.intl.formatMessage({id:"9yYWu+",defaultMessage:"Close"}),y=m.functionWrapperProvider(g,_.InstrFeatureType.HelloSignDeepIntegrationTOS),b=m.onClickWrapper(y,_.InstrActionType.AcceptTOS,t=>{e(t),h?a():s()},{extra:{tos_page_name:u.PageName.AcceptTosVariantA}});return n.default.createElement("div",{className:"hs-int-tos-v2-container"},n.default.createElement("div",{className:"hs-int-tos-v2-col"},n.default.createElement("div",{className:"hs-int-tos-container-right-col-close-wrapper"},n.default.createElement("div",{className:"hs-int-tos-container-right-col-close"},n.default.createElement(o.Button,{onClick:t,title:S,variant:"transparent",hasNoUnderline:!0},n.default.createElement(l.IconForm,{name:"cancel"})))),n.default.createElement("div",{className:"hs-int-tos-v2-content"},n.default.createElement("div",{className:"hs-int-tos-v2-header"},n.default.createElement("img",{alt:p.graphicAlt,src:d.static_url("/static/images/integrations/hellosign/onboarding/pen-vflmXZ_fa.png")}),n.default.createElement("br",null),n.default.createElement(r.Title,{size:"standard",tagName:"h1"},p.heading),n.default.createElement("div",{className:"hs-int-v2-header-powered-by-wrapper"},n.default.createElement("img",{alt:p.hsLogoAlt,src:d.static_url("/static/images/integrations/hellosign/onboarding/hs-logo-vflYPyKIW.svg"),className:"hs-int-tos-v2-header-small-hs-logo"}),n.default.createElement(r.Text,{size:"small",color:"faint",tagName:"p",className:"hs-int-v2-header-powered-by"},p.poweredBy))),n.default.createElement("ul",{className:"hs-int-tos-v2-tos-content-list"},n.default.createElement("li",{className:"hs-int-tos-v2-tos-content-list-item"},n.default.createElement(r.Text,null,i.intl.formatMessage({id:"KlXIQn",defaultMessage:"This allows information to be shared between HelloSign and Dropbox."})," ",E)),n.default.createElement("li",{className:"hs-int-tos-v2-tos-content-list-item"},n.default.createElement(r.Text,null,i.intl.formatMessage({id:"y3WkMl",defaultMessage:"If you don't have a HelloSign account, we'll create one for you with your Dropbox email address."}))))),n.default.createElement(c.Footer,{termsMarkup:u.richAcceptTosStatement,termsText:u.plainAcceptTosStatement,primaryButtonText:p.allowText,onClickPrimaryButton:b,secondaryButtonText:p.cancelText,onClickSecondaryButton:t,optInRequired:f})))},["/static/css/integrations/hellosign_deep_integration-vflFRcwcB.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vfldv4r2H.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/B",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/components/css","dig-components/typography","metaserver/static/js/modules/core/i18n","dig-components/buttons","spectrum/icon_form/index","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/footer","metaserver/static/js/modules/clean/static_urls","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/common","typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper","typescript/component_libraries/deep-integrations/src/instrumentation/constants"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermsOfServiceWithCSS=void 0,n=s.__importDefault(n);const p={heading:i.intl.formatMessage({id:"1NiHAS",defaultMessage:"Sign and send right in Dropbox"}),allowText:i.intl.formatMessage({id:"+clSP7",defaultMessage:"Turn on"}),cancelText:i.intl.formatMessage({id:"Z9Inrz",defaultMessage:"Cancel"}),graphicAlt:i.intl.formatMessage({id:"fwZb1h",defaultMessage:"Animated Image"}),hsLogoAlt:i.intl.formatMessage({id:"Te8HfQ",defaultMessage:"HelloSign Logo"})};t.TermsOfServiceWithCSS=a.requireCssWithComponent(({onAcceptTos:e,onClose:t,onStart:s,onChooseFile:a,chooseFileRequired:h,optInRequired:f,logEvent:g,pageNum:v})=>{const E=n.default.createElement(r.Link,{href:"https://help.dropbox.com/installs-integrations/third-party/hellosign",target:"_blank",rel:"noopener noreferrer",inverse:!0},i.intl.formatMessage(u.learnMoreDescriptor)),S=i.intl.formatMessage({id:"9yYWu+",defaultMessage:"Close"}),y=m.functionWrapperProvider(g,_.InstrFeatureType.HelloSignDeepIntegrationTOS),b=m.onClickWrapper(y,_.InstrActionType.AcceptTOS,t=>{e(t),h?a():s()},{extra:{tos_page_name:u.PageName.AcceptTosVariantB}});return n.default.createElement("div",{className:"hs-int-tos-v2-container"},n.default.createElement("div",{className:"hs-int-tos-v2-col"},n.default.createElement("div",{className:"hs-int-tos-container-right-col-close-wrapper"},n.default.createElement("div",{className:"hs-int-tos-container-right-col-close"},n.default.createElement(o.Button,{onClick:t,title:S,variant:"transparent",hasNoUnderline:!0},n.default.createElement(l.IconForm,{name:"cancel"})))),n.default.createElement("div",{className:"hs-int-tos-v2-content"},n.default.createElement("div",{className:"hs-int-tos-v2-header"},n.default.createElement("img",{alt:p.graphicAlt,src:d.static_url("/static/images/integrations/hellosign/onboarding/pen-vflmXZ_fa.png")}),n.default.createElement("br",null),n.default.createElement("br",null),n.default.createElement(r.Title,{size:"standard",tagName:"h1"},p.heading)),n.default.createElement("ul",{className:"hs-int-tos-v2-tos-content-list"},n.default.createElement("li",{className:"hs-int-tos-v2-tos-content-list-item"},n.default.createElement(r.Text,null,i.intl.formatMessage({id:"v85or7",defaultMessage:"Signatures are powered by HelloSign, a Dropbox company."}))),n.default.createElement("li",{className:"hs-int-tos-v2-tos-content-list-item"},n.default.createElement(r.Text,null,i.intl.formatMessage({id:"5FRDvH",defaultMessage:"Information is shared between HelloSign and Dropbox."})," ",E)),n.default.createElement("li",{className:"hs-int-tos-v2-tos-content-list-item"},n.default.createElement(r.Text,null,i.intl.formatMessage({id:"y3WkMl",defaultMessage:"If you don't have a HelloSign account, we'll create one for you with your Dropbox email address."}))))),n.default.createElement(c.Footer,{termsMarkup:u.richAcceptTosStatement,termsText:u.plainAcceptTosStatement,primaryButtonText:p.allowText,onClickPrimaryButton:b,secondaryButtonText:p.cancelText,onClickSecondaryButton:t,optInRequired:f})))},["/static/css/integrations/hellosign_deep_integration-vflFRcwcB.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vfldv4r2H.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/V3",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/components/css","dig-components/typography","metaserver/static/js/modules/core/i18n","dig-components/buttons","spectrum/icon_form/index","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/footer","metaserver/static/js/modules/clean/static_urls","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/common","typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper","typescript/component_libraries/deep-integrations/src/instrumentation/constants","react-intl"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermsOfServiceWithCSS=void 0,n=s.__importDefault(n);const h={heading:i.intl.formatMessage({id:"1NiHAS",defaultMessage:"Sign and send right in Dropbox"}),nextText:i.intl.formatMessage({id:"zJzY3w",defaultMessage:"Next"}),cancelText:i.intl.formatMessage({id:"Z9Inrz",defaultMessage:"Cancel"}),graphicAlt:i.intl.formatMessage({id:"fwZb1h",defaultMessage:"Animated Image"}),hsLogoAlt:i.intl.formatMessage({id:"Te8HfQ",defaultMessage:"HelloSign Logo"})};t.TermsOfServiceWithCSS=a.requireCssWithComponent(({onAcceptTos:e,onClose:t,onStart:s,onChooseFile:a,chooseFileRequired:f,logEvent:g,optInRequired:v,pageNum:E})=>{const S=i.intl.formatMessage({id:"9yYWu+",defaultMessage:"Close"}),y=m.functionWrapperProvider(g,_.InstrFeatureType.HelloSignDeepIntegrationTOS),b=m.onClickWrapper(y,_.InstrActionType.AcceptTOS,t=>{e(t),f?a():s()},{extra:{tos_page_name:u.PageName.AcceptTosVariantV3}}),T=m.onClickWrapper(y,_.InstrActionType.CancelFlow,t,{extra:{tos_page_name:u.PageName.AcceptTosVariantV3}}),w=m.onClickWrapper(y,_.InstrActionType.ViewTerms,()=>{},{extra:{tos_page_name:u.PageName.AcceptTosVariantV3}}),I=m.onClickWrapper(y,_.InstrActionType.ViewPrivacyPolicy,()=>{},{extra:{tos_page_name:u.PageName.AcceptTosVariantV3}}),M=p.defineMessage({id:"I+BnMT",defaultMessage:"By clicking Next, I agree to HelloSign’s <term>Terms</term> & <privacy>Privacy Policy</privacy>."}),O=i.intl.formatMessage(M,{term:e=>n.default.createElement("a",{href:"https://www.hellosign.com/terms",target:"_blank",rel:"noopener noreferrer",onClick:w},e),privacy:e=>n.default.createElement("a",{href:"https://www.hellosign.com/privacy",target:"_blank",rel:"noopener noreferrer",onClick:I},e)}),k=p.defineMessage({id:"1PZp6M",defaultMessage:"By clicking Next, I agree to HelloSign’s Terms & Privacy Policy."}),C=i.intl.formatMessage(k,{term:e=>e});return n.default.createElement("div",{className:"hs-int-tos-v3-container"},n.default.createElement("div",{className:"hs-int-tos-v2-col"},n.default.createElement("div",{className:"hs-int-tos-container-right-col-close-wrapper"},n.default.createElement("div",{className:"hs-int-tos-container-right-col-close"},n.default.createElement(o.Button,{onClick:t,title:S,variant:"transparent",hasNoUnderline:!0},n.default.createElement(l.IconForm,{name:"cancel"})))),n.default.createElement("div",{className:"hs-int-tos-v2-content"},n.default.createElement("div",{className:"hs-int-tos-v2-header"},n.default.createElement("img",{alt:h.graphicAlt,src:d.static_url("/static/images/integrations/hellosign/onboarding/pen-vflmXZ_fa.png")}),n.default.createElement("br",null),n.default.createElement(r.Title,{size:"standard",tagName:"h1"},h.heading)),n.default.createElement("ul",{className:"hs-int-tos-v3-tos-content-list"},n.default.createElement("li",{className:"hs-int-tos-v3-tos-content-list-item"},n.default.createElement(r.Text,null,i.intl.formatMessage({id:"Nzi1eT",defaultMessage:"<b>Drag and drop fields</b> on your document to show where to sign"},{b:e=>n.default.createElement("strong",null,e)}))),n.default.createElement("li",{className:"hs-int-tos-v3-tos-content-list-item"},n.default.createElement(r.Text,null,i.intl.formatMessage({id:"5TjDyk",defaultMessage:"<b>Choose the Dropbox folder</b> where you want to save signed documents"},{b:e=>n.default.createElement("strong",null,e)}))),n.default.createElement("li",{className:"hs-int-tos-v3-tos-content-list-item"},n.default.createElement(r.Text,null,i.intl.formatMessage({id:"TS8wPS",defaultMessage:"<b>Send a signature request</b> while keeping the orignal document intact"},{b:e=>n.default.createElement("strong",null,e)}))))),n.default.createElement(c.Footer,{termsMarkup:O,termsText:C,primaryButtonText:h.nextText,onClickPrimaryButton:b,secondaryButtonText:h.cancelText,onClickSecondaryButton:T,optInRequired:v,noTosCheckbox:!0})))},["/static/css/integrations/hellosign_deep_integration-vflFRcwcB.css","/static/js/typescript/component_libraries/deep-integrations/src/index.web-vfldv4r2H.css"])})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/common",["require","exports","tslib","react-intl","metaserver/static/js/modules/core/i18n","react"],(function(e,t,s,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.learnMoreDescriptor=t.plainAcceptTosStatement=t.richAcceptTosStatement=t.acceptTosStatementMsgDescriptor=t.PageName=void 0,r=s.__importDefault(r),(function(e){e.AcceptTosVariantA="accept_tos_a",e.AcceptTosVariantB="accept_tos_b",e.AcceptTosVariantV3="accept_tos_v3"})(t.PageName||(t.PageName={})),t.acceptTosStatementMsgDescriptor=n.defineMessage({id:"b96zXA",defaultMessage:"I agree to HelloSign's <term>Terms of Service</term>."}),t.richAcceptTosStatement=a.intl.formatMessage(t.acceptTosStatementMsgDescriptor,{term:e=>r.default.createElement("a",{href:"https://www.hellosign.com/terms",target:"_blank",rel:"noopener noreferrer"},e)}),t.plainAcceptTosStatement=a.intl.formatMessage(t.acceptTosStatementMsgDescriptor,{term:e=>e}),t.learnMoreDescriptor=n.defineMessage({id:"49giA7",defaultMessage:"Learn more"})})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/tos_experiment/footer",["require","exports","tslib","react","typescript/component_libraries/deep-integrations/src/text/text","dig-components/typography","dig-components/controls","dig-components/buttons","metaserver/static/js/modules/core/i18n"],(function(e,t,s,n,a,r,i,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0,n=s.__importDefault(n);const c={emailOptedInStatement:l.intl.formatMessage({id:"gMMLpm",defaultMessage:"Send me HelloSign updates."})};t.Footer=({termsMarkup:e,termsText:t,primaryButtonText:s,onClickPrimaryButton:d,secondaryButtonText:u,onClickSecondaryButton:m,noTosCheckbox:_,optInRequired:p})=>{const[h,f]=n.default.useState(!!_),[g,v]=n.default.useState(!1),E=u&&m?n.default.createElement(o.Button,{onClick:m,title:"Cancel",variant:"opacity"},"Cancel"):null,S=n.default.createElement("div",{className:"hs-int-tos-v2-action-buttons"},E,n.default.createElement("div",{className:"hs-int-tos-v2-footer-checkbox-spacer"}),n.default.createElement(o.Button,{title:s,variant:"primary",disabled:!h,onClick:()=>d(!1===p||g)},s)),y=_?n.default.createElement(n.default.Fragment,null):n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Checkbox,{checked:h,onChange:()=>f(e=>!e),"aria-label":t}),n.default.createElement("div",{className:"hs-int-tos-v2-footer-checkbox-spacer"})),b=p?"hs-int-tos-v2-tos-sub-text-non-us":"hs-int-tos-v2-tos-sub-text";return n.default.createElement(n.default.Fragment,null,p?n.default.createElement("div",{className:"hs-int-tos-v2-footer-optin"},n.default.createElement(i.Checkbox,{onChange:()=>v(e=>!e),checked:g,"aria-label":c.emailOptedInStatement}),n.default.createElement("div",{className:"hs-int-tos-v2-footer-checkbox-spacer"}),n.default.createElement(a.Text,{color:"text",size:"medium"},c.emailOptedInStatement)):null,n.default.createElement("div",{className:b},n.default.createElement(r.Text,{size:"small",tagName:"p"},l.intl.formatMessage({id:"h1fwqP",defaultMessage:"We’ll create a HelloSign account with your Dropbox email address if you don’t have one, or link your existing one if you do. Your accounts will be linked across both platforms."}))),n.default.createElement("div",{className:"hs-int-tos-v3-footer"},n.default.createElement("div",{className:"hs-int-tos-v2-footer-wrapper"},n.default.createElement("div",{className:"hs-int-tos-v2-footer-checkbox"},y,n.default.createElement(a.Text,{color:"inherit",size:"small"},e)),S)))}})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/send_file_viewer_plugin",["require","exports","tslib","react","metaserver/static/js/modules/clean/file_store/utils","dig-components/icons/src","dig-components/icons","dig-components/menu","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/launcher","metaserver/static/js/modules/core/i18n"],(function(e,t,s,n,a,r,i,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeSendForSignatureLoader=t.getOverflowItem=t.SEND_FOR_SIGNATURE_ACTION_PLUGIN_ID=void 0,n=s.__importDefault(n),t.SEND_FOR_SIGNATURE_ACTION_PLUGIN_ID="SEND_FOR_SIGNATURE_ACTION",t.getOverflowItem=(e,t,d)=>{if(!l.HELLOSIGN_SUPPORTED_EXTENSIONS.includes("."+a.getExtension(e)))return;const u=e=>{d({action:`send_for_signature_${e}`,context:"preview_workflows_button"})},m=e=>{d({action:"send_for_signature_failure",context:"preview_workflows_button",reason:e})};return n.default.createElement(o.Menu.ActionItem,{key:"send-for-signature-action",withLeftAccessory:n.default.createElement(i.UIIcon,{src:r.SignatureLine}),withTitle:c.intl.formatMessage({id:"X1C5SI",defaultMessage:"Send for signature"}),onClick:()=>s.__awaiter(void 0,void 0,void 0,(function*(){if(u("click"),t)if(e&&a.isBrowseFile(e))try{const s=l.getLauncher();s.init({entryPoint:"file_preview_workflows_tab",file:e,user:t}),s.launch(),u("launched")}catch(e){m("launcher_error")}else m("invalid_file");else m("invalid_user")}))})},t.makeSendForSignatureLoader=(e,s)=>({pluginId:t.SEND_FOR_SIGNATURE_ACTION_PLUGIN_ID,load:(n,a)=>Promise.resolve(new class{constructor(t){this.lifecycle={previewDidRender:()=>{this.actionDefinitions=this.sendForSignatureDefinition(e())}},this.actionDefinitions=this.sendForSignatureDefinition(e()),this.context=t}sendForSignatureDefinition(e){return{categories:{workflows:[{overflowItem:t.getOverflowItem(e.file,s,e=>this.context.logUserAction(e)),id:t.SEND_FOR_SIGNATURE_ACTION_PLUGIN_ID}]}}}}(a))})})),define("metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/self_sign_plugin",["require","exports","tslib","react","metaserver/static/js/modules/clean/file_store/utils","dig-components/icons/src","dig-components/icons","dig-components/menu","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/launcher","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/stormcrow/gating_factory","typescript/component_libraries/deep-integrations/src/instrumentation/constants"],(function(e,t,s,n,a,r,i,o,l,c,d,u){"use strict";var m;Object.defineProperty(t,"__esModule",{value:!0}),t.makeSelfSignLoader=t.makeSelfSignPlugin=t.getOverflowItem=t.SELF_SIGN_ACTION_PLUGIN_ID=void 0,n=s.__importDefault(n),t.SELF_SIGN_ACTION_PLUGIN_ID="SELF_SIGN_ACTION",(function(e){e.V1="V1",e.V2="V2",e.CONTROL="CONTROL"})(m||(m={})),t.getOverflowItem=(e,t,_,p)=>{if(!l.HELLOSIGN_SUPPORTED_EXTENSIONS.includes("."+a.getExtension(e)))return;if(p!==m.V1&&p!==m.V2&&p!==m.CONTROL)return;if(d.getGatingClientSingleton().logExposure({stormcrowVariantInfo:{feature:u.InstrFeatureType.SelfSignEntryPoint,variant:p}}),p===m.CONTROL)return;const h=p===m.V1?c.intl.formatMessage({id:"5b2GuK",defaultMessage:"Self-sign"}):p===m.V2?c.intl.formatMessage({id:"x6z5A7",defaultMessage:"Add my signature"}):void 0,f=e=>{_({action:`self_sign_${e}`,context:"preview_workflows_button"})},g=e=>{_({action:"self_sign_failure",context:"preview_workflows_button",reason:e})};return n.default.createElement(o.Menu.ActionItem,{key:"self-sign-action",withLeftAccessory:n.default.createElement(i.UIIcon,{src:r.EditLine}),"data-uxa-log":"self_sign_on_workflow_click_"+(null==p?void 0:p.toLowerCase()),withTitle:h,onClick:()=>s.__awaiter(void 0,void 0,void 0,(function*(){if(f("click"),t)if(e&&a.isBrowseFile(e))try{const s=l.getLauncher();s.init({entryPoint:"file_preview_workflows_tab_self_sign",file:e,user:t,selfSign:!0}),s.launch(),f("launched")}catch(e){g("launcher_error")}else g("invalid_file");else g("invalid_user")}))})},t.makeSelfSignPlugin=(e,s,n,a)=>{const r=e=>({categories:{workflows:[{overflowItem:t.getOverflowItem(e.file,s,e=>n.logUserAction(e),a),id:t.SELF_SIGN_ACTION_PLUGIN_ID}]}});let i=r(e());return{lifecycle:{previewDidRender:()=>{i=r(e())}},actionDefinitions:i}},t.makeSelfSignLoader=(e,n,a)=>({pluginId:t.SELF_SIGN_ACTION_PLUGIN_ID,load:(r,i)=>s.__awaiter(void 0,void 0,void 0,(function*(){return t.makeSelfSignPlugin(e,n,i,a)}))})})),define("metaserver/static/js/modules/clean/react/extensions/connect_flow",["require","exports","tslib","metaserver/static/js/modules/clean/integrations/link_service","metaserver/static/js/modules/clean/integrations/log_event","typescript/component_libraries/deep-integrations/src/platform/log_event","typescript/component_libraries/deep-integrations/src/instrumentation/common_context","typescript/component_libraries/deep-integrations/src/instrumentation/constants","typescript/component_libraries/deep-integrations/src/instrumentation/connect_service_flow_wrapper"],(function(e,t,s,n,a,r,i,o,l){"use strict";function c(e,t){return t in e&&"is_connected"===e[t].connection_state[".tag"]}function d(e,t,d,u,m,_){return s.__awaiter(this,void 0,void 0,(function*(){if(c(t,u))return!0;const s=r.withDefaults(a.createIntegrationsActionsLogger().logEvent,{extra:i.getCommonContextExtra({serviceList:Object.keys(t).map(e=>t[e])})}),p=t[u];p&&s(l.buildStartEvent(p.service_type,p.connection_state,m,o.InstrConnectServiceFlowOutcome.Connected));try{yield n.linkService(e.id,u,_);const t=c(yield(function(e,t){return new Promise(s=>t({user:e,onRefresh:s}))})(e,d),u);return p&&s(t?l.buildEndEvent(p.service_type,m,o.InstrConnectServiceFlowOutcome.Connected,o.InstrConnectServiceFlowOutcome.Connected):l.buildEndEvent(p.service_type,m,o.InstrConnectServiceFlowOutcome.Connected,o.InstrConnectServiceFlowOutcome.Error)),t}catch(e){throw p&&s(l.buildEndEvent(p.service_type,m,o.InstrConnectServiceFlowOutcome.Connected,o.InstrConnectServiceFlowOutcome.Error,{error:JSON.stringify(e)})),e}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.shareInCanvasFlow=t.shareInTrelloFlow=t.shareInSlackFlow=t.presentInZoomFlow=void 0,t.presentInZoomFlow=function(e,t,s,n,a,r,i){d(e,t,s,"zoom",a,r).then(e=>{e&&(i&&i(),n())})},t.shareInSlackFlow=function(t,n,a,r,i,o,l){d(t,n,a,"slack_dropbox",i,o).then(n=>s.__awaiter(this,void 0,void 0,(function*(){if(n){l&&l();const{showSendToSlackModal:n}=yield new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/integrations/send_to_slack"],t,s)}).then(s.__importStar);n(t,r)}})))},t.shareInTrelloFlow=function(t,n,a,r,i,o,l){d(t,n,a,"trello",i,o).then(n=>s.__awaiter(this,void 0,void 0,(function*(){if(n){l&&l();const{showShareToTrelloModal:n}=yield new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/integrations/share_to_trello"],t,s)}).then(s.__importStar);n(t,r)}})))},t.shareInCanvasFlow=function(t,n,a,r,i,o,l){d(t,n,a,"canvas",i,o).then(n=>s.__awaiter(this,void 0,void 0,(function*(){if(n){l&&l();const{showUploadToCanvasModal:n}=yield new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/integrations/canvas/upload_to_canvas"],t,s)}).then(s.__importStar);n(t,r)}})))}})),define("metaserver/static/js/modules/clean/react/file_viewer/open_button/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenButtonAction=void 0,(function(e){e[e.DOWNLOAD=0]="DOWNLOAD",e[e.UNITY_FILE=1]="UNITY_FILE",e[e.UNITY_FOLDER=2]="UNITY_FOLDER",e[e.OPEN_WITH=3]="OPEN_WITH",e[e.APP_ACTION=5]="APP_ACTION",e[e.PREPARE_FOR_SIGNATURE=6]="PREPARE_FOR_SIGNATURE",e[e.SHARE_TO_SLACK=7]="SHARE_TO_SLACK",e[e.PRESENT_IN_ZOOM=8]="PRESENT_IN_ZOOM",e[e.SHARE_TO_TRELLO=9]="SHARE_TO_TRELLO",e[e.INVITE_VIA_EMAIL=10]="INVITE_VIA_EMAIL",e[e.OPEN_WITH_CLOUD_DOC=11]="OPEN_WITH_CLOUD_DOC",e[e.OPEN_MORE_APPS=12]="OPEN_MORE_APPS",e[e.OPEN_ADD_APPS=13]="OPEN_ADD_APPS",e[e.DECOMPRESS_FILE=14]="DECOMPRESS_FILE",e[e.PREVIEW_FILE=15]="PREVIEW_FILE",e[e.TRANSFER=16]="TRANSFER",e[e.OPEN_IN_DESKTOP=17]="OPEN_IN_DESKTOP",e[e.GO_TO_FOLDER=18]="GO_TO_FOLDER",e[e.OPEN_IN_REPLAY=19]="OPEN_IN_REPLAY",e[e.OPEN_IN_NEW_TAB=20]="OPEN_IN_NEW_TAB",e[e.CONVERT_AND_SHARE=22]="CONVERT_AND_SHARE",e[e.CREATE_CLIENT_PORTAL=21]="CREATE_CLIENT_PORTAL",e[e.EDIT_CLIENT_PORTAL=22]="EDIT_CLIENT_PORTAL"})(t.OpenButtonAction||(t.OpenButtonAction={}))})),define("metaserver/static/js/modules/clean/react/file_viewer/open_with_helpers",["require","exports","tslib","metaserver/static/js/modules/clean/open_with","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/experiments"],(function(e,t,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenWithHelpers=void 0,n=s.__importDefault(n),t.OpenWithHelpers={canOpenWith:function(e,t){return a.fileViewerConfiguration.wopiButtonVisible&&e.bytes<=n.default.MAX_SUPPORTED_FILE_SIZE_B&&null!==n.default.getWopiOpenWithButtonInfo(e)}}})),define("metaserver/static/js/modules/clean/sharing/views/share_modal_evolution/utils/logging",["require","exports","spectrum-sharing/utils/logging"],(function(e,t,s){"use strict";function n(e){const t=new URL(e);if(-1!==t.search.indexOf("rlkey")){const e=t.searchParams.get("rlkey");return{kind:s.LinkKeyTypes.RL,val:e,link_type:s.LinkTypes.Righteous}}if(-1!==t.pathname.indexOf("/s/")||-1!==t.pathname.indexOf("/sh/")){const e=(e=>e.pathname.indexOf("/raw/")*e.pathname.indexOf("/dl/")*e.pathname.indexOf("/print/")>0)(t)?3:2,n=t.pathname.split("/")[e];return{kind:s.LinkKeyTypes.SH,val:n,link_type:s.LinkTypes.Shmodel}}return{kind:s.LinkKeyTypes.NONE,val:"",link_type:s.LinkTypes.NONE}}function a(e){if(!e)return{};const t={link_id:e.id,link_access_level:(a=e.link_permissions.link_access_level,a?a.hasOwnProperty(".tag")?a[".tag"]:a:s.AccessType.Viewer)};var a;const r=n(e.url);return r.kind!==s.LinkKeyTypes.NONE&&(t[r.kind]=r.val,t.link_type=r.link_type),t}Object.defineProperty(t,"__esModule",{value:!0}),t.buildExtraFromLinkMetadata=t.getLinkKey=t.buildExtraFromMetadata=void 0,t.buildExtraFromMetadata=function(e,t){return Object.assign(Object.assign({},(function(e){return{user_access_type:e.access_type,is_folder:e.isFolder(),fq_path:e.path_lower,content_id:e.contentId(),ns_id:e.nsId(),can_create_edit_link:e.canCreateEditLink(),can_create_view_link:e.canCreateViewLink(),can_edit_inband_invite:e.canEditInbandInvite(),can_view_inband_invite:e.canViewInbandInvite(),max_access:e.canCreateEditLink()||e.canEditInbandInvite()?s.AccessType.Editor:s.AccessType.Viewer}})(e)),a(t))},t.getLinkKey=n,t.buildExtraFromLinkMetadata=a})),define("metaserver/static/js/modules/clean/unity/check_file_cache",["require","exports","metaserver/static/js/modules/clean/unity/features"],(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static is_cached_and_locally_available(e,t){const n=this._cache[s.UnityFeatures.server_path(e,t)];return null!=n&&n.is_locally_available}static get(e,t){return this._cache[s.UnityFeatures.server_path(e,t)]}static set(e,t){this._cache[e]=t}static set_batch(e){Object.assign(this._cache,e)}static clear(){this._cache={}}}n._cache={};let a=n;s.UnityFeatures.isUnitySupported()||(a=void 0),t.default=a})),define("metaserver/static/js/modules/clean/unity/connection",["require","exports","tslib","lodash","metaserver/static/js/modules/clean/deprecated_ajax/ajax_jquery","metaserver/static/js/modules/clean/unity/connection_error","metaserver/static/js/modules/clean/unity/logger","metaserver/static/js/modules/clean/unity/versions","metaserver/static/js/modules/clean/unity/websocket_config","metaserver/static/js/modules/clean/unity/web_socket","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/constants/unity","metaserver/static/js/modules/core/assert","metaserver/static/js/modules/core/uri"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_){"use strict";var p,h,f;Object.defineProperty(t,"__esModule",{value:!0}),t.isUnitySupported=t.UnityConnection=t.MAX_PORT=t.MIN_PORT=t.Permissions=t.ConnectionState=t.LastCompletedSecurityHandshakeStep=void 0,a=s.__importStar(a),i=s.__importDefault(i),o=s.__importDefault(o),u=s.__importStar(u),(function(e){e.CONNECTION_OPENED="CONNECTION_OPENED",e.VERSION_CHECK="VERSION_CHECK",e.FETCHING_NONCE="FETCHING_NONCE",e.NONCE_RETURNED_TO_CLIENT="NONCE_RETURNED_TO_CLIENT",e.HANDSHAKE_COMPLETED="HANDSHAKE_COMPLETED"})(p=t.LastCompletedSecurityHandshakeStep||(t.LastCompletedSecurityHandshakeStep={})),(function(e){e.PENDING="PENDING",e.ESTABLISHED="ESTABLISHED",e.CLOSED="CLOSED",e.RETRYING="RETRYING"})(h=t.ConnectionState||(t.ConnectionState={})),(function(e){e.SECURE_PERMISSION="secure",e.INSECURE_WEB_PERMISSION="insecure_web",e.INSECURE_CLIENT_PERMISSION="insecure_client",e.INSECURE_PERMISSION="insecure"})(f=t.Permissions||(t.Permissions={}));t.MIN_PORT=17600,t.MAX_PORT=17602;class g{constructor(){this.client_version=null,this.logger=new i.default,this._on_open_callbacks=[],this._on_open_failed_callbacks=[],this._on_close_callbacks=[],this._pending_callbacks=[],this._response_callbacks={},this._webSocket=null,this._port=null,this._active_ports={},this._connection_state=h.PENDING,this._current_message_id=1,this._permission_level=null,this._on_close=e=>t=>{[1e3,1001,1005,1006].includes(t.code)||this.logger.report_event("unity_failure",{message:`WebSocket closed. Code: ${t.code}. Reason: ${t.reason}`,port:e}),this._close_port(e)},this._on_error=e=>t=>{this.logger.report_event("unity_failure",{message:"WebSocket unknown error",port:e}),this._close_port(e)},this._set_connection_state=e=>{if(e===this._connection_state)return;const t=this._connection_state;if(m.assert(t!==h.CLOSED,"Shouldn't unclose a closed connection."),this._connection_state=e,e===h.ESTABLISHED){m.assert(this._is_connection_in_progress(t),"Can only establish from pending or retrying."),this.logger.report_event("handshake_complete"),t===h.PENDING&&this._on_open_callbacks.forEach(e=>e());const e=[];for(;this._pending_callbacks.length;){const{callback:t,error_callback:s}=this._pending_callbacks.pop();this.is_ready()?e.push(t()):e.push("function"==typeof s?s(r.UnityConnectionError.UNEXPECTED_ERROR):void 0)}return e}if(e!==h.RETRYING){if(e===h.CLOSED){t===h.PENDING?(this.logger.report_event("connection_not_established"),this._on_open_failed_callbacks.forEach(e=>e())):t===h.RETRYING?(this.logger.report_event("connection_terminated"),this._on_close_callbacks.forEach(e=>e())):m.assert(!1,"CONNECTION_CLOSED can only be set from PENDING or RETRYING");const e=[];for(;this._pending_callbacks.length;){const{error_callback:t}=this._pending_callbacks.pop();e.push("function"==typeof t?t(r.UnityConnectionError.CONNECTION_CLOSED):void 0)}return e}return m.assert(!1,"Changing connection_state to CONNECTION_PENDING not supported.")}},this._on_message=e=>t=>{const s=JSON.parse(t.data);if(s.func&&s.header&&s.header.message_id&&void 0!==s.header.should_respond)if(s.header.log_data&&this.logger.update(s.header.log_data),this.logger.update({port:e.port}),"response"===s.func)this._on_response(s.header.message_id,s.data);else{const t=this._routes[s.func];if(null==t)return void this._terminate_handshake(e.ws,"Unknown function.",{function:s.func});const n=this.is_ready()?t(s.data):t(e,s.data);s.header&&s.header.should_respond&&this.send("response",n,null,null,s.header.message_id)}else this._terminate_handshake(e.ws,"Malformed message from client.",{message:t.data})},this._on_response_timeout=e=>()=>{const{error_callback:t}=this._response_callbacks[e];delete this._response_callbacks[e],t&&t(r.UnityConnectionError.CONNECTION_TIMEOUT)},this._check_unity_version=(e,t)=>{if(e.state!==p.CONNECTION_OPENED)return void this._terminate_handshake(e.ws,"Handshake version check at wrong time of protocol.");if(e.state=p.VERSION_CHECK,e.client_version=t.client_version,t.client_version<o.default.UNITY_HANDSHAKE)return void this._terminate_handshake(e.ws,"Client version is too old.");const s=this._web_has_auth();if(!(t.client_version<o.default.PERMISSION_LEVELS)||s)return this.logger.report_event("handshake_version_check"),t.client_version>=o.default.PERMISSION_LEVELS?this._send_with_ws(e.ws,"initiate_handshake",{secure_web:s}):this._send_with_ws(e.ws,"initiate_handshake");this._terminate_handshake(e.ws,"Client version is too old to support insecure web connections.")},this._fetch_unity_nonce=(e,t)=>{e.state===p.VERSION_CHECK?(e.state=p.FETCHING_NONCE,this.logger.report_event("handshake_fetch_nonce"),this._retrieve_unity_nonce(e,t.nonce_key)):this._terminate_handshake(e.ws,"Fetch Unity nonce at wrong time of protocol.")},this._complete_handshake=(e,t)=>{if(e.state===p.NONCE_RETURNED_TO_CLIENT&&t.is_success)if(e.state=p.HANDSHAKE_COMPLETED,this._connection_state===h.CLOSED)this._terminate_handshake(e.ws,"No more handshakes are allowed to complete.");else if(null!=this._webSocket){const t="Only one Unity handshake can succeed! There's likely a MITM attack, so close all connections.";this._terminate_handshake(e.ws,t),this._terminate_handshake(this._webSocket,t),this.client_version=null,this._webSocket=null,this._port=null,this._set_connection_state(h.CLOSED)}else this.client_version=e.client_version,this._webSocket=e.ws,this._port=e.port,this._set_connection_state(h.ESTABLISHED);else this._terminate_handshake(e.ws,"Unable to complete handshake.")},this._routes={check_unity_version:this._check_unity_version,fetch_unity_nonce:this._fetch_unity_nonce,complete_handshake:this._complete_handshake}}start(){l.WebSocketConfig.canUnityConnect()?this._attempt_handshake():(this._set_connection_state(h.CLOSED),this.logger.report_event("unity_failure",{message:"WebSocket creation failed. Not able to create web socket."}))}_attempt_handshake(){for(let e=t.MIN_PORT;e<=t.MAX_PORT;e++)try{this._active_ports[e]=!0;const t={scheme:"ws",authority:`127.0.0.1:${e.toString()}`,path:"/ws"},s=c.UnityWebSocket.create(new _.URI(t).toString());s.onmessage=this._on_message({ws:s,port:e,state:p.CONNECTION_OPENED,client_version:null,client_has_auth:null}),s.onclose=this._on_close(e),s.onerror=this._on_error(e)}catch(t){this.logger.report_event("unity_failure",{message:`WebSocket creation failed. Message: ${t.message}`,error_name:t.name,port:e}),this._set_connection_state(h.CLOSED)}this.logger.report_event("handshake_started")}_close_port(e){if(e in this._active_ports&&(delete this._active_ports[e],n.isEmpty(this._active_ports)))return this._connection_state===h.ESTABLISHED?this._retry_connection():this._set_connection_state(h.CLOSED)}_retry_connection(){return this.logger.report_event("connection_retrying"),this._set_connection_state(h.RETRYING),this.client_version=this._webSocket=this._port=null,this._attempt_handshake()}send(e,t=null,s=null,n=null,a=null){if(this._webSocket)return this._send_with_ws(this._webSocket,e,t,s,n,a)}_send_with_ws(e,t,s=null,n=null,a=null,i=null){if(null==i&&(i=this._current_message_id,m.assert(this._current_message_id%2==1,"Web-initiated message_ids should remain odd"),this._current_message_id+=2),null!==n){const e=window.setTimeout(this._on_response_timeout(i),5e3);this._response_callbacks[i]={response_callback:n,error_callback:a,timeout_id:e}}const o={func:t,header:{message_id:i,should_respond:null!==n,log_data:this.logger.get_log_data_for_client()}};null!=s&&(o.data=s);try{return e.send(JSON.stringify(o))}catch(e){this.logger.report_event("unity_failure",{message:`WebSocket send failed. Message: ${e.message}`,error_name:e.name}),a&&a(r.UnityConnectionError.COULD_NOT_SEND)}}_on_response(e,t){if(e in this._response_callbacks){const{response_callback:s,timeout_id:n}=this._response_callbacks[e];delete this._response_callbacks[e],window.clearTimeout(n),s&&s(t)}}_web_has_auth(){return d.Viewer.get_viewer().is_signed_in}_retrieve_unity_nonce(e,t){return a.WebRequest({url:new _.URI({path:"/retrieve_unity_nonce"}),dataType:"json",data:{nonce_key:t},success:t=>{switch(t.status){case"OK":if(e.state=p.NONCE_RETURNED_TO_CLIENT,(null===e.client_version||e.client_version>=o.default.PORT_CHECK)&&(m.assert(t.message.client_port,`Port check must happen in version ${e.client_version}`),t.message.client_port!==e.port))return void this._terminate_handshake(e.ws,"Mismatched ports.",{client_port:t.message.client_port,web_port:e.port});e.client_has_auth=t.message.client_has_auth;const s=this._web_has_auth();return e.client_has_auth&&s?this._permission_level=g.SECURE_PERMISSION:(m.assert(null===e.client_version||e.client_version>=o.default.PERMISSION_LEVELS,`Insecure connections only supported by client_version >= ${o.default.PERMISSION_LEVELS}.`),this._permission_level=e.client_has_auth?g.INSECURE_WEB_PERMISSION:s?g.INSECURE_CLIENT_PERMISSION:g.INSECURE_PERMISSION),this.logger.update({unity_permission_level:this._permission_level}),this.logger.report_event("handshake_nonce_sent_to_unity_server"),this._send_with_ws(e.ws,"verify_unity_nonce",{nonce:t.message.nonce});case"MISMATCHED_USER_IDS":return this._terminate_handshake(e.ws,"Mismatched user_ids.",{client_user_ids:t.message.client_user_ids,web_user_ids:t.message.web_user_ids});case"INVALID":return this._terminate_handshake(e.ws,"Could not find nonce with given nonce_key.");case"AUTH_REQUIRED":return this._terminate_handshake(e.ws,"Did not have the necessary authentication to retrieve nonce.");case"LOCAL_INFORMATION_PERMISSION_REQUIRED":return this._terminate_handshake(e.ws,"Did not have permission to start a local-information-allowed connection.")}},error:(t,s,n)=>{this._terminate_handshake(e.ws,"Unable to retrieve nonce from server",{status:s,error_string:n})}})}_terminate_handshake(e,t,s={}){const n=Object.assign({message:t},s);u.UNITY_WEB_DEBUG&&console.error(n),this.logger.report_event("unity_failure",n),e&&e.close()}_is_connection_in_progress(e){return e===h.PENDING||e===h.RETRYING}add_on_open_callback(e){this._on_open_callbacks.push(e)}add_on_open_failed_callback(e){this._on_open_failed_callbacks.push(e)}add_on_close_callback(e){this._on_close_callbacks.push(e)}call_when_ready(e,t=null){return this.is_ready()?e():this._is_connection_in_progress(this._connection_state)?this._pending_callbacks.push({callback:e,error_callback:t}):t?t(r.UnityConnectionError.CONNECTION_CLOSED):void 0}is_ready(){return this._webSocket&&this._webSocket.readyState===WebSocket.OPEN&&this._connection_state===h.ESTABLISHED}feature_supported(e,t=[]){return m.assert(null!==this._permission_level,"Connection is not ready."),!(null!==this.client_version&&this.client_version<e)&&t.includes(this._permission_level)}}t.UnityConnection=g,g.SECURE_PERMISSION=f.SECURE_PERMISSION,g.INSECURE_WEB_PERMISSION=f.INSECURE_WEB_PERMISSION,g.INSECURE_CLIENT_PERMISSION=f.INSECURE_CLIENT_PERMISSION,g.INSECURE_PERMISSION=f.INSECURE_PERMISSION,t.isUnitySupported=()=>c.UnityWebSocket.web_sockets_supported()})),define("metaserver/static/js/modules/clean/unity/connection_error",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnityConnectionError=void 0,(function(e){e.CONNECTION_TIMEOUT="connection_timeout",e.CONNECTION_CLOSED="connection_closed",e.COULD_NOT_SEND="could_not_send",e.UNEXPECTED_ERROR="unexpected_error"})(t.UnityConnectionError||(t.UnityConnectionError={}))})),define("metaserver/static/js/modules/clean/unity/features",["require","exports","tslib","metaserver/static/js/modules/clean/deprecated_ajax/ajax_jquery","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/modules/clean/unity/connection","metaserver/static/js/modules/clean/unity/versions","metaserver/static/js/modules/core/assert","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/notify","metaserver/static/js/modules/core/uri"],(function(e,t,s,n,a,r,i,o,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnityFeatures=void 0,n=s.__importStar(n),a=s.__importStar(a),i=s.__importDefault(i),t.UnityFeatures={_uc:new r.UnityConnection,_has_handshake_started:!1,_cached_file_browser_display_name:null,_start_handshake_if_needed(){this._has_handshake_started||(this._uc.start(),this._has_handshake_started=!0)},continue_as_user(e,t,s,n=null){return this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{if(this._uc.feature_supported(i.default.WEB_DESTINY,[r.UnityConnection.INSECURE_WEB_PERMISSION]))return this._uc.logger.report_event("continue_as_user",{browser:e,refresh_token:t}),this._uc.send("continue_as_user",{browser:e,refresh_token:t},s,n)},n)},continue_as_user_direct(e,t=null){return this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{if(this._uc.feature_supported(i.default.WEB_DESTINY_V2,[r.UnityConnection.INSECURE_WEB_PERMISSION]))return this._uc.logger.report_event("continue_as_user_direct"),this._uc.send("continue_as_user_direct",null,e,t)},t)},web_destiny_info(e,t=null){return this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{if(this._uc.feature_supported(i.default.WEB_DESTINY_V2,[r.UnityConnection.INSECURE_WEB_PERMISSION]))return this._uc.logger.report_event("web_destiny_info"),this._uc.send("web_destiny_info",null,e,t)},t)},client_supports_open_in_file_browser(){return this._uc.feature_supported(i.default.OPEN_IN_FILE_BROWSER,[r.UnityConnection.SECURE_PERMISSION])},ensure_unity_ready(){return this._start_handshake_if_needed(),new Promise(e=>this._uc.call_when_ready(()=>{e(!0)},()=>{this._uc=new r.UnityConnection,this._has_handshake_started=!1,e(!1)}))},open_file(e,t,s,l,c=null,u=!1){this._start_handshake_if_needed();const m=this.server_path(e,t);return this._uc.call_when_ready(()=>{if(this._uc.feature_supported(i.default.UNITY_HANDSHAKE,[r.UnityConnection.SECURE_PERMISSION])){this._uc.logger.report_event("open_file",{user_id:s,path_id:m,file_extension:a.file_extension(m),in_file_browser:u}),n.SilentBackgroundRequest({url:new d.URI({path:"/unity_open_log"}),data:{user_id:s,server_path:m,file_extension:a.file_extension(m),in_file_browser:u,unity_session_id:this._uc.logger.unity_session_id(),buildno:this._uc.logger._data.buildno,host_id:this._uc.logger._data.host_id}});const e={server_path:m,user_id:s};this._uc.client_version>=i.default.OPEN_IN_FILE_BROWSER?e.in_file_browser=u:o.assert(!u,"The connected client doesn't support opening in file browser."),this._uc.send("open_file",e,l,c)}},c)},standard_open_file_handler(e){if(!e)return c.Notify.error(l.intl.formatMessage({id:"9HWjA9",defaultMessage:"Error opening file"}))},check_file(e,t,s,n,o=null){this._start_handshake_if_needed();const l=this.server_path(e,t),c=e=>{this._check_file_deprecated_on_client()&&(e={is_locally_available:e}),n(e)};this._uc.call_when_ready(()=>{if(this._uc.feature_supported(i.default.UNITY_HANDSHAKE,[r.UnityConnection.SECURE_PERMISSION]))return this._uc.logger.report_event("check_file",{user_id:s,path_id:l,file_extension:a.file_extension(l)}),this._uc.send("check_file",{server_path:l,user_id:s},c,o)},o)},add_on_ready_callback(e){return this._uc.call_when_ready(e)},check_file_batch(e,t,s,n=null){return new Promise((o,l)=>{this._start_handshake_if_needed();const c=e.map(e=>this.server_path(e.ns_id,e.ns_path)),d=e=>{if(this._check_file_deprecated_on_client())for(const t in e){const s=e[t];e[t]={is_locally_available:s}}s&&s(e),o(e)},u=function(e){n&&n(e),l(e)};this._uc.call_when_ready(()=>{if(this._uc.feature_supported(i.default.UNITY_HANDSHAKE,[r.UnityConnection.SECURE_PERMISSION]))return this._uc.logger.report_event("check_file_batch",{user_id:t,path_ids:c,file_extensions:c.map(a.file_extension)}),this._uc.send("check_file_batch",{server_paths:c,user_id:t},d,u)},u)})},file_browser_display_name(e,t=null){if(null!=this._cached_file_browser_display_name)return void e(this._cached_file_browser_display_name);const s=t=>(this._cached_file_browser_display_name=t,e(t));this._start_handshake_if_needed();return this._uc.call_when_ready(()=>this._uc.feature_supported(i.default.CHECK_FILE_RETURNS_OBJ,[r.UnityConnection.SECURE_PERMISSION])?(this._uc.logger.report_event("file_browser_display_name"),this._uc.send("file_browser_display_name",null,s,t)):e(null),t)},_check_file_deprecated_on_client(){return i.default.UNITY_HANDSHAKE<=this._uc.client_version&&this._uc.client_version<i.default.CHECK_FILE_RETURNS_OBJ},server_path:(e,t)=>`${e}:${t}`,has_chime(e,t=null){this._start_handshake_if_needed();return this._uc.call_when_ready(()=>{if(this._uc.feature_supported(i.default.CHIME_OPEN,[r.UnityConnection.SECURE_PERMISSION]))return this._uc.logger.report_event("has_chime"),this._uc.send("has_chime",null,e,t)},t)},open_chime(e,t,s=null){this._start_handshake_if_needed();return this._uc.call_when_ready(()=>{if(this._uc.feature_supported(i.default.CHIME_OPEN,[r.UnityConnection.SECURE_PERMISSION]))return this._uc.logger.report_event("open_chime",{parameters:e}),this._uc.send("open_chime",e,t,s)},s)},growth_deep_link(e,t={}){return new Promise((s,n)=>{this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{if(this._uc.feature_supported(i.default.GROWTH_DEEP_LINK,[r.UnityConnection.SECURE_PERMISSION]))return this._uc.logger.report_event("growth_deep_link"),this._uc.send("growth_deep_link",{resource:e,data:t},s,n);n("featured_unsupported")},n)})},can_open_apollo(){return new Promise((e,t)=>(this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{this._uc.feature_supported(i.default.OPEN_COLLAB_BROWSE,[r.UnityConnection.SECURE_PERMISSION,r.UnityConnection.INSECURE_WEB_PERMISSION])&&this._uc.send("can_open_apollo",{},e,t)},t)))},open_apollo_main_window(){return new Promise((e,t)=>(this._start_handshake_if_needed(),this._uc.call_when_ready(()=>{this._uc.feature_supported(i.default.OPEN_COLLAB_BROWSE,[r.UnityConnection.SECURE_PERMISSION,r.UnityConnection.INSECURE_WEB_PERMISSION])&&this._uc.send("open_apollo_main_window",{},e,t)},t)))},isUnitySupported:()=>r.isUnitySupported()};const u=r.isUnitySupported()?t.UnityFeatures:void 0;t.default=u})),define("metaserver/static/js/modules/clean/unity/logger",["require","exports","tslib","metaserver/static/js/modules/clean/deprecated_ajax/ajax_jquery","metaserver/static/js/modules/clean/unity/versions","metaserver/static/js/modules/constants/unity","metaserver/static/js/modules/core/uri"],(function(e,t,s,n,a,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=s.__importStar(n),a=s.__importDefault(a),r=s.__importStar(r);t.default=class{constructor(){this._data={logging_source:"web",web_unity_version:a.default.LATEST}}update(e){return this._data=Object.assign(Object.assign({},this._data),e),this._data}report_event(e,t=null){if(this._data.event_name=e,this._data.local_ts=(new Date).getTime()/1e3,this._data.extra=JSON.stringify(t||{}),n.SilentBackgroundRequest({url:new i.URI({path:"/unity_connection_log"}),data:this._data}),r.UNITY_WEB_DEBUG)return console.log(this._data)}get_log_data_for_client(){return{web_unity_version:this._data.web_unity_version,user_agent:window.navigator.userAgent}}unity_session_id(){return this._data.unity_session_id}}})),define("metaserver/static/js/modules/clean/unity/versions",["require","exports"],(function(e,t){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.LATEST=16]="LATEST",e[e.INITIAL_UNITY=1]="INITIAL_UNITY",e[e.UNITY_HANDSHAKE=2]="UNITY_HANDSHAKE",e[e.REUNITY=3]="REUNITY",e[e.OPEN_IN_FILE_BROWSER=4]="OPEN_IN_FILE_BROWSER",e[e.CHECK_FILE_RETURNS_OBJ=5]="CHECK_FILE_RETURNS_OBJ",e[e.PERMISSION_LEVELS=6]="PERMISSION_LEVELS",e[e.WEB_DESTINY=7]="WEB_DESTINY",e[e.WEB_DESTINY_V2=8]="WEB_DESTINY_V2",e[e.PORT_CHECK=9]="PORT_CHECK",e[e.CHIME_OPEN=10]="CHIME_OPEN",e[e.GROWTH_DEEP_LINK=15]="GROWTH_DEEP_LINK",e[e.OPEN_COLLAB_BROWSE=16]="OPEN_COLLAB_BROWSE"})(s||(s={})),t.default=s})),define("metaserver/static/js/modules/clean/unity/web_socket",["require","exports","tslib","metaserver/static/js/modules/clean/unity/logger","metaserver/static/js/modules/clean/unity/websocket_config"],(function(e,t,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnityWebSocket=void 0,n=s.__importDefault(n),t.UnityWebSocket={create(e){const t=new n.default;return a.WebSocketConfig.canUnityConnect()&&t.report_event("using_default_web_socket"),new WebSocket(e)},web_sockets_supported:()=>a.WebSocketConfig.canUnityConnect()}})),define("metaserver/static/js/modules/clean/unity/websocket_config",["require","exports","tslib","metaserver/static/js/modules/core/browser_detection"],(function(e,t,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketConfig=void 0,n=s.__importStar(n),t.WebSocketConfig={canUnityConnect:()=>t.WebSocketConfig.canBrowserSupportNonSecureWebsocket(),canBrowserSupportNonSecureWebsocket(){const e=parseInt(n.version,10);return!!(n.safari&&e<9)||(!!(n.mozilla&&e>=55)||(!!(n.chrome&&e>=53)||!!n.edgeChromium()))}},t.default=t.WebSocketConfig})),define("spectrum-sharing/utils/logging",["require","exports"],(function(e,t){"use strict";var s,n,a,r,i,o,l;Object.defineProperty(t,"__esModule",{value:!0}),t.LinkKeyTypes=t.LinkTypes=t.AccessType=t.ScreenName=t.SettingsTabName=t.ShareTabName=t.TiburonEventName=void 0,(s=t.TiburonEventName||(t.TiburonEventName={})).AttemptTargetValidation="ATTEMPT_TARGET_VALIDATION",s.BeginShareFlow="BEGIN_SHARE_FLOW",s.ClickManageAccess="CLICK_MANAGE_ACCESS",s.SelectChangeMemberPermission="SELECT_CHANGE_MEMBER_PERMISSION",s.SucceedChangeMemberPermission="SUCCEED_CHANGE_MEMBER_PERMISSION",s.FailChangeMemberPermission="FAIL_CHANGE_MEMBER_PERMISSION",s.AttemptCreateSharedLinkWithSettings="ATTEMPT_CREATE_SHARED_LINK_WITH_SETTINGS",s.SucceedCreateSharedLinkWithSettings="SUCCEED_CREATE_SHARED_LINK_WITH_SETTINGS",s.FailCreateSharedLinkWithSettings="FAIL_CREATE_SHARED_LINK_WITH_SETTINGS",s.ClickTibCopyLink="CLICK_TIB_COPY_LINK",s.ClickTibCreateLink="CLICK_TIB_CREATE_LINK",s.ClickInbandShareButton="CLICK_INBAND_SHARE_BUTTON",s.CopySharedLink="COPY_SHARED_LINK",s.CopySharedLinkFailure="COPY_SHARED_LINK_FAILURE",s.ElementClick="ELEMENT_CLICK",s.ElementView="ELEMENT_VIEW",s.FailInbandShare="FAIL_INBAND_SHARE",s.InconclusiveInbandShare="INCONCLUSIVE_INBAND_SHARE",s.FailTargetValidation="FAIL_TARGET_VALIDATION",s.MemberListLoaded="MEMBER_LIST_LOADED",s.OpenFileSettingsModal="OPEN_FILE_SETTINGS_MODAL",s.OpenFolderSettingsModal="OPEN_FOLDER_SETTINGS_MODAL",s.OpenLinkSettingsModal="OPEN_LINK_SETTINGS_MODAL",s.OpenParentFolderAccessModal="OPEN_PARENT_FOLDER_ACCESS_MODAL",s.ShareModalEmailUnverified="SHARE_MODAL_EMAIL_UNVERIFIED",s.SucceedInbandShare="SUCCEED_INBAND_SHARE",s.SucceedTargetValidation="SUCCEED_TARGET_VALIDATION",s.ViewLinkOnlyModal="VIEW_LINK_ONLY_MODAL",s.ViewShareModal="VIEW_SHARE_MODAL",s.AttemptTargetSearch="ATTEMPT_TARGET_SEARCH",s.SucceedTargetSearch="SUCCEED_TARGET_SEARCH",s.FailTargetSearch="FAIL_TARGET_SEARCH",s.AttemptNavigateAwayDuringShare="ATTEMPT_NAVIGATE_AWAY_DURING_SHARE",s.SucceedNavigateAwayDuringShare="SUCCEED_NAVIGATE_AWAY_DURING_SHARE",s.AttemptRemoveAllMembers="ATTEMPT_REMOVE_ALL_MEMBERS",s.SucceedRemoveAllMembers="SUCCEED_REMOVE_ALL_MEMBERS",s.FailRemoveAllMembers="FAIL_REMOVE_ALL_MEMBERS",s.ChangeSharedLinkAudience="CHANGE_SHARED_LINK_AUDIENCE",s.ClickShareButtonLinkSettingsStatus="CLICK_SHARE_BUTTON_LINK_SETTINGS_STATUS",s.ClickSettingsText="CLICK_SETTINGS_TEXT",s.ClickSettingsGear="CLICK_SETTINGS_GEAR",s.CloseShareModal="CLOSE_SHARE_MODAL",s.ViewManageAccessScreen="VIEW_MANAGE_ACCESS_SCREEN",s.ViewSettingsScreen="VIEW_SETTINGS_SCREEN",s.ViewShareScreen="VIEW_SHARE_SCREEN",s.ViewShareTab="VIEW_SHARE_TAB",s.ViewSettingsTab="VIEW_SETTINGS_TAB",(n=t.ShareTabName||(t.ShareTabName={})).EditTab="edit_tab",n.ViewTab="view_tab",(a=t.SettingsTabName||(t.SettingsTabName={})).FileSettingsTab="file_settings",a.FolderSettingsTab="folder_settings",a.EditLinkSettingsTab="edit_link_settings",a.ViewLinkSettingsTab="view_link_settings",(r=t.ScreenName||(t.ScreenName={})).ShareScreen="share_screen",r.ManageAccessScreen="manage_access_screen",r.SettingsScreen="settings_screen",(i=t.AccessType||(t.AccessType={})).Editor="editor",i.Viewer="viewer",(o=t.LinkTypes||(t.LinkTypes={}))[o.NONE=0]="NONE",o.Righteous="righteous",o.Shmodel="shmodel",(l=t.LinkKeyTypes||(t.LinkKeyTypes={}))[l.NONE=0]="NONE",l.RL="rlkey",l.SH="tkey"})),define("metaserver/static/js/modules/clean/react/share_download/copy_to_dropbox/actions",["require","exports","tslib","metaserver/static/js/modules/clean/react/share_download/copy_to_dropbox/api","metaserver/static/js/modules/core/browser"],(function(e,t,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copySharedFile=void 0,n=s.__importStar(n),a=s.__importStar(a),t.copySharedFile=function(e,t){return s.__awaiter(this,void 0,void 0,(function*(){const s=yield n.copySharedFile(e,t);a.redirect(s)}))}})),define("metaserver/static/js/modules/clean/react/share_download/copy_to_dropbox/modal",["require","exports","tslib","react","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/em_string","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/modules/clean/react/share_download/copy_to_dropbox/actions","metaserver/static/js/modules/clean/react/components/modal","metaserver/static/js/modules/clean/share_download/types","metaserver/static/js/modules/clean/react/share_download/utils","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/notify","metaserver/static/js/modules/clean/loggers/folder_preview_logger","metaserver/static/js/modules/clean/react/file_viewer/constants","metaserver/static/js/modules/clean/react/file_viewer/logging"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToDropboxModal=void 0,n=s.__importDefault(n),i=s.__importStar(i);class g extends n.default.Component{constructor(){super(...arguments),this.handleAccept=()=>{var e,t;null===(t=(e=this.props).onAccept)||void 0===t||t.call(e);const s=(function(e){const t=u.Viewer.get_viewer();if(t.is_paired)switch(e){case"personal":return m.intl.formatMessage({id:"9Q/1TS",defaultMessage:"Saving to your personal Dropbox..."});case"work":return m.intl.formatMessage({id:"5wQTp4",defaultMessage:"Saving to your {team_name} Dropbox..."},{team_name:t.team_name})}return m.intl.formatMessage({id:"vFhcfF",defaultMessage:"Saving to your Dropbox..."})})(this.props.role);_.Notify.success(s),o.copySharedFile(this.props.shareToken,this.props.userId),this.props.folderPreviewSession?p.logEvent(h.UserAction.SaveToDropboxApprove,this.props.folderPreviewSession):f.logUserAction(h.UserAction.SaveToDropboxApprove,h.UserActionContext.Unknown)},this.handleDismiss=e=>{var t,s;null===(s=(t=this.props).onDismiss)||void 0===s||s.call(t,e),this.props.folderPreviewSession?p.logEvent(h.UserAction.SaveToDropboxCancel,this.props.folderPreviewSession):f.logUserAction(h.UserAction.SaveToDropboxCancel,h.UserActionContext.Unknown)}}componentDidMount(){a.WebMiscActivityLogger.log("show-c2d-modal")}render(){const{copyable:e,role:t}=this.props,s=d.getCopyableName(e),a=d.getCopyableType(e);return n.default.createElement(l.Modal,{title:v(s,t),acceptButtonText:m.intl.formatMessage({id:"78AHo5",defaultMessage:"Save"}),dismissButtonText:m.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"}),onAccept:this.handleAccept,onDismiss:this.handleDismiss,style:"default-maestro"},n.default.createElement("p",{className:"db-modal-message"},(function(e,t,s){const a=u.Viewer.get_viewer(),o=a.get_user_by_role(t);if(e=r.Emstring.em_snippet(e,15),o&&o.is_cdm_member)return m.intl.formatMessage({id:"3Sb6Ws",defaultMessage:"<strong>{name}</strong> will be saved to the <strong>{cdm_tmf_name}</strong> folder in your {team_name} Dropbox account."},{name:e,cdm_tmf_name:i.filename(o.cdm_tmf_path),team_name:a.team_name,strong:e=>n.default.createElement("strong",null,e)});if(a.is_paired)switch(t){case"personal":return m.intl.formatMessage({id:"nBgj3Q",defaultMessage:"<strong>{name}</strong> will be saved to your personal Dropbox account and synced to any connected devices."},{name:e,strong:e=>n.default.createElement("strong",null,e)});case"work":switch(s){case c.CopyableType.Collection:return m.intl.formatMessage({id:"2yp43H",defaultMessage:"This album will be instantly saved to your {team_name} Dropbox and downloaded to all the computers linked to your {team_name} account."},{team_name:a.team_name});case c.CopyableType.Folder:return m.intl.formatMessage({id:"eJs/IE",defaultMessage:"This folder will be instantly saved to your {team_name} Dropbox and downloaded to all the computers linked to your {team_name} account."},{team_name:a.team_name});default:return m.intl.formatMessage({id:"Kb1en/",defaultMessage:"This file will be instantly saved to your {team_name} Dropbox and downloaded to all the computers linked to your {team_name} account."},{team_name:a.team_name})}}switch(s){case c.CopyableType.Collection:return m.intl.formatMessage({id:"35MZFn",defaultMessage:"This album will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."});case c.CopyableType.Folder:return m.intl.formatMessage({id:"qkudum",defaultMessage:"This folder will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."});default:return m.intl.formatMessage({id:"uGDUlE",defaultMessage:"This file will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."})}})(s,t,a)))}}function v(e,t){const s=u.Viewer.get_viewer(),n=s.get_user_by_role(t);if(n&&n.is_cdm_member)return m.intl.formatMessage({id:"yHgTUN",defaultMessage:"Save to your member folder?"});if(s.is_paired)switch(t){case"personal":return m.intl.formatMessage({id:"fI7sAv",defaultMessage:"Save to your personal Dropbox account?"});case"work":{const t=s.team_name,n=new r.Emstring(t||"").length,a=Math.max(10,15-n);return m.intl.formatMessage({id:"5SXeZ6",defaultMessage:"Save ‘{name}’ to my {team_name} Dropbox"},{name:r.Emstring.em_snippet(e,a),team_name:t})}}return m.intl.formatMessage({id:"ktpG9L",defaultMessage:"Save ‘{name}’ to my Dropbox"},{name:r.Emstring.em_snippet(e,15)})}t.CopyToDropboxModal=g,g.displayName="CopyToDropboxModal"})),define("metaserver/static/js/modules/clean/react/share_download/actions",["require","exports","tslib","react","metaserver/static/js/modules/clean/auth/login_or_register/types","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/downloads","metaserver/static/js/modules/clean/react/share_download/copy_to_dropbox/modal","metaserver/static/js/modules/clean/react/components/modal","metaserver/static/js/modules/clean/react/share_download/api","metaserver/static/js/modules/clean/react/share_download/api","metaserver/static/js/modules/core/persistence/storage","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/core/assert","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/exception","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/notify","spectrum-sharing/utils/sharing_constants"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h,f,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authModalHelpers=t.toDropbox=t.direct=void 0,n=s.__importDefault(n),i=s.__importStar(i),c=s.__importStar(c),p=s.__importStar(p),t.direct=function(e,n,a,r,o){return s.__awaiter(this,void 0,void 0,(function*(){const{downloadTestUrl:s,url:l}=e;if(a||h.reportException({err:new Error("No encryption options provided for direct download action"),severity:"non-critical",tags:["sharing-encryption-options"]}),yield t.authModalHelpers.authenticateForDownload(n||null,a),s)try{yield c.testDownload(s,r)}catch(e){return void(e instanceof d.TooLargeError?g.Notify.error(f.intl.formatMessage({id:"pcsTpL",defaultMessage:"The zip file is too large."})):g.Notify.error(f.intl.formatMessage({id:"pllUQE",defaultMessage:"Failed to download zip file."})))}try{const e=yield c.fetchDownloadUrl(l,r,o);i.get({url:e})}catch(e){g.Notify.error(f.intl.formatMessage({id:"6OUwIN",defaultMessage:"Failed to download."}))}}))},t.toDropbox=function(e,a,i,c,d,u,f,g){return s.__awaiter(this,void 0,void 0,(function*(){let s,E=!1;const S=p.get_href();let y;if(y=e.linkType===v.SharedLinkType.Shmodel?{tkey:e.linkKey,url:S}:{scl_url:S,sckey:e.linkKey,rlkey:e.rlkey,ns_id:(null==u?void 0:u.ns_id)?null==u?void 0:u.ns_id.toString():void 0},"anonymous"===i)d||h.reportException({err:new Error("No encryption options provided for anonymous sharing action"),severity:"non-critical",tags:["sharing-encryption-options"]}),r.ShareTibEventLogger.log_unauth("VIEW_AUTH_PAGE",v.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,y),s=yield t.authModalHelpers.authenticateForSaveToDropbox(e.linkType,d,y),E=!0;else{s=c?c.id:-1,_.assert(-1!==s,"role isn't anonymous => user cannot be null or undefined!"),m.Viewer.get_viewer().is_user_signed_in(c)||(d||h.reportException({err:new Error("No encryption options provided for multiaccount sharing action"),severity:"non-critical",tags:["sharing-encryption-options"]}),r.ShareTibEventLogger.log_unauth("VIEW_AUTH_PAGE",v.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,y),yield t.authModalHelpers.doMultiAccountAuthentication(i,d))}l.Modal.showInstance(n.default.createElement(o.CopyToDropboxModal,{shareToken:e,copyable:a,userId:s,role:i,onDismiss:e=>{null==g||g(),E&&p.reload(e)},onAccept:()=>{null==f||f()},folderPreviewSession:u}))}))},t.authModalHelpers={authenticateForDownload:(t,r)=>t!==a.LoginOrRegisterKind.DOWNLOAD||u.LocalStorage.get("has_seen_download_signup_modal")?Promise.resolve():new Promise((i,o)=>{const c=()=>{u.LocalStorage.set("has_seen_download_signup_modal",!0),i()},d=()=>{u.LocalStorage.set("has_seen_download_signup_modal",!0),o()};new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/auth/login_or_register/modal"],t,s)}).then(s.__importStar).then(({LoginOrRegisterModal:e})=>{l.Modal.showInstance(n.default.createElement(e,{downloadAction:a.DownloadAction.DIRECT_DOWNLOAD,id:"shared-link-download-signup-modal",initialMode:a.Mode.REGISTER,kind:t,onAuthenticateSuccess:c,onCancel:d,signup_tag:"shmodel_download_register",encryptionOptions:r,loggingExtra:{source:"download_button"}}))})}),authenticateForSaveToDropbox:(t,r,i)=>{const o=t===v.SharedLinkType.Content?"shared_content_link_register":"shmodel_modal_register";return new Promise((t,c)=>{const d=e=>t(e.id);new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/auth/login_or_register/modal"],t,s)}).then(s.__importStar).then(({LoginOrRegisterModal:e})=>{l.Modal.showInstance(n.default.createElement(e,{downloadAction:a.DownloadAction.SAVE_TO_DROPBOX,id:"shared-link-immediate-signup-modal",initialMode:a.Mode.REGISTER,kind:a.LoginOrRegisterKind.DOWNLOAD,onAuthenticateSuccess:d,onCancel:c,signup_tag:o,encryptionOptions:r,additionalLoginData:i,additionalRegisterData:i,loggingExtra:{source:"save_to_dropbox"}}))})})},doMultiAccountAuthentication:(t,a)=>new Promise((r,i)=>{new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/auth/multi_account_login_modal"],t,s)}).then(s.__importStar).then(({MultiAccountLoginModal:e})=>{l.Modal.showInstance(n.default.createElement(e,{onAuthenticateSuccess:r,onCancel:i,role:t,encryptionOptions:a}))})})}})),define("metaserver/static/js/modules/clean/react/share_download/models",["require","exports","tslib","immutable","react","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/modules/clean/react/file_viewer/constants","metaserver/static/js/modules/clean/react/share_download/actions","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/exception","metaserver/static/js/modules/clean/react/flows/conversions/actions/unzip","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/core/browser","spectrum-sharing/utils/sharing_constants"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShareDownloadActionOption=void 0,n=s.__importStar(n),a=s.__importDefault(a),r=s.__importStar(r),o=s.__importStar(o),m=s.__importStar(m);const p={text:void 0,handler:void 0,spriteName:void 0,isDisabled:void 0,userAction:void 0,role:void 0};class h extends(n.Record(p)){static buildDirectOption(e,t,n,a,r){n||c.reportException({err:new Error("No encryption options for building direct download option"),severity:"non-critical",tags:["sharing-encryption-options"]});const d={rlkey:r,encryptionType:null==n?void 0:n.type};return a===_.SharedLinkType.Content?d.scl_url=m.get_href():d.url=m.get_href(),new h({text:l.intl.formatMessage({id:"n1Nx/q",defaultMessage:"Direct download"}),handler:()=>s.__awaiter(this,void 0,void 0,(function*(){u.ShareTibEventLogger.log_unauth("CLICK_DOWNLOAD",_.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,d),yield o.direct(e,t,n,r,_.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE)})),spriteName:"download_arrow",userAction:i.UserAction.Download})}static buildToDropboxOption(e,t,s,n,d,u=!1,m,_,p,f){m||c.reportException({err:new Error("No encryption options for building to dropbox option"),severity:"non-critical",tags:["sharing-encryption-options"]});let g=l.intl.formatMessage({id:"l/lvUk",defaultMessage:"Save to my Dropbox"}),v="dropbox",E=i.UserAction.SaveToDropbox;if(n&&n.is_cdm_member){const e=r.filename(n.cdm_tmf_path);g=e.length>12?l.intl.formatMessage({id:"QPvsZL",defaultMessage:"Save to my member folder"}):l.intl.formatMessage({id:"VIDWC/",defaultMessage:"Save to <strong>{cdm_tmf_name}</strong> folder"},{cdm_tmf_name:e,strong:e=>a.default.createElement("strong",null,e)}),s.is_paired&&(v="s_briefcase",E=i.UserAction.SaveToDropboxWork)}else if(s.is_paired)switch(d){case"personal":g=l.intl.formatMessage({id:"S5UJEB",defaultMessage:"Save to personal Dropbox"}),v="s_house",E=i.UserAction.SaveToDropboxPersonal;break;case"work":g=l.intl.formatMessage({id:"76AF1h",defaultMessage:"Save to {team_name} Dropbox"},{team_name:s.team_name}),v="s_briefcase",E=i.UserAction.SaveToDropboxWork}const S=()=>{this.logEvent("SAVE_TO_DROPBOX_CONFIRM",n,e,t),p&&p()},y=()=>{this.logEvent("SAVE_TO_DROPBOX_CANCEL",n,e,t),f&&f()};return new h({text:g,handler:()=>{this.logEvent("SAVE_TO_DROPBOX",n,e,t),o.toDropbox(e,t,d,n,m,_,S,y)},spriteName:v,isDisabled:u,userAction:E,role:d})}static extractToDropboxOption(e,t,s,n,a=!1){let o=l.intl.formatMessage({id:"IoJAyh",defaultMessage:"Extract to my Dropbox"});const c=i.UserAction.DecompressFile;if(e&&e.is_cdm_member){const t=r.filename(e.cdm_tmf_path);o=t.length>12?l.intl.formatMessage({id:"eN3/4H",defaultMessage:"Extract to my member folder"}):l.intl.formatMessage({id:"J+cK0b",defaultMessage:"Extract to {cdm_tmf_name} folder"},{cdm_tmf_name:t})}return new h({text:o,handler:()=>d.UnzipAction.convert([t],e,{shareToken:n}),spriteName:"dropbox",isDisabled:a,userAction:c,role:s})}}t.ShareDownloadActionOption=h,h.logEvent=(e,t,s,n)=>{let a={};if("ns_id"in n&&"folder_id"in n&&(a=n.shared_folder_id||n.ns_id===n.folder_id?{ns_id:n.shared_folder_id||n.ns_id}:{content_id:n.folder_id}),a=s.linkType===_.SharedLinkType.Content?Object.assign(Object.assign({},a),{sckey:s.linkKey,rlkey:s.rlkey}):Object.assign(Object.assign({},a),{tkey:s.linkKey}),null==t?void 0:t.id)u.ShareTibEventLogger.log(t.id,e,_.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,a);else{const t=m.get_href();a=s.linkType===_.SharedLinkType.Content?Object.assign(Object.assign({},a),{scl_url:t}):Object.assign(Object.assign({},a),{url:t}),u.ShareTibEventLogger.log_unauth(e,_.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,a)}}})),define("metaserver/static/js/modules/clean/react/title_bar/overflow_menu",["require","exports","tslib","react","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/clean/react/title_bubble","metaserver/static/js/modules/core/i18n","dig-components/icons","dig-components/icons/src","spectrum/popover/index","spectrum/mobile_menu/index","metaserver/static/js/modules/clean/react/file_viewer/constants","metaserver/static/js/modules/clean/react/sticky_position"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverOrMobileItem=t.OverflowMenu=void 0,n=s.__importDefault(n);class _ extends n.default.Component{constructor(){super(...arguments),this.handlePopoverSelection=(e,t)=>e&&e(t)}render(){const{children:e,contentWrapperClassName:t,hideOnDisabled:s,direction:o}=this.props,l=(function(e){const t=Array.isArray(e)?e.filter(e=>!!e):e;return null==e||Array.isArray(t)&&0===t.length})(e);if(l&&s)return null;if(a.is_mobile_or_tablet())return n.default.createElement(d.MobileMenu,{trigger:({openMobileMenu:e})=>n.default.createElement(p,{disabled:l,onClick:e})},e);const _=o===u.OverflowMenuDirection.ABOVE?"above":"below",h=o===u.OverflowMenuDirection.ABOVE?m.StickyPosition.TOP:m.StickyPosition.BOTTOM;return n.default.createElement(c.Popover,{className:"more-button-popover",onSelection:this.handlePopoverSelection},n.default.createElement(c.PopoverTrigger,{"aria-label":i.intl.formatMessage({id:"oeNPkV",defaultMessage:"More actions"}),disabled:l},n.default.createElement(r.TitleBubble,{content:i.intl.formatMessage({id:"S6stj+",defaultMessage:"More"}),distanceFromTarget:10,isTargetPositionFixed:!0,position:h},n.default.createElement(p,{disabled:l}))),n.default.createElement("div",{className:t},n.default.createElement(c.PopoverContent,{attachment:"right",position:_},e)))}}function p({disabled:e,onClick:t}){return n.default.createElement("span",{"aria-label":i.intl.formatMessage({id:"S6stj+",defaultMessage:"More"}),className:"u-mar-left-xs more-button",onClick:t},n.default.createElement(o.UIIcon,{src:l.MoreHorizontalLine}))}t.OverflowMenu=_,_.displayName="OverflowMenu";class h extends n.default.Component{constructor(){super(...arguments),this.onSelect=e=>{a.is_mobile_or_tablet()&&e.preventDefault();const{onSelect:t}=this.props;return t&&t(e)}}render(){const e=a.is_mobile_or_tablet(),t=this.props,{onSelect:r}=t,i=s.__rest(t,["onSelect"]);return e?n.default.createElement(d.MobileMenuItem,Object.assign({onSelect:this.onSelect},i)):n.default.createElement(c.PopoverContentItem,Object.assign({value:this.onSelect},i))}}t.PopoverOrMobileItem=h,h.displayName="PopoverOrMobileItem"})),define("metaserver/static/js/modules/clean/share_download/types",["require","exports"],(function(e,t){"use strict";function s(e){return"ns_id"in e}Object.defineProperty(t,"__esModule",{value:!0}),t.isPendingEntry=t.isEntry=t.CopyableType=void 0,(function(e){e[e.Collection=0]="Collection",e[e.File=1]="File",e[e.Folder=2]="Folder"})(t.CopyableType||(t.CopyableType={})),t.isEntry=s,t.isPendingEntry=function(e){return s(e)&&null==e.ns_id}})),define("metaserver/static/js/modules/clean/react/share_download/utils",["require","exports","metaserver/static/js/modules/clean/share_download/types"],(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCopyableType=t.getCopyableName=void 0,t.getCopyableName=function(e){return s.isEntry(e)?e.filename:e.name},t.getCopyableType=function(e){return s.isEntry(e)?e.is_dir?s.CopyableType.Folder:s.CopyableType.File:s.CopyableType.Collection}})),define("metaserver/static/js/modules/clean/shared_link/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEntrySharedFile=void 0,t.isEntrySharedFile=function(e){return"sjid"in e}})),define("metaserver/static/js/modules/clean/react/shared_link_folder/copy_to_dropbox_button",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/share_download/util","metaserver/static/js/modules/clean/react/share_download/models","dig-components/buttons","metaserver/static/js/modules/clean/react/file_viewer/constants","metaserver/static/js/modules/clean/react/share_download/button_component","metaserver/static/js/modules/clean/react/file_viewer/logging","metaserver/static/js/modules/clean/react/file_viewer/utils","metaserver/static/js/modules/clean/loggers/folder_preview_logger"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToDropboxButton=void 0,n=s.__importDefault(n);class _ extends n.default.Component{componentDidMount(){}onClickedOption(e,t){e.preventDefault(),t.handler(),this.props.folderPreviewSession?m.logEvent(t.userAction,this.props.folderPreviewSession):d.logUserAction(t.userAction,u.getSplitButtonUserActionContext(l.SplitButtonActionLocation.Main,this.props.location))}renderCopyToDropboxButton(){if(0===this.props.sharePermission.canCopyToDropboxRoles.length)return null;const e=a.intl.formatMessage({id:"lHp3ci",defaultMessage:"Save to Dropbox"}),t=r.getToDropboxOptions(this.props.sharePermission,this.props.shareToken,this.props.copyable,this.props.encryptionOptions,this.props.folderPreviewSession);if(this.props.showDownloadOption&&this.props.sharedLinkInfo){const e=i.ShareDownloadActionOption.buildDirectOption(this.props.sharedLinkInfo,null,this.props.encryptionOptions,this.props.shareToken.linkType);t.push(e)}return 1===t.length?n.default.createElement(o.Button,{className:"copy-to-dropbox-button",style:{display:"-webkit-box"},variant:this.props.importance,onClick:e=>this.onClickedOption(e,t[0]),"aria-label":e},e):n.default.createElement(c.DownloadDropdown,{targetText:e+" ▾",options:t,onClick:this.props.onClick,location:this.props.location,importance:this.props.importance,title:a.intl.formatMessage({id:"lHp3ci",defaultMessage:"Save to Dropbox"}),isCollapsed:this.props.isCollapsed,isDisabled:!1,folderPreviewSession:this.props.folderPreviewSession})}render(){return n.default.createElement("div",null,this.renderCopyToDropboxButton())}}t.CopyToDropboxButton=_,_.displayName="CopyToDropboxButton"})),define("metaserver/static/js/modules/clean/react/shared_link_folder/share_folder_button",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","dig-components/buttons","dig-components/icons/src","dig-components/icons","metaserver/static/js/modules/clean/sharing/async_share_modal_util","metaserver/static/js/modules/clean/sharing/api/client","metaserver/static/js/modules/clean/sharing/access_level","metaserver/static/js/api_v2/user_client","spectrum-sharing/utils/sharing_constants","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/clean/sharing/ui_notifications_util"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShareFolderButton=t.addMemberIfNeeded=void 0,n=s.__importDefault(n),t.addMemberIfNeeded=(e,t)=>new c.FolderShareApiClient({userId:t.id,client:new u.UserApiV2Client}).addMembers({accessLevel:d.ACCESS_LEVEL.WRITER,contentId:e.ns_id,members:[{".tag":"email",email:t.email}],quiet:!0}),t.ShareFolderButton=e=>{const{folderShareToken:s,folder:c,user:d}=e,u=a.intl.formatMessage({id:"RcjbUx",defaultMessage:"Share"});return n.default.createElement(r.Button,{className:"share-folder-button",variant:"opacity",onClick:()=>{const e={fileId:`id:${c.folder_id}`,origin:m.SHARE_ACTION_ORIGIN_TYPE.SHARING_PREVIEW_PAGE,isFolder:!0};d&&t.addMemberIfNeeded(c,d).then(()=>{l.asyncShowShareModal(d,e,{targetNsId:c.ns_id})}).catch(e=>{var t;const n=e&&e.error&&e.error[".tag"],r=m.SHARE_ACTION_ORIGIN_TYPE.SHARING_PREVIEW_PAGE;_.ShareTibEventLogger.log(d.id,"EDIT_FOLDER_PREVIEW_ADD_MEMBER_ERROR",r,{ns_id:c.ns_id,rlkey:s.rlkey,error_tag:n}),null===(t=p.Snackbar.manager)||void 0===t||t.reset(),h.sharingNotificationError(a.intl.formatMessage({id:"bvse4m",defaultMessage:"We were unable to complete your request."}))})},"aria-label":u},n.default.createElement(o.UIIcon,{src:i.ShareArrowLine}),u)}})),define("metaserver/static/js/modules/clean/react/share_download/button_component",["require","exports","tslib","classnames","prop-types","react","dig-components/buttons","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/modules/clean/react/file_viewer/logging","metaserver/static/js/modules/clean/react/file_viewer/constants","metaserver/static/js/modules/clean/react/file_viewer/utils","metaserver/static/js/modules/clean/react/share_download/util","metaserver/static/js/modules/clean/react/share_download/models","metaserver/static/js/modules/clean/react/share_download/util","metaserver/static/js/modules/clean/share_download/types","metaserver/static/js/modules/clean/react/title_bubble","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/clean/react/file_viewer_sidebar/buttons/icon","metaserver/static/js/modules/clean/loggers/folder_preview_logger","metaserver/static/js/modules/clean/react/sticky_position","dig-components/icons","dig-components/icons/src","dig-components/layer","dig-components/menu"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h,f,g,v,E,S,y,b,T,w){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShareDownloadButton=t.DownloadDropdown=t.DownloadSimpleButton=void 0,n=s.__importDefault(n),a=s.__importDefault(a),r=s.__importDefault(r),o=s.__importStar(o);const I=e=>!g.is_mobile_or_tablet()&&e.title&&e.isCollapsed?r.default.createElement(h.TitleBubble,{content:e.title,isTargetPositionFixed:!0,position:S.StickyPosition.LEFT},e.children):r.default.createElement(r.default.Fragment,null,e.children);class M extends r.default.Component{constructor(e){super(e),this.state={isDisabled:!0}}componentDidMount(){this.setState({isDisabled:this.props.isDisabled})}render(){const e={"download-button":!0,control__button:!0,"control__button--collapsed":this.props.isCollapsed};return this.props.className&&(e[this.props.className]=!0),r.default.createElement(I,{title:this.props.title,isCollapsed:this.props.isCollapsed},r.default.createElement(i.Button,{className:n.default(e),style:{display:"-webkit-box"},variant:this.props.importance,disabled:this.state.isDisabled,onClick:this.props.onClick,"aria-label":this.props.title,withIconLeft:r.default.createElement(y.UIIcon,{src:b.DownloadLine})},this.props.children))}}M.defaultProps={isDisabled:!1,importance:"opacity"},M.displayName="DownloadMainButton";class O extends r.default.Component{render(){return r.default.createElement(M,{isDisabled:this.props.isDisabled,onClick:e=>{e.preventDefault(),this.props.onClick&&this.props.onClick(this.props.option),this.props.option.handler(),this.props.folderPreviewSession?E.logEvent(this.props.option.userAction,this.props.folderPreviewSession):l.logUserAction(this.props.option.userAction,d.getSplitButtonUserActionContext(c.SplitButtonActionLocation.Main,this.props.location))},importance:this.props.importance,isCollapsed:this.props.isCollapsed,title:this.props.title},this.props.isCollapsed?r.default.createElement(v.ButtonIcon,{name:"download-file",isPrimary:"primary"===this.props.importance}):this.props.targetText)}}t.DownloadSimpleButton=O,O.displayName="DownloadSimpleButton";class k extends r.default.Component{constructor(e){super(e),this.onActionMenuSelection=e=>{u.callOptionHandler(e,c.SplitButtonActionLocation.Split,this.props.folderPreviewSession,this.props.onClick,this.props.location)()},this.state={isDisabled:!0}}componentDidMount(){this.setState({isDisabled:this.props.isDisabled})}renderIcon(){return r.default.createElement(v.ButtonIcon,{name:"download-file",isPrimary:"primary"===this.props.importance,"aria-label":this.props.title})}renderActionMenu(){const e=this.props.options.map(e=>r.default.createElement(w.Menu.ActionItem,{"aria-label":e.text,key:e.text,value:e,disabled:e.isDisabled},e.text)),t={"download-button":!0,control__button:!0,"control__button--collapsed":this.props.isCollapsed};return r.default.createElement(w.Menu.Wrapper,{key:"download-dropdown",onSelection:this.onActionMenuSelection,className:n.default(t)},({getContentProps:t,getTriggerProps:s})=>r.default.createElement(r.default.Fragment,null,r.default.createElement(I,{title:this.props.title,isCollapsed:this.props.isCollapsed},r.default.createElement(i.Button,Object.assign({className:"download-title-button"},s(),{variant:this.props.importance,disabled:this.state.isDisabled,"aria-label":this.props.title}),this.props.isCollapsed?this.renderIcon():this.props.targetText)),r.default.createElement(T.LayerContext.Provider,{value:500},r.default.createElement(w.Menu.Content,Object.assign({},t()),r.default.createElement(w.Menu.Segment,null,e)))))}render(){return this.props.isDisabled?r.default.createElement(M,{isDisabled:!0,importance:this.props.importance,title:this.props.title,isCollapsed:this.props.isCollapsed},this.props.isCollapsed?null:this.props.targetText):this.renderActionMenu()}}t.DownloadDropdown=k,k.defaultProps={importance:"secondary"},k.displayName="DownloadDropdown";class C extends r.default.Component{getTargetText(e){if(u.isDownloadAllowed(this.props.sharePermission))return e>1?{title:f.intl.formatMessage({id:"0YRjqy",defaultMessage:"Download ▾"})}:{title:f.intl.formatMessage({id:"pHnJw0",defaultMessage:"Download"})};if(this.props.user&&this.props.user.is_cdm_member){const e=o.filename(this.props.user.cdm_tmf_path);return e.length>25?{title:f.intl.formatMessage({id:"6m85k6",defaultMessage:"Add to my member folder"})}:{label:f.intl.formatMessage({id:"ck1w+U",defaultMessage:"Add to <strong>{cdm_tmf_name}</strong> folder"},{cdm_tmf_name:e,strong:t=>r.default.createElement("strong",{key:e,style:{fontWeight:800}},t)}),title:f.intl.formatMessage({id:"nzqkZQ",defaultMessage:"Add to {cdm_tmf_name} folder"},{cdm_tmf_name:e})}}return{title:f.intl.formatMessage({id:"N8ovVA",defaultMessage:"Add to Dropbox"})}}getTooltipLabel(){return p.isPendingEntry(this.props.copyable)?f.intl.formatMessage({id:"DldXvN",defaultMessage:"Download is unavailable while file is uploading."}):f.intl.formatMessage({id:"gUTeT9",defaultMessage:"Downloads disabled."})}render(){const e=_.getDownloadOptions(this.props.sharePermission,this.props.sharedLinkInfo,this.props.shareToken,this.props.copyable,this.context.authModalKind||null,this.props.encryptionOptions,this.props.user,this.props.folderPreviewSession);if(this.props.downloadOnly){let e=new m.ShareDownloadActionOption({isDisabled:!0}),t=!0;return u.isDownloadAllowed(this.props.sharePermission)&&(e=m.ShareDownloadActionOption.buildDirectOption(this.props.sharedLinkInfo,null,this.props.encryptionOptions,this.props.shareToken.linkType,this.props.shareToken.rlkey),t=!1),r.default.createElement(O,{isDisabled:t,targetText:f.intl.formatMessage({id:"pHnJw0",defaultMessage:"Download"}),title:f.intl.formatMessage({id:"pHnJw0",defaultMessage:"Download"}),option:e,onClick:this.props.onClick,location:this.props.location,importance:this.props.importance,isCollapsed:this.props.isCollapsed,folderPreviewSession:this.props.folderPreviewSession})}if(0===e.length)return r.default.createElement(k,{targetText:f.intl.formatMessage({id:"pHnJw0",defaultMessage:"Download"}),isDisabled:!0,options:[new m.ShareDownloadActionOption({isDisabled:!0})],onClick:this.props.onClick,location:this.props.location,title:this.getTooltipLabel(),importance:this.props.importance,isCollapsed:this.props.isCollapsed,folderPreviewSession:this.props.folderPreviewSession});const t=this.getTargetText(e.length);return 1===e.length?r.default.createElement(O,{isDisabled:!1,targetText:t.label||t.title,title:t.title,option:e[0],onClick:this.props.onClick,location:this.props.location,importance:this.props.importance,isCollapsed:this.props.isCollapsed,folderPreviewSession:this.props.folderPreviewSession}):r.default.createElement(k,{targetText:t.label||t.title,options:e,onClick:this.props.onClick,location:this.props.location,isDisabled:!1,importance:this.props.importance,isCollapsed:this.props.isCollapsed,title:f.intl.formatMessage({id:"pHnJw0",defaultMessage:"Download"}),folderPreviewSession:this.props.folderPreviewSession})}}t.ShareDownloadButton=C,C.contextTypes={authModalKind:a.default.oneOf(["immediate","download",null])},C.displayName="ShareDownloadButton"})),define("metaserver/static/js/modules/clean/react/shared_link_folder/page",["require","exports","tslib","classnames","react","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/components/loading_indicator","metaserver/static/js/modules/clean/react/browse/sort_helpers","metaserver/static/js/modules/clean/react/components/css","metaserver/static/js/modules/clean/react/async/loadable","metaserver/static/js/modules/clean/em_string","metaserver/static/js/modules/clean/react/open_in_app/banner","metaserver/static/js/modules/clean/react/shared_link_folder/folder_icon","metaserver/static/js/modules/clean/react/shared_link_folder/grid","metaserver/static/js/modules/clean/react/shared_link_folder/list","metaserver/static/js/modules/clean/react/shared_link_folder/share_folder_button","metaserver/static/js/modules/clean/react/takedown_warning","spectrum-sharing/utils/sharing_constants","metaserver/static/js/modules/clean/web_timing_logger","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/icon/icon_helper","metaserver/static/js/modules/clean/react/size_class/size_class","metaserver/static/js/modules/clean/react/size_class/constants","metaserver/static/js/modules/clean/loggers/folder_preview_logger","metaserver/static/js/modules/clean/react/file_viewer/app_download_interstitial/app_download_interstitial","metaserver/static/js/modules/clean/react/shared_link_folder/folder_title","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/bug_reporting/routing","typescript/component_libraries/pro-ui/src/components/branding/branding_block/optional_branding_block","metaserver/static/js/modules/clean/react/branding/branding_modal_controller","metaserver/static/js/modules/clean/react/share_sync/button","metaserver/static/js/modules/clean/react/shared_link_folder/copy_to_dropbox_button","metaserver/static/js/modules/clean/react/share_download/button","typescript/component_libraries/retrieval-components/src/view-mode-toggle/index","metaserver/static/js/modules/clean/sharing/ui_util","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/clean/react/previews/sharing_plugin/copy_folder_link_button","metaserver/static/js/modules/clean/react/share_download/util"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h,f,g,v,E,S,y,b,T,w,I,M,O,k,C,N,P,A,R,D,j,x,L){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedLinkFolderPage=t._SharedLinkFolderPage=void 0,n=s.__importDefault(n),a=s.__importDefault(a),v=s.__importStar(v);const F=c.Loadable({loader:()=>new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/react/shared_link_folder/title_bar"],t,s)}).then(s.__importStar).then(({SharedLinkFolderTitleBar:e})=>e)});class U extends a.default.PureComponent{constructor(){super(...arguments),this.state={openInAppBannerClosed:!1,currentMode:R.ViewMode.LIST,piiNotificationShown:!1},this.shouldShowOpenInAppBanner=()=>{const{folder:e}=this.props,{openInAppBannerClosed:t}=this.state;return e&&e.open_in_app_data&&!t},this.onOpenInAppClosed=()=>{this.setState(e=>({openInAppBannerClosed:!0,currentMode:e.currentMode}))},this.changeViewMode=(e,t)=>{this.setState(t=>({openInAppBannerClosed:t.openInAppBannerClosed,currentMode:e}))},this.onInterstitialClose=()=>{T.logEvent(T.EventType.appDownloadInterstitialClose,this.props.folderPreviewSession),this.props.onAppDownloadInterstitialDismissed()},this.onInterstitialContinue=()=>{T.logEvent(T.EventType.appDownloadInterstitialContinue,this.props.folderPreviewSession),this.props.onAppDownloadInterstitialDismissed()},this.onAppDownload=()=>{T.logEvent(T.EventType.appDownloadInterstitialInstall,this.props.folderPreviewSession)},this.handleBreadcrumbClick=e=>{const{breadcrumbs:t,folderPreviewSession:s}=this.props;s.extra=Object.assign(Object.assign({},s.extra),{origin_breadcrumb:t.length-1,destination_breadcrumb:e}),T.logEvent(T.EventType.breadcrumbClicked,s)},this.shouldShowSnackbar=()=>{const{subfolderNavTracking:e,folderSharePermission:t,user:s}=this.props;return!e&&t.isEditFolderLink&&!this.state.piiNotificationShown&&!!s},this.showSnackbar=e=>{const t=E.intl.formatMessage({id:"KLj0v7",defaultMessage:"When you share or add content, your name, email, and activity shows to other people with access."}),s=E.intl.formatMessage({id:"eipFjb",defaultMessage:"When you add content, your name, email, and activity shows to other people with access."});return this.setState(e=>({piiNotificationShown:!0})),j.Snackbar.show(a.default.createElement(j.Snackbar,{closeButtonText:E.intl.formatMessage({id:"QgLTp6",defaultMessage:"OK"}),onCloseClick:this.handleDismissSnackbar,timeoutDelayMs:0,title:e?t:s,id:"folder-pii-notification"}))},this.handleDismissSnackbar=()=>{j.Snackbar.close("folder-pii-notification")}}UNSAFE_componentWillMount(){T.logEvent(T.EventType.attempted,this.props.folderPreviewSession)}componentWillUnmount(){T.logEvent(T.EventType.ended,this.props.folderPreviewSession),this.handleDismissSnackbar()}componentDidMount(){this.ensureWebTimingMarked(),this.logSclTiming(),this.shouldShowAppDownloadInterstitial()&&T.logEvent(T.EventType.appDownloadInterstitialView,this.props.folderPreviewSession),setTimeout(()=>{D.trackReceiverUserLeapEvent(D.ReceiverUserLeapEvent.VIEWED_SHARED_FOLDER)},5e3),this.props.isPromptOnSharingPage?setTimeout(()=>{D.trackReceiverUserLeapEvent(D.ReceiverUserLeapEvent.VIEWED_SHARED_FOLDER_PROMPT_ON)},3e3):setTimeout(()=>{D.trackReceiverUserLeapEvent(D.ReceiverUserLeapEvent.VIEWED_SHARED_FOLDER_PROMPT_CONTROL)},3e3)}componentDidUpdate(){this.ensureWebTimingMarked()}componentDidCatch(){T.logEvent(T.EventType.renderFailed,this.props.folderPreviewSession)}shouldShowAppDownloadInterstitial(){const{folder:e,appDownloadInterstitialDismissed:t}=this.props;return!t&&e&&e.open_in_app_data}ensureWebTimingMarked(){const{contents:{files:e,folders:t},hasMore:s,webTimer:n}=this.props;(e.length>0||t.length>0||!s)&&(n&&(n.timeToView()||n.markTimeToView(),n.timeToInteractive()||n.markTimeToInteractive()),T.markPrimaryEvent(this.props.folderPreviewSession),T.logEvent(T.EventType.renderSucceeded,this.props.folderPreviewSession))}logSclTiming(){if(!this.props.user)return;if(this.props.folderShareToken.linkType!==g.SharedLinkType.Content)return;const e=(new Date).getTime(),t={ns_id:this.props.folder.shared_folder_id,timing:e-v.start_time()};r.ShareTibEventLogger.log(this.props.user.id,"PREVIEW_RENDER",g.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,t)}render(){const{accountMenuOptions:e,brandingInfo:t,breadcrumbs:s,contents:r,folder:o,folderSharePermission:l,folderShareToken:c,folderSharedLinkInfo:m,folderPreviewSession:_,hasMore:p,onFileOpen:h,onFolderOpen:g,outOfQuota:v,showSyncCoachmark:S,sizeClass:y,takedownRequestType:T,user:M,encryptionOptions:N,inCopyLinkButtonOOBPreviews:P,inShareModalOnEditPreviews:A,folderPreviewPostDownloadModal:D,eflOverquotaVariant:j}=this.props;_.extra.size_class=y;const x=a.default.createElement(I.FolderTitle,{title:d.Emstring.em_snippet(o.filename,y!==b.SizeClass.Small?35:20),ownerName:m.ownerName,ownerTeamName:m.ownerTeamName,ownerTeamLogo:m.ownerTeamLogo,breadcrumbs:s,onCrumbClick:this.handleBreadcrumbClick}),L=n.default("sl-page-body",{"view-in-app-bar-present":this.shouldShowOpenInAppBanner()});let U;if(this.shouldShowAppDownloadInterstitial()){const e=m.displayName;U=a.default.createElement("div",{"aria-label":e},a.default.createElement(w.AppDownloadInterstitial,{isFolder:!0,fileOrFolderName:e,open_in_app_data:o.open_in_app_data,ownerName:m.ownerName,ownerTeamName:m.ownerTeamName,onClose:this.onInterstitialClose,onContinue:this.onInterstitialContinue,onAppDownload:this.onAppDownload}))}return this.shouldShowSnackbar()&&this.showSnackbar(A),a.default.createElement(a.default.Fragment,null,a.default.createElement(O.RegisterComponentWithBugReporter,{componentId:"web.folder_viewer",componentName:"Shared Folder Viewer"},a.default.createElement("div",null,a.default.createElement("div",{className:"sl-page-container"},a.default.createElement("div",{className:"sl-page-header"},a.default.createElement(F,{accountMenuOptions:e,folder:o,sharedLinkInfo:m,shareToken:c,sharePermission:l,sizeClass:y,title:y===b.SizeClass.Small?x:void 0,user:M,encryptionOptions:N,folderPreviewSession:_}),this.shouldShowOpenInAppBanner()?a.default.createElement(u.OpenInAppBanner,{urls:o.open_in_app_data,onClose:this.onOpenInAppClosed}):null),a.default.createElement("div",{className:L},a.default.createElement(k.OptionalBrandingBlock,{brandingInfo:t,className:"sl-branding-header",sharedLinkInfo:m}),a.default.createElement("div",{className:"sl-header clearfix"},a.default.createElement("h3",{className:"sl-title"},null!=T?a.default.createElement("div",{className:"sl-takedown-warning"},a.default.createElement(f.TakedownWarning,{takedownType:T})):null,y!==b.SizeClass.Small?x:null)),a.default.createElement("div",{className:"sl-buttons"},this.renderCTAButtons(o,v,m,l,c,S,M,N,_,P,A,D,j)),a.default.createElement("div",{className:"sl-toggle-with-body"},a.default.createElement("div",{className:"sl-view-toggle"},a.default.createElement(R.ViewModeToggle,{onSelection:this.changeViewMode,currentMode:this.state.currentMode})),a.default.createElement(W,{files:r.files,folder:o,hasMore:p,sizeClass:y,subfolders:r.folders,onFolderOpen:g,onFileOpen:h,currentMode:this.state.currentMode})),p?a.default.createElement("div",{className:"sl-loading-indicator"},a.default.createElement(i.LoadingIndicator,{style:i.LoadingIndicator.LoadingIndicatorStyle.BLUE_SPINNER})):null)),U||a.default.createElement(C.BrandingModalController,{brandingInfo:t,closeButtonText:E.intl.formatMessage({id:"eC3oZ9",defaultMessage:"View folder"}),sharedLinkInfo:m}))))}renderCTAButtons(e,t,s,n,r,i,o,l,c,d,u,m,_){const p=r.linkType!==g.SharedLinkType.Shmodel&&n.canSyncToDropboxRoles.length>0&&""===r.subPath;return a.default.createElement(a.default.Fragment,null,p?a.default.createElement(N.ShareSyncButton,{folder:e,outOfQuota:t,sharedLinkInfo:s,sharePermission:n,shareToken:r,showSyncCoachmark:i,user:o,folderPreviewSession:c,encryptionOptions:l,eflOverquotaVariant:_}):a.default.createElement(P.CopyToDropboxButton,{shareToken:r,sharedLinkInfo:s,sharePermission:n,copyable:e,encryptionOptions:l,user:o,folderPreviewSession:c,importance:"primary",showDownloadOption:!1}),m?a.default.createElement(A.ShareDownloadButton,{copyable:e,sharedLinkInfo:s,shareToken:r,sharePermission:n,user:o,downloadOnly:!0,encryptionOptions:l,folderPreviewSession:c,onClick:()=>L.showPostDownloadSignInModal({isFolder:!0})}):a.default.createElement(A.ShareDownloadButton,{copyable:e,sharedLinkInfo:s,shareToken:r,sharePermission:n,user:o,downloadOnly:!0,encryptionOptions:l,folderPreviewSession:c}),a.default.createElement("div",{className:"sharing-buttons"},o&&!this.props.subfolderNavTracking&&n.isEditFolderLink&&u&&a.default.createElement(h.ShareFolderButton,{user:o,folder:e,folderShareToken:this.props.folderShareToken}),d&&!this.props.subfolderNavTracking&&(this.props.parsedSharedCopyLink.doesContainRlKey||this.props.parsedSharedCopyLink.doesContainShmodelLink)&&a.default.createElement(x.CopyFolderLinkButton,{ns_id:e.ns_id,folderPreviewSession:c,user:o,parsedLink:this.props.parsedSharedCopyLink,linkAccessLevel:n.isEditFolderLink?"editor":"viewer"})))}}t._SharedLinkFolderPage=U,U.defaultProps={webTimer:v.get_timer()},U.displayName="SharedLinkFolderPage";const H=l.requireCssWithComponent(U,["/static/css/react_title_bar-vflW-IUJo.css","/static/css/react_file_viewer-vfl7c9Izd.css","/static/js/typescript/component_libraries/pro-ui/src/index.web-vfl7fyKnY.css","/static/css/dig-components/index.web-vfl0pq0Fh.css"]),B=y.withSizeClass(H);t.SharedLinkFolderPage=B;function z(e=[],t=[]){const s=(n=M.case_insensitive_comparator(!0),function(e,t){return o.compare(e.filename,t.filename,1,n)});var n;return[...t,...e].sort(s)}function V(e){return a.default.createElement("div",{className:"sl-body sl-body--empty-folder"},a.default.createElement(m.SharedLinkFolderFolderIcon,{className:"sl-empty-folder-icon",folder:e.folder,size:S.SpectrumIconSize.Large}),a.default.createElement("h3",{className:"sl-empty-folder-message"},E.intl.formatMessage({id:"xOtZlZ",defaultMessage:"This folder is empty"})))}function W(e){const{files:t,folder:s,hasMore:n,sizeClass:r,subfolders:i,onFileOpen:o,onFolderOpen:l,currentMode:c}=e,d=z(t,i);if(!d.length&&!n)return a.default.createElement(V,{folder:s});switch(c){case R.ViewMode.LIST:return a.default.createElement("div",{className:"sl-body"},a.default.createElement(p.SharedLinkFolderList,{key:"list",entries:d,sizeClass:r,onFolderOpen:l,onFileOpen:o}));case R.ViewMode.CONDENSED_LIST:return a.default.createElement("div",{className:"sl-body"},a.default.createElement(p.SharedLinkFolderList,{key:"list",entries:d,sizeClass:r,onFolderOpen:l,onFileOpen:o,smallList:!0}));case R.ViewMode.TILE:return a.default.createElement("div",{className:"sl-body"},a.default.createElement(_.SharedLinkFolderGrid,{key:"grid",entries:d,onFolderOpen:l,onFileOpen:o,largeGrid:!0}));case R.ViewMode.GRID:default:return a.default.createElement("div",{className:"sl-body"},a.default.createElement(_.SharedLinkFolderGrid,{key:"grid",entries:d,onFolderOpen:l,onFileOpen:o}))}}})),define("spectrum/mobile_menu/index",["require","exports","tslib","spectrum/mobile_menu/mobile_menu","spectrum/mobile_menu/mobile_menu_close_button","spectrum/mobile_menu/mobile_menu_content","spectrum/mobile_menu/mobile_menu_item"],(function(e,t,s,n,a,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.__exportStar(n,t),s.__exportStar(a,t),s.__exportStar(r,t),s.__exportStar(i,t)})),define("metaserver/static/js/modules/clean/loggers/folder_preview_logger",["require","exports","tslib","metaserver/static/js/modules/clean/deprecated_ajax/ajax_jquery","metaserver/static/js/modules/constants/request","metaserver/static/js/modules/clean/react/previews/constants","metaserver/static/js/modules/clean/web_timing_logger","metaserver/static/js/modules/clean/uuid/uuid","metaserver/static/js/modules/clean/loggers/device_type","metaserver/static/js/modules/clean/perf_tools/web_timing_utils"],(function(e,t,s,n,a,r,i,o,l,c){"use strict";var d;function u(e){return+!!e}function m(e){return JSON.stringify(Object.assign(Object.assign({},e),{has_cached_data:u(e.has_cached_data),folder_preview_timeline:JSON.stringify(e.folder_preview_timeline),subfolder_nav_tracking:u(e.subfolder_nav_tracking),web_timing_data:JSON.stringify(e.web_timing_data)}))}function _(e){const t=Object.assign({},e.extra),s=window.performance.timing;return(null==s?void 0:s.fetchStart)&&(t.time_to_first_byte=s.responseStart-s.fetchStart,t.web_timing_data=s),{device_type:e.deviceType,folder_preview_session_id:e.id,folder_ns_id:e.ns_id||0,web_request_id:e.web_request_id,extra:m(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.logEvent=t.markPrimaryEvent=t.createSession=t.EventType=void 0,n=s.__importStar(n),a=s.__importStar(a),(function(e){e.attempted="preview_attempted",e.renderSucceeded="render_succeeded",e.renderFailed="render_failed",e.ended="preview_session_ended",e.appDownloadInterstitialClose="app_download_interstitial_close",e.appDownloadInterstitialContinue="app_download_interstitial_continue",e.appDownloadInterstitialInstall="app_download_interstitial_install",e.appDownloadInterstitialView="app_download_interstitial_view",e.breadcrumbClicked="breadcrumb_clicked"})(d=t.EventType||(t.EventType={})),t.createSession=function({id:e=o.UUID.v4({allowInsecure:!0}),ns_id:t=0,deviceType:s=l.getDeviceType(),web_request_id:n=a.REQUEST_ID,source_action:d=r.PreviewSourceAction.Visit,subfolder_nav_tracking:u,has_cached_data:m,use_odyssey:_=!1,folder_id:p}={}){return{id:e,ns_id:t,web_request_id:n,deviceType:s,extra:{start_time:d===r.PreviewSourceAction.Visit?i.start_time():c.WebTimingUtil.getNow(),subfolder_nav_tracking:u,has_cached_data:m,source_action:d,folder_preview_timeline:{},use_odyssey:_,folder_id:p}}},t.markPrimaryEvent=function(e){const{extra:t}=e;if(t.primary_mark_ts)return;const s=c.WebTimingUtil.getNow();t.primary_mark_ts=s;const{start_time:n}=t;n&&t.primary_mark_ts&&(t.time_to_primary_mark=t.primary_mark_ts-n)},t.logEvent=function(e,t){const{extra:{folder_preview_timeline:s}}=t,a=c.WebTimingUtil.getNow();if(!s.preview_session_ended_ts){switch(e){case d.attempted:if(s.preview_attempted_ts)return;s.preview_attempted_ts=a;break;case d.ended:if(s.preview_session_ended_ts)return;s.preview_session_ended_ts=a;break;case d.renderSucceeded:if(s.render_succeeded_ts)return;s.render_succeeded_ts=a;break;case d.renderFailed:if(s.render_failed_ts)return;s.render_failed_ts=a}return(function(e,t){return n.SilentBackgroundBeaconRequest({url:"/log/folder_preview",data:Object.assign(Object.assign({},_(t)),{event_name:e})})})(e,t)}}})),define("metaserver/static/js/modules/clean/prefetch/prefetch",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefetchData=void 0,t.getPrefetchData=function(e){const t=window[e];if(t)return(function(e){return new Promise((t,s)=>{const n=e.getDataIfAvailable();n?n.payload?t(JSON.parse(n.payload)):s(n.error):e(e=>t(JSON.parse(e)),s)})})(t)}})),define("metaserver/static/js/modules/clean/react/shared_link_folder/api",["require","exports","metaserver/static/js/modules/clean/prefetch/prefetch","metaserver/static/js/modules/clean/deprecated_ajax/ajax_jquery"],(function(e,t,s,n){"use strict";function a(e){return{_mount_access_perms:e._mount_access_perms,filename:e.filename,href:e.href,is_dir:e.is_dir,ns_id:e.ns_id,open_in_app_data:e.open_in_app_data,shared_folder_id:e.shared_folder_id,sort_key:e.sort_key,folder_id:e.folder_id}}function r(e){return{canCopyToDropboxRoles:e.canCopyToDropboxRoles,canDownloadRoles:e.canDownloadRoles,canPrintRoles:e.canPrintRoles,canRemoveLinkUids:e.canRemoveLinkUids,canSyncToDropboxRoles:e.canSyncToDropboxRoles,canViewContextMenuRoles:e.canViewContextMenuRoles,canViewMetadataRoles:e.canViewMetadataRoles,isEditFolderLink:e.isEditFolderLink,syncVarsByRoles:e.syncVarsByRoles}}function i(e){return{itemId:e.itemId,linkKey:e.linkKey,linkType:e.linkType,secureHash:e.secureHash,subPath:e.subPath,rlkey:e.rlkey}}function o(e){const t=[];for(const n of e.entries)n.is_dir?t.push(a(n)):t.push({is_dir:(s=n).is_dir,filename:s.filename,sort_key:s.sort_key,href:s.href,bytes:s.bytes,preview:s.preview,ns_id:s.ns_id,preview_type:s.preview_type?s.preview_type:null,sjid:s.sjid,ts:s.ts,thumbnail_url_tmpl:s.thumbnail_url_tmpl,file_id:s.file_id,revision_id:s.revision_id,is_symlink:!1});var s;const n=e.share_permissions.map(r),o=e.share_tokens.map(i);return{entries:t,folder:a(e.folder),folderSharedLinkInfo:e.folder_shared_link_info,folderSharePermission:r(e.folder_share_permission),folderShareToken:i(e.folder_share_token),hasMoreEntries:e.has_more_entries,nextRequestVoucher:e.next_request_voucher,sharedLinkInfos:e.shared_link_infos,sharePermissions:n,shareTokens:o,takedownRequestType:e.takedown_request_type}}function l(e,t,s){const a={link_key:e.linkKey,link_type:e.linkType,secure_hash:e.secureHash,sub_path:e.subPath||""};return t&&(a.voucher=t),e.rlkey&&(a.rlkey=e.rlkey),new Promise((e,t)=>n.WebRequest({type:"POST",url:"/list_shared_link_folder_entries",data:a,dataType:"json",success:(t,n,a)=>{if(s){const e=a.getResponseHeader("x-dropbox-request-id");s.end(e||void 0)}e(o(t))},error(e,s,n){t(new Error(n))}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNextPage=t.prefetchFirstPage=t.fetchPreviewAndSharingData=t.fetchPage=t.deserializePage=void 0,t.deserializePage=o,t.fetchPage=l,t.fetchPreviewAndSharingData=function(e){return l(e)},t.prefetchFirstPage=function(e){return(function(){const e=s.getPrefetchData("__REGISTER_SHARED_LINK_FOLDER_PRELOAD_HANDLER");if(e)return e.then(o)})()||l(e)},t.fetchNextPage=function(e,t){return l(e,t)}})),define("metaserver/static/js/modules/clean/react/shared_link_folder/api_odyssey",["require","exports","tslib","metaserver/static/js/modules/clean/prefetch/prefetch","metaserver/static/js/modules/clean/react/shared_link_folder/api","metaserver/static/js/modules/clean/filepath/filepath"],(function(e,t,s,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prefetchFirstPage=t.deserializeFile=t.deserializeFolder=t.deserializeOdysseyResponse=void 0,r=s.__importStar(r);function i(e){const t=[],s=e.paginated?e.first_page.items:e.file_info;for(const e of s)e.is_dir?t.push(o(e)):t.push(l(e));return{entries:t,hasMoreEntries:e.paginated&&e.first_page.has_more_items,nextRequestVoucher:e.paginated?e.first_page.next_request_voucher:void 0}}function o(e){return{_mount_access_perms:e.mount_access_perms,filename:r.filename(e.fq_path),href:"",is_dir:!0,ns_id:e.ns_id,open_in_app_data:void 0,shared_folder_id:void 0,sort_key:[e.sort_key]}}function l(e){return{bytes:e.bytes,file_id:e.file_id,filename:r.filename(e.fq_path),href:"",is_dir:!1,is_symlink:e.is_symlink,ns_id:e.ns_id,revision_id:e.revision_id,sjid:e.sjid,sort_key:[e.sort_key],ts:e.ts}}t.deserializeOdysseyResponse=i,t.deserializeFolder=o,t.deserializeFile=l,t.prefetchFirstPage=function(e){return(function(){const e=n.getPrefetchData("__REGISTER_ODYSSEY_SHARED_LINK_FOLDER_PRELOAD_HANDLER");if(e)return e.then(i)})()||a.fetchPage(e)}})),define("metaserver/static/js/modules/clean/react/shared_link_folder/data/actions",["require","exports","tslib","metaserver/static/js/modules/clean/file_store/actions","metaserver/static/js/modules/clean/react/shared_link_folder/api","metaserver/static/js/modules/clean/react/shared_link_folder/api_odyssey","metaserver/static/js/modules/clean/react/shared_link_folder/data/types","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/previews/data/actions","metaserver/static/js/modules/clean/redux/constants","metaserver/static/js/modules/clean/react/shared_link_folder/utils"],(function(e,t,s,n,a,r,i,o,l,c,d){"use strict";function u(e,t){const{file:n,fileMetadata:a}=(function(e){if(!e)return{file:void 0,fileMetadata:void 0};const{file:t}=e;return{file:t,fileMetadata:s.__rest(e,["file"])}})(t),r=n&&o.getFileStoreId(n);return{type:i.Actions.HydrateSharedFolder,payload:{fileId:r,fileMetadata:a,folderPackage:Object.assign(Object.assign({},e),{entries:e.entries.length?e.entries:r?[{type:"file",id:r}]:[]})}}}function m(e,t){const s=d.getSecureHashOrSubPath(e),n=[],a={};for(const e of t)if(e.is_dir){const t=e.filename;n.push({type:"folder",id:t}),a[t]={folder:e,entries:[],hasMore:!0}}else n.push({type:"file",id:o.getFileRevisionId(e)});return{type:i.Actions.HydrateEntries,payload:{secureHashOrSubPath:s,entries:n,folderPackageMap:a}}}function _(e){return{type:i.Actions.FetchPageRequest,payload:e}}function p(e,t){return{type:i.Actions.FetchPageSuccess,payload:{fileMetadata:e,folderPackage:t}}}function h(e,t){return function s(r,l=0){const{files:c,fileMetadata:u,folderPackage:m}=(function(e,t,s=0){const{entries:n,hasMoreEntries:a,sharedLinkInfos:r,sharePermissions:l,shareTokens:c,takedownRequestType:u}=e,m={},_={[t]:{entries:[],fromIndex:s,hasMore:a,takedownRequestType:u,folder:e.folder,sharedLinkInfo:e.folderSharedLinkInfo,sharePermission:e.folderSharePermission,shareToken:e.folderShareToken}},p=[];return n.forEach((e,s)=>{if(i.isFile(e)){const n=o.getFileStoreId(e);p.push(e),m[n]={sharedLinkInfo:r[s],sharePermission:l[s],shareToken:c[s]},_[t].entries.push({type:"file",id:n})}else{const n=d.getSecureHashOrSubPath(c[s]);_[t].entries.push({type:"folder",id:n}),_[n]={folder:e,fromIndex:0,hasMore:!0,sharedLinkInfo:r[s],sharePermission:l[s],shareToken:c[s]}}}),{files:p,fileMetadata:m,folderPackage:_}})(r,d.getSecureHashOrSubPath(t),l);e(n.putFiles(c)),e(p(u,m)),r.hasMoreEntries&&r.nextRequestVoucher&&a.fetchNextPage(t,r.nextRequestVoucher).then(e=>s(e,l+r.entries.length))}}function f(e,t){return s=>{const{entries:a,sharedLinkInfos:r,sharePermissions:u,shareTokens:m}=t;if(!a)return;const _=[],p={},h={},f=[];a.forEach((e,t)=>{if(i.isFile(e)){const s=o.getFileStoreId(e);p[s]={sharedLinkInfo:r[t],sharePermission:u[t],shareToken:m[t]},_.push(e),f.push({type:"file",id:o.getFileRevisionId(e)})}else{const s=d.getSecureHashOrSubPath(m[t]);h[s]={entries:[],folder:e,fromIndex:0,hasMore:!0,sharedLinkInfo:r[t],sharePermission:u[t],shareToken:m[t]},f.push({type:"folder",id:s})}}),s(n.putFiles(_)),s(l.updatePreviewData(l.buildPreviewData(_,c.ApiClientStatus.Success))),s({type:i.Actions.HydratePreviewAndSharingData,payload:{parentSecureHashOrSubPath:e,parentFolderEntries:f,fileMetadataMap:p,folderPackageMap:h}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.hydratePreviewAndSharingData=t.fetchFolder=t.prefetchFolderFromOdyssey=t.prefetchFolder=t.fetchPageSuccess=t.hydrateEntries=t.hydrateSharedFolderAndFile=void 0,a=s.__importStar(a),r=s.__importStar(r),t.hydrateSharedFolderAndFile=function(e,t){return s=>{t&&s(n.putFile(t.file)),s(u(e,t))}},t.hydrateEntries=m,t.fetchPageSuccess=p,t.prefetchFolder=function(e,t){return t=>{t(_(e));const s=a.prefetchFirstPage(e);return s.then(h(t,e)),s}},t.prefetchFolderFromOdyssey=function(e,t){return s=>{const u=a.fetchPreviewAndSharingData(e);return s(_(e)),r.prefetchFirstPage(e).then(a=>{const{files:r,entries:_}=(function(e,t){const s=e.entries,n=t?t.file:void 0;return{files:s.filter(i.isFile).map(e=>n&&o.areFilesEqual(n,e)?n:e),entries:s}})(a,t);s(n.putFiles(r)),s(l.updatePreviewData(l.buildPreviewData(r,c.ApiClientStatus.Request))),s(m(e,_)),u.then(t=>{const n=d.getSecureHashOrSubPath(e);s(f(n,t)),h(s,e)(t)})}),u}},t.fetchFolder=function(e,t){return s=>(s(_(e)),a.fetchPage(e,void 0,t).then(h(s,e)))},t.hydratePreviewAndSharingData=f})),define("metaserver/static/js/modules/clean/react/shared_link_folder/data/reducer",["require","exports","tslib","lodash","metaserver/static/js/modules/clean/react/shared_link_folder/data/types","metaserver/static/js/modules/clean/react/shared_link_folder/utils","metaserver/static/js/modules/clean/react/shared_link_folder/utils"],(function(e,t,s,n,a,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharedLinkFolderReducer=void 0,n=s.__importStar(n);const o={fileMetadata:{},folderPackage:{},rlkey:""};t.sharedLinkFolderReducer=function(e=o,t){switch(t.type){case a.Actions.FetchPageRequest:{const{payload:s}=t,n=s.rlkey?s.rlkey:e.rlkey,a=i.getSecureHashOrSubPath(s),r=e.folderPackage[a];return r?Object.assign(Object.assign({},e),{folderPackage:Object.assign(Object.assign({},e.folderPackage),{[a]:Object.assign(Object.assign({},r),{hasMore:!0})}),rlkey:n}):e}case a.Actions.HydrateSharedFolder:{const{fileId:s,fileMetadata:n,folderPackage:a}=t.payload,r=i.getSecureHashOrSubPath(a.shareToken),o=null!=s?{[s]:n}:{};return Object.assign(Object.assign({},e),{fileMetadata:Object.assign(Object.assign({},e.fileMetadata),o),folderPackage:Object.assign(Object.assign({},e.folderPackage),{[r]:Object.assign(Object.assign({},a),{hasMore:!0})})})}case a.Actions.HydrateEntries:{const{secureHashOrSubPath:s,entries:n,folderPackageMap:a}=t.payload,r=e.folderPackage[s];return Object.assign(Object.assign({},e),{folderPackage:Object.assign(Object.assign(Object.assign({},e.folderPackage),a),{[s]:Object.assign(Object.assign({},r),{entries:n})})})}case a.Actions.FetchPageSuccess:{const{fileMetadata:n,folderPackage:a}=t.payload,i={};return Object.keys(a).forEach(t=>{const n=e.folderPackage[t]||{},o=a[t],{fromIndex:l}=o,c=s.__rest(o,["fromIndex"]);i[t]=Object.assign(Object.assign(Object.assign({},n),c),{entries:r.mergeFolderEntries(n.entries,c.entries,l,!c.hasMore)})}),Object.assign(Object.assign({},e),{fileMetadata:Object.assign(Object.assign({},e.fileMetadata),n),folderPackage:Object.assign(Object.assign({},e.folderPackage),i)})}case a.Actions.HydratePreviewAndSharingData:{const{fileMetadataMap:s,folderPackageMap:a,parentSecureHashOrSubPath:r,parentFolderEntries:i}=t.payload,o=n.values(a).map(e=>e.folder.filename),l=Object.keys(e.folderPackage).filter(e=>-1===o.indexOf(e)).reduce((t,s)=>(t[s]=e.folderPackage[s],t),{});return Object.assign(Object.assign({},e),{fileMetadata:Object.assign(Object.assign({},e.fileMetadata),s),folderPackage:Object.assign(Object.assign(Object.assign({},l),a),{[r]:Object.assign(Object.assign({},e.folderPackage[r]),{entries:i})})})}}return e}})),define("metaserver/static/js/modules/clean/react/shared_link_folder/data/selectors",["require","exports","tslib","lodash","metaserver/static/js/modules/clean/redux/namespaces","metaserver/static/js/modules/clean/file_store/selectors","metaserver/static/js/modules/clean/react/shared_link_folder/utils"],(function(e,t,s,n,a,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFolderShareTokenWithState=t.getSharedFilePackageByFilenameForFolderPath=t.getSharedFilePackagesForFolderPath=t.getSubfoldersForFolderPath=t.getFolderByPath=void 0,n=s.__importStar(n);const o=e=>e[a.SHARED_LINK_FOLDER_NAMESPACE_KEY];t.getFolderByPath=(e,t)=>{const{folderPackage:s}=o(e);return s[t]};const l=(e,s)=>{const n=t.getFolderByPath(e,s);return n?n.entries.filter(e=>"file"===e.type).map(e=>e.id):[]};function c(e,t){const s=r.getFile(e,t);if(!s)return;const n=((e,t)=>o(e).fileMetadata[t])(e,t);return Object.assign(Object.assign({},n),{file:s})}t.getSubfoldersForFolderPath=(e,s)=>{const n=t.getFolderByPath(e,s);if(n)return n.entries.filter(e=>"folder"===e.type).map(t=>((e,t)=>o(e).folderPackage[t])(e,t.id))},t.getSharedFilePackagesForFolderPath=(e,t)=>l(e,t).map(t=>c(e,t)).filter(Boolean),t.getSharedFilePackageByFilenameForFolderPath=(e,t,s)=>{const a=((e,t,s)=>{if(!s)return;const a=l(e,t);return n.find(a,t=>{const n=r.getFile(e,t);return void 0!==n&&n.filename===s})})(e,t,s);if(a)return c(e,a)},t.getFolderShareTokenWithState=(e,t)=>{const s=o(e).rlkey,n=s||t.rlkey;return i.getFolderShareTokenWithRlkey(t,n)}})),define("metaserver/static/js/modules/clean/react/shared_link_folder/data/store",["require","exports","tslib","lodash","metaserver/static/js/modules/clean/file_store/reducer","metaserver/static/js/modules/clean/react/file_viewer/data/reducer","metaserver/static/js/modules/clean/react/shared_link_folder/data/actions","metaserver/static/js/modules/clean/react/shared_link_folder/data/reducer","metaserver/static/js/modules/clean/redux/store","metaserver/static/js/modules/clean/redux/namespaces"],(function(e,t,s,n,a,r,i,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hydrateStore=t.getStoreForSharedLinkFolder=void 0,n=s.__importStar(n),t.getStoreForSharedLinkFolder=n.once(()=>{const e={[c.FILE_NAMESPACE_KEY]:a.fileNamespaceReducer,[c.FILE_VIEWER_NAMESPACE_KEY]:r.fileViewerReducer,[c.SHARED_LINK_FOLDER_NAMESPACE_KEY]:o.sharedLinkFolderReducer};return l.getStoreAndRegisterReducers(e)}),t.hydrateStore=function(e,{initialPreview:t,initialFolder:s,folderSharedLinkInfo:n,folderSharePermission:a,folderShareToken:r}){const o={folder:s,sharedLinkInfo:n,sharePermission:a,shareToken:r,hasMore:!0,entries:[]};e.dispatch(i.hydrateSharedFolderAndFile(o,t))}})),define("metaserver/static/js/modules/clean/react/shared_link_folder/data/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TakedownType=t.Actions=t.isFile=void 0,t.isFile=function(e){return!e.is_dir},(function(e){e.HydrateSharedFolder="SHARED_FOLDER/HYDRATE",e.HydrateEntries="SHARED_FOLDER/HYDRATE_ENTRIES",e.HydratePreviewAndSharingData="SHARED_FOLDER/HYDRATE_PREVIEW_AND_SHARING_DATA",e.FetchPageSuccess="SHARED_FOLDER/FETCH_SUCCESS",e.FetchPageRequest="SHARED_FOLDER/FETCH_REQUEST"})(t.Actions||(t.Actions={})),(function(e){e[e.DMCA=1]="DMCA",e[e.MALWARE=2]="MALWARE",e[e.ILLEGAL=3]="ILLEGAL",e[e.OTHER=4]="OTHER",e[e.SPAM=5]="SPAM",e[e.TERROR=6]="TERROR",e[e.CSAI=7]="CSAI",e[e.PHISHING=8]="PHISHING"})(t.TakedownType||(t.TakedownType={}))})),define("metaserver/static/js/modules/clean/react/shared_link_folder/folder_icon",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/shared_link_folder/utils","spectrum/icon_content/index","metaserver/static/js/modules/clean/react/icon/icon_helper"],(function(e,t,s,n,a,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedLinkFolderFolderIcon=void 0,n=s.__importDefault(n),t.SharedLinkFolderFolderIcon=({className:e,folder:t,size:s})=>n.default.createElement(r.IconContent,{className:e,name:i.spectrumFolderIcon({size:s,isConfidential:a.isNoAccessFolder(t)})})})),define("metaserver/static/js/modules/clean/react/shared_link_folder/folder_title",["require","exports","tslib","react","metaserver/static/js/modules/constants/trademark","metaserver/static/js/modules/core/uri","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/shared_link_folder/utils","metaserver/static/js/modules/clean/react/async/loadable"],(function(e,t,s,n,a,r,i,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentOwner=t.FolderTitle=void 0,n=s.__importDefault(n);const c=l.Loadable({loader:()=>new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/react/breadcrumb/trail"],t,s)}).then(s.__importStar).then(({BreadcrumbTrail:e})=>e)});class d extends n.default.PureComponent{constructor(){super(...arguments),this.handleCrumbClick=(e,t,s)=>{const{onCrumbClick:n}=this.props;e.preventDefault(),o.navigateToFolderHref(t.href),n&&n(s)}}render(){const{breadcrumbs:e,ownerName:s,ownerTeamLogo:a,ownerTeamName:r,title:i}=this.props;return n.default.createElement("div",{className:"sl-folder-title"},e&&e.length>0?n.default.createElement(c,Object.assign({},(e=>{let t,s;return e.length<=2?t=e:(t=e.slice(e.length-1),s=e.slice(0,e.length-1)),{inlineCrumbs:t,overflowCrumbs:s}})(e),{onChange:this.handleCrumbClick})):i,r?n.default.createElement(t.ContentOwner,{ownerName:s,ownerTeamName:r,ownerTeamLogo:a}):null)}}t.FolderTitle=d,d.displayName="FolderTitle";const u=new r.URI({path:"/business",query:{src:"schmodel"}}).toString();t.ContentOwner=({ownerName:e,ownerTeamName:t,ownerTeamLogo:s})=>n.default.createElement("div",{className:"sl-subtitle"},null!=e?i.intl.formatMessage({id:"V1gDEG",defaultMessage:"from {owner} ({team})"},{owner:e,team:t}):i.intl.formatMessage({id:"mL9XU3",defaultMessage:"from {team}"},{team:t}),null!=s?n.default.createElement("span",null," ","via ",n.default.createElement("a",{href:u},a.TRADEMARK_BUSINESS)):null)})),define("metaserver/static/js/modules/clean/react/shared_link_folder/grid",["require","exports","tslib","react","classnames","metaserver/static/js/modules/clean/em_string","metaserver/static/js/modules/clean/previews/constants","metaserver/static/js/modules/clean/react/icon/icon_helper","metaserver/static/js/modules/clean/react/shared_link_folder/folder_icon","metaserver/static/js/modules/clean/react/file_viewer/url_utils","metaserver/static/js/modules/clean/react/thumbnail","spectrum/tooltip/index","metaserver/static/js/modules/core/i18n"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderCell=t.FileCell=t.SharedLinkFolderGrid=t.FileTitle=void 0,n=s.__importDefault(n),a=s.__importDefault(a);function _({label:e,filename:t}){const s=n.default.createElement("span",{className:"sl-grid-filename"},e);return t===e?s:n.default.createElement(u.Tooltip,{positioning:"below",tooltipContent:t,wrapperClassName:"sl-grid-tooltip-wrapper"},s)}function p({entry:e,onFolderOpen:t,onFileOpen:s,largeGrid:a}){const i=r.Emstring.em_snippet(e.filename,16);return e.is_dir?n.default.createElement(f,{folder:e,label:i,onOpen:t,largeGrid:a}):n.default.createElement(h,{file:e,label:i,onOpen:s,largeGrid:a})}t.FileTitle=_,t.SharedLinkFolderGrid=function({entries:e,onFileOpen:t,onFolderOpen:s,largeGrid:a}){let r="sl-grid-cell";return a&&(r+="-lg"),n.default.createElement("div",{className:"sl-grid"},n.default.createElement("div",{className:"sl-grid-header clearfix"},n.default.createElement("div",{className:"sl-grid-header-column sl-grid-header-column--sort"},m.intl.formatMessage({id:"gTD7Ga",defaultMessage:"Sorted by name"}))),n.default.createElement("ol",{className:"sl-grid-body"},e.map(e=>n.default.createElement("li",{className:r,key:e.filename},n.default.createElement(p,{entry:e,onFolderOpen:s,onFileOpen:t,largeGrid:a})))))};class h extends n.default.PureComponent{constructor(){super(...arguments),this.handleClick=c.linkClickHandler(e=>{e.preventDefault();const{file:t,onOpen:s}=this.props;s(t)})}isVideo(){return this.props.file.preview_type===i.PreviewType.Video}render(){const{file:e,label:t,largeGrid:s}=this.props,r=a.default("sl-link sl-link--file",{"sl-link--disabled":""===e.href});let i="sl-grid-thumbnail-container",l="sl-grid-thumbnail";return s&&(i="sl-grid-thumbnail-container-lg",l="sl-grid-thumbnail-lg"),n.default.createElement("a",{href:e.href,onClick:this.handleClick,className:r},n.default.createElement("div",{className:i},n.default.createElement(d.ThumbnailIcon,{alt:e.filename,className:l,file:e,iconSize:o.SpectrumIconSize.Large}),this.isVideo()?n.default.createElement("div",{className:"sl-video-watermark"}):null),n.default.createElement(_,{label:t,filename:e.filename}))}}t.FileCell=h,h.displayName="FileCell";class f extends n.default.PureComponent{constructor(){super(...arguments),this.handleClick=c.linkClickHandler(e=>{e.preventDefault();const{folder:t,onOpen:s}=this.props;s(t)})}render(){const{folder:e,label:t,largeGrid:s}=this.props,r=a.default("sl-link sl-link--folder",{"sl-link--disabled":""===e.href});let i="sl-grid-thumbnail-container",c="sl-grid-thumbnail";return s&&(i="sl-grid-thumbnail-container-lg",c="sl-grid-thumbnail-lg"),n.default.createElement("a",{href:e.href,onClick:this.handleClick,className:r},n.default.createElement("div",{className:i},n.default.createElement(l.SharedLinkFolderFolderIcon,{className:c,folder:e,size:o.SpectrumIconSize.Large})),n.default.createElement(_,{label:t,filename:e.filename}))}}t.FolderCell=f,f.displayName="FolderCell"})),define("metaserver/static/js/modules/clean/react/shared_link_folder/list",["require","exports","tslib","react","classnames","spectrum/table/index","spectrum/media_table/index","metaserver/static/js/modules/clean/datetime/datetime","metaserver/static/js/modules/clean/em_string","metaserver/static/js/modules/clean/react/shared_link_folder/folder_icon","metaserver/static/js/modules/clean/react/thumbnail","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/uri","metaserver/static/js/modules/clean/react/size_class/constants","metaserver/static/js/modules/clean/react/file_viewer/url_utils","metaserver/static/js/modules/clean/display_format"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedLinkFolderList=void 0,n=s.__importDefault(n),a=s.__importDefault(a);const f=["1 1 50%","1 1 30%","1 1 20%"];function g({entry:e,sizeClass:t,onFolderOpen:s,onFileOpen:a,smallList:r}){return e.is_dir?n.default.createElement(E,{folder:e,sizeClass:t,onOpen:s,smallList:r}):n.default.createElement(S,{file:e,sizeClass:t,onOpen:a,smallList:r})}function v({icon:e,lastModified:t,name:s,fileSize:r,sizeClass:c,onClick:d,href:u,smallList:m}){const f=p.linkClickHandler(e=>{e.preventDefault(),"function"==typeof d&&d()}),g=a.default("sl-list-row",{"sl-list-row--disabled":""===u});return n.default.createElement(i.MediaRow,{className:g},n.default.createElement(i.MediaCell,{className:"sl-list-column--filename",icon:e,title:l.Emstring.em_snippet(s,40)},n.default.createElement("a",{href:u,"aria-label":s,onClick:f})),c!==_.SizeClass.Small?n.default.createElement(i.MediaCell,{className:"sl-list-column--modified",title:t?o.format_date(t,o.localized_datetime_format):"--"}):null,m?n.default.createElement(i.MediaCell,{className:"sl-list-column--size",title:r?h.format_bytes(r):"--"}):null)}function E({folder:e,sizeClass:t,onOpen:s,smallList:a}){let r="";if(""!==e.href){r=m.URI.parse(e.href).updateQuery({lst:""}).toString()}return n.default.createElement(v,{icon:n.default.createElement(c.SharedLinkFolderFolderIcon,{className:"sl-list-icon",folder:e}),href:r,name:e.filename,onClick:()=>s(e),sizeClass:t,smallList:a})}function S({file:e,sizeClass:t,onOpen:s,smallList:a}){return n.default.createElement(v,{icon:n.default.createElement(d.ThumbnailIcon,{alt:e.filename,className:"sl-list-icon",file:e}),lastModified:new Date(1e3*e.ts),name:e.filename,fileSize:e.bytes,href:e.href,onClick:()=>s(e),sizeClass:t,smallList:a})}t.SharedLinkFolderList=function({entries:e,sizeClass:t,onFileOpen:s,onFolderOpen:i,smallList:o}){return n.default.createElement(r.Table,{columnFlex:f,className:a.default("sl-list-container",{"sl-list-container-condensed-list":o})},n.default.createElement(r.TableHead,null,n.default.createElement(r.TableHeadCell,null,u.intl.formatMessage({id:"cJojIg",defaultMessage:"Name"})),t!==_.SizeClass.Small?n.default.createElement(r.TableHeadCell,null,u.intl.formatMessage({id:"wqMlXT",defaultMessage:"Modified"})):null,o?n.default.createElement(r.TableHeadCell,null,u.intl.formatMessage({id:"QG1cgy",defaultMessage:"Size"})):null),n.default.createElement(r.TableBody,null,e.map(e=>n.default.createElement(g,{key:e.filename,entry:e,sizeClass:t,onFileOpen:s,onFolderOpen:i,smallList:o}))))}})),define("metaserver/static/js/modules/clean/react/shared_link_folder/utils",["require","exports","tslib","metaserver/static/js/modules/core/uri","metaserver/static/js/modules/clean/history","metaserver/static/js/modules/core/notify","metaserver/static/js/modules/core/i18n","spectrum-sharing/utils/sharing_constants","metaserver/static/js/modules/clean/viewer"],(function(e,t,s,n,a,r,i,o,l){"use strict";function c(e){const{_mount_access_perms:t}=e;return null!=t&&!t.includes("can_view")}function d(e,t=!1){const s=n.URI.parse(e);"lst"in a.default.get_uri().getQuery()&&s.updateQuery({lst:""}),t&&s.updateQuery({subfolder_nav_tracking:"1"}),(function(e){let t=e.getPath();try{t=decodeURIComponent(t)}catch(e){}a.default.push_state(n.URI.encode_parts(t),e.getQuery())})(s)}function u(e){return e.linkType===o.SharedLinkType.Content?e.subPath.startsWith("/")?e.subPath:`/${e.subPath}`:e.secureHash}function m(e){return l.Viewer.get_viewer().is_signed_in?i.intl.formatMessage({id:"dbYCaa",defaultMessage:"{folder_name} - Dropbox"},{folder_name:e}):i.intl.formatMessage({id:"3J1lxt",defaultMessage:"Dropbox - {folder_name} - Simplify your life"},{folder_name:e})}function _(e,t,s=0,n=!1){if(!Array.isArray(t))return e||[];if(!t.length)return[];if(!Array.isArray(e))return t;const a=[...e];return a.splice(s,t.length,...t),n?a.slice(0,s+t.length):a}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeFolderEntries=t.mergeListChunk=t.setPageTitle=t.generatePageTitle=t.shouldUpdateFolderHierarchy=t.getSecureHashOrSubPath=t.getFolderShareTokenWithRlkey=t.getFolderShareTokenFromLocation=t.removeRlkeyFromURL=t.openFolder=t.navigateToFolderHref=t.isNoAccessFolder=void 0,a=s.__importDefault(a),t.isNoAccessFolder=c,t.navigateToFolderHref=d,t.openFolder=function(e){c(e)?r.Notify.error(i.intl.formatMessage({id:"IzGklK",defaultMessage:"Can’t open {folder_name}. Ask your admin for access."},{folder_name:e.filename})):d(e.href,!0)},t.removeRlkeyFromURL=function(){a.default.remove_query_param("rlkey")},t.getFolderShareTokenFromLocation=function(e){let t=e.path;const s=e.query;let n="";s&&s.rlkey&&(n=s.rlkey.toString());let a=o.SharedLinkType.Shmodel;"/sh"===t.substr(0,3)?(a=o.SharedLinkType.Shmodel,t=t.substring(4,t.length)):"/scl/fo"===t.substr(0,7)&&(a=o.SharedLinkType.Content,t=t.substring(8,t.length));const[r,i,...l]=t.split("/");return{linkKey:r,linkType:a,secureHash:i,subPath:l.join("/"),rlkey:n}},t.getFolderShareTokenWithRlkey=function(e,t){return Object.assign(Object.assign({},e),{rlkey:t||e.rlkey})},t.getSecureHashOrSubPath=u,t.shouldUpdateFolderHierarchy=function(e,t,s){if(t.linkType===o.SharedLinkType.Content&&s.linkType===o.SharedLinkType.Content){return!e[u(s)]}const{secureHash:n,subPath:a}=s,{secureHash:r,subPath:i}=t;return!e[n]||a.startsWith(i)&&e[r].length>=e[n].length},t.generatePageTitle=m,t.setPageTitle=function(e){document.title=m(e)},t.mergeListChunk=_,t.mergeFolderEntries=_})),define("metaserver/static/js/modules/clean/react/share_sync/button",["require","exports","tslib","react","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/modules/clean/react/share_sync/models","spectrum-sharing/utils/sharing_constants","spectrum-sharing/utils/sharing_constants","metaserver/static/js/modules/clean/sharing/views/sync_coachmark","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/constants/payments","metaserver/static/js/modules/clean/analytics","dig-components/buttons","dig-components/menu"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShareSyncButton=void 0,n=s.__importDefault(n),a=s.__importStar(a),i=s.__importStar(i),u=s.__importStar(u);class h extends n.default.Component{render(){const e=this.props.options.map(e=>n.default.createElement(p.Menu.ActionItem,{value:e,key:e.text,disabled:e.isDisabled},e.text));return n.default.createElement(p.Menu.Wrapper,{onSelection:e=>e.handler()},({getTriggerProps:t,getContentProps:s})=>n.default.createElement(n.default.Fragment,null,n.default.createElement(_.Button,Object.assign({},t(),{variant:"primary"}),this.props.targetText),n.default.createElement(p.Menu.Content,Object.assign({},s()),n.default.createElement(p.Menu.Segment,null,e))))}}h.displayName="SyncOptionsDropdown";class f extends n.default.Component{constructor(){super(...arguments),this.logShareFolderPreviewUpgradeBtn=e=>{m.GrowthEventsLogger.log("wb_nq_pre_fo_up_b",{action:e,button_text:"Upgrade to Add Folder",destination_url:"http://www.dropbox.com/low-space",location:"top",quota_status:"near",upsell_type:"button"})},this.handleUpgradeButtonClick=()=>{this.logShareFolderPreviewUpgradeBtn("click"),this.logToTiburon("OUT_OF_QUOTA_UPGRADE_BUTTON_CLICK")}}componentDidUpdate(e){this.props.outOfQuota&&!this.props.shareToken.subPath&&e.shareToken.subPath&&this.logToTiburon("OUT_OF_QUOTA_UPGRADE_BUTTON_RENDER")}componentDidMount(){this.props.outOfQuota&&(this.logShareFolderPreviewUpgradeBtn("view"),this.logToTiburon("OUT_OF_QUOTA_UPGRADE_BUTTON_RENDER"))}logToTiburon(e){m.ShareTibEventLogger.log(this.props.user.id,e,o.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,{rlkey:this.props.shareToken.rlkey,ns_id:this.props.folder.shared_folder_id})}onClickedOption(e,t){e.preventDefault(),t.handler()}getSyncOptions(){const e=this.props.sharePermission.canSyncToDropboxRoles,t=c.Viewer.get_viewer(),s=e.map(e=>r.ShareSyncActionOption.buildOption(this.props.folder,t,e,i.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,this.props.folderPreviewSession,this.props.shareToken.linkType,this.props.encryptionOptions,this.props.sharePermission.isEditFolderLink,this.props.shareToken.rlkey));return 0!==t.get_users(!0).length||this.props.sharePermission.isEditFolderLink||s.push(r.ShareSyncActionOption.buildOption(this.props.folder,null,"anonymous",i.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,this.props.folderPreviewSession,this.props.shareToken.linkType,this.props.encryptionOptions,this.props.sharePermission.isEditFolderLink,this.props.shareToken.rlkey)),s}renderSyncCoachmark(){const e=this.props.sharePermission.canSyncToDropboxRoles.length>0;return this.props.showSyncCoachmark&&e?n.default.createElement("div",{className:"sync-button__coachmark-container"},n.default.createElement(l.SharingSyncCoachmark,null)):null}renderSyncButton(){var e;if(""!==this.props.shareToken.subPath)return null;const t="control__button sync-button";let s;const r=this.getSyncOptions();if((null===(e=this.props.user)||void 0===e?void 0:e.is_cdm_member)&&1===r.length){const e=a.filename(this.props.user.cdm_tmf_path);s=e.length>25?d.intl.formatMessage({id:"zRWUFe",defaultMessage:"Add to my member folder"}):d.intl.formatMessage({id:"TCY3Bw",defaultMessage:"Add to {cdm_tmf_name} folder"},{cdm_tmf_name:e})}else s=d.intl.formatMessage({id:"p7QZY+",defaultMessage:"Add to Dropbox"});const i=e=>n.default.createElement(_.Button,{className:t,variant:"primary",style:{display:"-webkit-box"},onClick:e},s);if(this.props.outOfQuota){if(this.props.eflOverquotaVariant&&"OFF"!==this.props.eflOverquotaVariant&&"CONTROL"!==this.props.eflOverquotaVariant)return i(e=>this.onClickedOption(e,r[0]));const e=`${u.OUT_OF_SPACE_URL}?oqa=wb_oq_pre_fo_up_b`;return n.default.createElement("a",{className:t,href:e,onClick:this.handleUpgradeButtonClick},d.intl.formatMessage({id:"JhDJcU",defaultMessage:"Upgrade to Add Folder"}))}if(1===r.length)return i(e=>this.onClickedOption(e,r[0]));if(r.length>1){const e=s+" ▾";return n.default.createElement(h,{targetText:e,folder:this.props.folder,shareToken:this.props.shareToken,options:r})}return null}render(){return n.default.createElement("div",null,this.renderSyncCoachmark(),this.renderSyncButton())}}t.ShareSyncButton=f,f.displayName="ShareSyncButton"})),define("metaserver/static/js/modules/clean/react/share_sync/models",["require","exports","tslib","immutable","react","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/loggers/folder_preview_logger","metaserver/static/js/modules/clean/react/file_viewer/constants","spectrum-sharing/utils/sharing_constants","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/clean/sharing/shared_content_link_mount_folder","metaserver/static/js/modules/clean/account/email","metaserver/static/js/modules/clean/account/email_verify_reasons"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShareSyncActionOption=void 0,n=s.__importStar(n),a=s.__importDefault(a),r=s.__importStar(r),u=s.__importStar(u),m=s.__importStar(m);const h={text:void 0,handler:void 0,isDisabled:!1,spriteName:void 0};class f extends(n.Record(h)){static buildOption(e,t,s,n,h,g,v,E,S){let y,b=i.intl.formatMessage({id:"ePwCi8",defaultMessage:"Add to my Dropbox"}),T="dropbox";if(null!==t&&null!==s&&(y=t.get_user_by_role(s)),y&&y.is_cdm_member){const e=r.filename(y.cdm_tmf_path);b=e.length>12?i.intl.formatMessage({id:"7xjXDt",defaultMessage:"Add to my member folder"}):i.intl.formatMessage({id:"bzLbhE",defaultMessage:"Add to <strong>{cdm_tmf_name}</strong> folder"},{cdm_tmf_name:e,strong:e=>a.default.createElement("strong",null,e)}),(null==t?void 0:t.is_paired)&&(T="s_briefcase")}else if(null==t?void 0:t.is_paired)switch(s){case"personal":b=i.intl.formatMessage({id:"Wu3pD8",defaultMessage:"Add to personal Dropbox"}),T="s_house";break;case"work":b=i.intl.formatMessage({id:"a96pMB",defaultMessage:"Add to {team_name} Dropbox"},{team_name:t.team_name}),T="s_briefcase"}return new f({text:b,handler:()=>{g===c.SharedLinkType.Shmodel&&o.logEvent(l.UserAction.AddToDropbox,h),y&&!_.EmailVerification.get_for_user(y).verified_or_show(p.EmailVerificationReasons.MOUNT_FOLDER)||(y?d.ShareTibEventLogger.log(y.id,"ADD_TO_DROPBOX",c.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,{ns_id:e.shared_folder_id,rlkey:S}):d.ShareTibEventLogger.log_unauth("ADD_TO_DROPBOX",c.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,{ns_id:e.shared_folder_id,rlkey:S,scl_url:u.get_uri().toString()}),m.mountSharedFolder(e.shared_folder_id,s,n,!0,!1,null,void 0,v,E,S))},spriteName:T})}}t.ShareSyncActionOption=f})),define("metaserver/static/js/modules/clean/auth/multi_account_login_modal",["require","exports","tslib","react","metaserver/static/js/modules/clean/auth/login/form","metaserver/static/js/modules/clean/react/components/modal","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/core/assert","metaserver/static/js/modules/core/i18n","spectrum/modal/index"],(function(e,t,s,n,a,r,i,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestOnlyMultiAccountLoginModal=t.TestOnlyAssumePersonalLockedModal=t.MultiAccountLoginModal=void 0,n=s.__importDefault(n);class d extends n.default.PureComponent{constructor(e){super(e),this.getUser=()=>{const{user:e,userId:t,role:s}=this.props;let n;return null!=e?n=e:null!=t?n=this.viewer.get_user_by_id(t,!0):null!=s&&(n=this.viewer.get_user_by_role(s,!0)),n},this.onLoginSuccess=e=>{this.viewer._sign_in_all_users(),this.props.onAuthenticateSuccess&&!this.props.continuationUrl&&this.props.onAuthenticateSuccess(),this.closeModal()},this.closeModal=e=>{e&&e.stopPropagation(),this.props.onCancel&&this.props.onCancel(),r.Modal.close()},o.assert(null!==e.onAuthenticateSuccess&&void 0!==e.onAuthenticateSuccess||null!==e.continuationUrl&&void 0!==e.continuationUrl,"onAuthenticateSuccess and continuationUrl are mutually exclusive"),this.viewer=i.Viewer.get_viewer()}render(){if(this.viewer.is_team_assume_user_session)return n.default.createElement(m,{displayName:this.viewer.display_name,onRequestClose:this.closeModal,open:!0,teamName:this.viewer.team_name});const e=this.getUser();return o.assert(null!=e,"invalid user"),o.assert(!this.viewer.is_user_signed_in(e),"called multi-account login for a user that's already signed in"),n.default.createElement(u,{onRequestClose:this.closeModal,onAuthenticateSuccess:this.onLoginSuccess,open:!0,continuationUrl:this.props.continuationUrl,teamName:this.viewer.team_name||"",user:e,encryptionOptions:this.props.encryptionOptions})}}t.MultiAccountLoginModal=d,d.displayName="MultiAccountLoginModal";const u=e=>{const{role:t}=e.user;if(!t)return null;const s="personal"===t?l.intl.formatMessage({id:"DCfdq9",defaultMessage:"Sign in to your personal Dropbox"}):l.intl.formatMessage({id:"L5lWSy",defaultMessage:"Sign in to your {team_name} Dropbox"},{team_name:e.teamName});return n.default.createElement(c.Modal,{appElement:document.body,ariaLabel:l.intl.formatMessage({id:"lggZdA",defaultMessage:"Multi-account login modal"}),bodyClassName:"multiaccount-login-modal",bodyId:"multiaccount-login-modal",className:"mc-util-modal",displayCloseButton:!0,onRequestClose:e.onRequestClose,open:e.open,overlayClassName:"file-viewer-modal-overlay"},n.default.createElement("div",{className:"mc-util-modal-header"},s),n.default.createElement("div",{className:"mc-util-modal-body"},n.default.createElement(a.LoginForm,{canRedirect:!!e.continuationUrl,continuationUrl:e.continuationUrl||void 0,emailProps:{initialValue:e.user.email,readonly:!0},googleLoginProps:{positionBelow:!1},maestroStyle:!0,onLoginSuccess:e.onAuthenticateSuccess,rememberMeCheckboxProps:{checked:!0},type:"multi",encryptionOptions:e.encryptionOptions})))};t.TestOnlyMultiAccountLoginModal=u;const m=e=>{const{displayName:t,onRequestClose:s,teamName:a}=e;return n.default.createElement(c.UtilityModal,{appElement:document.body,ariaLabel:l.intl.formatMessage({id:"XTU3gF",defaultMessage:"Personal account locked modal"}),className:"team-assume-user-modal",displayCloseButton:!0,onRequestClose:s,open:e.open,primaryAction:l.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"}),title:l.intl.formatMessage({id:"YcDQxL",defaultMessage:"Personal account not accessible"})},n.default.createElement("div",null,l.intl.formatMessage({id:"9uHtUs",defaultMessage:"{display_name}’s personal account isn’t managed by the {team_name} team, so its contents aren’t accessible to admins."},{display_name:t,team_name:a})))};t.TestOnlyAssumePersonalLockedModal=m})),define("metaserver/static/js/modules/clean/sharing/shared_content_link_mount_folder",["require","exports","tslib","react","metaserver/static/js/modules/clean/browse_interface","metaserver/static/js/modules/clean/react/components/modal","metaserver/static/js/modules/clean/auth/multi_account_login_modal","metaserver/static/js/modules/clean/sharing/api/client","metaserver/static/js/api_v2/user_client","metaserver/static/js/modules/clean/sharing/ui_notifications_util","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/assert","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/flux/dispatcher","metaserver/static/js/modules/clean/sharing/share_page/action_types","metaserver/static/js/modules/clean/auth/login_or_register/types","metaserver/static/js/modules/clean/auth/login_or_register/modal","metaserver/static/js/modules/clean/sharing/ui_util","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/sharing/access_level","metaserver/static/js/modules/clean/react/snackbar"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h,f,g,v,E,S,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mountSharedFolder=void 0,n=s.__importDefault(n),a=s.__importStar(a),u=s.__importStar(u),t.mountSharedFolder=function e(t,s,b,T,w=!1,I=null,M,O,k,C){var N;const P=d.Viewer.get_viewer();let A;if("anonymous"===s){const e=e=>u.reload;return void r.Modal.showInstance(n.default.createElement(g.LoginOrRegisterModal,{downloadAction:f.DownloadAction.SAVE_TO_DROPBOX,id:"shared-link-immediate-signup-modal",initialMode:f.Mode.REGISTER,kind:f.LoginOrRegisterKind.DOWNLOAD,onAuthenticateSuccess:e,onCancel:u.reload,signup_tag:"shmodel_modal_register",encryptionOptions:O}))}if(s&&(P.is_role_signed_in(s)||r.Modal.showInstance(n.default.createElement(i.MultiAccountLoginModal,{encryptionOptions:O,role:s,onAuthenticateSuccess:()=>{e(t,s,b,T,!1,null,M)}}))),s){const e=P.get_uid_by_role(s);m.assert(!!e,"selected role should have corresponding uid"),A=e||-1}else m.assert(!P.is_paired,"role can not be unspecified for paired viewer"),A=P.get_user_ids()[0];let R=_.intl.formatMessage({id:"Zd8jt8",defaultMessage:"Adding to your Dropbox..."});P.is_paired&&(R=P.get_user_by_id(A).is_team?_.intl.formatMessage({id:"PTGTT4",defaultMessage:"Adding to your {team_name} Dropbox..."},{team_name:P.team_name}):_.intl.formatMessage({id:"IVdsoO",defaultMessage:"Adding to your personal Dropbox..."})),null===(N=y.Snackbar.manager)||void 0===N||N.reset(),c.sharingNotificationInProgress(R,!1);const D=new o.FolderShareApiClient({userId:A,client:new l.UserApiV2Client});p.Dispatcher.dispatch({type:h.SharePageActionTypes.MOUNT_FOLDER_REQUEST,metadata:M,user:P.get_user_by_id(A),shared_folder_id:t}),(e=>e?D.addMembers({accessLevel:S.ACCESS_LEVEL.WRITER,contentId:t,members:[{".tag":"email",email:P.get_email_by_role(s)}],quiet:!0}):Promise.resolve())(k).then(()=>{D.mount({contentId:t}).then(e=>{(function(e){if(!e)return;let n=e;(null==I?void 0:I.ns_path)&&(n+=I.ns_path);const r=P.get_user_by_id(A),i=a.browse_uri_for_fq_path(r,n),o={role:s,file_id:I?I.file_id:null,ns_id:I?I.ns_id:t};E.ShareTibEventLogger.log(A,"BROWSE_SUCCESS",b,o),u.redirect(i.toString())})(e.path_lower)}).catch(e=>{var s;const n=e&&e.error&&e.error[".tag"];E.ShareTibEventLogger.log(A,"ADD_TO_DROPBOX_MOUNT_ERROR",b,{ns_id:t,rlkey:C,error_tag:n,error_summary:e&&e.summary}),null===(s=y.Snackbar.manager)||void 0===s||s.reset(),e&&e.error&&"insufficient_quota"===e.error[".tag"]?c.sharingNotificationError(_.intl.formatMessage({id:"jENkzW",defaultMessage:"Can’t add folder. Your Dropbox account is full."})):v.isTotalMountsExceededError(e)?c.failSnackbarWithHelpCenter(v.getTotalMountsExceededMountFoldersMsg(e),v.NSF_HELP_ARTICLE_LINK):v.isTreeSizeExceededError(e)?c.failSnackbarWithHelpCenter(v.getTreeSizeExceededMountFoldersMsg(e),v.NSF_HELP_ARTICLE_LINK):v.isHomeMountsExceededError(e)?c.failSnackbarWithHelpCenter(v.getHomeMountsExceededMountFoldersMsg(e),v.NSF_HELP_ARTICLE_LINK):c.sharingNotificationError(_.intl.formatMessage({id:"EQfnGr",defaultMessage:"We were unable to complete your request."}))})}).catch(e=>{var s;const n=e&&e.error&&e.error[".tag"];E.ShareTibEventLogger.log(A,"ADD_TO_DROPBOX_ADD_MEMBER_ERROR",b,{ns_id:t,rlkey:C,error_tag:n}),null===(s=y.Snackbar.manager)||void 0===s||s.reset(),c.sharingNotificationError(_.intl.formatMessage({id:"EQfnGr",defaultMessage:"We were unable to complete your request."}))})}})),define("spectrum/backdrop/index",["require","exports","tslib","spectrum/backdrop/backdrop"],(function(e,t,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.__exportStar(n,t)})),define("spectrum/backdrop/backdrop",["require","exports","tslib","classnames","react"],(function(e,t,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Backdrop=void 0,n=s.__importDefault(n),a=s.__importStar(a),t.Backdrop=e=>{var{className:t,isVisible:r}=e,i=s.__rest(e,["className","isVisible"]);return r?a.createElement("div",Object.assign({className:n.default("mc-backdrop",t)},i)):null},t.Backdrop.displayName="Backdrop"})),define("spectrum/mobile_menu/mobile_menu",["require","exports","tslib","react","classnames","focus-trap-react","spectrum/backdrop/index","spectrum/mobile_menu/mobile_menu_content","spectrum/mobile_menu/mobile_menu_close_button","spectrum/portal/index","spectrum/scroll_locker/index"],(function(e,t,s,n,a,r,i,o,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileMenu=void 0,n=s.__importStar(n),a=s.__importDefault(a),r=s.__importDefault(r);class u extends n.Component{constructor(){super(...arguments),this.initBodyPadding="0",this.state={isVisible:!1},this.openMobileMenu=()=>{this.initBodyPadding=d.getBodyPadding(),this.setState({isVisible:!0},d.lockScroll)},this.closeMobileMenu=()=>{this.setState({isVisible:!1},()=>d.unlockScroll(this.initBodyPadding))},this.handleKeyDown=e=>{const t=e.key;if("Escape"===t)return void this.closeMobileMenu();const s=e.target;if("ArrowUp"===t||"ArrowLeft"===t){const e=s.previousElementSibling;e&&e.focus()}if("ArrowDown"===t||"ArrowRight"===t){const e=s.nextElementSibling;e&&e.focus()}}}render(){const e=this.props,{children:t,className:d,closeButton:u,trigger:m}=e,_=s.__rest(e,["children","className","closeButton","trigger"]);return n.createElement("div",Object.assign({className:a.default("mc-mobile-menu",d)},_),m({openMobileMenu:this.openMobileMenu}),this.state.isVisible?n.createElement(c.Portal,{isShowInitially:!0},n.createElement(r.default,{focusTrapOptions:{returnFocusOnDeactivate:!0}},n.createElement("div",{className:"mc-mobile-menu-container",onKeyDown:this.handleKeyDown},n.createElement(i.Backdrop,{onClick:this.closeMobileMenu,isVisible:!0}),n.createElement(o.MobileMenuContent,{closeMobileMenu:this.closeMobileMenu},n.createElement("div",{className:"mc-mobile-menu-section"},t),n.createElement("div",{className:"mc-mobile-menu-section"},u?u({closeMobileMenu:this.closeMobileMenu}):n.createElement(l.MobileMenuCloseButton,null)))))):null)}}t.MobileMenu=u})),define("spectrum/mobile_menu/mobile_menu_close_button",["require","exports","tslib","react","spectrum/mobile_menu/mobile_menu_item"],(function(e,t,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileMenuCloseButton=void 0,n=s.__importStar(n),t.MobileMenuCloseButton=()=>n.createElement(a.MobileMenuItem,{className:"mc-mobile-menu-close-button",shouldCloseMenuOnSelect:!0},"Close"),t.MobileMenuCloseButton.displayName="MobileMenuCloseButton"})),define("spectrum/mobile_menu/mobile_menu_content",["require","exports","tslib","react","classnames","prop-types"],(function(e,t,s,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileMenuContent=void 0,n=s.__importStar(n),a=s.__importDefault(a),r=s.__importDefault(r);class i extends n.Component{getChildContext(){return{closeMobileMenu:this.props.closeMobileMenu}}render(){const e=this.props,{className:t,children:r,closeMobileMenu:i}=e,o=s.__rest(e,["className","children","closeMobileMenu"]);return n.createElement("div",Object.assign({className:a.default("mc-mobile-menu-content",t)},o),r)}}t.MobileMenuContent=i,i.childContextTypes={closeMobileMenu:r.default.func}})),define("spectrum/mobile_menu/mobile_menu_item",["require","exports","tslib","react","classnames","prop-types","react-touch-events"],(function(e,t,s,n,a,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileMenuItem=void 0,n=s.__importStar(n),a=s.__importDefault(a),r=s.__importDefault(r),i=s.__importDefault(i);class o extends n.Component{constructor(){super(...arguments),this.handleSelect=e=>{const{shouldCloseMenuOnSelect:t,shouldPreventDefaultOnSelectItem:s,onSelect:n}=this.props;t&&this.context.closeMobileMenu(),s&&e.preventDefault(),n&&n(e)}}render(){const e=this.props,{className:t,shouldCloseMenuOnSelect:r,children:o,onSelect:l,shouldPreventDefaultOnSelectItem:c}=e,d=s.__rest(e,["className","shouldCloseMenuOnSelect","children","onSelect","shouldPreventDefaultOnSelectItem"]);return n.createElement(i.default,{onTap:this.handleSelect},n.createElement("button",Object.assign({},d,{className:a.default("mc-mobile-menu-item",t),onClick:this.handleSelect}),o))}}t.MobileMenuItem=o,o.contextTypes={closeMobileMenu:r.default.func},o.defaultProps={shouldCloseMenuOnSelect:!0,shouldPreventDefaultOnSelectItem:!0}})),define("metaserver/static/js/modules/clean/sharing/views/sync_coachmark",["require","exports","tslib","react","metaserver/static/js/modules/clean/deprecated_ajax/ajax_jquery","metaserver/static/js/modules/clean/react/bubble","metaserver/static/js/modules/clean/react/components/css","metaserver/static/js/modules/clean/react/image","metaserver/static/js/modules/clean/static_urls","metaserver/static/js/modules/core/i18n"],(function(e,t,s,n,a,r,i,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharingSyncCoachmark=void 0,n=s.__importDefault(n),a=s.__importStar(a),r=s.__importDefault(r);class d extends n.default.Component{constructor(){super(...arguments),this.state={show:!0},this.hideSyncCoachmark=()=>{this.setState({show:!1})}}componentWillMount(){a.BackgroundRequest({url:"/sharing/seen_sync_coachmark"})}render(){return this.state.show?n.default.createElement(r.default,{arrow:r.default.ARROW.TOP_LEFT,className:"sync-coachmark u-pad-s"},n.default.createElement(o.Image,{className:"u-l-ib",src:l.static_url("/static/images/sharing/sync_coachmark-vflvg8Oy0.png"),srcHiRes:l.static_url("/static/images/sharing/sync_coachmark@2x-vflhX3Mhx.png")}),n.default.createElement("div",{className:"u-l-ib u-pad-left-s sync-coachmark__content"},n.default.createElement("h2",null,c.intl.formatMessage({id:"utNf/m",defaultMessage:"Stay in sync"})),n.default.createElement("p",null,c.intl.formatMessage({id:"SIGEzu",defaultMessage:"For easy access to this folder in the future, add it to your Dropbox."})),n.default.createElement("button",{className:"c-btn c-btn--secondary",onClick:this.hideSyncCoachmark},c.intl.formatMessage({id:"W4An+g",defaultMessage:"Got it"})))):n.default.createElement("div",null)}}d.displayName="SharingSyncCoachmark",t.SharingSyncCoachmark=i.requireCssWithComponent(d,["/static/css/sharing/sync_coachmark-vflHD6MS5.css"])})),define("metaserver/static/js/modules/clean/react/welcome_modal",["require","exports","tslib","react","metaserver/static/js/modules/clean/growth/experiments/logger","metaserver/static/js/modules/clean/react/components/css","metaserver/static/js/modules/clean/react/image","metaserver/static/js/modules/clean/react/components/modal","metaserver/static/js/modules/clean/static_urls","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/i18n","spectrum/button/index","spectrum/modal/index"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WelcomeModal=t.TestOnlyWelcomeModal=void 0,n=s.__importStar(n),a=s.__importDefault(a),c=s.__importStar(c);const _=e=>{const t=e=>{e&&e.stopPropagation(),o.Modal.close(),c.reload()};return n.createElement(m.Modal,{appElement:document.body,ariaLabel:"Welcome to Dropbox modal",bodyClassName:"welcome-modal-body",bodyId:e.id||"welcome-modal",className:"welcome-modal",displayCloseButton:!0,onRequestClose:t,open:!0,overlayClassName:"file-viewer-modal-overlay"},n.createElement("div",{className:"welcome-modal-illo"},n.createElement(i.Image,{src:l.static_url("/static/images/growth/dropbox_files-vfl7phztL.png"),srcHiRes:l.static_url("/static/images/growth/dropbox_files@2x-vflABjXqu.png")})),n.createElement("h1",{className:"welcome-modal-title"},d.intl.formatMessage({id:"qoqdPt",defaultMessage:"Welcome to Dropbox!"})),n.createElement("div",{className:"welcome-modal-text"},d.intl.formatMessage({id:"LgDSr+",defaultMessage:"Now it’s easy to securely back up your files and photos, access them from any device, and share them with others."})),n.createElement(u.Button,{className:"go-to-dropbox-button",fullWidth:!0,href:e.redirect_url||"/home",onClick:()=>{a.default.log("sharing","shared_link_welcome_modal_button_click")},tagName:"a",variant:"primary"},d.intl.formatMessage({id:"Dkf+Pc",defaultMessage:"Go to my Dropbox"})),n.createElement("div",{className:"welcome-modal-no-thanks"},n.createElement(u.Button,{className:"button-as-link",fullWidth:!0,onClick:t,variant:"styleless"},d.intl.formatMessage({id:"ZZs8no",defaultMessage:"No thanks, stay on this page"}))))};t.TestOnlyWelcomeModal=_;const p=r.requireCssWithComponent(_,["/static/css/welcome_modal-vfl8PUD8a.css"]);t.WelcomeModal=p})),define("metaserver/static/js/modules/clean/auth/login_or_register/modal",["require","exports","tslib","react","classnames","lodash","metaserver/static/js/modules/clean/auth/login_or_register/logging_util","metaserver/static/js/modules/clean/auth/login/form","metaserver/static/js/modules/clean/auth/login_or_register/types","metaserver/static/js/modules/clean/auth/register/form","metaserver/static/js/modules/clean/auth/register/types","metaserver/static/js/modules/clean/growth/experiments/logger","dig-components/typography","metaserver/static/js/modules/clean/react/components/css","metaserver/static/js/modules/clean/react/components/modal","metaserver/static/js/modules/clean/react/welcome_modal","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/assert","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/notify","spectrum/button/index","spectrum/modal/index","metaserver/static/js/modules/clean/react/maestro_nav/shared_code/dropbox_logo","react-intl"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h,f,g,v,E,S,y,b,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoginOrRegisterModal=t.TestOnlyLoginOrRegisterModal=t.TestOnlyCommentsHeader=t.TestOnlyCommentTextVariantCssClass=t.PIINotificationText=t.ExperimentalToggleMessage=t.DefaultHeaderContent=void 0,n=s.__importDefault(n),a=s.__importDefault(a),u=s.__importDefault(u),f=s.__importStar(f);const w={[l.CommentTextVariant.DEFAULT]:"default-variant",[l.CommentTextVariant.POST]:"post-comment-variant",[l.CommentTextVariant.SUBSCRIBE]:"subscribe-variant"};t.TestOnlyCommentTextVariantCssClass=w,t.DefaultHeaderContent=({mode:e})=>n.default.createElement("div",{className:"modal-header"},n.default.createElement(b.DropboxLogo,{className:"modal-header__dropbox-logo"}),n.default.createElement("span",null,v.intl.formatMessage(e===l.Mode.LOGIN?T.defineMessage({id:"nOuyMw",defaultMessage:"Save it for later in your Dropbox account"}):T.defineMessage({id:"eUpi8/",defaultMessage:"Save it for later in Dropbox"})))),t.ExperimentalToggleMessage=({mode:e,onHeaderLinkClick:t})=>{const s=e===l.Mode.LOGIN?T.defineMessage({id:"vHTAAQ",defaultMessage:"Sign in or <a>create an account</a>"}):T.defineMessage({id:"+OG7LA",defaultMessage:"Sign up or <a>sign in to your account</a>"});return n.default.createElement(n.default.Fragment,null,v.intl.formatMessage(s,{a:e=>n.default.createElement(S.Button,{className:"button-as-link toggle-form-link",onClick:t,variant:"styleless"},e)}))};const I=({className:e,commentTextVariant:t,mode:s})=>{let a;switch(t){case l.CommentTextVariant.POST:a=s===l.Mode.LOGIN?v.intl.formatMessage({id:"KXgMVH",defaultMessage:"To post your comment, sign in to Dropbox."}):v.intl.formatMessage({id:"LakyAx",defaultMessage:"To post your comment, create a free Dropbox account."});break;case l.CommentTextVariant.SUBSCRIBE:a=s===l.Mode.LOGIN?v.intl.formatMessage({id:"oHZbXS",defaultMessage:"To subscribe to this file, sign in to Dropbox."}):v.intl.formatMessage({id:"fy/9XT",defaultMessage:"To subscribe to this file, create a free Dropbox account."});break;default:a=s===l.Mode.LOGIN?v.intl.formatMessage({id:"3qW+D4",defaultMessage:"To continue, sign in to Dropbox."}):v.intl.formatMessage({id:"uMjLqH",defaultMessage:"To continue, create a free Dropbox account."})}return n.default.createElement("div",{className:`text-variant ${e}`},a)};t.TestOnlyCommentsHeader=I,t.PIINotificationText=()=>n.default.createElement(m.Text,{variant:"label",size:"xsmall",tagName:"p",color:"faint",className:"pii-notification"},v.intl.formatMessage(T.defineMessage({id:"KgnCKc",defaultMessage:"People with access to this folder will see your name, email, and folder activity."})));class M extends n.default.PureComponent{constructor(a){super(a),this.logWebActivityOnce=r.once(()=>i.logModalMiscActivity(this.props.kind,this.props.downloadAction)),this.renderHeader=()=>{if(this.state.isThirdPartyRegistrationContinuation)return n.default.createElement("div",{className:"mc-util-modal-header center"},n.default.createElement("h1",null,v.intl.formatMessage({id:"Ft3ikL",defaultMessage:"Create account and continue"})));const{commentParams:e,customHeaderContent:s,kind:a}=this.props;if(s){const e=s;return n.default.createElement(e,{mode:this.state.mode,changeMode:this.toggleMode})}return n.default.createElement("div",{className:"mc-util-modal-header center"},a===l.LoginOrRegisterKind.COMMENT?n.default.createElement(I,{className:w[e.variant],commentTextVariant:e.variant,mode:this.state.mode}):n.default.createElement(t.DefaultHeaderContent,{mode:this.state.mode}))},this.renderFooter=()=>{const{customFooterContent:e}=this.props;if(e){const t=e;return n.default.createElement(t,null)}return null},this.toggleMode=t=>{t.preventDefault(),this.setState(t=>{if(this.props.kind===l.LoginOrRegisterKind.COMMENT){const n=t.mode===l.Mode.LOGIN?"sign_up_modal_toggle_to_sign_up":"sign_up_modal_toggle_to_sign_in";new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/react/comments2/data/logger"],t,s)}).then(s.__importStar).then(e=>e.logEvent(n,{stream:this.props.commentParams.stream}))}return{mode:t.mode===l.Mode.LOGIN?l.Mode.REGISTER:l.Mode.LOGIN}},()=>i.logAuthIntent(this.state.mode))},this.onAuthenticateSuccess=(t,a)=>{const{mode:r}=this.state,{downloadAction:i,kind:o}=this.props;if(r===l.Mode.LOGIN?E.Notify.success(v.intl.formatMessage({id:"Ye/4Vz",defaultMessage:"Successfully signed in to Dropbox"})):E.Notify.success(v.intl.formatMessage({id:"4wqmq+",defaultMessage:"Successfully signed up for Dropbox"})),this.props.kind===l.LoginOrRegisterKind.COMMENT){const t=r===l.Mode.LOGIN?"sign_up_modal_sign_in_success":"sign_up_modal_sign_up_success";new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/react/comments2/data/logger"],t,s)}).then(s.__importStar).then(e=>e.logEvent(t,{stream:this.props.commentParams.stream}))}const c=a&&this.shouldRedirectToTeamDiscoveryPage(a);if(c)return f.redirect(c);if(this.props.onAuthenticateSuccess&&this.props.onAuthenticateSuccess(t),o===l.LoginOrRegisterKind.IMMEDIATE||o===l.LoginOrRegisterKind.SIDEBAR||i===l.DownloadAction.DIRECT_DOWNLOAD)if(r===l.Mode.REGISTER){if(a&&a.force_redirect_url&&a.redirect_url)return f.redirect(a.redirect_url);u.default.log("sharing","shared_link_welcome_modal_view"),p.Modal.showInstance(n.default.createElement(h.WelcomeModal,{id:"shared-link-welcome-modal"}))}else r===l.Mode.LOGIN&&f.reload();else this.closeModal()},this.onCancel=e=>{var t;e&&e.stopPropagation(),i.logModalDismissed(this.state.mode,null!==(t=this.props.kind)&&void 0!==t?t:void 0),this.props.onCancel&&this.props.onCancel(),this.closeModal()},this.closeModal=e=>{e&&e.stopPropagation(),p.Modal.close()},this.state={mode:a.initialMode||l.Mode.LOGIN,isThirdPartyRegistrationContinuation:!1},g.assert(!(a.kind===l.LoginOrRegisterKind.COMMENT&&!a.commentParams),"Comment parameters must be provided if calling this modal from comments code")}componentDidMount(){var e;i.logAuthIntent(this.state.mode),i.logModalShown(this.state.mode,null!==(e=this.props.kind)&&void 0!==e?e:void 0,this.props.loggingExtra),this.logWebActivityOnce()}render(){var e;const{mode:s}=this.state,{id:r,signup_tag:i,showGoogleRegistration:u,showPIINotification:m,googleRegisterProps:_,customHeaderContent:p,customFooterContent:h,loginContinuationUrl:g,additionalLoginData:v,additionalRegisterData:E}=this.props;return n.default.createElement(y.Modal,{ariaLabel:"Login or register modal",appElement:document.body,bodyId:r,className:a.default("mc-util-modal mc-util-modal-regular login-or-register-modal","conversion-experiment"),displayCloseButton:!0,onRequestClose:this.onCancel,open:!0,overlayClassName:null!==(e=this.props.modalOverlayClassName)&&void 0!==e?e:"file-viewer-modal-overlay",width:400},this.renderHeader(),n.default.createElement("div",{className:"mc-util-modal-body"},!p&&n.default.createElement(t.ExperimentalToggleMessage,{mode:this.state.mode,onHeaderLinkClick:this.toggleMode}),s===l.Mode.LOGIN&&n.default.createElement(o.LoginForm,{canRedirect:!1,continuationUrl:g||f.get_href(),className:"login-form-wrapper",googleLoginProps:{positionBelow:!0,signupTag:i},appleLoginProps:{positionBelow:!0},onLoginSuccess:this.onAuthenticateSuccess,rememberMeCheckboxProps:{checked:!0},encryptionOptions:this.props.encryptionOptions,additionalData:Object.assign(Object.assign({},v),{signup_tag:i||void 0})}),s===l.Mode.REGISTER&&n.default.createElement(c.RegisterForm,{additionalParams:Object.assign(Object.assign({},E),{signup_tag:i||void 0}),canRedirect:!1,className:"register-form-wrapper",onRegisterSuccess:this.onAuthenticateSuccess,tosCheckboxProps:{inline:!1},marketingOptInProps:{show:!!this.props.showMarketingOptIn,checked:!1},googleRegisterProps:u?Object.assign(Object.assign({},_||{}),{position:"BOTTOM"}):void 0,onRegisterFormEvent:e=>{e===d.RegisterFormEvent.GOOGLE_REGISTER_SUCCESS&&this.setState({isThirdPartyRegistrationContinuation:!0})}}),m&&n.default.createElement(t.PIINotificationText,null)),h&&this.renderFooter())}shouldRedirectToTeamDiscoveryPage(e){const{mode:t}=this.state,{kind:s}=this.props;if(s===l.LoginOrRegisterKind.SIDEBAR&&t===l.Mode.REGISTER&&e.force_redirect_url&&e.redirect_url&&e.redirect_url.indexOf("/team/discover/suggest")>-1)return e.redirect_url}}t.TestOnlyLoginOrRegisterModal=M,M.defaultProps={showGoogleRegistration:!0},M.displayName="LoginOrRegisterModal";const O=_.requireCssWithComponent(M,["/static/css/spectrum/index.web-vfliw9181.css","/static/css/components/login_or_register_modal-vflUe5qth.css","/static/css/legacy_packages/components-vfltTYCHD.css","/static/css/components/button-vfl7d2xHj.css","/static/css/scooter/scooter-scoped-vflpl9JSl.css","/static/css/recaptcha_challenge-vflrcf67y.css","/static/css/recaptcha_v2_challenge-vflYEW-GO.css"]);t.LoginOrRegisterModal=O})),define("metaserver/static/js/modules/clean/react/previews/sharing_plugin/copy_folder_link_button",["require","exports","tslib","react","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/core/browser_detection","spectrum-sharing/utils/sharing_constants","spectrum-sharing/utils/logging","metaserver/static/js/modules/clean/react/previews/sharing_plugin/copy_link_button"],(function(e,t,s,n,a,r,i,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyFolderLinkButton=void 0,n=s.__importDefault(n);const c=(e,t,s,n)=>{const o=i.SHARE_ACTION_ORIGIN_TYPE.SHARING_PREVIEW_PAGE,l=r.get_browser_info(),c={device_type:s.deviceType,folder_preview_session_id:s.id,folder_ns_id:s.ns_id||0,web_request_id:s.web_request_id,extra:d(s.extra),ns_id:t,content_id:t,is_folder:!0},u=Object.assign(Object.assign({},c),{browser:l.browser,browser_version:l.version,created_new_link:!1});n?a.ShareTibEventLogger.log(n,e,o,u):a.ShareTibEventLogger.log_unauth(e,o,u)},d=e=>JSON.stringify(Object.assign(Object.assign({},e),{has_cached_data:+!!e.has_cached_data,folder_preview_timeline:JSON.stringify(e.folder_preview_timeline),subfolder_nav_tracking:+!!e.subfolder_nav_tracking,web_timing_data:JSON.stringify(e.web_timing_data)}));t.CopyFolderLinkButton=e=>{var{ns_id:t,folderPreviewSession:a}=e,r=s.__rest(e,["ns_id","folderPreviewSession"]);return n.default.createElement(l.CopyLinkButton,Object.assign({},r,{logSuccess:()=>{var e;return c(o.TiburonEventName.CopySharedLink,t,a,null===(e=null==r?void 0:r.user)||void 0===e?void 0:e.id)},logFailure:()=>{var e;return c(o.TiburonEventName.CopySharedLinkFailure,t,a,null===(e=null==r?void 0:r.user)||void 0===e?void 0:e.id)}}))},t.CopyFolderLinkButton.displayName="CopyFolderLinkButton"})),define("metaserver/static/js/modules/clean/sharing/clean/util/link_util/parser",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCleanedSharingUrl=t.parseLink=void 0,t.parseLink=e=>{const t=new URL(e),s=null!=t.searchParams.get("rlkey"),n=t.pathname.startsWith("/s/")||t.pathname.startsWith("/sh/");return{protocol:t.protocol,hostname:t.hostname,pathname:t.pathname,searchParams:t.searchParams,doesContainRlKey:s,doesContainShmodelLink:n}},t.getCleanedSharingUrl=e=>{const t=e.searchParams,s=new URLSearchParams;let n="";return t.get("dl")&&(n="?",s.append("dl",t.get("dl"))),t.get("rlkey")&&(n="?",s.append("rlkey",t.get("rlkey"))),n+=s.toString(),e.protocol+"//"+e.hostname+e.pathname+n}})),define("metaserver/static/js/modules/clean/react/previews/sharing_plugin/copy_link_button",["require","exports","tslib","metaserver/static/js/modules/clean/sharing/ui_notifications_util","metaserver/static/js/modules/clean/sharing/clean/util/link_util/parser","metaserver/static/js/modules/clean/clipboard_v3","dig-components/buttons","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/snackbar"],(function(e,t,s,n,a,r,i,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyLinkButton=void 0,a=s.__importStar(a),o=s.__importDefault(o),t.CopyLinkButton=e=>{var t;const s=l.intl.formatMessage({id:"8QMEOE",defaultMessage:"Copy link"});return o.default.createElement(i.Button,{className:"copy-link-button",variant:null!==(t=e.variant)&&void 0!==t?t:"opacity",onClick:()=>{r.copyToClipboard(a.getCleanedSharingUrl(e.parsedLink),()=>{(()=>{var t;null===(t=c.Snackbar.manager)||void 0===t||t.reset(),n.showCopyLinkSuccessSnackbar(a.getCleanedSharingUrl(e.parsedLink),e.linkAccessLevel),e.logSuccess()})()},()=>{(()=>{var t;null===(t=c.Snackbar.manager)||void 0===t||t.reset(),n.showCopyLinkErrorSnackbar(a.getCleanedSharingUrl(e.parsedLink)),e.logFailure()})()})}},s)},t.CopyLinkButton.displayName="CopyLinkButton"})),define("metaserver/static/js/modules/clean/react/share_download/copy_to_dropbox/api",["require","exports","tslib","metaserver/static/js/modules/clean/deprecated_ajax/ajax_as_promised_jquery"],(function(e,t,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copySharedFile=void 0,n=s.__importStar(n),t.copySharedFile=function(e,t){const s={link_key:e.linkKey,link_type:e.linkType,secure_hash:e.secureHash,subpath:e.subPath,rlkey:e.rlkey};return e.itemId&&(s.item_id=e.itemId),new Promise((e,a)=>n.WebProgressRequest({url:"/sm/c2d",data:s,subject_user:t,success:e}))}})),define("metaserver/static/js/modules/clean/react/share_download/util",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/file_viewer/constants","metaserver/static/js/modules/clean/react/file_viewer/logging","metaserver/static/js/modules/clean/react/file_viewer/utils","metaserver/static/js/modules/clean/react/share_download/models","metaserver/static/js/modules/clean/react/title_bar/overflow_menu","metaserver/static/js/modules/clean/share_download/types","metaserver/static/js/modules/clean/shared_link/types","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/clean/loggers/folder_preview_logger","metaserver/static/js/modules/clean/react/flows/conversions/actions/unzip","metaserver/static/js/modules/clean/react/flows/conversions/utils","metaserver/static/js/modules/core/i18n","typescript/libraries/file-viewer/src/core/config","dig-components/modal","metaserver/static/js/dig-illustrations/hero/remote-work","dig-components/typography","dig-components/buttons","metaserver/static/js/modules/clean/react/components/modal"],(function(e,t,s,n,a,r,i,o,l,c,d,u,m,_,p,h,f,g,v,E,S,y){"use strict";function b({canCopyToDropboxRoles:e},t,s,n,a,r,i){const l=[];if(e.length>0){const c=u.Viewer.get_viewer(),d=c.get_users(!0),m=(d,u)=>{const m=-1===e.indexOf(u);l.push(o.ShareDownloadActionOption.buildToDropboxOption(t,s,c,d,u,m,n,a,r,i))};d.forEach(e=>{m(e,e.role)}),e.indexOf("anonymous")>-1&&m(void 0,"anonymous")}return l}function T(e,t,s,n,a,r,i,l){const{canDownloadRoles:u}=e,{buildDirectOption:m}=o.ShareDownloadActionOption,h=[];return c.isPendingEntry(n)?h:(u.length>0&&h.push(m(t,a,r,s.linkType)),h.push(...b(e,s,n,r,l)),i&&c.isEntry(n)&&d.isEntrySharedFile(n)&&p.canConvertFile(n,e)&&_.UnzipAction.selector([n])&&h.push(o.ShareDownloadActionOption.extractToDropboxOption(i,n,i.role,s,!1)),h)}function w(e,t,s,n,a){return o=>{n&&n(),e.handler&&e.handler(),s?m.logEvent(e.userAction,s):r.logUserAction(e.userAction,i.getSplitButtonUserActionContext(t,a))}}Object.defineProperty(t,"__esModule",{value:!0}),t.showPostDownloadSignInModal=t.PostDownloadSignInModal=t.isDownloadAllowed=t.getDownloadOptionsAsPopoverOrMobileItems=t.callOptionHandler=t.getDownloadOptions=t.getToDropboxOptions=void 0,n=s.__importDefault(n),t.getToDropboxOptions=b,t.getDownloadOptions=T,t.callOptionHandler=w,t.getDownloadOptionsAsPopoverOrMobileItems=function(e,t,s,r,i,o){return T(e,t,s,r,null,i,null,o).map(e=>n.default.createElement(l.PopoverOrMobileItem,{key:e.userAction,disabled:e.isDisabled,onSelect:w(e,a.SplitButtonActionLocation.Split,o)},e.text))},t.isDownloadAllowed=function(e){return e.canDownloadRoles.length>0},t.PostDownloadSignInModal=({encryptionOptions:e,logUserAction:t,isFolder:s})=>{const[a,r]=n.default.useState(!0),o=()=>{r(!1),null==t||t({action:"post_download_signin_modal_close",context:"post_download_sigin_modal"})},l=h.intl.formatMessage({id:"RfGyPH",defaultMessage:"Close"}),c=s=>{i.showAuthModal({mode:s,kind:f.LoginOrRegisterKind.DOWNLOAD,encryptionOptions:e,loggingExtra:{source:"post_download_modal"}}),null==t||t({action:s===f.AuthMode.LOGIN?"post_download_signin_modal_login":"post_download_signin_modal_register",context:"post_download_sigin_modal"})};return n.default.createElement(g.Modal,{open:a,isCentered:!0,onRequestClose:o},n.default.createElement(g.Modal.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},n.default.createElement(v.RemoteWorkHero,{aspectRatio:"16:9"})),n.default.createElement(g.Modal.Body,{hasVerticalSpacing:!0},s?n.default.createElement(E.Title,null,h.intl.formatMessage({id:"gGscZD",defaultMessage:"Your folder is downloading"})):n.default.createElement(E.Title,null,h.intl.formatMessage({id:"I4X18Q",defaultMessage:"Your file is downloading"})),n.default.createElement("div",null,n.default.createElement(E.Text,null,h.intl.formatMessage({id:"F2Wlhv",defaultMessage:"In the meantime, sign up for Dropbox to have secure access to all your files. "}))),n.default.createElement(E.Text,{tagName:"span"},h.intl.formatMessage({id:"YYxYZ9",defaultMessage:"Collaborate with friends, family and coworkers from any device."}))),n.default.createElement(g.Modal.Footer,null,n.default.createElement(S.Button,{variant:"transparent",onClick:o},l),n.default.createElement(S.Button,{variant:"opacity",onClick:()=>c(f.AuthMode.LOGIN)},h.intl.formatMessage({id:"N0xz5m",defaultMessage:"Sign in"})),n.default.createElement(S.Button,{variant:"primary",onClick:()=>c(f.AuthMode.REGISTER)},h.intl.formatMessage({id:"5KEf7W",defaultMessage:"Sign up"}))))},t.showPostDownloadSignInModal=function(e){var s;if((function(e){const t=window.localStorage.getItem(e);if(!t)return!0;const s=JSON.parse(t);if((new Date).getTime()>s)return window.localStorage.removeItem(e),!0;return!1})("dbx_previews_log_out_download_modal")){y.Modal.showInstance(n.default.createElement(t.PostDownloadSignInModal,Object.assign({},e))),null===(s=e.logUserAction)||void 0===s||s.call(e,{action:"show_post_download_signin_modal",context:"download"});const a=(new Date).getTime()+864e5;window.localStorage.setItem("dbx_previews_log_out_download_modal",JSON.stringify(a))}}})),define("metaserver/static/js/dig-illustrations/spot/file-folders",["require","exports","tslib","react"],(function(e,t,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileFoldersSpot=void 0,n=s.__importStar(n),t.FileFoldersSpot=e=>{var{altText:t,inverse:a}=e,r=s.__rest(e,["altText","inverse"]);const i=`dig-Illustration dig-Illustration-spot${a?" dig-Illustration--inverse":""}`;return n.createElement("svg",Object.assign(Object.assign({role:"presentation"},r),{className:i,viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),n.createElement("title",null,t),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M408.6 42.5c-30.9 10.2-63.2 18.4-95.4 27.9-15.3 4.9-24.9 15.4-38.4 22.2-12.7 7.2-27.4 14.6-39.9 22.3-20.5 11.2-17.4 29.2-21.7 47.4-1.5 4.4-4.2 10.3-5.1 15.2-2.7 12.8-3 24.6-6.1 37.1.3 9.9-12.2 19.3-1.5 27.3 2.5 1.9 4 3.1 7.1 3.1 10.5-.5 23.5-19.5 29-28.2.5-2.3 8.3-5 11.7-6.7 4.9-2.4 11.9-7 14-9.1 4.5-4.4.7-13.8-.6-19.2 9.3-4 19.8-15 27.8-21.1 4.5-2 15.5-3.5 21.4-5.3 1 9.5 2.3 29.2 3.8 35.3 2.4 6.9 2.7 17.4 2.9 23.8-.3 3.2-6.6 10.6-7.4 13.5-3.3 6.1-5.1 17.5-2.3 23.5 2.9 6.9 11.7 8.7 18.2 6.5 6.8-1.6 19.6-15.4 24.5-18.4 22.2-12.2 37.7-37.1 57-52.5 10.6-6.5 18.7-10.1 29.9-17 5.9-4 11.9-5.9 15.1-10.8 2.6-3 8.7-5.8 10.5-8.6v-8.8c1.8-.3 1.7-.8 2.2-4.8.3-3.6 1.2-2.3.4-6.4-.1-13.3-16.6-30.5-23.5-39.8-9.2-11.3-11.3-26.9-20.5-38.8 0 3.5-5.6 3.4-4.3-3.5-1.4 3.4-3.2 2.4-3.2-2.3-2.8 1.3 1.3-.6 1.4-1.1-.6 2.5-2.6.2-2.8 0-.3-.8-4.2-1.4-4.2-2.7zm-58.9 120.2c1.2.3 7.8 1.5 8.8 1.9-1.7 6.7-8.1 15.9-13.3 21.3.9-1.2.8-22.5 2.4-23.7.1 0 1.1.2 2.1.5z",fill:"#E39D77"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M295.2 192.2c-5.2 2.4-20.7 14.7-28 18.9-.1-10.7-1.6-15.3-12.9-7.8-10.4 6.2-16.5 9.6-25.7 15.3-14.7 6.3-10 16.4-13.3 23.6-1.3.4-4.8 5.1-5.6 5.8-.4.1-2.2 1.2-4 2.3-21 12.8-38.8 24.3-59 37-25.1 16.1-49.1 31.5-72.6 47.8-9 6.7-16.2 10.3-26.2 17.6-7.1 4-5.8 14.3-4 23 1.5 4.2 0 5.7 3 7.2 2 .7 6.9.4 7-1.5 10.8-7.8 18.1-13.7 27.5-20.3 41.3-24.9 83.8-50.8 125.7-77.2 26.7-18 47.7-40.2 71.5-58.5 5.5-4 29.7-19.8 31.2-21.4 2.2-3-2.1-2.7-4-3.2-.9-3.2-3.2-9.3-5.6-8.1-2.3-.8-1.7-2.1-5-.5z",fill:"#B4DC19"}),n.createElement("g",{fillRule:"evenodd",clipRule:"evenodd",fill:"#1E1919"},n.createElement("path",{d:"M317.1 69.9c-23.2 10-31.6 23.2-46.2 41.8-7.1 5.3-11.8 8.4-25.2 18.9-5.8 6.7-15.9 11.4-21.7 18.6-6.5 8.3-12.3 18.2-16.9 26.9-.2.6-.2.7.5 1 1.7 1 3.6-1.7 4.8-3.3 19 6 27.4 2.6 3.9-1.2-.7-.3-2.3-.2-2.8-.4.1-.3 2-3.3 2.6-2.8 2.8.9 12.2 1.8 11.2-1-1.2-.4-8.1-.7-10.9-.6 5.2-7.6 7.3-14 15.3-20.3 4.2-4.3 11.2-7.3 14.8-11.5 5.9-6.9 16.9-13.6 26.4-20.6 8.1-6.3 12.5-16.4 20.5-23.7 7.5-9.3 16.3-13.6 28.2-19.2 7.7-2.3-.2-5.6-4.5-2.6z"}),n.createElement("path",{d:"M232.9 119.2c-3.8 2.1 7.5 4.7 9.5 5.9 3.5 1.8 8.6 1.5 6.6-1.2-.6-.3-8.1-2.7-8.7-3-2.4-.8-5.3-2.8-7.4-1.7zm-8.1 6.1c-1.9 1-2 1.6-.3 2.5 3.4 1.6 7.1 3.2 7.8 3.2 1.5-.1 4.3-2.1 4-2.9-.4-1.1-10.5-4.7-11.5-2.8zm106.4.5c-1.9.4-4 1-1.3 3.1 6.8 6.2 20.7 25.1 27.5 26.8 4.9-1.5 1.4-3-2.4-7-6.2-4.2-19.7-23.9-23.8-22.9z"}),n.createElement("path",{d:"M371.5 138.7c-5 8-9.3 14.2-13.3 21.3-1.2-.4-5.7-2.5-6.7-3.1-3.1-1.6-11-4.9-14.1-6.6-1.4-.5-1.6-1.4-2.5-1.6-1 .1-5.1-2.8-5.9-1.5-.8.7-1.7-.7-3-.8-1.7-.5-6-.8-7.2.6-4.1 3.2-12.9 5.9-17.9 7-4 1.2 1.3 2.6 4.3 1.5 2.4-.4 6.6-2 7.9-1.9-3.7 4 5 1.3 6.6-.1 3.9.8 11.9 3.7 14.4 3.8.9-.4 9.8 5 9.1 5.8-.1.9.4 2.8 1.6 3 7.3.2-2-5.3 10.8-.5-.1.4-1.7 4.5-1.8 5 .5 3 3 1.2 5.4-3.9 7.3-13.7 13.1-19.8 19.8-29.4-1-1-3-1.5-4.8-1.6-.7-.1-1.1.3-2.7 3zm-110.8 12.1c-3.1 1.8.4 2.4 3.3 3.6 11.7 4.5 15.4 5.5 20.3 5.7 3 .1 6.3 0 7.5-1.6-6.7-.2-16.5-3.5-22.5-6.1-2.9-.8-6.6-2.9-8.6-1.6zm78.3 17.9c-4.1 1.8-11.4 3.5-15.5 6.6-1.3 2.6 5.9-1 3.3.9-5.1 3.9 2.1 2.9 5.9.4 2.8-1.7 7.9-5.8 7.8-6.2-.2-.5 1.7-1.5.9-1.8-.6-.3-.7-.3-2.4.1zm-79.6 11.9c-12.6 5.4-14 12.9-20.1 24-.5 2.6-12.1 13.5-3.6 9.8 2.9-1.2 9.9-11.4 12.9-15.8.6 2.1 2 10.4 2.4 9.7 7.7.5 5.1-3 3-11.7-.5-1.8-.3-2.4.8-2.4.6 0 1.8-1.1 8-7.7 1.3-1.8 6.1-3.9 2.3-4.5-1.1.1 1.8-1.3 1.5-1.5-1-1.5-5.1-1.4-7.2.1zm86 6.8c-8.2 4.8-18 13.5-23.4 22.1-.4-1.3-2.7-11.5-4-10.6-3.8.1.7 8.8.5 11.2.2 1.4 2.3 0 2.9.3-.8 2-7.8 10.1-3.5 9.1 10.3-2.4 18.6-22.2 29.6-28.3 1.8-1.4 3.7-2.2 1.2-2.8-2.1-.5-.7-1.6-3.3-1zm20.3 16.6c-1.8 4.8 5.9 6.7 4.6 3.4-1-.9-2.8-4.7-4.6-3.4zm-9.2 3.4c-.9 3.4 14.8 6.3 9.7 2.6-1.4-.5-9-3.8-9.7-2.6zm-14.7 3.5c-.8 1 1.3 1.3 3.3 1.6 4.1.4 12.9 4 15.9 6 2.5 1.8 9.3 8.9 11.6 4.3-7.4-6.3-20.2-12.6-30.8-11.9zm-137.7 1.3c-3.4 1.7-1.9 13.7-3.2 18.1-.2.9-5.7 6.8-4.7 6.8 3.6 1.9 7.7-3.6 9.3-6.6 1.4-3.3.6-14.4 1.2-18.6-.9-.1-1.8 0-2.6.3zm46.4 9.9c-.9.2-1.8.2-2.2 1.3-.2.5-.4.7-.4.4 0-.6-1-.9-2.3-.6-1 .2-1.1.3-2.9 3.7-2.5 4.8-4 7.5-5.3 9.2-.1-1.9.8-7.7 1.3-10.4.7-1.3-2.4-.7-2.7-.4-1.7 4-5.9 19.2 3.6 12.3.8-.6 3.3-4.5 3.8-5.2 0 1.4-.6 3.8 2 3.4 2.9.7 4.3-4.1 5.4-7.6 2.5.2 5.4-.3 5.2-3.1-.1-1.7-1-.2-1.7-.1-.9-1.6-1-3.8-3.8-2.9zm80.3 10.2c-2.6 1.1-7.1 2.7-9.1 4.6-2.8 4.2-8.1 11.7-9 16.2-.7 2.9-.8 5.1 2.2 2.3 2.7-5 6.7-11.1 9.5-15.4 1-3.2 5.2-4.9 9.3-6.4 2.5 2.1 3.9 6.6 5.4 9.8 10.1 4.9 2.3-8.7-1.2-10.5-.8-1.2-5.8-.8-7.1-.6z"})),n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M489 150.6c-15.7-20-28.2-42.1-41.6-65.2C439.9 67.9 430.1 57 417 45c-.6-.1-2.1-2.2-2.6-2.3-.2-.2-1.6 1-1.7.6.1-.3-1.5-.8-1.2-1.1 1.8-1.6 29.2-10.5 20.6-12.6-4.8-1.6-3.3-2-8.5.4-4.8 2.8-20.6 6.6-18.4 10.8-2.6-.8-5.1 2.6-4.9 4.3 4.6 1.8 8.5.9 12.9 5.2 4.4 2.3 14.3 14.3 16.3 16.5 4.7 6 8.7 13.9 12.6 22.1 8.2 14.1 15.1 24.8 23.1 38-3.3-1 .2 12.2.5 14.6 1 3.7 1.9 4.5 3.8 6.6 1.6 1.7 1.6 1.3 1.8-1.9.1-2.4.5-4.6.9-6.8.6.8 1.7 2.4 2.5 2.4.4.1.8.3.9.5 2.3 3.5 5.2 7 8 10.6 2.4 3 2.7 3.3 2.9 3.3 1.5-.9 3.9-3.9 2.5-5.6zm-22-21c-.2.2-.9-1.1-1.1-1.4.2.3 1.2 1.2 1.1 1.4z"}),n.createElement("path",{d:"M465.9 128.2c.2.3.9 1.5 1.1 1.4.1-.2-.9-1.1-1.1-1.4zM96 351.6c40.9-26.6 82.5-48.1 122.1-76.8 20.2-15 33.9-27.4 53.5-41.6 6.4-5.1 14.7-9.4 19.9-14.7 4.5-4.5 4.8-4.7 12.5-10 1.5-.9 4.6-3.7 5.9-4.5.6-.2.6-.6-.1-1.1-.6-.4-.6-.4.5-.7 1.2-.3 1.5-.1 1.5 1.4-.4 3 3.9 3.4 5 1.9.4-.6-.4-4.8-1.4-5-5.2-2.6-14.3 4.7-18.9 7.8-1.9.4-10.3 8.6-12.8 10.8-9.1 6.6-27.8 19.1-36.9 27.2-25.4 21.1-54.2 41.3-82.8 58.4-24.7 14.3-50.2 30.6-74.5 45.6-1.6.8-16 10.5-17.3 11.1-5.3 3.1-14.7 8.5-17.1 13.3-2.7 5.7-1.9 15.7-2.4 22.2 1.4.6 4.6.9 5.4.3 1.2-3-1.3-19.4 3.9-23.2 7.1-6.7 22.9-15 34-22.4zm-51.5-56.7c23.5-16.3 52.5-29.4 74.3-46.4 1.9-11.5 4.3-30.2 19.1-33 4.5-.8 20.8-9.5 22.1-9.3 2-.3 1.2 3.1 1.9 5.6.4 6.3 1.8 10 8.4 8.6 8.3-3 20.2-11.5 28.4-15.3-4.3-4.9-13.4 1.5-17.4 4.4-17.5 10.5-11.7 10-15.9-3.3-6.2-7.9-19.9 3.6-28.9 6.3-18.4 3.6-21.3 20.4-24.1 34.9-14.3 11.4-31.3 19.8-46.8 29.8-20.2 12.1-39.9 26-59.6 38.8 11.9-4.3 27.9-14.4 38.5-21.1zm396-3.2c-2.3-18.4-2.4-42.8-4.8-60-1.2-3.1-6.7-.8-8.5-4.3-2.7-8.6-3.8-11.8-13-7.9-1.9-4.5 1.9-15.8-7-15.9-7.2 1-10.7 7.7-17.3 10.6-7.4 4-5.7 3.2-7.8 9-2.3 7.2-3.9 16-3.6 24.2-9.4 8-20 16.7-30 24.3-8.1 6.6-16.7 11.1-24.2 18.2-29.3 25.4-59.8 47.7-91.1 71.1-21.1 16-39.2 24.8-58.7 40.7-12.2 11-14.3 6.7-21.7 17.3-.7 0-2 20.3 3.8 10.9.4 0 .8-6.1 1.2-5.6 4.9 2.8 11.8 7.8 17.3 8.9 2.5.1.8 1.5-.6 2.1-1.6 1.4-.4 4.2-.5 7.8.4 4.1-.1 9.3-.5 17.9.4 1.6 6.2.3 6.4-.7 1.8-5 1.5-16.7 1.5-24.5 2.8-6.4 7.6-6.1 15.1-11.9 17.1-11.4 26.3-16.2 38.4-25.5 3-2.1 5.3-1.2 8.2-3.8 1-.7 1.5-1 2.5-1 2.1 0 2.8-.6 1.2-1.2-3-.2 11.3-10 12-11.4 15.8-14.2 31.1-25.3 47.9-38.5 25.1-18.1 49.1-38.2 71-59.6 16.9-15.9 33.7-36.7 51.5-50.7 3.8-4.2 1.8 7.1 2.9 14.9.8 20.2 2.7 39.1 3.8 58.3 0 5 1.5 6 4.5 4.6.8-.6.9-.8 1-2.4-.1-5.9 0-10.1-.9-15.9zm-56-60.1c1.5-5.3 1.8-11 4.2-13.2 5.5-2.2 14.3-9.4 19.6-12.6 3.1 2.6-1.4 14.1 1.8 15.9-6.4 3.7-19.1 14.8-25.8 20.3-3.6 4.2-.2-5.8.2-10.4zm37.1 2.9c-21.5 17.7-38.6 40.4-60.1 58.9-23.4 22-43.5 36.8-68.1 55.6-16 12.3-30.8 24-45.5 37.1-2.1 1.4-2.9.1-5.5 2.2-8 5.2-3.5.2-14.3 9.1-11.5 8.7-23 15.5-35.5 23.5-3 1.2-15.3 10.6-16.4 7.4 6.7-2.9-2.6-2.9-4.1-4-3.8-1.2-2.7 1-7.3-1.7-4.9-2.7-3.2-3.3-7.4.8-2.4-9.8 3.4-9.1 10-11.4 8-5 25.8-19.7 33.5-24.3 30.7-18 54.6-37.8 84.4-60 17.4-12.9 33.8-26.9 49.8-40.5 11.4-7.9 25-17.6 34.8-26.3 17-13.6 31.6-29 49.1-40.6 2.5-2.9 3.7 14.2 2.6 14.2zM87.3 395.9c-.6-13 29-26 38.8-33.7 14.5-9.1 25.6-16.6 39.8-25 31.6-19.6 57-36 88.6-54.5 16.5-10.1 36-22 44.9-28.9 3.5-2.9 10.9-5.3 4.8-5.9-6.5 1.8-24.8 15.5-32.5 19.4-.3-.7 9.8-8.1 11.8-10.1 11.4-10.1 23.4-24.8 32.7-36.3-1-.9-3.4-1.5-4.9.6-13.5 13.9-26.5 31-42.9 42.5-.1.1-4.5 3.9-4.6 4-.5 1.3-24.8 12.3-17.2 14.5-33.5 18.8-65.6 40.3-98 59.9-12.3 7.5-27.8 18.1-38.6 24.7-12.8 9-31.7 17.2-27.5 34.1.4 3.3.4 3.3 4 3.5 3.5.8-.1-5.8.8-8.8zM70.5 297c28.7-15.9 56-33.7 84.1-49.7 10.9-5.9 24.1-17.7 36.9-22.4 9.7-4.1 2.2-5-4.6-2.1-9.8 4-9.7 5-19.8 11.2-14.3 10.6-30.1 18.3-45.3 27.7-27.8 17.2-56 33.3-84.6 48.4-7.7 4.2-12.7 7-19.5 11.3 18.8-3.4 34.8-15.6 52.8-24.4z"}),n.createElement("path",{d:"M142 414.1c-1.4-.1-6.8-4.1-7.7-2.9-.9.6-.9.3-.3-1.6 6-6.1 22.3-15.6 34.2-23.6 29.6-19.9 58.1-38.5 87-58.5 17.9-12.3 41.9-29.3 58.5-44 17.2-14.4 38.4-35.6 57-49.2 2.6-.9-.8-2-2.5-1.9-12.2 5.1-24 19.2-34.8 26.4-.9-.2-3.6-1.2-4-1.2-.6.2-6.1 4.8-6.7 5-13.2 8.1-30.4 19.8-41.5 30.9-23.3 16.7-51.7 31.8-76.4 48.1-22.6 15.1-45.3 27-66.7 43-7.2 5.6-23.2 12-27.6 22.8l.2 7.6h3.1c1.1-3.3.8-7.6 2.8-10.8 2.7-4.9 9.5-8.7 13.7-11.5 13.4-7.8 30.7-21 44.4-28.3 20.3-12.5 41-25.7 61.7-38.5 17.5-11 37.9-20.2 55.3-35.6 9.4-8.4 24-18.7 33.6-23.5-2.7 3.6-14.2 12.7-19.1 17.1-55 44.1-114.8 81-172.2 120.4-4.8 2.8-4.8 7.7-7.1 12.7-2.5 3.8 3 4.1 4.5 1.7.7-2.8 4 0 6 .2 2.2 1.5 9.4-4 4.6-4.8zm-95.7-34.9c-7.5-1.9-16.2-5.8-24-4.8-2.6.1-2.4.3-2.8 2.4 8.9 2.7 18.9 5.1 27 8.5 1.9-1.9 3.6-5.7-.2-6.1zm32 8.7c-4.6-.4-11.7-4-12.8.5-1.5-4.7.9-5.8 1.3-9.5-.8-1.2-3.3 2.1-3.9 3.5-1.7 3.2-.3 8-.4 12.1-.3 8.1 3.4 2.7 3.2-1.5 0-1.5.1-2 .3-1.8 1.2-.4 10.7 4 12 1.3.7-1.4 1.9-3.9.3-4.6zm29.5 11.9c-2.3-1.1-11.4-4.4-11.8-4.3-.4 0-.8.1-.9.3-.8.8-1.4-1.5.3-1.7 2.2-.7 3.9-.8 4.8-3.5 1.7-5.7-5.3-.8-7 .4-2.5 3.1-2.8 5.1-1.2 10.4 1.2 5.6 2.7 3.7 3.5.1 0-1 .1-.8.9-.3 1.4.9 10.2 4.6 10.6 4.5.8-.6 3.5-5.1.8-5.9zm131.8-.7c-.2.3-.3.8-.3 1.2-.1 1.3 1.2-1.8 1.1-1.6-.3-.3-.6 0-.8.4z"}),n.createElement("path",{d:"M126.5 405.6c-1-1.4-4.1 3.3-4.5 3.9-.3.8-.5 9.4.8 8.7 4-.7 2.7-7.9 3.7-10.8.5-1.3.5-1.4 0-1.8zm27.1 4c-.4-1-.7-1.2-1.4-.1-.6 1-4.8 5.1-5.3 6.2-1 .6-1.6 11.8-.8 13.2.4.6 1.2-.6 1.6-.6 1-.3 1.7-1.8 2.2-2.5 1-1.3-.5-11.3 1.9-12.5.7-1 2.3-2.5 1.8-3.7z"})))},t.FileFoldersSpot.displayName="FileFoldersSpotIllustration"})),define("metaserver/static/js/dig-illustrations/hero/remote-work",["require","exports","tslib","react"],(function(e,t,s,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteWorkHero=void 0,n=s.__importStar(n),t.RemoteWorkHero=e=>{var{aspectRatio:t,altText:a,inverse:r}=e,i=s.__rest(e,["aspectRatio","altText","inverse"]);let o=void 0;switch(t){case"16:9":o="0 0 1696 954";break;case"1:1":o="371 0 954 954";break;case"5:6":o="450 0 795 954"}const l=`dig-Illustration dig-Illustration-hero${r?" dig-Illustration--inverse":""}`;return n.createElement("svg",Object.assign(Object.assign({role:"presentation"},i),{className:l,viewBox:o,fill:"none",xmlns:"http://www.w3.org/2000/svg"}),n.createElement("title",null,a),n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M1529.3 675.801c-22.1 32.2-7.6 74.5-7.9 111-2.3 5.7-5.8-1.9-5.9-4.9-12.9-46-20.1-95.3-40.9-138.3-12.5 33.9 30.2 111.5 37.8 147.4-10 7.4-46.2-70.1-57.8-78.4-1.1 6.2-2.6 11.1.8 16.8 12.1 20.7 24.1 41.3 34.8 62.7-2.9 2.4-4.8 1.1-6.4-1.3-29.1-29.8-51.4-66.3-82.4-93.9-8.2 13.2 47 78.6 58.1 92.3-14.3 4.7-26.8 14.7-39.6 22.6-8.8 6.1-15.5 14.9-17.2 25.9 15.9-4.3 29.7-15.2 44.7-22.2 7.2-4 14.3-8.3 21.4-12.5 3.5-2 3.5-2 7.5 1.2-20.9 26.1-50 52.5-54.3 86.8 10.5-8.5 68.8-89.1 76.2-78.4-6.8 29-20.7 56.7-20.3 87.1 25.8-28.4 36.4-67.9 50.1-103.1 4.6-.1 5.3.4 5.3 4.2.6 13.8-3.6 29.2 3.4 41.7 2-10.4.8-20.9 1.7-31.3 4.7-.3 5.7.1 6.7 4.2 1.6 6.2 3 12.4 4.3 18.6 1.8 8.6 3.9 17.1 8.2 24.9 5.5 10.9 20.1 26.9 19 3.4-2.6-18.6-1-40.9-11.8-56.7-4.6-4.6-9.6-8.9-12.7-14.8 8-2 15 6.2 17.6 12.8 3.5 9.7 15.2 13.6 24.4 10.7 6.5-1.5 29.4-15.9 14.2-19.8-12.5-3.5-25.3-5.3-38.1-6.6-2.7-.3-5.4-.4-8.1-2.8 17.3 1.6 33.2 3.7 49.4 9.1 16.4 4.3 1.3 15.5-6.5 20-10.2 6.6-21 2.9-31.5-1.5 3.4 19.7 8.1 39.1 6.8 59-2.2 11.2-16.5 1.7-20.6-3.6-10.7-11-12.2-25.6-17.4-39.2.7 50.9-18.1 9.1-15.5-14-12 29.5-22.1 61.3-43 86-27.3 15.2 4.1-69.5 5.2-78.6-23.3 21.6-41.8 47.7-62.5 71.5-2.7 2.6-4.5 2.6-8 1-7.8-5.1-.6-16.9 1.7-23.5 8.9-21.8 25.7-39.3 39.2-57.5-17.8 8.5-34.2 20.3-52.8 26.9-17.2.8-3.4-21.1 3.4-26.5 12.6-11.4 27.8-18.2 42.8-26.2-1.2-7.8-88.3-107-44.9-89.7 25.5 23.4 43 53.6 69 76.9-11.3-24-27.4-45.3-36.4-70.4 3-.4 5.1-.7 7.8-1 .2-39.3-.9-78.8 4.1-117.9 3.1-21 15.8-38.7 20-59.7-12.4-6.5-11-12.1-8.4-24.4-13.6-5.7-27.3 6.8-39.7-1.5-8.4-5.9 6-26.9 14-18.3-8 .8-12.3 10.2-11.4 17.4 2.4 1.8 5 .8 7.4.2 10.7-2.4 37-7.5 35.3 10.1-1.8 5.6-3.8 10.9 3.7 14 10.8-23.3 18.1-47.8 26.7-71.9 13.8-15.5-10.5 54.4-13.6 57.1-2.4 4.7-4.3 9.7-6.5 14.9 12.1 2.5 31.9-14 41.6-20.9 20.7-10.3 29.3 5.7 48.4 2.4 12.7-2.9 42.4-1.7 41.2-20-2.1-13.5-22.2-7.5-31.2-15.6-12.8-9.6 8.3-17.6 16.8-17.6 11.2-1 36.4-13 26.3-26.6-7.2-8.6-16.2-13.6-27.7-13.8-4-.3-8.9 1.3-11.2-3.2-10.2-12.2 8.8-29.6-3.8-29 11.3-5-11.9-7.6-12.9-13.4l-.1.1c6.6 2.7 13.4 5.4 18.6 10.4 1.4 1.3 2.7 1.8 4.5 1.8 16.3-.4 21-22.4 15.2-35-5.3-14.1 14-26.7 25.7-30.2 16.5-6.1 39.6-11.5 42.6-31.7-2.1-5.2-2.9-11.2-5.8-15.9l.7-.7c6.4 3.8 6 11.9 8.6 18.2-2.9 19.5-24.3 25.6-40.3 31.7-13 4.1-32.7 16.3-26 32 7 15.8-3.5 37.7-22.6 33.6 3.6 10.4-8.2 18.4-1.2 27.6 16.9-.1 30.7 6.8 40.7 20.1 3.8 4.8 3.6 8.8-.5 13.5-10.4 14.9-29.7 11.3-43.4 20.3-13.4 15.2 34.1 3.2 34.1 29.3-2.1 16.4-34.3 16.1-47.2 18.5-13.3 2.2-24.3-10.4-37.9-4.9-18.2 8.5-32.9 24.9-54.8 23.7-4.8 12.4-9.1 25.4-15.5 37.3-5.3 10.7-7 22.3-7.3 34.1-.7 34.7-.8 69.5-1 104.3 0 2.1 0 4 1.8 5.6 8.2 7.5 14 16.9 19.7 26.4 10.6 15.7 18.1 33.6 31.3 47.4-5.3-17.4-13.1-34.1-19.1-51.3-4-7.8-35.5-107.7-8.6-87 19 39.4 24.4 84 38.1 125.1-.4-25.5-12.1-78.7 11.9-94.7l-.3.1zm-85.2 29.5c1.1 3.2 1.2 5.7 3.6 7.5.7-5.4.7-5.4-3.6-7.5zm115 88.3c-.3.2-.6.5-.9.7 1 2.6 2.9 4.5 5.8 5.7-1.6-2.2-3.3-4.3-4.9-6.4zm-297.9-307.4c-4.5-56.7-7.3-114.5-28.4-168.1-13.3-27.1 3.8-54.6-.1-82.6 13.5 3.5 5 34 4 44.4-2.1 12.8-1.2 25.2 3.2 37.6 9.8 28 16.9 56.8 20.7 86.2 5.1 41.1 5.7 82.9 10.3 123.9 10.2-31 14.2-64.4 23.7-96 3.5-17 9-34.8 3.3-51.9-10.3-37-22.7-75.3-15-114-.1-2.5 2.9-7 4.4-2.9.2 2.6.1 5.1.1 7.7-3.6 45.7 20.2 89.3 15.9 134.7-7 37.9-17.6 75-24 113-4.2 14.6-7.4 29.2-5.5 44.7 5 44.3 13.3 87.9 19.9 131.9 10-24.2 16-50 25.3-74.7 10.2-32.7 7.9-67.5 15.2-101-8.7 4.2-16.4 15.1-26.3 12.1 9.7-7.3 19.7-13.3 27.3-23 7.9-24.6 3.9-53.1 13.5-77.4 2.3.3 2.2 1.8 2.1 3.1-1.9 23.2-3.2 46.2-5.6 69.4 29.3 4.8 29.4-23.9 40.6-42.9 3.8 12-3.8 25.1-8.3 36.1-6.5 17.7-31 3.1-34.2 18.2-6.5 33.6-7.7 68.8-19.3 101.2-11.4 27.3-16.9 56.7-28 84-.8 33 8.6 66.6 10.9 99.7 2.2 19.9 6.8 39.3 11.3 58.8.7 3.8.6 3.9-3.9 6.4-15.5-52-16.7-107.3-24.7-160.8-7.7-57.5-18.2-114.5-24-172.3-2.9-13.6 0-29.4-5.8-42-13.1-16.1-19.1-36.7-35.4-50.3-11.8-10.7-15.7-26.3-22.7-40.1-3.3-7.2-11.7-33.1-7.9-38.3 10.1 24.4 18.3 50.4 32.7 73 14.5 15.4 23.2 34.1 33.4 52.3.4.1.8 0 1.3-.1zM312 592.601c-30.7 19.5 46.7 10.8 55.1 12.8 9.9-.1 11.7-10.3 15.9-17.6-22-4.5-43.1-.1-64.8 2.3 16.3-5.1 34.1-5.5 51.2-5.9-13.5-9.7-76.9-46.6-75.5-61.7 16.4-10.2 64.6 28.1 77.5 40.2-13.7-32.4-30.2-64.3-40.8-98.2-.7-1.8-1.1-3.7.9-5.1 17.2-.4 47.3 61.9 52.3 78.4-.3-20.2-6.3-40.6-3.3-61.1.3-4.3.7-4.3 5-5.2 13.2 33.6 19.4 70.2 17.2 106.5 14.5-24.7 33.9-46.9 60.8-57.8-1.5 24.8-31.8 43.4-50 57.5 22.4-3.8 44.5-4.2 66.8.7 2.6.5 5.5.7 7.7 3.7-5.8 7.8-13.2 13.1-23 14.8 6.1-4.8 16.2-6.2 18.2-14.7-13.3-5.8-82.3-13.2-81.8 8.5 17.5 11.9 42.2 11.2 62.1 6.3-13.3 7.9-29.6 2-44.3 4.4 22.6 15 44.3 29.5 66 43.9l-.3 1.2c-28 .4-51.4-20.1-77.6-27.3 8.9 40.3 22.2 81.4 22.3 123.4-2 34.3-2.5 142.4-9.3 176.9 3.2-95 14-209.9-17.9-300.3-11.5-2.3-19.7-3.3-20.6-16.4-6.1 1.4-8.7 16.5-13 21.7-5.7 10-11.7 19.8-17.8 29.6-1.7 2.8-3.8 5.4-8.5 3.9 3.1-19.4 14.3-35.9 26-51.1-21.9-.7-43.8 1.7-65.1-1.9-9.9-6.3 6.2-13.7 12-15.3-1 1.1-2.2 2-3.4 2.9zm80.3-10.6c-10.8-43.7-25.9-88.2-58.3-120.9l-.9.6c13.7 40.9 31.7 80.6 53.1 118.2 1.3 2.1 2.6 4 6 4.3 0-.9.2-1.7.1-2.2zm-95.1-59.9c1.9 15.6 70.1 61.2 87 63.6-8.1-21.7-66.6-64.3-87-63.6zm104.4 82.7c2.3 9.4 2.7 12.4 13 14 20.4 7.8 40.2 20.1 61.5 24.3-25.7-15.4-47.7-36.2-75.8-47.1.5 3.3.9 6.1 1.3 8.8zm-18.6-122.4c-.1 33.3 6.4 67.2 13.7 99.4 3.7-35.5-2.6-69.7-13.3-103.4-.1 1.4-.3 2.7-.4 4zm24.3 96.1c21.4-12.8 43.4-29.9 52-54.1-23 12.5-40.3 30.1-52 54.1zm-9.8 16.9c-2.8-2-4.3-.7-6.3 1.3-11 5.8-.6 22.3 10.2 19.9-1.2-7.6-6.2-13.8-3.9-21.2zm-48.4 54.2c4.8-4 17.2-25.7 22.1-39-10.4 11.2-17.3 24.5-22.1 39zm42.3-60.8c.4.7 1 1.2 1.8 2.2.6-2.1.5-3.3-2-4.4 0 1.3-.1 1.8.2 2.2z"}),n.createElement("path",{d:"M1543.2 577.201c4.5-9.1 28.3-47.1 36-24.6.2 17.1-9.2 33-13.7 49.3-2.2 8.3-8.3 15.7-8.8 24.2 16.3-19.9 34.9-37.6 57.9-49.7 5.1-3.2 24.8-10.2 19.7 2.1-20.2 24.7-44.3 45.7-66 69.2 70-6.4 163.6 26.4 26.8 34 13.7 4.3 27.6 8.7 38.6 18.3 5 4 16.3 17.1 3.5 18.1-19.9-3.4-39.1-12.7-59.1-15.6 11 11.8 19.2 25.2 22.6 41.1 1.1 3.7.9 10.4-4.5 6.6-17.1-13.5-24.7-35.6-38.3-51.8 3.9 18.5 11.9 37.2 9.1 56.2-4.4-.1-6.2-2.5-7.5-5.8-6.7-17.1-12.3-33.6-20.6-50.2 13 10.6 14 27.7 22.5 41.1-.2-19-7.4-36.5-12-55.5 5.8 1.4 7.6 5.8 13.5 7.2 6.7 4.1 12.6 9.1 20.6 10.3 14.5 3.7 29.1 7.3 43.2 12.5 4.8 2.1 14.3 1.1 11-6.3-16-26-53.3-19.7-76.5-34.1.2-.4.3-.8.5-1.1 10.3 2.8 20 6.5 30.9 5.4 18.2-1.1 58.6.7 69.5-15.3-26.3-11.7-55.8-14.4-84.4-12-6.9-.7-16.2 6.9-21.7 1.7 24.9-25.9 52.2-49.3 74.9-77.1-.2-.3-.5-.7-.7-1-14.8 4-26.9 13.5-38.7 22.8-12.8 10.3-23.6 22.6-33.8 35.4-3.3 2.7-5.7 10.7-10.7 8.7-1.7-1-2.5-2.3-1.7-4.2 10.4-29.1 29.5-57 29.6-88.6-32.2 17.8-34.4 59.5-44.6 91-4.9-1.9-5.1-2.1-4-6.2 6-24.4 13.2-49.4 10.8-74.8-20.4 18-19.1 74.5-19.6 101.2-.4.1-.8.3-1.2.4-8.8-21.7-1.6-76.1 9.6-97.4 11.8-22.7 18.4.8 16.5 14.4.3-.1.6 0 .8.1zm17.8 117c3.2 10.3 29.3 49.3 35.2 52.3-2.9-21.1-14.3-44.1-35.2-52.3zm-393.4-208.3c34.3-25.1 8.3 9.9 46.5-4.1 2.3-.8 4.6-2 6.6.6-7 7.6-28 10.2-34.2-1.9-6 3.7-11.7 7.1-17.6 10.8 2.2 15.1 7.2 30 9.9 45.1 2.5 12.2 7.4 23.6 11.1 35.4.9 2.8 2.5 5.5.9 8.8-13.5-27.6-20.9-57.2-28.6-87.1-6.3-.5-13.3.5-17.8-7.6 5.5 4.5 10.5 4.2 16.3 2.5-8-25.1-12.6-54.8-31.3-74.4-20.3-16.2-39.6-33.7-60.8-48.8-3.9-2.8-6.6-6.3-8.9-10.5-6.8-12.9-13.7-25.8-20.7-38.6-4.1-7.3-12-12.4-12.8-21.4-6.9-48-10.9-68.9-53.6-95.4 17 2.1 28.7 18.1 40.5 29.3 16.2 19 13.7 45.7 18.2 68.8.6 3 1.7 6.2 3.6 8.4 13.6 16.3 20.2 36.6 32.8 53.5 21.3 16.6 42.8 32.7 63.8 50-3.2-11.1-9.3-20.4-13.4-31.2-11.4-25.1-31.9-44.3-47.7-66.5-5.1-6.5-7.6-14.1-9.1-22.2-4.7-23.1-9.6-46.1-19.7-67.6 9.9 5 12.3 17.5 16.5 27 4.9 14.3 10.8 28.3 13.8 43.2 1.5 7.6 5.8 13.9 10.5 19.9 17.6 22.8 38.3 44.1 47.3 72.1 14.8 33.5 29.4 65.8 37.9 101.9zm-608.3 42.7c.1-1.1 0-2.9.4-3 7.3-.9 9.1-31.3-1.3-21.8-8.5 5.6-6.3 22.7-13.3 19.7.9-15.2 9.6-36.7.3-50.1-21.5 10.1-11.8 47.8-22.6 42.8.2-26 9.9-52.3 4.1-78.2-10.1 7.3-11.6 20.5-14.8 31.6-2.4 10.8-3.4 21.8-4 32.8-.3 3.5.2 9-5.2 7.1-.9-27.2 4.4-54.9 1-82-.4-.1-.7-.2-1.1-.3-22.6 27.3-7.8 79.6-19 74.3.1-47.4 4.1-94.5 3.6-141.9-11.5 6.6-15.4 25.8-19.7 37.6-11.4 34.5-6.7 73.4-15.8 107.3-4.1-5.4 1-21.8.3-30-3.7 3.6-2.7 7.3-4.2 11.4-6.1 7.3-4.7-15.4-5.5-18.5-1.8.4-3.6.9-6 1.5-2.4-19.3 2.7-38.2-4-56.7-11 17.1-10.1 38.5-11.5 58.1-.1 1.6.6 3.5-1.9 4.8-4.2-19.8-1.4-42 6.8-60.7 19-20.4 14.2 32.8 14.7 41.8 8 3.4 5 10.9 6.9 16.5 2.1-1.8 4-3.4 6.6-5.6 2.6-31.2 5.4-64.2 19.3-93 2.6-5.3 11.5-24 16.8-12.4 2.5 27.1-1.8 53.4-.8 80.7 4.3-5.3 5.2-12.1 10.3-16.7 15-8.4 9.1 22.4 11.4 30.2 3.1-7.4 13.9-30.7 21.5-14.9 3.3 13.5.4 26.2-.3 40.1 22.4-24.1 22.8 5.4 20.5 22.6 29-14 14.9 28.9 6.5 24.9zm92.3-335.2c7.3 2.5 10.1 9.4 16.8 13.1-.2-6.9-13.7-49.7.9-43.8-4.2.7-4.7 5-4.3 8.5 1.9 13.8 3.6 38 12.7 48.4-1.5-16.1 1.5-44.6-8.6-57 14.3 3.2 7.8 58.3 13.6 69.9.3-24.8 7.3-47.9 26.6-64.4 2.7-2.5 5.6-4.8 10-4.6-23.3 16.5-33.3 39.2-32.2 67.9 7-17.6 38.7-51.1 34.5-67.6 15.4 8.9-34.4 60.3-34.5 76.6 18.7-13.3 34.1-33 57.7-37.8 10.6-2.4 16.5 1 7.5 10.5-7.4 15-85.9 31.8-67.7 42.2 12.3-11.2 32.6-14.1 48.5-11.1-11.9-.4-23.5.6-34.7 5.8 11 5.5 29.5 4 38.9-3.6-2-1-3.1-1.6-4.3-2.2 2.7.6 6-.4 7.8 2.8-5.6 8.6-29.5 8.8-39.1 5.9-6.2-3.1-15.3.7-14.8 8.3 1.9 23.8-8.7 46.7-17.1 68.4-15.3 31.9-9.5 70.2-18.3 102.9 1.5-30.8 3.1-61.8 11.2-91.6 3.4-28.4 9.8-56.7 20.5-83.3-11.4-10.8-23.6-22.6-38.8-27.8-4.7-1.5-9.2-3.7-12.5-8.3 16.2 3.5 29 15.3 43.9 22.3-7.8-13.5-37.8-40.3-33.8-56.8 4.4.5 7 3.8 9.8 6.6-2.2-1.1-4.5-2.2-7-3.4 1.4 19 22.6 38.3 33.8 53.2.3-.2.6-.4 1-.5-7.3-24.6-8.9-31.6-28-49.5zm39.1 46.3c.3.4.6.7.8 1.1 20.4-8.6 44.5-13.1 59.7-30.3 5.3-4.7 2.3-10.2-4.5-7.1-22.7 4.8-37.7 23.6-56 36.3zm-14.7 8.1c.2-.2.4-.5.6-.7-.8-.6-1.6-1.1-2.5-1.7-.1.2-.3.4-.4.5.9.7 1.6 1.3 2.3 1.9zm541 564.3c-10.9-38.5-17.3-77.7-21.5-117.3-3.1-19-1.2-50.1-13.1-65.2-1.5-.8-2.2-3.4-2.7-5.4-3.7-11.1-11.9-20.1-15.9-31.1-8.6-18.6-20.5-36.1-33.1-52.2-16.6-16.6-25.5-39.9-27.6-63-.6-11.2-6.5-19.4-14.5-26.4-9.9-6-22.2-7.5-31.8-14.5-3.7-2.4-8.2-2.8-10.9-6.8 12.9 4.2 25.4 12.1 38.9 15.9 15.1 5.7 28.8 20.2 28 37.1-.4 19 5.2 39.3 18 53.5 6.4 6.4 11.8 13.4 16.6 21.1 8 12.6 18.5 23.7 23.9 37.9 16 26.9 29.7 55.6 30.7 87.6 3 41.9 8.2 83.6 18 124.5.3 2 .7 3.8-3 4.3zm91-631.3c28.7-37.5-16.7-45.7-42.2-26.5-9.1 7-16.7 15.4-22.8 25.2-7.6 0-8.4-12.2-17.2-11.1-13.7 1.2-25.9-10.4-17.5-23.8 12.3-12.2 17.2-26.5 3.6-41-14.2-7.2-37.8 28-38.9-19.4-17.3-39.9-69.5-19.9-73.2 17.8-6.1 1.3-3.1-8-2.7-11.1 3.8-11.1 10.5-20.2 20.7-26.2 18-9.7 45.3-5.2 55.6 13.6 5.4 9.3 1.9 19.8 8.8 28.6 4.4-1.8 8.3-4 12.7-5.8 24.4-9.8 41.4 20.5 28.2 38.1-5.6 6-11.2 12.5-8.9 21.3.5 8.6 16.6 2.3 25.9 13.1 6.4-6.9 12.2-14.6 19.5-20.6 22.5-21.8 85.2-11 56.1 27.7 21.4 4.2 24.2 41.7 5.4 41.3 5.4-9 8.7-18.3 4.8-28.4-2.1-9.1-9.7-10.6-17.9-12.8zm-780.6 608.3c-13.3 23.4-16.2 48.4-18.4 73.5-5.1.5-2.1-9.8-2.9-13-1.5-26.7-2.5-55.6-10.2-80.8-7.1 24-2.6 49-.8 73.4.2 2.1.4 4.4-3.3 4.1-4.5-11.7-6-24.3-9.7-36.4.4 19 6.4 37.4 5.1 57.2-2.9-3.3-2.3-7.2-3.3-11.2-2.8-17.1-7.2-34.1-7.2-51.5-.5-5.1 6.1-8.3 8.3-2.6 1.5 4 2.6 8.1 4.5 12.2.6-11-2.4-41.8 7.6-47.7.9 0 2.2 1.6 2.4 2.7 4.5 22.7 6.2 45.2 9.2 68.4 2.3-10 10-51.7 21.9-51 3.5 17.4-2.2 35.8.9 53 2.1-6 16.9-32.7 22.8-19.6 1.9 10.5.7 21.3 1.2 32-.7 6.9 3.7 6.2 1.7 14.6h-5.1c-3.8-15.2 0-31.6-2.5-47.2-.4-.2-.8-.3-1.1-.5-9.9 9.5-14.1 23-16.8 36.1-.8 2.9-.8 2.9-5.3 3.1-1.9-23.3 4.3-45.7 1-68.8zm229-355.3c-13.4.8-23.8 12.9-35.5 18.8-10.6 6.8-20.4 14.7-29.5 23.4-2.9 1.7-8.2 9.4-11.2 5 20.5-32.6 50.6-57.7 76.3-86.1 2.3-2.4 4.7-5.1 5.1-8.9-26.1 1.2-63.6 55.3-78.9 76.5-2.1 2.7-3.5 6.7-7.3 7.2-.2-.3-.4-.6-.7-.9 12-26.8 31-50.4 42.5-77.4l-.9-.6c-29.1 22.8-41.4 59.8-61.8 89.4-.7-13.4 50.1-99.9 64.8-91.1 3.2 10.6-22.4 38.1-24.6 50 18.6-17.8 31.8-43.4 56.3-53.6 4.7-2.1 17.2-3.8 12.6 4.9-22.7 30.1-56.2 51.9-75.5 84.6 8.5-7.4 60.6-50.9 68.3-41.2zm-155.8 114.3c-8.6 5.5-5.9 35.4-8.1 46.2-.6 13.7-2 27.5-1.6 41.2.3 10.4 5 21.2 1.6 31.3-4.2-11.4-1.6-24-6.9-35.7-6.1 6.6-4.7 14.7-5.6 22.8-7 1.6-2.2-13.7-3.6-17.8-1.7-11.4 2.2-27.9-6.3-36.4-6 8-3.8 17.5-4.8 26.3-6.8 1.4-2.6-32.8-5.9-39.1-15.8 11.9-6.1 34.2-13.1 35-7.9-.4 5.6-36-7.1-36.4-9.1 9.4-6.2 33.7-11 46.3-.5 0-1-.1-1.4-.1-.6-7.3-2.1-13.3-5-20.2-7.1 6.8-9.4 15.1-11 23.8-.4-.1-.9-.1-1.3-.2-1.7-8.8 2.9-17 8.4-23.6 5-5.4 7 2.1 9.7 5.6 2.8-7.3 1.1-37.7 13.4-32.2 4.4 1.6 8.8 3.4 8.3 10.3 8.4-14.7 15.1-10.5 15.3 4.5 16.5-7.3 14.7 19.8 16 29.7 2.5-.2 4.6-.3 7.1-.5 2.5-12.1-.8-81 12.9-80.8zm734.5-399.3c7.4-13.3 10.6-29 22.6-38.8 16.1-10.3 26.8 5.9 23.9 21.6 11.4-7.2 17.5-18.2 25.7-28.4 5.8-7.2 14.8-7.1 22.6-3.5 10.8 3.7 14.9 11.6 14.4 22.8 7.8 2.3 14.6-3.1 21.7-5.3 16.4-4.4 34.1 2.9 49.5 8.3 12.5 4.6 12.7 18.5 15.3 29.6 1.4 6-5.8 6.3-10 8.6 9.1-11.1 1.7-17.3-.3-29.8-4.3-11-29.8-13-40.5-14.8-12.4-.9-23.3 11.1-35.8 6.2-5.3-1.3-5.8-5.9-5.5-10.8-.6-11.7-13.1-18.2-23.2-12-9.6 4.3-29.1 46.2-38.1 25.3.2-23.9-11.3-21.4-22.5-4.5-3.7 4.5-13 32.6-19.8 25.5zm135.4 49.6c-15.8.5-21.3 28.8-38.5 20.2 13-6 17.3-21.5 31.5-24.6 15.9-1.9 19.7 20.3 16.4 32.2 5.2-.1 8.3-1.5 12.7-3.2 5.1-1.6 9.5-.1 13.4 3.3 4.8 3.8-.7 6.7-3.3 10.4 15.8.5 18.4-4.8 34.8 5.7 13.4 12.7-15.6 20.4-21.6 28.7-4.7 5.3 2 10.1 3.6 15.2 3.9 11.5-8.3 21.2-16.9 19.3-4.2-.9-8.5-1.2-13.4-1.8 2.8-2.1 5.4-1.5 7.9-1 11.7 2.5 23-10.9 16-21.7-10.5-10.8-.8-15.8 8.5-21.5 5-3.7 19.4-10.8 11.8-17.9-6.8-8.6-40 4.9-33.4-8.8 1.5-1.6 3.8-4 3.1-6.3-2.9-4-8.4-.1-12 .8-5.3 2.6-17.4 1.3-15.5-6.7 2-8.4-4.1-14-5.1-22.3z"}),n.createElement("path",{d:"M643.6 296.201c-10 8.7-11.6 21.5-16.6 33-1.1 4.7-8.5 3.1-7.8-1.6.1-14.1 4.1-28.4-2.1-41.7-14.8 13.3-.4 33.6-4.9 50.1-12.1 1.1-7.5-21.6-18.3-21.4-17.9 10.7 21.4 36.1 18.2 48.3-8.3-13.6-21.7-24.9-26.7-40.2-2.1-7.6 7.7-13.2 13.4-8.1 7.3 4.7 5 14.3 11.1 19.6 1.6-11.6-2-22.1-2.6-33.5-.4-16.2 13.7-23.1 15.9-3 1.2 11.5-2.1 21.2-1.1 33.1 7.8-9.8 6.4-24.2 15.9-33.3 2.6-4.6 9.3-2.7 9.5 2.5 1.4 10.8-2.2 19.8-6.9 29.5 5.1-3 14.4-5.8 12.5 3-3.2 7.8-10.2 13.9-15.5 20.4-3.8 2.9-16.6 19.8-20.4 15.8 8.2-9.4 34.1-28.9 33.5-40.6-11.4 5-16.4 17.5-24.8 26-.3-.2-.6-.4-1-.6 2-6.9 7.7-12.3 11-18.6 6.1-11.3 12.8-25.8 7.7-38.7zm740.2 74.1c-14.2-1.9-22.2 17.6-34.4 12.6 13.8-12.2 41.7-29.8 43.2 1.3 22.7-8.7 49.2-12.6 70.8.7 17.9 16-22.8 19.4-31 26-11.7 9.3 16.6 11.4 8.1 21.7-4.4 10.6-21.1 1.8-21.7 11.6-1.1 13.2-21.1 10.4-30.2 15.6 4.3-10.1 22.5-4.3 25.1-15.5 1-6.6 2-7.6 8.6-7.5 5.8 0 9.9-2.2 12.9-7 6.6-8.6-18.4-11.6-7-20.1 9.8-6.6 23.2-6.7 32.3-14.4 9.9-14.6-19.1-16.1-28.1-15.5-9.3-.2-18.2 1.2-26.6 5.2-4.1 2-8.4 3.1-13 2-9.3-1-6.9-10-9-16.7zm-453.3-60.9c-2.9 1.8-4.8 1.1-7.5.3-11.9-1.5-14.9-5.8-23.3-13.7-7.7-9 3-18.8 9.5-25.3-11.4-4.6-30.6-7.9-28.8-23.7 1.3-10.3 7.7-17.8 17.8-20.3 4.8-.9 11.5-2 9.7-8.4-1.6-8-6.7-14.7-10.5-21.7-9.3-15.7 2-31.5 18-35.9 6.1-2.7 6.7-4.1 5.1-10.3-6.5-20.6 15.9-43.4 36.1-35.2-21.5 1.2-38.6 18.5-32 39.7 1.9 8.7-10.1 9.4-15.4 13-36.7 23.2 28.7 56.1-11 63.3-9.3 3.6-13.8 14-13.5 22.5 1.6 11.3 17.6 10.2 25.3 15.9 10.3 5.2-19 19.6-4.3 29.1 6.2 9.1 15.9 7.7 24.8 10.7zm-72.3 60.1c6.4 3.7 13.1 2.7 19.8 5.6 11.1 2.3 12-6.6 32.5-2-4.6 5.4-12.4-1.1-19.5 3.7-5.3 2.2-10.5 3.1-15.8-.2-2.9-1.1-6.8-.6-9.5-1.9-18.5-8.2-37.2 5.2-48.4 19.2-5.3 7.5-12.8 11.8-21.6 14.1-3.9 0-9.3 6.1-12.1 2 1.4-2.6 3.9-3.7 6.6-4.2 14-2.1 22.1-12 30.2-22.4 21-20.3 32.5-9.1 42.2-24.9 5.7-12.7 11.9-25.6 26.2-30 9.8-1.7 19.1 2.8 29.3 3.6 1.9-7.1 5.1-12.9 12.3-15.6 1.3 4.1-7 9.4-8.4 13.9-6.2 9.6-24.3-2.9-33.4 2.9-18.5 6.9-17 25.9-30.4 36.2zm290.6-214.4c-7-1.7-13.3-4.9-19.7.2-15.5 12.2-27.8 26.8-38.6.1-6-11.4-23.8-14.6-31.5-3.4-5.3 8.5-4.7 15.9-14.1 22-10.8 7.4-8-9.3-15.2-9.4-12.6-1.3-14 13.3-11 22.5-5.2-1.2-4.5-7.2-5.2-11.2-1.7-18.2 22.2-17 26.4-3.5 8.4-5 10.2-10.6 12.6-19.6 9.4-22 41.8-7.5 47.7 10.7.5 1.2.8 1.9 2.1 2.7 12.9-5.2 21.6-25.5 38-17 2.9 1.6 6.7 1.5 8.5 5.9zm-545 338.7c2.1-24.1 6.4-48.1 13.4-71.2 2.4-5.7 15.1-45.1 20.4-42.7 5.3 1.7 2.2 12 1.5 16.1-12.2 32.4-22.7 65.9-33.8 98.4l-1.5-.6zm33.8-112.1c-7.8 9-21 51.2-19.5 61.8 5.1-15.7 22.4-47.5 19.5-61.8zm-68.5 94.9c-9.7-28.5-9.4-58-14.9-87-2.7-14.1 6.2-36.9 16.4-13.1-.3.2-.6.4-.9.5-2.3-2.9-4.6-5.9-7.2-9.3-7.4 14.1-1.2 28.2.3 42.6 2.1 15 4 30 6.1 44.9-.6 4.6 8.6 22.7.2 21.4zm437.4-31.8c4 .4 6.4 3 8.3 6.1 4 6-5.4 10.4-8.8 14.4-9.1 8.2-6.5 26 6.6 28.1 4.2.8 8.5 1.4 12.8 1.9 10.3.4 34.6-9.2 40.3 2.4 5 7.6-10.4 8.4-14.4 15.4-7.5 8.8-4.5 12.6 6 15-26.9 1.5-15.1-22.2 2.6-26.5 3.4-1.2 1.9-7.3-1.7-6.8-9 .1-17.8 1.2-26.4 3.5-11.1-2.8-25.2-1.4-32.3-12.1-4.2-6.5-4.2-14.7.4-20.8 5.3-7 17.8-12.9 6.6-20.6zm-21.5-90.4c-1.8 9.2-16.4-5-21.5-6-11.7-5.6-4.2-17.5 1.9-24.5 9.6-12.6-14.2-15.1-8.6-28 3.4-15.8 24.4-27.7 39.8-20.9-14.2 1.6-27.3 6.8-32.9 20.9-5 10.2.8 12.6 7.2 19.2 7.5 9-6 15.9-7.8 24.4-3.1 8.7 7.5 9.8 12.7 13.9 4.5 2.8 4.4 2.9 9.2 1zm399.9 437.3c-2.9-1.4-2.6-3.3-2.6-4.9.8-8.1-7.8-9.7-12.4-15.4-.2 1.1-.4 1.9-.5 2.7-4-2.9-4.3-3.8-2.4-8.2-13.6-11.9-35.5-23.2-33.4-44.3 7.1-23.2 44.2 36.1 46.5 45.5 2.7 8.1 5.3 15.8 4.8 24.6zm-4.8-16.2c-.3-7.5-37-73.2-41.7-50.8-.8 24.9 26.4 35 41.7 50.8zm-806-395.3c6.8 3.7 11.3 33.3 14 42 4 20.2 7.2 40.6 10.6 61 .1 3.7 2 8.1-1.7 10.8-7.4-38-12.3-76.3-22.9-113.8zm564.2-146.3c-18.9 5.5-3.5 21.3-15.6 32.3-2.8 3.3-3.8 3.6-7.4 1.1-6.8-4.7-18.9-1.2-18.8 7.9-.1 3.5 0 7.1 0 11.2-5.4-3.5-2.2-10.2-3-15.5.2-9.1 12.7-11.7 19.4-7.3 3.6 2.3 4 2.1 6.8-1.2 6.4-6 5.2-13.7 4.6-21.7.5-6.7 8.2-12.1 14.4-8.3-.2.6-.3 1-.4 1.5zm-131.7 210.8c-9.9-4.7-25-7.9-23.7-21.9-1.2-17.6 14.6-40.8 33.6-31.1-20.2-1.2-28.1 17.6-28.5 34.8-1.8 11.4 12 12.7 18.6 18.2zm-383.8 86.7c6.1 10.8-.9 23.3-.2 34.7 4.2-7.1 8.2-28.8 17.3-29.5 7.5.4-.1 30.2-4.2 31.1-.8-10.5 8.3-19.6 3.4-29.7-8.8 12.1-13.1 25.7-15.9 40.3-.4 2-.3 4.5-3.3 5.7-1.5-17.4 3.8-35.1 2.9-52.6zm0-.1c-14.4 8.8-7.3 50.1-14.4 65.4-5.7.4-2.4-13.8-3.3-17.8.6-9.6-.6-19.7 1.4-29.1.6 8.6 1.2 17.2 1.8 25.6 2.3-9.9.3-44.9 14.4-44 .1 0 .1-.1.1-.1zm-15.6 55.4c.1 0 .3 0 .4-.1v-6h-.4v6.1zm981.1-270.7c-11.6-7.6-12.4-26.2-5.9-37.1 8.8-7.2 15.4-16 21-25.7 2.1-3.1 1.6-5.2-1.8-8.3 9.5 1.9 7.1 8.4 2.2 14.1-3.1 8.9-10.7 14.1-16.8 20.5-7.7 9.9-5.4 25.2 1.4 35.2.2.2-.1.8-.1 1.3zm-832 117.8c17.4 4.2-13.8 22.1-18.6 26.6-15.1 10.5-26.6 25.5-43.7 32.9 16.3-16.8 35.8-30.8 54.7-44.8 4.1-2.9 13.4-9.8 7.6-14.7z"}),n.createElement("path",{d:"M962.7 150.601c-21.6-21.9 32.4-18 18.7-39.7-3.5-5.9-7.4-11.6-5-18.6 4.2-2.2-.3 10.8 8 20.5 13.6 24.2-29.7 14.4-21.8 37.9l.1-.1zm-362.1 298.1c0-23.7 5.4-46.3 11.5-69.3 2 2.8 1.1 4.8.8 6.6-4.2 20.8-7.9 41.7-11.6 62.7h-.7zm972.7-244.8c-45.6-18-43.4 17.4-58.9-6.2l-.1.1c8.5 6.1 8.5 6.6 17.4.5 10.5-5.3 32.5-2.3 41.6 5.6zm0 .1c5 .9 10.9 5.4 9.3 10.9-4.2 12.8-.9 12.8 5 21.9 1.2 1.8 3.4 3 5.2 4.5l.1-.1c-11.1-2.9-19.8-16.8-14.6-27.8 2.2-4.4-2.2-6.7-4.9-9.5-.1 0-.1.1-.1.1zm-59.9 218.9c-12.2.8-24.7 7.2-35.7-1.2 1 0 2.2-.4 3 .1 9.9 5.3 24.9-7.9 32.7 1.3-.1-.1 0-.2 0-.2z"}),n.createElement("path",{d:"M1514.4 197.701c-6.1-4.7-12.4-2-19.2-4.8 7-3 14.4-.8 19.1 4.9l.1-.1zm73.8 118.4c7.8-1 15 .7 22 4.1-7.2-1.3-14.7-3.1-22-4.1zm-625.6-165.4c1.7-1 3 .5 4.5 1.2-.2.3-.3.6-.5.9-1.3-.8-2.6-1.5-4-2.2.1 0 0 .1 0 .1zM19 505.401c8.1-24.6 38.5-42.9 60.7-23.3 15.1 14 29.7-5.3 45.6-7.1 11.6-3 19.2 3.8 23.6 14.1 13.9 20.5 45.9-16.4 58.2 30.8-14.5-7.3 4.1-27.3-37.9-20.5-23.5 4.1-22-21.3-33.9-21-15-1.3-25.2 11.3-39.3 12.6-5.6 0-10.6-1.4-14.6-5.5-22.2-20.5-53.8.2-59.9 24.4-.7-.7-1.6-1.6-2.6-2.5.1-.6.1-1.3.1-2zm368.6 319.5c-16.4 14.8-22.9 35.9-31.2 56.3-1.4 3.3-1.3 3.3-5.5 4 1.4-24.3 10.1-47.7 10.7-72.1-.4-.2-.8-.3-1.1-.5-18.8 24.1-21.6 55.6-29.4 84.2-1.1 4.7-1.1 4.8-5.8 5-1.7-33.7 6.8-67.9 3.5-102-8.3 14.9-9.7 32.4-15 48.5-8 26.1-6.5 54.8-14.5 80.3-.4-13 1.6-25.8 2.6-38-31-55.1-32.9-122.7-46.7-183.7-16.4-123.7-10.2-253.4 18.5-374.7 1.9-.5 2.5.5 2.3 2.2-7 31.6-13.9 63.2-17.8 95.3-8.2 77.5-10.2 155.9-4.2 233.6 5.3 49.1 15.6 97.5 24.3 146.1 6.3 26.6 10.7 54.2 23.7 78.4 1.1-8.2 18.3-114.8 32-88.5 3.4 24.7-2.3 49.7-1.9 74.3 3.6-13.5 16.1-65.3 32.6-64.4 3.8 16-4.4 33-3.9 49.4 7.4-12.1 12.6-27.8 26.8-33.7zm-307.5-68.3c19.8-4.7 21.6 108.9 25.7 125 1.3-46.5 3.8-92.9 14.9-138.3.4-2.7 1.7-5.9 4.6-6.3 3.9 3.1 2.1 10.7 2.9 15.3.9 33.4-1.2 67.2 1.1 100.5 4.3-17.8 8.5-36 19.1-51.2 3.5-7.1 19.9-19.3 19.1-3.8 1 21.6-7.6 42.9-8.1 64 4.9-14.1 23.6-52.7 25.9-14.9 1.7 19.5 3.8 39.1 5.2 58.6-.1 1.9-.2 1.9-3.8 2.8-5.7-24.7-4.3-50.1-8.2-75-.4-.2-.8-.3-1.2-.4-12.8 16.8-17.6 38.3-22.8 58.4-.4 1.9-.9 3.3-3.7 3.3.5-34.5 15-68.6 11.9-103-17.4 5.4-28.1 48.5-30.8 65.3-2.1 11.8-3.7 23.8-5.6 35.7-.3 2 .3 4.7-3 4.9 1.1-51.6 2.6-102.4.6-154-16.8 49.4-8.3 104.8-18.8 154.2-5-24.1-6.3-131-25-141.1z"}),n.createElement("path",{d:"M260.2 321.901c-61.3 194.5-63 404-27.7 603.7-.4.2-.8.3-1.2.5-16-41-16.1-86.9-20.9-130.3-5.4-45.6-5.1-91.3-4.1-137.1 2-108.6 12.4-217.8 45.5-321.7 2.2-4.6 2.7-15.6 8.4-15.1zm20 12.7c-.4-6.1 1.4-11.9 4.4-17.1 23.6-42.5 46.8-85.5 82.7-119.1 38.2-43.4 84.2-80.3 136.1-105.8 6.3-2 17-9.7 22.9-7.5-110.5 45.4-195 142.9-246.1 249.5zm-12.9-38.8c14-56.3 25.3-112.1 38.6-168.3 3.3-14.1-1.9-34.3 10.2-44.4 1.3 1.9.6 3.7-.2 5.7-7 19.7-2.6 41.5-10.3 61.3-15.1 48.2-17.8 103.6-39.1 148.4-1.3-1.9-2.2-5.4.8-2.7zm120.3 529.2c8.2-.4 10.3 1.2 9.7 9.6-1.3 20.5-10 40.7-10.4 61 3.9-7 20.8-63.6 24.8-29.8.8 15.5 1.6 30.9 2.3 46.4.1 3 .7 6.5-3.8 5.9-2.7-19.2-1.9-38.8-3.7-58.2l-1.2-.3c-6.6 9.3-14 50.1-25.7 47.4-3.5-16.2 23.4-80.8 8-82zm-142.5-530.9c.6-10.8 1.2-21.6-.6-32.4-3.4-25.2-1.8-58-27.8-71.7-46.9-26.9-117.4-10.8-142.7 38.4-3.9-3.9 1.7-9 3.6-12.6 31.7-43.4 94.4-51.5 140.2-27 25.1 10.5 28.8 39.7 30.5 63.8.2 9.8 5.9 36.5-3.2 41.5zM80 756.501c-3.8 20-1.8 40.4-2.2 60.7-.5 29.7 12.8 57 12.2 86.8-6-19.5-8.6-40.3-13.3-60.2-4.8-24.9-2.1-50.5-1.8-75.7.8-3.7-.3-11.5 5.1-11.3.1-.2 0-.3 0-.3z"}),n.createElement("path",{d:"M361.9 223.701c-.3-.5-.7-1.2-1.4-2.5 27.6-9.6 56.2-16 82.2-29.9 11-4.1 21.3-11.6 33.3-11.9-17.3 9.2-35.2 17.6-52.9 26.2-19.2 9.7-41.4 10.1-61.2 18.1zm154.4-78.5c-33.3 16.2-68 29-103.8 38.3-5 1.3-10.2 2.2-15.3.5v-1c40.6-7.7 78.8-27.1 118.5-39 .3.3.5.8.6 1.2zm-313.2-41.7c23.2 12.4 46.8 30.6 52.3 57.5 3.3 16.5 15.2 61.7 3.1 73.9.1-14.7 1.2-29.3-1.7-44-3.1-18.7-5.4-38.2-16-54.5-9-14.4-24.9-22.3-37.6-33l-.1.1zM393.3 73.6c-17.2 32.201-21.2 71.101-29.9 106.701-4.1-27.1 8.6-53.9 13.6-80.3 2.6-8 6.8-24.8 16.3-26.4zm40.5-25.4c-17.3 32.7-28.9 68.401-39.1 104.101-.4-.1-.9-.1-1.3-.2 5.7-36.1 15.9-75.7 39.5-104.5.2.2.5.4.9.6zM338 218.201c-9.6-6.5 3.9-113.5 16.3-115-11.2 37.2-15.2 76-16.3 115zm-9.6 42.3c7.8-5.1 16.7-8.5 25.3-11.9 29.1-9.1 54.3-26.4 82.2-38l.6 1.2c-32.5 23.1-70.2 37.3-107.6 49.8-.2-.3-.4-.7-.5-1.1zm-125.2-157.1c-9.9-1.5-20.1-9.6-29.9-5.2-22.4 11.2-36.9 32.6-50.6 52.8 5.6-24.5 29.1-47 51.8-56.5-12.5-4.3-24.7-6-37.5-8.5-10.4-2.7-20.6 2.5-30.9 1.1 24.5-9.1 49.6 2.5 73.7 6.3 6.9 5.6 16.4 4.6 23.4 10zM483.5 33c-22.6 26.4-36.9 56.3-50.4 87.801-.5-.2-.9-.3-1.4-.5 7.6-29.1 24.9-72.6 51.8-87.3zM258.8 589.301c0-3.9 2.6-3.6 4.4-3.8 27.3-3 32.3 27.4 22.1 45.6 12.1 8.1 24 15.8 26.3 31.9-2.1-1.1-3.1-3.1-3.7-5.3-3.3-10.6-12-20.3-23.5-20.7-8.9-2.6-4.8-11.9-1.9-17.8 7.5-22.9.6-32.7-23.7-29.9zm-177.5-247.7c-12.4-13.7 67.7-36 78.3-40.1 14.3-4 30.7-4.5 44.4 1.3-13.5-2.9-27.3-3.6-40.7.7-27.5 10.6-61.2 15.8-82 38.1zm229.7-44.4c18.2-3.3 32.5-14.2 47.8-23.8 11.1-6.3 21.2-11.4 33-17.2-1.1 3.9-1.7 5.9-5.1 7.5-24.4 13.2-46.6 32.8-75.3 34.9-.1-.5-.3-.9-.4-1.4zm253.7-178.2c-38.8 15.7-80.8 17.3-120.8 27.4-4.9-6.1 33.9-9.5 38.6-11.2 27.6-4.1 54.4-11.7 81.7-17.2.2.3.4.7.5 1zm-476.5 464.9c32-2.4 21.4 39.3-4.7 39-14.4.2-16.6-17-14.3-28.2 1.3-8.8 11.1-11.8 19-10.8zm-6.1 37.7c7.1-2.3 12.6-3.6 16.5-10.2 7.6-7.9 6.2-25.7-6.6-26.4-8.6-1-17 2.5-17.9 11.9-1.1 9-1.5 20 8 24.7zm220.5 95.6c-24.4.5-22.9-35.3-.7-34.8 7 0 16.9 10.4 17.1 17.8.2 7.7-8.8 17-16.4 17zm-1.4-26.7c-8.4-7.2-13.1 10.2-11.5 16.5 3.5 14.4 25.6.8 24.3-10.1-.1-7.5-5.7-11.5-12.7-9.3 0 1.1-.1 2.1-.1 2.9zm305.6-586.9c-16.1 2.5-32.4 3.6-48.6 5.5-21.3 1.3-43.8 5.9-64.6-.3 37.9.7 75.4-7.8 113.2-6.5.1.5.1.9 0 1.3zm-465.2 83.8c5.4 27.2-7.3 56.5-21.6 79.3-.5-.2-.9-.4-1.4-.6 8.8-25.8 19.4-51 21.2-78.5.6-.1 1.2-.2 1.8-.2z"}),n.createElement("path",{d:"M67.5 168.001c-3-17.8 27.2-74.7 48.9-68.1-26.6 12.9-36.2 41.2-48.9 68.1zm2.1 73.5c-18.3 26.9-24.3 59.7-37 88.7-.1-14.3 22.6-89.6 37-88.7zm11.1 56.4c8.5-26.4 8.3-53.5 10.4-81 3.3 1.9 2.9 5 3.1 8.2-2.5 21.9 4 56.9-13.5 72.8zM249.9 94.5c20.1 23.401 30.5 56.101 30.9 87.301-.4.1-.9.2-1.3.3-3.8-10.6-5.1-21.8-7.6-32.8-3.3-19.9-14.9-36.2-23-54.1.3-.1.6-.4 1-.7zm273.5-67.3c-19.7 23.7-38.8 46.8-58.2 70 1.9-12.7 46.7-67.2 58.2-70zM149.1 625.301c24.6.3 20.2 37.3-3 32.5-13.3-6.9-16.8-33 3-32.5zm.4 30.6c11.5-2.4 15.1-19.1 5.7-26.1-14-10.8-20.1 16.4-8.8 23.4.8-.8 1.5-1.6 2.6-2.8.2 2.2.4 3.8.5 5.5zm23.4-466.2c.8 18.7-19.2 60.9-32.9 70 12.9-23.3 21.7-46.4 32.9-70zm-71.1 90.5c3.5-25.9 5.7-50.6 7.6-76 10.3 17.6-.5 56.8-6 76.3-.5-.1-1-.2-1.6-.3zm220.3-126.1c-10 31.3-7.1 63.7-6.4 96-6.5-10.2-4.6-23.9-5.3-35.6-.6-20.8 1.2-41.7 10.5-60.7l1.2.3zm-174.4 414.4c-17.8-6-10.3-33.5 7.4-28.3 6 1.8 8.9 6.2 8.6 13-.6 18.1-16.5 9.2-16 15.3zm-2.8-4.7c7 .7 11.1-1.9 12.5-8.4.6-4.4 1.8-11.3-3.2-13.5-10.1-.6-14.5 13.8-9.3 21.9zm245.7-282.7c-10 15.8-29.2 22.6-46.2 27.8-13.7 3.6-27 8.1-39.4 15-4.4 2.5-4.6 2.3-8.8 1.8 29.3-19.8 67.6-19.9 94.4-44.6zm-222.4-23c12.9-19.4 23.4-41.6 35.5-61.2 2.5 1 1.6 2.7.9 4.2-8.6 20.4-18.4 43.8-36.4 57zm118.3-128.9c-10.2-24.7-19-49.9-33.2-72.7 16.5 11.2 30.7 52.4 34.4 72.5-.4 0-.8.1-1.2.2zM152.7 97.3c-.8-1-1.7-2-2.6-3.1-19.4 14.001-33.5 35.401-50.5 51.901 3-7.9 47.9-70.3 53.1-48.8zM59 308.901c-.7-6.9 11.7-62.8 19.2-60.4-5.5 20.5-10.1 40.9-17.3 60.6-.6-.1-1.2-.1-1.9-.2zm98.3 5.8c-7.4 21.9-14.5 43.3-17.1 66.3-9.4-4.4 8-63.6 17.1-66.3zm-37 20.3c-10.7 19-17.2 39.3-20.9 61-8.5-7.2 9.6-61.9 20.9-61zm13.9-7.8c-2.8 22.2-13.6 42.7-15.5 65.2-10.1-10.7 10.4-51.5 14.1-65.5.5.2 1 .2 1.4.3zm-37.9 21.7c-13.3 21.2-22 43.5-26.7 67.6-2.3-17.1 10.5-60.6 26.7-67.6zM291.4 98C290 70.7 281.1 56.1 270 32.8c.3-.2.6-.3.9-.5C284.2 50.7 299 74.5 291.4 98zm-92.1 10.901c-20.9 12.6-39.9 26.4-57.5 42.4 8.6-13.5 41.3-43 57.5-42.4zm-41.3 266.1c-8.6-6.2 12.4-59.2 21.2-64.2-9.4 21.1-17.8 41.8-21.2 64.2zm-110.6-236.2c2.7-14.8 15.1-24.4 23.1-36.5 5-5.3 12.4-12.3 20.3-7.5-14.7-.5-32.9 32.9-43.4 44zm282.2 624c-14.8-1.5-14.1-19.6-.7-22.2 17.8 2.3 17.1 20.6.7 22.2zm-6.7-9.6c-.7 14.9 19.4.1 13.7-7.5-5.6-4.7-13.7 1.3-13.7 7.5zM213 47.3c15 11.8 23.6 49.7 20.6 66.101-5.8-22.5-7.3-46.4-20.6-66.1zm323.1 32.3c18.7-10.8 50.8-3.3 72.7-5.3 2.8.3 3.7-.1 6.2 2.3-26.9 1.3-52.9-3.5-78.3 4.4-.2-.4-.4-.9-.6-1.4zM194.3 256.001c9-16.3 18.2-32.3 24.4-49.9 8 5.3-15.8 47.6-24.4 49.9zM506.5 75.3c4.9-6.4 34.3-40.3 41.3-33.4C534 53.2 521.7 65.6 507.3 76c-.3-.3-.5-.5-.8-.7zM65.8 354.901c-8 16.4-15.8 32.6-23.8 49.1-1.8-14.7 9.7-26.7 14.6-39.9 2.6-3.3 3.5-10.6 9.2-9.2zM175.2 40.6c21.3 8.8 31 37.1 35.3 57.6-5.3-3.4-5.6-10.3-8.3-15.4-5.9-16-12.7-31.8-26.9-42.3l-.1.1zm42.6 85.001c-17.6 6-30.5 18.7-44.6 30.2 2.7-12 31.2-31.2 44.6-30.2zM183.2 88.4c-3.5-3.5-5.6-7.9-7.7-12.3-7.1-17.2-22.7-24.6-36.6-34.7 21 8.8 39.7 23.4 44.3 47zM64.3 698.701c6.4 1.1 2.2 7.4 6.4 10.1 6.1-2.1 8.9-8.5 6.7-15.1-4.2-1.1-7.3 2.2-11.2 3.1-1-8.2 12.9-6.9 15.7-1.7 3.3 5.9-3 18.1-9.6 15.6-5.7-1.4-8.9-6-8-12zm-8.1-478.6c-8 12-15.5 23.5-23.2 34.8-1 1.5-1.7 4-4.5 3.4 1.2-8 18.6-32 27.7-38.2zm240.5 12.7c.6 15.5 1.1 31 1.7 46.5-.1.1-.3.2-.4.3-5.7-14.5-4.9-32.1-1.9-47 .1 0 .4.1.6.2zM108.1 51.8c20.3.3 35.4 8.7 43 28.8-19.1-15.8-12.2-23.9-43-28.8zm195.2 14c-2.9-4.4-12-35.3-12-40.5 5.2 4.1 12.7 28.9 12 40.5zm-76.5 161.201c.6 10.3-11 34.2-18.3 37.9 6.3-13.2 12.3-25.6 18.3-37.9zm-40.6 132c-4-11.5 3.1-34.2 13.4-43.8-7 14.7-10.8 27.5-13.4 43.8zm-129.7 179.9c-.5.2-1.1.4-2 .8-.2-13.7 9.3-13.4 16.5-4.4 3.8 5.1-1.9 11.8-7.5 8.5-2.4-1.3-4.5-3.1-7-4.9zm11.3-2.6c.3-5.5-8.7-5.7-8.3-.3-.1 7.7 8.3 7 8.3.3zm164.2-388.5c-12.8 3-23.5 10.4-35.7 15.7 5.1-7.8 25.3-16.7 35.7-15.7zm-25 204.2c-1.7-5.2 1.3-26 5.9-28.1 1.1 3.8-2 19.7-5.9 28.1zm-161.1-143.5c9.2-10.9 21.4-16.8 35-20.1-12.3 5.5-24.4 11.5-35 20.1zm16.1-26.9c4.9-6.1 25.3-10.5 41.5-8.5-15 1.1-27.8 3.7-41.5 8.5zM319.5 54.7c-2.2-10.2-4.3-20-6.4-29.9 5.3 4 8.7 19.5 6.4 29.9zM223 311.301c1.9 6.6 3.8 13.3 5.7 19.9-4.8-5.8-6-12.6-5.7-19.9zm17.6-140.2c-5.1-.4-10.2-.7-15.3-1.1v-.1c5 .6 10.9-1.5 15.3 1.2zm-23.7 139.7c-2.5-2.2-4.9-4.4-7.5-6.7 3.9.7 6.7 2.6 7.5 6.7zm23.7-139.7h5.1v.9c-1.8-.3-3.4-.6-5.1-.9z"}),n.createElement("path",{d:"M175.4 40.5h-3.9c1.8-1.5 2.8-1 3.8.1l.1-.1zm1417.3 200.801c1.4.3 2.8.5 4.2.8l-.3.9c-1.2-.6-2.5-1.2-3.8-1.8l-.1.1zm-685.2 413.2v-7.4c-53.9 1.3-107.6-2.5-161.4-2.6-17.9.4-35.8 2.7-53.7 4.1-23.7-4.3-49.1-1.7-73.6-3.5-2.5-5.5 10.5-1.8 13.3-2.6 37.2-.3 74.3 3.5 111.4-.6-2.7-17.1-8-33.6-11.3-50.6-.4-6.8-12.8-29-.6-29.3 20.2-1.3 40.7-9.9 60.7-3.8-2.5 2-2.4 3.8-1.5 5.9 8.2 23.4 10.7 48.2 18.1 72.1 19.6.9 39.2-.2 58.8.2 5.1-.1 3.9 3.4 3.6 7.5-1.2-1.8-1.9-2.9-2.9-4.4-20.9-.2-42-.6-62.9-1.6-3.1-1.1-2.8 5-5.3 1.4-6.8-26.2-11.7-53.1-19.1-79.2-17 1.7-34.1 3.4-51.8 5.2 6.1 25.7 12.5 51 18.6 76.9 34.3.2 68.6 1 102.9 1.8 18.5.1 37.1 1.2 55.6.4 5.1.2.9 9 1.6 12.8-14 .4-27.3.3-41.3.3-1.8 0-3.1.4-4.1 2.1-20.2 31.7-41.2 62.7-61.6 94.2-33.8 56-71.8 109.3-107.2 164.2-1.3-.6-2.4-1.1-3.5-1.6 55.5-86.4 112.7-172.8 170.6-258-17.1-4.3-35.1-.9-52.7-2.1-36.2-.9-71.9-2.5-108.1 1 18 27 33.4 55.8 50.9 83.2 6.4 9.1 10.7 19.1 15.7 28.8.9 1.7.8 1.8-.6 4.6-7.9-8.8-9.7-21.9-17.7-31-14.4-20.8-25.2-43.8-39.6-64.6-15.8-26.1-8.1-19.7-37.3-21.1-.6-1.8.2-2.2 1.6-2.2 20.9-1.2 41.8-1.1 62.8-1.5 57.2-2.6 114.3 1.3 171.6 1zm-101.3-18.3c-7.3-25.6-9.8-52.8-19.6-77.3-.1 24.9 11.5 51.8 15.7 77.3h3.9zm215.2 17.7c-1.4-.1-2.8-.3-4.6-.4-1.7 4-3.5 8.2-5.6 13-1.2-3.3-.7-5.7.3-8.1 11-26.7 20.6-54.1 31-80.8.1 5.2-1.5 10.1-2.5 15.6 10.1.4 19.9-2.6 30-3.7 2.4-5.2 4.8-10.5 7.1-15.8 5.3 2-1.1 11.6-1 15.8-11.5 52-38.4 98.7-63.6 145.1 3.3 3.9 8.4 4.6 12.2 7.4-29.6 12-11.7-11-35.7 32.1-3.4 9.4-28.2 44.1-23.7 49.7 21.4 34.5 43.5 67.7 69.7 98.8-.9.7-1.6 1.4-2.7 2.3-28.2-30.2-50.1-64.2-71.6-99.4-2.1 5.3-8.1 9.6-6.1 15.2 7.8 15.2 17.6 29.3 26 44.2-2.9 2.2-4.7 2-6.4-1.1-7.8-13.7-15.2-27-23.2-40.9-8.5 13.8-17.5 27-27.4 39.8-5 4.9-19.5 35.7-26.2 28.9 16.2-24.7 34-48.5 48.4-74.5.8-1.4.5-2.6-.3-3.9-5.4-9.5-10.8-19-14.6-29.2 3.7-4.5 14.5 23.3 18 27.4 1.5-2.4 2.7-4.1 3.7-5.8 4.9-8.4 4.5-5.2.3-13.4-4-8.7-9.2-17-12-26.1 3.1-4.1 15.2 24.7 18.2 28.4 13.3-22.4 26.1-44.1 39-66-5.7-5.5-39.4 5.5-43.8.5 3.4-4.4 16.8-1.3 22.8-4 13.6-.5 21.8 2.3 30.8-11-1.4-.9-2.6-1.7-3.8-2.5l.4-.4c1.2.6 2.4 1.2 4.1 2 12.7-20.7 23.4-42.5 34.3-64.2 1.2-2.2-1.4-3.6 0-5.4-6.3-2.3-12.6-3.9-17.7-8l-.1.1c6.9 2.4 13.2 4.8 20.4 7.3 4.3-9.1 6.6-18.3 10-27.1-8.1-3.4-16.9-.4-25-4.7 8.4.9 16.9 1.8 25.7 2.7 1.1-3.5 2.2-7.2 3.5-11.2-10.4-.6-20.2-1.2-30.4-1.7-1.2 3-2.3 5.8-3.3 8.6 1.9.7 3.3 1.3 4.7 1.8h-5.5c-2.8 6.9-5.5 13.7-8.2 20.6 1.6.8 2.8 1.4 4.1 2.1l.3-.1zm18-59.2c-3 8.5-6.4 16.5-9.2 25.3 10.5.4 20.4.7 30.4 1 3.1-9.9 6-19.5 9-29.3-10.5-.5-20 4.2-30.2 3zm-27.4 141.7c-2.8 1.8-4.8 3.7-5.6 6.8 5.6.8 8.2.2 11.4-2.8-2-1.3-3.9-2.6-5.8-4z"}),n.createElement("path",{d:"M782.3 799.301c3.6-.2 4.8 4 6.2 6.5 4.8 11.2 11.5 21.2 18.2 31.2 6.8 10.2 13.7 20.2 20.5 30.3 1.8 2.6 1.7 2.6 0 6.4-16.8-23.8-34.2-47.1-44.9-74.4zm94 64.6c-4.1-1.7-4.4-2.5-2.2-5.4 8.1-10.7 16.3-21.4 24.4-32.2 3.4-2.9 9.8-18.2 13.9-15.7-9.7 19.2-23.6 35.7-36.1 53.3zm-48.5-338.3c.2 3.3.4 6.5.7 9.9-6.2 1-2.8-7.3-3.6-11.1 8.1-1 16.4 0 24.6-.1 4.2.1 4.9.6 6.4 4.7 11.4-.5 8.1 11.7 7.7 19.2-5 .9-1.8-12.7-3.4-16.3-1.5-.1-2.9-.2-4.8-.4v12.1c-5.1 1.7-3-14-3.7-17.4-8.1-.3-15.9-.4-23.9-.6zm-9.1-35c7.5 5.8-6.5 12.5.7 13.9 9-8 32.5-4.9 24.3 10.5-1.5 1.9-3 4-5.7 3.5.3-3.7 4.6-5.7 5.1-9.5 2.2-8.1-15.7-6.9-19.4-3.1-4.4 4.1-11.7-3.9-7-7.6 2.1-2.4 2.9-4.9 2-7.7z"}),n.createElement("path",{d:"M792.3 494.501c5.1-5.8 8.1-2.2 11.6 1.6 4.2 3.5 1.5 7.9.1 12.1 12 8.9 31.9-8.4 30.2 6.3-2.1-.3-1.3-2.4-2.3-3.7-56.2 8.3-9.7-19.7-39.6-16.3zm26.5-4c-4.7-2.5-10.1-3.6-15.1-5.2 0-.3.1-.5.1-.8 4.4-.4 7.5 2.9 11.9 2.9 1.7.2 3.2 1.1 3 3.3 0-.1.1-.2.1-.2zm206.9 165.1c-1.4-.6-2.8-1.1-4.3-1.7l-.1.1c1.4.6 2.8 1.1 4.2 1.7l.2-.1z"})),n.createElement("path",{d:"M906.5 633.7c44.2-58.2 10.5-45 81.4-42.4 3.8-.9 3.7-.9 5 2.5 15.7 38.8 21.7 80.5 24.3 122.1 1.8 18.4-25.1 29.1-40.3 29.7-5.4 1.3-20.6-2.3-22.4 3.4-5.6 18.9-11.8 37.5-15.7 56.8-1.2 5.1-1.7 5.8-6.7 5.4-14.8-1.2-30-.9-43.4-8.2-37.2-14.7-75.3-27.1-111.5-44.4-9.6-5.1 1.6-16.1 2.9-23.3 4.9-20.6 17.7-40.3 38.1-48.2 10.9-6.4 23.6-5.8 35.5-9.7 18.6-3.1 36.3-10.4 55-11.7 4.3.1 5.3-4.7 8.5-6.7 1.8-1.5 2-3.2 1.3-5.3-3.6-6.9-2.1-18.9-12-20zm-10.1-33.6c-6.2-4.9-5.3-13-3.4-19.7 5.9-13.6 10.2-27.6 10-42.6.3-2.8-.6-7.2 2.2-8.7 6.2.2-3.3 36.4 2.4 38.8 5.2 2-11.7 23.7-11.2 32.2z",fill:"#007891"}),n.createElement("path",{d:"M811.9 545.901c-4.5-4.5 4-9 7.9-9.8 7.1-1 13.4-4.1 19.5-7.5 2.5-1.4 5-.9 6.6 1.5 6.8 8.9 13.4 17.4 23.2 23.4 7.6-26.4 10.9-19.6 34.6-25.8-.5-4.4-4.5-5.9-6.4-9.1-19.1 14.6-24.7 4.1-29.6-14.8-13.1-4 5.4-15.5 2.8-23.4-1.8-5.6-.9-11.1-.5-16.7.5-4.9 7.8-5.5 11.5-3.3 15.5 8.6 22.3 22.2 21 39.5-.6 7.8.7 15.1 3.5 22.2.8 2 1.9 3.8.2 5.6 3.4 7.1 6.6 14 9.9 21 9.5-6.3-9.9-16.2-4.2-34.6 3-5.2 5.3 12 18.7 15.9 35.7-14.8 40.5 12.7 52 38.7.9 4.9 14.5 26.7 3.4 24.4-13-1.6-26.4-.8-39.2-3.9-7-1.2-5.6-1.3-8.8 3.5-14.6 14.7-21.7 34.7-36.2 49.5-3.8 4-8.6 4.3-14 4.3-14.4 3-15.4-12.7-16.7-23.1-25.9 20-13.9 21.9-51 14.3-5.3-18.1.8-38.4 1.4-57.1 1-4.2-4.2-5.8-5-10-2.9-8-9.8-16.4-4.6-24.7zm93.3-7.3c-1.5 7.9-1 18.6-4.4 26.9-5.3 9-8.7 20.1-5.2 30.3 3.9-9.4 9.8-17.7 12.5-27.6-6.1-5.9-1.6-22-2.9-29.6zm-62.4 28.8c.1 9.7 1.3 18.5 3.4 27.9 4.4-7.3 13-11.4 11.2-20.3-4.6-2.4-9.4-4.9-14.6-7.6zm-9.8 301.8c-10-37.4-31-70.3-43.8-106.4 12 0 21.9 8.1 33.2 11.2 9.4 3.5 18.9 6.4 28.3 9.8 6.3 3.2 16.2 4 18.1 11.9 5.5 22.8 2.8 46.5 6.4 69.5 1.9 13.9 24.7 36.6-.6 40.9-18.9 2.1-27.3 12.4-48.3 11.1-2.7.4-5.1.2-7.6-1.3-7.5-.9-15-.3-19.5-8-9.6 1.7-16-5.3-4.4-9.9 15.8-4.8 25.3-18.9 38.2-28.8z",fill:"#E39D77"}),n.createElement("path",{d:"M890.4 475.699c-8.1.8-13.6-2.9-17.8-10.1-.5 2.6-.8 4.4-1.2 6.9-6.3-6.6 3.7-26.3 11.2-29.2 16.4-10.7 35.8-7.2 51.9 2.2 14.8 9.4 14.6 28.3 12.1 43.6-2.9 12.6 9.9 19 14.6 28.9 3.7 5.5 4.9 12.3 8.7 17.6 1 1.2 1.5 2.3.8 4-2.5.3-4.4-.4-6.1-2.5-15.6-22.1-29.1 14.1-50.1-14.2.7 9.7 4.5 17.5 7.5 25.8-14.5 3.2-21.7-28.9-24.6-39.6-.9-11.7-.2-23-7-33.4z",fill:"#7A3B24"}),n.createElement("g",{fill:"#1E1919"},n.createElement("path",{d:"M780.9 907.2c4.1-.8 11.7-.8 14.6-.1 8.3 2.4 2.6-9.2 11.4-16.3-1.2 4.4-2.1 7.9-3.2 12.2 6.7-.7 11.3-5.5 18-6.6 8-3.4 27.7-21.1 24.4-29.4-7.3-32.2-19.3-63.1-29-94.6l.9-.3c10.8 24.9 17.9 51.3 25.9 77.2 3.1 8.5 7.8 17.4 3.2 26.2-1.4 2.7-3.6 5.1-5.8 7.1-5.9 7 6.9 19.7 12.5 24.4-4.6 8.6 32.8-3.3 35 7.4-11.9 5.3-25.8 1.7-36.5 4.9-15.3 2.2-32.1 3.7-47.1-.8-2.6-1-4.7-3.3-6.8-5.4-4.2-5.5-14 .9-17.5-5.9zm28.5 6.6c-7.6-6.7 6.6-7 8.2-13.1-5 .3-10 4.5-14.9 6.3-2.2 1.1-2.4 2.9-1.6 5.1 5.1 2.7 9.1 1.3 15 2.5-3.2-3.3.1-5 1.1-7.6-3.7 1.8-8.5 1.8-7.8 6.8zm40.4-2.1c-4.4-13-19.6-6.6-29.4-5.6 1.5 4-4 4.6-3.1 8.2 1.2.1 2.4.1 3.7.2-.4-4.4.7-5.8 5-6.4-1.1 1.9-2.3 3.8-3.8 6.3 2.4.4 4 .6 5.7.9-1.1-4.4-1-4.5 2.2-5.1-.3 1.3-.5 2.6-.8 4 7 4 13.2-.8 20.5-2.5zM835.2 889c-4.3 5.7-10.6 8.9-14.9 14.4 7.8-1.6 15.5-2.4 24.3-.8-3.5-5-6.3-9.1-9.4-13.6zm70.9-354.6c2.6 7.4-2.5 31.5 2.2 33.7 5.1-13.2 8.1-27 18.9-37-16.3-11.5-16.2-46.8-14.8-65.3 2.7 17-.7 59.4 19.6 65.1-6.8 6.5-12.5 13.2-15.6 22.3-7.1 17.9-14.9 35.1-23.6 52.3-1.7.5-2.1-1-2.6-2.4-6.9-15.8-9.4-34.5-22.1-47 14.8 6.9 17.7 29.9 24.7 43.6.3 0 .6.1.9.1 4.6-9.9 9.3-19.7 14-29.8-3.7-1.9-4.2-5-4.1-8.4 1.2-6.2-1.1-23.7 2.5-27.1v-.1zm-74.5 31.3c-2.2 1.7-4.4 3.3-5.9 5.6-1 1.1-2.2 1.8-3.7 1.2-4-3 1.3-8.7 1.9-12.4-.3-.1-.5-.3-.8-.4-1.8 2.2-3.5 4.4-6 7.4-2-6.4 9.1-7.6 5.6-13.1-4.1 1.6-6.8 4.9-10.2 8 .6-4.1 1.7-5.2 9.5-9.7-.2-1.7-.3-2.5-.7-4.6-3.8 2-5.8 3.2-9.7 5.6 2.7-6.9 11.3-5.8 15.2-11.2-5.1-1.5-8.8 3.5-13.8 2.1 6.1-3.7 14.1-5.4 22-4.7-4 3.6-9.7 4.9-11.6 11.5 4.9-3.4 6.8-6.8 13-7.4-3.9 4.2-10.1 5.6-11.1 12.8 4.1-3 5.3-7.3 10.7-6.7-7.5 5.3-11.2 12.5-13 21 4.7-2.6 6.2-8.2 10.2-11.2 1.8 2.2 3.4 4.2 5.1 6.3.2-.2.4-.3.7-.5-1.6-1-3.2-2-5-3.2-1.2.9-2.7 1.7-2.3 3.8l-.1-.2z"}),n.createElement("path",{d:"M903 532.2c1.1 9.9-.4 20.3-.9 30.4-.3 2.1-.2 4.9-1.5 6.2-4.2 7.4-4.5 14.8-7.5 23.5-3.3-7.1 2-14.7 3.8-21.7 1.9-7.6-8.7-12.4-9.8-19.5 5.6 3.7 6.6 10.2 12.2 14.1 2-11.2 1.9-22.1 3.7-33zm3.2 2.4c-8.7-22.8-10.6-48.4-8.4-72.5 2.2 27.6-1 57.5 15.8 81.4-.2.2-.5.4-.7.6-2.6-3-4.6-6.3-6.8-9.7l.1.2zm51.4 32.5c-6.7 7.4-11.7 16.4-19.4 22.7-.3-.2-.5-.3-.8-.5 1.8-6.1 13.5-22.2 20.2-22.2z"}),n.createElement("path",{d:"M912.2 529.9c-4.7-7.9-8.7-38.5-6.7-46 1.3 14.9 3.7 31.1 6.7 46zm-18.3-45.7c-6.6-11.9-6.1-24.4-2.7-37-.4 12.4-1.4 24.9 2.7 37zm29.8 9.8c3.6 13.6 7.6 26.2 21 33.7-11.1-2.2-24.2-23.2-21-33.7zm-63.5 88.3c3.9 13.1 8 26 11.3 39.1-.3.2-.6.3-.9.5-.5-.6-1.4-1.1-1.5-1.8-2.5-12.4-7.8-25.9-8.9-37.8zm-15.6 14.6c1.8 9.7-1.1 18.9-2.3 29-3-7.8 1.1-20.2 1.1-29.1.4 0 .8.1 1.2.1zm93.1-147.2c6 8.4 6.7 28 5.4 37.9-1.1-12.9-1.3-25.2-5.4-37.9zM906.5 475c-4.2-12.1-1.6-24.3-2.6-36.3.4 0 .7 0 1.1-.1.5 12.1 1 24.1 1.5 36.4zm41.5 26.5c-8.3-7.6-17.1-14.9-17.1-27.5 3.7 10.5 9.3 19.5 17.1 27.5zm-65.1-52.8c.4 0 .8-.1 1.1-.1-1.5 8.1-3 16.1-2.3 24.8-4.7-6.4-.6-17.6 1.3-24.8l-.1.1zm56.4 54.1c-7.6-6.9-12.2-17.6-13.3-27.7 2.8 10.3 8.2 18.5 13.3 27.7zm-12.2-35c-2.9-8.9-5.7-17.9-8.6-26.9 5.1 8.2 7 17.5 8.6 26.9z"}),n.createElement("path",{d:"M883 448.6c-5.2 5.6-6.4 13.7-5.8 21.3-3-5.1-.5-16.8 4.8-22.4.3.4.6.8.9 1.3 0-.1.1-.2.1-.2zm47.3-.9c5.7 6.5 7.3 14.4 7.9 22.7-1.8-7.9-3.7-15.7-7.9-22.7zm-98.8 118.1c4.9 3.9 3.9 10.4 3.9 15.9-.3 0-.6.1-.8.1-.7-5.4-1.9-10.9-3-16.1l-.1.1zm45.5-80c1.1-.2 2.1-.4 3.4-.7-1.1 1.2-2 2.2-3 3.4-1.1-.1-2.7-.3-4.5-.5 3.2-1.8-.6-4.9 1.7-7.8.9 2.1 1.6 3.8 2.4 5.6zm42.5-27c-1.7-5.8-3.4-11.7-5.4-18.3 3.9 6.1 5.1 12.1 5.4 18.3zm34 60.9c2.8 2.5 5.6 4.9 8.3 7.4l-.7.7c-2.7-2.5-5.8-4.6-7.6-8.1zm-10.9-12.6c3 2.4 6.1 4.7 7.6 8.4l.1-.1c-2.6-2.8-5.1-5.6-7.7-8.3zm-71-3.5c-.8-.5-1.3-.8-1.7-1 .4-1.5.8-3.1 1.3-5 1.4 2.1 1.7 3.8.4 6zm.5 7.6c1.8-.4 3.5-.9 5.7-1.4-1.9 2.1-1.9 2.1-5.7 1.4zm2.9-13.6c-.2-1.2-.4-2.5-.7-4.4 2.1 2 2.1 2 .7 4.4zm61.7 9.5c1 1.3 2 2.6 3.1 3.8-.3.2-.6.3-.8.5-.7-1.5-1.4-3-2.1-4.4l-.2.1zm2.9-27.7c-.5-1.8-1-3.5-1.5-5.3.2-.1.5-.1.7-.2.3 1.9.6 3.7.8 5.5zm-.4 23.4c1.1 1.4 2.2 2.8 3.4 4.2l.1-.1c-1.2-1.3-2.3-2.8-3.5-4.1z"}),n.createElement("path",{d:"M953.6 519.6c-1.1-1.4-2.2-2.8-3.4-4.2l-.1.1c1.2 1.4 2.3 2.8 3.5 4.1zM936.8 507c-.9-1.1-1.8-2.2-2.7-3.2.3-.2.6-.4.9-.5.5 1.2 1.1 2.5 1.8 3.7zm2.8-27.6c.1 1.2.1 2.5.2 3.7h-.2v-3.7zm4 238.6c-7.9 27.3-22.9 52.5-32.4 79.5-11.2 2.6 29-72.2 31.6-79.8.3.1.6.2.8.3zm-18.9-36.9c-14.5-1.3-28.9-4.5-43.5-1 4.1-3.3 4.1-3.3 23.9-3.3 5.6-4 10.2-12.1 16.6-13.7-2.6 5.7-6.5 10-11.1 14.2 4.7 2.3 10 .8 14.1 3.8zm38.2 59.1c.7-2.2 5.8-31.6 8.7-20.7-1.9 6.1-.3 20.3-8.7 20.7zm-32.8-70.7c9.9 1.5 19.5 7.1 29.1 10.3-3.7 0-25.8-8-29.1-10.3zm2.9-44c8.8 4.3 17.6 9.8 24.8 17-8.2-5.7-17.1-10.5-24.8-17zm.1 0c-2.6-.1-3.8-2.3-5.4-3.8 2.5.3 4.1 1.8 5.4 3.8z"})))},t.RemoteWorkHero.displayName="RemoteWorkHeroIllustration"})),define("metaserver/static/js/modules/clean/react/flows/conversions/convert_and_share_submenu",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/flows/conversions/conversion_actions","dig-components/menu","dig-components/icons/src","dig-components/icons","metaserver/static/js/modules/clean/react/file_viewer/open_button/types","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/file_viewer/constants"],(function(e,t,s,n,a,r,i,o,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConvertAndShareSubmenu=void 0,n=s.__importDefault(n),t.ConvertAndShareSubmenu=({file:e,user:t})=>{const s=a.getConversionActionsForFiles([e],{expFlowsManualVideoRemuxUi:!0,expFlowsAudioConversionUi:!0});if(!s.length)return null;const u=s.map(s=>({handler:()=>{s.convert([e],t,{shouldShareResult:!0,source:"share-button"})},spriteName:null,text:s.actionText,type:l.OpenButtonAction.CONVERT_AND_SHARE,userAction:d.UserAction.ConvertAndShare,iconElement:n.default.createElement(o.UIIcon,{src:s.actionIcon})}));return n.default.createElement(r.Menu.Submenu,{withLeftAccessory:n.default.createElement(o.UIIcon,{src:i.ConvertFileLine}),withTriggerContent:c.intl.formatMessage({id:"jso4WM",defaultMessage:"Share as..."})},n.default.createElement(r.Menu.Segment,null,u.map(e=>n.default.createElement(r.Menu.ActionItem,{key:e.text,value:e,withLeftAccessory:e.iconElement},e.text))))}})),define("metaserver/static/js/prod_assets_web_modules/react-touch-events",["./common/_commonjsHelpers","react"],(function(e,t){"use strict";var s,n,a=(function(e){return e&&e.__esModule?e:{default:e}})(t),r={exports:{}};return s=r,e.commonjsGlobal,n=function(e){return(function(e){var t={};function s(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=e,s.c=t,s.i=function(e){return e},s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=8)})([function(e,t,s){function n(e){return function(){return e}}var a=function(){};a.thatReturns=n,a.thatReturnsFalse=n(!1),a.thatReturnsTrue=n(!0),a.thatReturnsNull=n(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,s){var n;n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")},e.exports=function(e,t,s,a,r,i,o,l){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[s,a,r,i,o,l],u=0;(c=new Error(t.replace(/%s/g,(function(){return d[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,s){var n,a=s(0);n=function(e){for(var t=arguments.length,s=Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];var a=0,r="Warning: "+e.replace(/%s/g,(function(){return s[a++]}));"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(e){}},a=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var s=arguments.length,a=Array(s>2?s-2:0),r=2;r<s;r++)a[r-2]=arguments[r];n.apply(void 0,[t].concat(a))}},e.exports=a},function(e,t,s){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,s){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=s(7)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}),!0)},function(t,s){t.exports=e},function(e,t,s){var n=s(1),a=s(2),r=s(3),i={};e.exports=function(e,t,s,o,l){for(var c in e)if(e.hasOwnProperty(c)){var d;try{n("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",o||"React class",s,c),d=e[c](t,c,o,s,null,r)}catch(e){d=e}if(a(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",o||"React class",s,c,typeof d),d instanceof Error&&!(d.message in i)){i[d.message]=!0;var u=l?l():"";a(!1,"Failed %s type: %s%s",s,d.message,null!=u?u:"")}}}},function(e,t,s){var n=s(0),a=s(1),r=s(2),i=s(3),o=s(6);e.exports=function(e,t){var s="function"==typeof Symbol&&Symbol.iterator,l="<<anonymous>>",c={array:_("array"),bool:_("boolean"),func:_("function"),number:_("number"),object:_("object"),string:_("string"),symbol:_("symbol"),any:m(n.thatReturnsNull),arrayOf:function(e){return m((function(t,s,n,a,r){if("function"!=typeof e)return new u("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var o=t[s];if(!Array.isArray(o))return new u("Invalid "+a+" `"+r+"` of type `"+h(o)+"` supplied to `"+n+"`, expected an array.");for(var l=0;l<o.length;l++){var c=e(o,l,n,a,r+"["+l+"]",i);if(c instanceof Error)return c}return null}))},element:m((function(t,s,n,a,r){var i=t[s];return e(i)?null:new u("Invalid "+a+" `"+r+"` of type `"+h(i)+"` supplied to `"+n+"`, expected a single ReactElement.")})),instanceOf:function(e){return m((function(t,s,n,a,r){if(!(t[s]instanceof e)){var i=e.name||l;return new u("Invalid "+a+" `"+r+"` of type `"+((o=t[s]).constructor&&o.constructor.name?o.constructor.name:l)+"` supplied to `"+n+"`, expected instance of `"+i+"`.")}var o;return null}))},node:m((function(e,t,s,n,a){return p(e[t])?null:new u("Invalid "+n+" `"+a+"` supplied to `"+s+"`, expected a ReactNode.")})),objectOf:function(e){return m((function(t,s,n,a,r){if("function"!=typeof e)return new u("Property `"+r+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var o=t[s],l=h(o);if("object"!==l)return new u("Invalid "+a+" `"+r+"` of type `"+l+"` supplied to `"+n+"`, expected an object.");for(var c in o)if(o.hasOwnProperty(c)){var d=e(o,c,n,a,r+"."+c,i);if(d instanceof Error)return d}return null}))},oneOf:function(e){return Array.isArray(e)?m((function(t,s,n,a,r){for(var i=t[s],o=0;o<e.length;o++)if(d(i,e[o]))return null;return new u("Invalid "+a+" `"+r+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")})):(r(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)},oneOfType:function(e){return Array.isArray(e)?m((function(t,s,n,a,r){for(var o=0;o<e.length;o++)if(null==(0,e[o])(t,s,n,a,r,i))return null;return new u("Invalid "+a+" `"+r+"` supplied to `"+n+"`.")})):(r(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull)},shape:function(e){return m((function(t,s,n,a,r){var o=t[s],l=h(o);if("object"!==l)return new u("Invalid "+a+" `"+r+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var m=d(o,c,n,a,r+"."+c,i);if(m)return m}}return null}))}};function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function u(e){this.message=e,this.stack=""}function m(e){var s={},n=0;function o(o,c,d,m,_,p,h){if(m=m||l,p=p||d,h!==i)if(t)a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var f=m+":"+d;!s[f]&&n<3&&(r(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,m),s[f]=!0,n++)}return null==c[d]?o?null===c[d]?new u("The "+_+" `"+p+"` is marked as required in `"+m+"`, but its value is `null`."):new u("The "+_+" `"+p+"` is marked as required in `"+m+"`, but its value is `undefined`."):null:e(c,d,m,_,p)}var c=o.bind(null,!1);return c.isRequired=o.bind(null,!0),c}function _(e){return m((function(t,s,n,a,r,i){var o=t[s];return h(o)!==e?new u("Invalid "+a+" `"+r+"` of type `"+(function(e){var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t})(o)+"` supplied to `"+n+"`, expected `"+e+"`."):null}))}function p(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(p);if(null===t||e(t))return!0;var n=(function(e){var t=e&&(s&&e[s]||e["@@iterator"]);if("function"==typeof t)return t})(t);if(!n)return!1;var a,r=n.call(t);if(n!==t.entries){for(;!(a=r.next()).done;)if(!p(a.value))return!1}else for(;!(a=r.next()).done;){var i=a.value;if(i&&!p(i[1]))return!1}return!0;default:return!1}}function h(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol})(t,e)?"symbol":t}return u.prototype=Error.prototype,c.checkPropTypes=o,c.PropTypes=c,c}},function(e,t,s){var n=(function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}})();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=s(5),o=s(4);function l(e){return e.touches[0].clientX}function c(e){return e.touches[0].clientY}var d=(function(e){function t(){var e,s,n;a(this,t);for(var i=arguments.length,o=Array(i),d=0;d<i;d++)o[d]=arguments[d];return s=n=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleTouchStart=function(e){n.touchStarted||(n.touchStarted=!0,n.touchMoved=!1,n.swipeOutBounded=!1,n.startX=l(e),n.startY=c(e),n.currentX=0,n.currentY=0)},n.handleTouchMove=function(e){if(n.currentX=l(e),n.currentY=c(e),n.touchMoved){if(!n.swipeOutBounded){var t=n.props.swipeTolerance;n.swipeOutBounded=Math.abs(n.startX-n.currentX)>t&&Math.abs(n.startY-n.currentY)>t}}else{var s=n.props.tapTolerance;n.touchMoved=Math.abs(n.startX-n.currentX)>s||Math.abs(n.startY-n.currentY)>s}},n.handleTouchCancel=function(){n.touchStarted=n.touchMoved=!1,n.startX=n.startY=0},n.handleTouchEnd=function(e){if(n.touchStarted=!1,n.touchMoved){if(!n.swipeOutBounded&&n.props.onSwipe){var t,s=n.props.swipeTolerance;t=Math.abs(n.startX-n.currentX)<s?n.startY>n.currentY?"top":"bottom":n.startX>n.currentX?"left":"right",n.props.onSwipe(t,e)}}else n.props.onTap&&n.props.onTap(e)},r(n,s)}return(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),n(t,[{key:"render",value:function(){var e=this.props.children,t=e?i.Children.only(e):i.createElement("button",null);return i.cloneElement(t,{onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchCancel:this.handleTouchCancel,onTouchEnd:this.handleTouchEnd})}}]),t})(i.Component);d.defaultProps={tapTolerance:10,swipeTolerance:30},d.propTypes={children:o.node,tapTolerance:o.number,swipeTolerance:o.number,onTap:o.func,onSwipe:o.func},e.exports=d}])},s.exports=n(a.default),e.getDefaultExportFromCjs(r.exports)}));
//# sourceMappingURL=pkg-fvsdk-support.min.js-vflROXNUi.map