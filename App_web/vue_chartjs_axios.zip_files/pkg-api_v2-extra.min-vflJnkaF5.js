define("metaserver/static/js/api_v2/datetime",["require","exports","tslib","metaserver/static/js/modules/clean/datetime/datetime"],(function(e,t,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatTimestamp=void 0,s=r.__importStar(s);t.formatTimestamp=function(e){return s.format_date_utc(e,"yyyy-MM-ddTHH:mm:ssZ")}})),define("metaserver/static/js/api_v2/default_team_client",["require","exports","metaserver/static/js/api_v2/types","metaserver/static/js/api_v2/client_base","metaserver/static/js/modules/clean/viewer"],(function(e,t,r,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTeamApiV2Client=void 0;class a extends s.ApiV2ClientBase{constructor(e,t){super(t),this.userProperties=e}_headers(e){return Object.assign({[r.ApiV2HeaderNames.DropboxUid]:String(this.userProperties.id),[r.ApiV2HeaderNames.DropboxTeamId]:String(i.Viewer.get_viewer().team_id),[r.ApiV2HeaderNames.DropboxTeamAuthorization]:JSON.stringify({auth_role:String(i.Viewer.get_viewer().auth_role),auth_action_type:String(i.Viewer.get_viewer().auth_action_type)})},e.headers)}}t.DefaultTeamApiV2Client=a})),define("metaserver/static/js/api_v2/default_user_client",["require","exports","metaserver/static/js/api_v2/types","metaserver/static/js/api_v2/client_base"],(function(e,t,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultUserApiV2Client=void 0;class i extends s.ApiV2ClientBase{constructor(e,t){super(t),this.userProperties=e}_headers(e){return Object.assign({[r.ApiV2HeaderNames.DropboxUid]:String(this.userProperties.id),[r.ApiV2HeaderNames.DropboxPathRoot]:String(this.userProperties.root_ns_id)},e.headers)}}t.DefaultUserApiV2Client=i})),define("metaserver/static/js/api_v2/team_client",["require","exports","metaserver/static/js/api_v2/types","metaserver/static/js/api_v2/client_base","metaserver/static/js/modules/clean/viewer"],(function(e,t,r,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TeamApiV2Client=void 0;class a extends s.ApiV2ClientBase{constructor(e){super(e)}_headers(e){const t=i.Viewer.get_viewer().get_user_by_id(e.subjectUserId);return Object.assign({[r.ApiV2HeaderNames.DropboxUid]:String(t.id)},e.headers)}}t.TeamApiV2Client=a})),define("metaserver/static/js/api_v2/transport/beacon",["require","exports","tslib","metaserver/static/js/api_v2/types","metaserver/static/js/api_v2/transport/fetch","sjcl"],(function(e,t,r,s,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeaconTransport=void 0,a=r.__importStar(a);t.BeaconTransport=class{executeRpc(e,t,r,n){if(navigator.sendBeacon)return new Promise((function(i,o){var c;const p=(function(e,t){const r=a.codec.utf8String.toBits(e),s=new a.misc.hmac(r,a.hash.sha256).encrypt(t);return a.codec.base64url.fromBits(s)})(null!==(c=t[s.ApiV2HeaderNames.CsrfToken])&&void 0!==c?c:"",e.getPath());e.updateQuery({t:p});const u=new Blob([r,JSON.stringify(Object.assign(Object.assign({},t),{"Content-Type":n}))],{type:n}),d=navigator.sendBeacon(e.toString(),u),_={result:JSON.parse(JSON.stringify({beacon:d})),headers:t};return d?i(_):o(_)}));return(new i.FetchAsyncTransport).executeRpc(e,t,r,n)}executeBinaryRpc(e,t,r,s){return(new i.FetchAsyncTransport).executeBinaryRpc(e,t,r,s)}}}));
//# sourceMappingURL=pkg-api_v2-extra.min.js-vfls23_9Q.map