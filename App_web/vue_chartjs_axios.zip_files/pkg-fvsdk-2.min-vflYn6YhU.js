define("typescript/libraries/file-viewer/src/public/support",["require","exports","typescript/libraries/file-viewer/src/core/utils/index","typescript/libraries/file-viewer/src/core/data/models"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewType=t.isPreviewTypeSupported=void 0,Object.defineProperty(t,"isPreviewTypeSupported",{enumerable:!0,get:function(){return i.isPreviewTypeSupported}}),Object.defineProperty(t,"PreviewType",{enumerable:!0,get:function(){return r.PreviewType}})})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/utils",["require","exports","typescript/libraries/file-viewer/src/public/support"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUEST_APPROVAL_ACTION_PLUGIN_ID=t.OPEN_IN_DESKTOP_ACTION_PLUGIN_ID=t.RENAME_ACTION_PLUGIN_ID=t.WATERMARKING_ACTION_PLUGIN_ID=t.OPEN_DROPDOWN_ACTION_PLUGIN_ID=t.MOVE_ACTION_PLUGIN_ID=t.MOBILE_PLUGIN_ID=t.DELETE_ACTION_PLUGIN_ID=t.DOWNLOAD_ACTION_PLUGIN_ID=t.COPY_ACTION_PLUGIN_ID=t.SDKPreviewSurface=t.INBAND_SUPPORTED_TYPES=void 0,t.INBAND_SUPPORTED_TYPES=[i.PreviewType.HTML],(function(e){e.BROWSE="browse",e.SEARCH="search",e.INBAND_SHARE="inband-share",e.SHARED_LINK="shared-link",e.SHARED_CONTENT_LINK="shared-content-link",e.SHARED_LINK_EMBED="shared-link-embed",e.VERSION_HISTORY="version-history",e.HOME="home",e.HELLOSIGN="hellosign",e.RECENTS="recents",e.STARRED="starred",e.STANDALONE_PREVIEW="standalone-previews",e.PHOTOS="photos",e.COLLECTIONS="collections",e.COMMERCE="commerce",e.TRANSFER="transfer",e.FILE_LOCKING="file-locking",e.BACKUP="backup",e.UNKNOWN="unknown"})(t.SDKPreviewSurface||(t.SDKPreviewSurface={})),t.COPY_ACTION_PLUGIN_ID="COPY_ACTION",t.DOWNLOAD_ACTION_PLUGIN_ID="DOWNLOAD_ACTION",t.DELETE_ACTION_PLUGIN_ID="DELETE_ACTION",t.MOBILE_PLUGIN_ID="mobile_plugin",t.MOVE_ACTION_PLUGIN_ID="MOVE_ACTION",t.OPEN_DROPDOWN_ACTION_PLUGIN_ID="OPEN_DROPDOWN_ACTION",t.WATERMARKING_ACTION_PLUGIN_ID="watermarking_overflow_action",t.RENAME_ACTION_PLUGIN_ID="RENAME_ACTION",t.OPEN_IN_DESKTOP_ACTION_PLUGIN_ID="OPEN_IN_DESKTOP_ACTION",t.REQUEST_APPROVAL_ACTION_PLUGIN_ID="REQUEST_APPROVAL_ACTION"})),define("metaserver/static/js/modules/clean/react/shared_link_folder/app",["require","exports","tslib","lodash","react","redux","react-redux","metaserver/static/js/modules/clean/cloud_docs/open_with_utils","metaserver/static/js/modules/clean/loggers/folder_preview_logger","metaserver/static/js/modules/clean/open_in_app/actions","metaserver/static/js/modules/clean/previews/constants","metaserver/static/js/modules/clean/react/file_viewer/data/actions","metaserver/static/js/modules/clean/react/file_viewer/data/selectors","metaserver/static/js/modules/clean/react/file_viewer/location_utils","metaserver/static/js/modules/clean/react/location/with_location","metaserver/static/js/modules/clean/react/file_viewer/url_utils","metaserver/static/js/modules/clean/react/previews/constants","metaserver/static/js/modules/clean/react/shared_link_folder/data/actions","metaserver/static/js/modules/clean/react/shared_link_folder/data/store","metaserver/static/js/modules/clean/react/shared_link_folder/page","metaserver/static/js/modules/clean/viewer","metaserver/static/js/modules/clean/web_timing_logger","metaserver/static/js/modules/constants/python","metaserver/static/js/modules/clean/web_timing_logger","metaserver/static/js/modules/core/persistence/storage","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/core/langpack","react-intl","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/shared_link_folder/utils","metaserver/static/js/modules/clean/react/shared_link_folder/data/selectors","metaserver/static/js/modules/clean/csrf","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/clean/sharing/clean/util/link_util/parser","metaserver/static/js/modules/clean/react/error_boundary","metaserver/static/js/modules/core/exception","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/clean/react/snackbar_manager","metaserver/static/js/modules/clean/react/file_viewer/collection_viewer"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A,w,y,S,P,F,R,I,E,C,O,k,M,x,D,T,L,j,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedLinkFolderApp=t._SharedLinkFolderApp=void 0,r=i.__importStar(r),n=i.__importDefault(n),S=i.__importStar(S),R=i.__importStar(R),x=i.__importStar(x);const V=e=>({label:e.filename,href:e.href}),N=({children:e})=>{const t=n.default.useRef(null),i=n.default.useRef(null);return n.default.useEffect(()=>{L.Snackbar.manager=L.Snackbar.manager?L.Snackbar.manager:t.current},[]),n.default.createElement("div",{ref:i},e,n.default.createElement(j.SnackbarManager,{ref:t,getParentElement:()=>i.current,useDigSnackbars:!0}))};function B(){let e=S.get_timer();return e.timeToInteractive()&&(e=S.get_timer("shared_link_folder_ajax"),e.initialize({requireTTI:!0,requireTTV:!0,url:"shared_link_folder_ajax"})),e}N.displayName="SnackbarManagerContainer";class K extends n.default.PureComponent{constructor(e){var t;super(e),this.handleOpenFile=e=>{e.preview_type&&e.preview_type===d.PreviewType.CloudDoc&&!o.isShortcut(e)?M.open_tab(e.href):this.previewDataPromise?this.previewDataPromise.then(()=>v.openFile(e)):v.openFile(e)},this.handleOpenFolder=e=>{this.previewDataPromise?this.previewDataPromise.then(()=>C.openFolder(e)):C.openFolder(e)};const i=A.Viewer.get_viewer(),r=i.work_user||i.personal_user,{folderShareToken:n,folderData:a,shouldFetchPreviewData:s}=e,c=C.getSecureHashOrSubPath(n);this.state={folderHierarchyMap:{[c]:a?[a]:[]},pageYOffset:0,previewSourceAction:f.PreviewSourceAction.Visit,user:r},this.folderPreviewSession=l.createSession({subfolder_nav_tracking:e.subfolderNavTracking,use_odyssey:s,folder_id:null===(t=e.folder)||void 0===t?void 0:t.folder.folder_id}),this.webTimer=B(),this.rlkey=n.rlkey}UNSAFE_componentWillMount(){this.webTimer.applicationStart();const{openImmediatelyInApp:e}=this.props;if(e)return this.openImmediatelyInApp()}componentWillUnmount(){this.unsubscribe()}UNSAFE_componentWillReceiveProps(e){var t,i;!this.props.viewingFilename&&e.viewingFilename&&this.setState({pageYOffset:window.pageYOffset}),this.props.viewingFilename!==e.viewingFilename&&this.setState({previewSourceAction:f.PreviewSourceAction.Click});const r=e.folder?e.folder.folder.ns_id:void 0,n=C.getFolderShareTokenWithRlkey(e.folderShareToken,this.rlkey),a=C.getSecureHashOrSubPath(n),s=C.getFolderShareTokenWithRlkey(this.props.folderShareToken,this.rlkey);a!==C.getSecureHashOrSubPath(s)?(this.webTimer=B(),this.webTimer.restart(),this.folderPreviewSession=l.createSession({source_action:f.PreviewSourceAction.Click,subfolder_nav_tracking:e.subfolderNavTracking,has_cached_data:e.folder&&!!e.folder.entries.length,ns_id:r,folder_id:null===(t=e.folder)||void 0===t?void 0:t.folder.folder_id}),this.props.onFolderLoad(n,this.webTimer)):this.props.viewingFilename&&!e.viewingFilename&&(this.folderPreviewSession=l.createSession({source_action:f.PreviewSourceAction.FileViewerExit,subfolder_nav_tracking:e.subfolderNavTracking,has_cached_data:!0,ns_id:r,folder_id:null===(i=e.folder)||void 0===i?void 0:i.folder.folder_id})),e.folder&&e.folder.folder&&C.setPageTitle(e.folder.folder.filename)}componentDidMount(){return i.__awaiter(this,void 0,void 0,(function*(){const{file:e,onFolderPrefetch:t}=this.props,i=C.getFolderShareTokenWithRlkey(this.props.folderShareToken,this.rlkey);i&&(this.previewDataPromise=t(i,e)),yield w.waitForTTI();const n=yield this.readFolderHierarchy();this.setState((e,t)=>{const i=C.getFolderShareTokenWithRlkey(t.folderShareToken,this.rlkey),a=C.getSecureHashOrSubPath(i);return{folderHierarchyMap:r.get(n,a)?n:e.folderHierarchyMap}})}))}componentDidUpdate(e){const{viewingFilename:t}=this.props,{pageYOffset:i}=this.state;t!==e.viewingFilename&&(t||window.scrollTo(0,i));const r=C.getFolderShareTokenWithRlkey(e.folderShareToken,this.rlkey),n=C.getSecureHashOrSubPath(r),a=C.getFolderShareTokenWithRlkey(this.props.folderShareToken,this.rlkey),s=C.getSecureHashOrSubPath(a);n!==s&&(this.setState((e,t)=>{if(!t.folder||!C.shouldUpdateFolderHierarchy(e.folderHierarchyMap,r,a)){const{folderHierarchyMap:t}=e;return{folderHierarchyMap:t}}const{folder:i}=t.folder;return{folderHierarchyMap:Object.assign(Object.assign({},e.folderHierarchyMap),{[s]:[...e.folderHierarchyMap[n],i]})}},this.writeFolderHierarchy),C.removeRlkeyFromURL())}getUserStorageKey(){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield new Promise((t,i)=>{e(["sjcl"],t,i)}).then(i.__importStar),r=t.hash.sha256.hash(k.readCsrfToken()||"");return t.codec.base64.fromBits(r)}))}writeFolderHierarchy(){return i.__awaiter(this,void 0,void 0,(function*(){P.SessionStorage.set("shared_folder_hierarchy",{[yield this.getUserStorageKey()]:this.state.folderHierarchyMap})}))}readFolderHierarchy(){return i.__awaiter(this,void 0,void 0,(function*(){return r.get(P.SessionStorage.get("shared_folder_hierarchy"),yield this.getUserStorageKey())}))}openImmediatelyInApp(){const{folder:e}=this.props;if(e)try{e.folder.open_in_app_data&&c.openImmediately(e.folder.open_in_app_data)}catch(e){}}render(){const{accountMenuOptions:e,appDownloadInterstitialDismissed:t,brandingInfo:i,file:a,files:s,fileViewOrigin:o,fileViewTarget:l,folder:c,onAppDownloadInterstitialDismissed:d,outOfQuota:u,showSyncCoachmark:p,subfolders:_,viewingFilename:g,encryptionOptions:m,inCopyLinkButtonOOBPreviews:b,inShareModalOnEditPreviews:A,isPromptOnSharingPage:w,folderPreviewPostDownloadModal:S,eflOverquotaVariant:P}=this.props,{folderHierarchyMap:F,user:R,previewSourceAction:I}=this.state,E=x.parseLink(window.location.href),O=r.get(F,C.getSecureHashOrSubPath(C.getFolderShareTokenWithRlkey(this.props.folderShareToken,this.rlkey)),[]).map(V);if(g&&a){let e=[],t=[],r=[],c=[];return Array.isArray(s)&&s.length?s.forEach(i=>{t.push(i.shareToken),r.push(i.sharedLinkInfo),e.push(i.sharePermission),c.push(i.file)}):(c=[a.file],e=[a.sharePermission],t=[a.shareToken],r=[a.sharedLinkInfo]),n.default.createElement(U.FileCollectionViewer,{brandingInfo:i,canClose:!0,className:"no-background",file:a.file,files:c,fileViewOrigin:o,fileViewTarget:l,fileViewAction:y.FileViewActionType.CLICK,initialPreviewSourceContext:f.PreviewSourceContext.SharedLinkFolder,initialPreviewSourceAction:I,skipOuterRouting:!0,sharedLinkInfos:r,sharePermissions:e,shareTokens:t,titleBarCloseUrl:v.getCurrentFolderHref(),onCloseViewer:v.closeFile,user:R,encryptionOptions:m,usePreloadedMetadata:!R})}if(!c)return null;const{shareToken:k,sharedLinkInfo:M,folder:D,sharePermission:T,hasMore:L,takedownRequestType:j}=c,B={files:Array.isArray(s)?s.map(e=>e.file):[],folders:Array.isArray(_)?_.map(e=>e.folder):[]};return D.folder_id&&(this.folderPreviewSession.extra.folder_id=D.folder_id),n.default.createElement(N,null,n.default.createElement(h.SharedLinkFolderPage,{accountMenuOptions:e,appDownloadInterstitialDismissed:t,brandingInfo:i,breadcrumbs:O,contents:B,folder:D,folderPreviewSession:this.folderPreviewSession,folderSharePermission:T,folderShareToken:k,folderSharedLinkInfo:M,hasMore:L,onAppDownloadInterstitialDismissed:d,onFileOpen:this.handleOpenFile,onFolderOpen:this.handleOpenFolder,outOfQuota:u,showSyncCoachmark:p,takedownRequestType:j,user:R,webTimer:this.webTimer,encryptionOptions:m,inCopyLinkButtonOOBPreviews:b,inShareModalOnEditPreviews:A,parsedSharedCopyLink:E,subfolderNavTracking:this.props.subfolderNavTracking,isPromptOnSharingPage:w,folderPreviewPostDownloadModal:S,eflOverquotaVariant:P}))}}t._SharedLinkFolderApp=K,K.defaultProps={subfolderNavTracking:!1},K.displayName="SharedLinkFolderApp";const G=s.connect((function(e,t){let i=p.getAppDownloadInterstitial(e);void 0===i&&(i=t.appDownloadInterstitialDismissed);const{viewingFilename:r}=t,n=O.getFolderShareTokenWithState(e,t.folderShareToken),a=C.getSecureHashOrSubPath(n);return{appDownloadInterstitialDismissed:i,file:O.getSharedFilePackageByFilenameForFolderPath(e,a,r||""),folder:O.getFolderByPath(e,a),files:O.getSharedFilePackagesForFolderPath(e,a),subfolders:O.getSubfoldersForFolderPath(e,a)}}),(function(e,t){const{shouldFetchPreviewData:i}=t;return a.bindActionCreators({onAppDownloadInterstitialDismissed:u.dismissAppDownloadInterstitial,onFolderLoad:m.fetchFolder,onFolderPrefetch:i?m.prefetchFolderFromOdyssey:m.prefetchFolder},e)}))(K),z=g.withLocation(G,e=>({folderShareToken:C.getFolderShareTokenFromLocation(e),viewingFilename:_.getFilenameFromLocation(e),subfolderNavTracking:"subfolder_nav_tracking"in e.query}));class W extends n.default.Component{constructor(e){super(e),this.store=b.getStoreForSharedLinkFolder();const t=C.getFolderShareTokenWithRlkey(this.props.folderShareToken,this.store.rlkey);b.hydrateStore(this.store,{initialFolder:this.props.folderData,initialPreview:this.props.preview,folderSharedLinkInfo:this.props.folderSharedLinkInfo,folderSharePermission:this.props.folderSharePermission,folderShareToken:t})}render(){return n.default.createElement(I.IntlProvider,{defaultLocale:"en-US",locale:E.localeToBcp47LangTag(F.USER_LOCALE),messages:R},n.default.createElement(s.Provider,{store:this.store},n.default.createElement(z,Object.assign({},this.props))))}}W.displayName="SharedLinkFolderAppWithProvider";t.SharedLinkFolderApp=e=>n.default.createElement(D.ErrorBoundary,{onCatch:e=>T.reportException({err:e,tags:["file-viewer-shared-folder"],severity:"critical"})},n.default.createElement(W,Object.assign({},e)))})),define("metaserver/static/js/modules/clean/react/file_viewer/collection_viewer",["require","exports","tslib","lodash","react","react-redux","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/react/file_viewer/utils","metaserver/static/js/modules/clean/previews/data/selectors","metaserver/static/js/modules/clean/react/file_viewer/data/actions","metaserver/static/js/modules/clean/react/file_viewer/data/store","metaserver/static/js/modules/clean/react/file_viewer/data/selectors","metaserver/static/js/modules/clean/integrations/zoom_share_dialog/async_modal","metaserver/static/js/modules/core/uri","metaserver/static/js/modules/clean/history","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/file_viewer","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/utils","metaserver/static/js/modules/constants/python","metaserver/static/js/modules/clean/react/previews/constants","metaserver/static/js/modules/clean/sync_everything/constants","metaserver/static/js/modules/clean/metrics/index"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileCollectionViewer=t._FileCollectionViewer=void 0,r=i.__importStar(r),n=i.__importDefault(n),g=i.__importDefault(g);const w=d.getStoreForFileViewer();function y({file:e,files:t,sharedLinkInfos:i,sharePermissions:n,shareTokens:a,oldIndex:o}){const l=t.filter(e=>!e.is_dir),{newFile:c,newIndex:d}=(function(e,t,i){const n=s.getFileRevisionId(e);let a=r.find(t,e=>s.getFileRevisionId(e)===n);if(!a){const i=e.file_id;a=r.find(t,e=>e.file_id===i)}if(!a&&t.length>0&&void 0!==i){let e=i;return i>=t.length&&(e=t.length>1?t.length-1:0),{newFile:t[e],files:t,newIndex:e}}a||(a=e);const o=t.indexOf(a);return-1===o?{newFile:a,files:[a],newIndex:0}:{newFile:a,files:t,newIndex:o}})(e,l,o);return{collection:{file:c,files:l,sharedLinkInfos:i,sharePermissions:n,shareTokens:a},currentIndex:d}}class S extends n.default.Component{constructor(e){super(e),this.updateFileViewer=()=>{const{file:e}=this.props;this.openFile(e)},this.handleFlipNext=r.throttle(()=>{const{isFlippingEnabled:e}=this.props,{collection:t,currentIndex:i}=this.state;if(!e)return;this.props.onFlipNext&&this.props.onFlipNext();const r=i+1===t.files.length?0:i+1;this.switchFile(r)},100),this.handleFlipPrevious=r.throttle(()=>{const{isFlippingEnabled:e}=this.props,{collection:t,currentIndex:i}=this.state;if(!e)return;this.props.onFlipPrevious&&this.props.onFlipPrevious();const r=0===i?t.files.length-1:i-1;this.switchFile(r)},100),this.switchFile=e=>{const{collection:t}=this.state;this.setState({currentIndex:e});const i=t.files[e];this.updatePreviewUrl(i),this.openFile(i)},this.closeViewer=()=>{const{onCloseViewer:e}=this.props;e&&e(),c.closeFile()},this.state=y(e)}UNSAFE_componentWillMount(){this.updateFileViewer()}componentDidMount(){const{collection:e,currentIndex:t}=this.state,{previewApiDataMap:i,shouldPresentInZoom:r,user:n,file:a}=this.props,l=e.files.map(e=>{const t=s.getFileRevisionId(e);return i[t]&&i[t].data});o.preloadImages(l,t),this.setupPreviewUrl(a),n&&r&&p.asyncShowModal(n.id,a.file_id,"file-viewer-modal-overlay")}UNSAFE_componentWillReceiveProps(e){if((function(e,t){const{file:i,files:r,sharedLinkInfos:n,sharePermissions:a,shareTokens:s}=e;return i!==t.file||r!==t.files||n!==t.sharedLinkInfos||a!==t.sharePermissions||s!==t.shareTokens})(this.props,e)){const t=this.state.currentIndex,i=e.file,r=y(Object.assign(Object.assign({},e),{file:i,oldIndex:t}));this.setState(r,()=>{t!==r.currentIndex&&this.switchFile(r.currentIndex)})}}componentWillUnmount(){const{closeFile:e,onClose:t}=this.props;e(),t&&t(),this.teardownPreviewUrl()}openFile(e){this.props.openFile(e)}setupPreviewUrl(e){this.props.skipOuterRouting||this.setPreviewUrl(e)}updatePreviewUrl(e){this.setPreviewUrl(e,!1)}teardownPreviewUrl(){this.props.skipOuterRouting||this.setPreviewUrl(null)}setPreviewUrl(e,t=!0){if(this.props.disableRouting)return;const i=_.URI.parse(g.default.get_url()),r=_.URI.encode_parts(i.getPath());let n=i.removeQuery("select").removeQuery("page");if(null==e)n=n.removeQuery("preview");else{const t=s.getFilename(e);n=n.updateQuery({preview:t})}const a=n.getQuery();t?g.default.push_state(r,a,{immediatelyRestoreState:!1}):g.default.replace_state(r,a)}renderSDKSurface(){const{fileViewOrigin:e,hidePageChrome:t,transparentBackground:i,forceNoToolbar:a,user:s,browseContext:o,browseExceptions:l,canRestoreRevision:c,onRestoreRevision:d,brandingInfo:u,initialPreviewSourceContext:p,shouldFocusApproval:_,shouldFocusComment:g,activeCommentThreadId:w,appDownloadInterstitialDismissed:y,containerId:S,usePreloadedMetadata:P,isInsideBackup:F}=this.props,{collection:R,currentIndex:I}=this.state,E=r.get(R.sharedLinkInfos,I),C=r.get(R.sharePermissions,I),O=r.get(R.shareTokens,I);switch(e){case m.FileViewOriginType.BROWSE:case m.FileViewOriginType.VERSION_HISTORY:case m.FileViewOriginType.HOME:case m.FileViewOriginType.HELLOSIGN:case m.FileViewOriginType.PHOTOS:case m.FileViewOriginType.STARRED:case m.FileViewOriginType.RECENTS:case m.FileViewOriginType.SEARCH:case m.FileViewOriginType.COLLECTIONS:if(!s)throw new Error("User is required to browse files");let k;switch(e){case m.FileViewOriginType.VERSION_HISTORY:k=f.SDKPreviewSurface.VERSION_HISTORY;break;case m.FileViewOriginType.HOME:k=f.SDKPreviewSurface.HOME;break;case m.FileViewOriginType.HELLOSIGN:k=f.SDKPreviewSurface.HELLOSIGN;break;case m.FileViewOriginType.STARRED:k=f.SDKPreviewSurface.STARRED;break;case m.FileViewOriginType.RECENTS:k=f.SDKPreviewSurface.RECENTS;break;case m.FileViewOriginType.SEARCH:k=f.SDKPreviewSurface.SEARCH;break;case m.FileViewOriginType.PHOTOS:k=f.SDKPreviewSurface.PHOTOS;break;case m.FileViewOriginType.COLLECTIONS:k=f.SDKPreviewSurface.COLLECTIONS;break;default:k=f.SDKPreviewSurface.BROWSE}return(F||h.isBackupBrowse())&&(k=f.SDKPreviewSurface.BACKUP),n.default.createElement(v.FileViewer,{file:r.get(R.files,I),fileIndex:I,fileCount:R.files.length,flipToNextFile:this.handleFlipNext,flipToPreviousFile:this.handleFlipPrevious,sharedLinkInfo:E,sharePermission:C,shareToken:O,brandingInfo:u,user:s,closeFile:this.closeViewer,previewSurface:k,canRestoreRevision:c,onRestoreRevision:d,browseContext:o,browseExceptions:l,previewContentOnly:t,canShowFileFlippers:k===f.SDKPreviewSurface.SEARCH||k===f.SDKPreviewSurface.BROWSE||k===f.SDKPreviewSurface.COLLECTIONS||k===f.SDKPreviewSurface.PHOTOS,shouldFocusApproval:_,shouldFocusComment:g,activeCommentThreadId:w,hideOpenInAppInterstitial:!!y,fileViewOrigin:e,usePreloadedMetadata:P});case m.FileViewOriginType.SHARED_LINK_PAGE:if(!E||!C||!O)throw new Error("Missing required data to view");return n.default.createElement(v.FileViewer,{file:r.get(R.files,I),fileIndex:I,fileCount:R.files.length,flipToNextFile:this.handleFlipNext,flipToPreviousFile:this.handleFlipPrevious,sharedLinkInfo:E,sharePermission:C,shareToken:O,brandingInfo:u,closeFile:this.closeViewer,previewSurface:f.SDKPreviewSurface.SHARED_LINK,user:s,canShowFileFlippers:p===b.PreviewSourceContext.SharedLinkFolder||p===b.PreviewSourceContext.SharedLinkCollection,previewContentOnly:t,hideOpenInAppInterstitial:!!y,usePreloadedMetadata:P,initialSourceAction:this.props.initialPreviewSourceAction,fileViewOrigin:e});case m.FileViewOriginType.SHARED_CONTENT_LINK_PAGE:if(!E||!C||!O)throw new Error("Missing required data to view");return n.default.createElement(v.FileViewer,{file:r.get(R.files,I),fileIndex:I,fileCount:R.files.length,flipToNextFile:this.handleFlipNext,flipToPreviousFile:this.handleFlipPrevious,sharedLinkInfo:E,sharePermission:C,shareToken:O,brandingInfo:u,closeFile:this.closeViewer,previewSurface:f.SDKPreviewSurface.SHARED_CONTENT_LINK,user:s,canShowFileFlippers:!1,previewContentOnly:t,hideOpenInAppInterstitial:!!y,usePreloadedMetadata:P||!s,initialSourceAction:this.props.initialPreviewSourceAction,fileViewOrigin:e});case m.FileViewOriginType.COMMERCE:case m.FileViewOriginType.TRANSFER:return n.default.createElement(v.FileViewer,{file:r.get(R.files,I),fileIndex:I,fileCount:R.files.length,flipToNextFile:this.handleFlipNext,flipToPreviousFile:this.handleFlipPrevious,sharedLinkInfo:E,sharePermission:C,shareToken:O,brandingInfo:u,closeFile:this.closeViewer,previewSurface:e===m.FileViewOriginType.COMMERCE?f.SDKPreviewSurface.COMMERCE:f.SDKPreviewSurface.TRANSFER,user:s,canShowFileFlippers:!1,previewContentOnly:t,transparentBackground:i,forceNoToolbar:a,hideOpenInAppInterstitial:!!y,containerId:S,usePreloadedMetadata:P,initialSourceAction:this.props.initialPreviewSourceAction,onPreviewSessionInitialized:this.props.onPreviewSessionInitialized,fileViewOrigin:e});default:return A.getMetricsReporter().createStats({ns:"web_previews",name:"unkown_preview_origin"},{origin:`${e}`}),n.default.createElement(v.FileViewer,{file:r.get(R.files,I),fileIndex:I,fileCount:R.files.length,flipToNextFile:this.handleFlipNext,flipToPreviousFile:this.handleFlipPrevious,sharedLinkInfo:E,sharePermission:C,shareToken:O,brandingInfo:u,user:s,closeFile:this.closeViewer,previewSurface:f.SDKPreviewSurface.UNKNOWN,canRestoreRevision:c,onRestoreRevision:d,previewContentOnly:t,canShowFileFlippers:!1,hideOpenInAppInterstitial:!!y,fileViewOrigin:e})}}render(){return n.default.createElement("div",null,this.renderSDKSurface())}}t._FileCollectionViewer=S,S.defaultProps={isFlippingEnabled:!0},S.displayName="_FileCollectionViewer";const P=a.connect((e,t)=>({isFlippingEnabled:u.getIsFlippingEnabled(e),previewApiDataMap:l.getApiDataForFiles(e,t.files),isOverflowZoomMode:u.isOverflowZoomMode(e)}),{closeFile:c.closeFile,openFile:c.openFile})(S);class F extends n.default.Component{render(){return n.default.createElement(a.Provider,{store:w},n.default.createElement(P,Object.assign({},this.props)))}}t.FileCollectionViewer=F,F.displayName="FileCollectionViewerWithProvider"})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/restore_plugin",["require","exports","tslib","react","dig-components/icons/src","dig-components/icons","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/utils","metaserver/static/js/modules/clean/react/action_bar/action_bar_strings"],(function(e,t,i,r,n,a,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeRestoreActionLoader=void 0,r=i.__importDefault(r);t.makeRestoreActionLoader=(e,t)=>({pluginId:"RESTORE_ACTION",load:(i,c)=>Promise.resolve(new class{constructor(e){this.lifecycle={previewDidRender:()=>{this.actionDefinitions.alwaysInOverflow=[this.actionToDisplay()]}},this.actionDefinitions={atTopLevelIfSpace:this.actionToDisplay(),alwaysInOverflow:[this.actionToDisplay()]},this.context=e}actionToDisplay(){return e&&t?[this.restoreDefinition()]:[]}restoreDefinition(){return o.makePluginActionDefinition({label:s.intl.formatMessage(l.RESTORE_ACTION_STRING),icon:r.default.createElement(a.UIIcon,{src:n.RewindLine}),id:"RESTORE_ACTION",action:()=>{e&&t&&(this.context.logUserAction({action:"restore",context:"overflow_menu"}),e())},primary:!0})}}(c))})})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/starred_plugin",["require","exports","tslib","react","react-redux","dig-components/menu","dig-components/icons","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/hooks","metaserver/static/js/modules/clean/react/starred/redux/store"],(function(e,t,i,r,n,a,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeStarredActionLoader=void 0,r=i.__importDefault(r);const c=e=>{const{message:t,iconSrc:i,handleClick:n,handleKeyPress:l}=o.useStarControl(e);return r.default.createElement(a.Menu.ActionItem,{onClick:n,onKeyPress:l,withLeftAccessory:r.default.createElement(s.UIIcon,{src:i})},t)};c.displayName="StarOverflowItem",c.displayName="StarOverflowItem";const d=e=>{const t=l.getStoreForStarred();return r.default.createElement(n.Provider,{store:t},r.default.createElement(c,Object.assign({},e)))};d.displayName="StarOverflowItemWithProvider",t.makeStarredActionLoader=(e,t)=>({pluginId:"STARRED_ACTION",load:(i,n)=>Promise.resolve(new class{constructor(e){this.actionDefinitions={alwaysInOverflow:[this.actionToDisplay()]},this.lifecycle={previewWillInitialize:()=>{this.actionDefinitions.alwaysInOverflow=[this.actionToDisplay()]}},this.context=e}actionToDisplay(){const{file:t}=e();return o.isStarringEnabled(t)?[this.starredDefinition()]:[]}starredDefinition(){return{overflowItem:r.default.createElement(d,{getActiveFile:e,user:t,onToggle:()=>{this.context.logUserAction({action:"star",context:"overflow_menu"})}}),id:"STARRED_ACTION"}}}(n))})})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/unzip_plugin",["require","exports","tslib","react","dig-components/icons","metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/utils","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/react/flows/conversions/actions/unzip","metaserver/static/js/modules/clean/react/flows/conversions/utils"],(function(e,t,i,r,n,a,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeUnzipActionLoader=void 0,r=i.__importDefault(r);t.makeUnzipActionLoader=(e,t)=>({pluginId:"UNZIP_ACTION",load:(i,c)=>Promise.resolve(new class{constructor(e){this.lifecycle={previewWillInitialize:()=>{this.actionDefinitions.atTopLevelIfSpace=this.actionToDisplay()}},this.actionDefinitions={atTopLevelIfSpace:this.actionToDisplay()},this.context=e}actionToDisplay(){const{file:i,sharePermission:r}=e();return t&&!s.isArchiveFile(i)&&l.canConvertFile(i,r)&&o.UnzipAction.selector([i])?[this.unzipDefinition(e())]:[]}unzipDefinition(e){const{file:i,shareToken:s}=e;return a.makePluginActionDefinition({label:o.UnzipAction.actionText,icon:r.default.createElement(n.UIIcon,{src:o.UnzipAction.actionIcon}),id:"UNZIP_ACTION",action:()=>{this.context.logUserAction({action:"decompress_file",context:"title_bar_button"}),o.UnzipAction.convert([i],t,{shareToken:s,source:"preview"})}})}}(c))})})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils",["require","exports","metaserver/static/js/modules/clean/filetypes"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getType=t.isCloudDoc=t.isPnmSuppressMoveSelected=t.isPnmLinkNodeSelected=t.isInsideVaultFolder=t.isLiveFile=t.PREVIEWS_SNACKBAR_ID=void 0,t.PREVIEWS_SNACKBAR_ID="preview-action",t.isLiveFile=e=>!("isDeleted"in e&&"is_unmounted"in e)||!e.isDeleted&&!e.is_unmounted,t.isInsideVaultFolder=e=>"is_in_vault_folder"in e&&e.is_in_vault_folder,t.isPnmLinkNodeSelected=e=>{var t;return"per_node_metadata"in e&&!!(null===(t=e.per_node_metadata)||void 0===t?void 0:t.link_node)},t.isPnmSuppressMoveSelected=e=>{var t;return"per_node_metadata"in e&&!!(null===(t=e.per_node_metadata)||void 0===t?void 0:t.suppress_move)},t.isCloudDoc=e=>"is_cloud_doc"in e&&e.is_cloud_doc,t.getType=e=>"type"in e?e.type:i.FileTypes.FILE})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/app_download_interstitial",["require","exports","tslib","react","metaserver/static/js/modules/clean/bug_reporting/routing","metaserver/static/js/modules/clean/react/file_viewer/app_download_interstitial/app_download_interstitial","metaserver/static/js/modules/clean/react/file_viewer/constants","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/clean/web_timing_logger","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/clean/react/file_viewer/utils","metaserver/static/js/modules/clean/react/open_in_app/banner"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeOpenInAppPluginLoader=t.APP_DOWNLOAD_PLUGIN_ID=t.FvsdkAppDownloadInterstitial=void 0,r=i.__importDefault(r),d=i.__importStar(d),t.FvsdkAppDownloadInterstitial=e=>{const{file:t,sharedLinkInfo:i,onDismiss:d,openInAppData:u,fileViewerSessionId:p,filePreviewSessionId:_,onAppDownload:g,logUserAction:v,fileViewOrigin:f}=e,m=c.getFilename(t),b=r.default.useCallback(e=>{o.MobileFilePreviewLogger.log(e,p,_,t.ns_id,t.sjid,{context:s.UserActionContext.AppDownloadInterstitial,location:"file_viewer",origin:f}),null==v||v({action:e,context:s.UserActionContext.AppDownloadInterstitial})},[t,_,p,v,f]);r.default.useEffect(()=>{l.mark_time_to_interactive(),b(s.UserAction.AppDownloadInterstitialView)},[]);const h=r.default.useCallback(()=>{d(),b(s.UserAction.AppDownloadInterstitialContinue)},[d,b]),A=r.default.useCallback(()=>{d(),b(s.UserAction.AppDownloadInterstitialClose)},[d]),w=r.default.useCallback(()=>{b(s.UserAction.AppDownloadInterstitialInstall),null==g||g()},[d,g]);return r.default.createElement(n.RegisterComponentWithBugReporter,{componentId:"web.previews",componentName:"File Preview"},r.default.createElement("div",{"aria-label":m},r.default.createElement(a.AppDownloadInterstitial,{fileOrFolderName:m,open_in_app_data:u,onContinue:h,onAppDownload:w,ownerName:i.ownerName,ownerTeamName:i.ownerTeamName,onClose:A})))},t.FvsdkAppDownloadInterstitial.displayName="FvsdkAppDownloadInterstitial";t.APP_DOWNLOAD_PLUGIN_ID="app_download",t.makeOpenInAppPluginLoader=(e,n,a)=>({pluginId:t.APP_DOWNLOAD_PLUGIN_ID,load:(o,l)=>i.__awaiter(void 0,void 0,void 0,(function*(){return((e,i,n,a)=>{const o=()=>{e.logUserAction({action:s.UserAction.OpenInApp,context:s.UserActionContext.OpenInAppBanner})},l=({onHide:n,onClickAppDownload:a})=>{const{file:s,sharedLinkInfo:o}=i();return"open_in_app_data"in s&&s.open_in_app_data?r.default.createElement(t.FvsdkAppDownloadInterstitial,{file:s,openInAppData:s.open_in_app_data,sharedLinkInfo:o,onDismiss:n,onAppDownload:a,fileViewerSessionId:e.getFileViewerSessionId(),filePreviewSessionId:e.getFilePreviewSessionId(),logUserAction:e.logUserAction}):null};return{lifecycle:{},getHeader:()=>{if(e.sdkConfig.preview_content_only)return null;if(!d.is_mobile_or_tablet()&&(d.iOS||d.is_android()))return null;const{file:t,shareToken:a,sharePermission:s}=i(),l=u.getOpenInAppUrls(t,a,s,n);if(l){const e=!(t&&a&&s);return({onHide:t})=>r.default.createElement("div",{style:{width:"100%"}},r.default.createElement(p.OpenInAppBanner,{urls:l,onClick:o,onClose:t,isMountedFile:e}))}return null},getInterstitial:()=>{if(a)return null;const{file:e}=i();return"open_in_app_data"in e&&e.open_in_app_data?l:null}}})(l,e,n,a)}))})})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/async_plugin_loaders",["require","exports","tslib","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/utils"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeRequestApprovalLoader=t.makeOpenInDesktopActionLoader=t.makeRenameActionLoader=t.makeWaterMarkingActionPluginLoader=t.makeOpenDropdownActionLoader=t.makeMoveActionLoader=t.makeMobilePluginLoader=t.makeDeleteActionLoader=t.makeDownloadActionLoader=t.makeCopyActionLoader=void 0,t.makeCopyActionLoader=(t,n,a,s)=>({pluginId:r.COPY_ACTION_PLUGIN_ID,load:(r,o)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeCopyPlugin:r}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/copy_plugin"],t,i)}).then(i.__importStar);return r(t,n,o,a,s)}))}),t.makeDownloadActionLoader=(t,n,a,s,o,l,c)=>({pluginId:r.DOWNLOAD_ACTION_PLUGIN_ID,load:(r,d)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeDownloadPlugin:r}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/download_plugin"],t,i)}).then(i.__importStar);return r(t,n,d,a,s,o,l,c)}))}),t.makeDeleteActionLoader=(t,n,a)=>({pluginId:r.DELETE_ACTION_PLUGIN_ID,load:(r,s)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeDeletePlugin:r}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/delete_plugin"],t,i)}).then(i.__importStar);return r(t,n,s,a)}))}),t.makeMobilePluginLoader=t=>({pluginId:r.MOBILE_PLUGIN_ID,load:(r,n)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeMobilePlugin:r}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/mobile_plugin"],t,i)}).then(i.__importStar);return r(t,n)}))}),t.makeMoveActionLoader=(t,n,a,s,o)=>({pluginId:r.MOVE_ACTION_PLUGIN_ID,load:(r,l)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeMovePlugin:r}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/move_plugin"],t,i)}).then(i.__importStar);return r(t,n,l,a,s,o)}))}),t.makeOpenDropdownActionLoader=(t,n)=>({pluginId:r.OPEN_DROPDOWN_ACTION_PLUGIN_ID,load:(r,a)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeOpenDropdownAction:r}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/open_dropdown_plugin"],t,i)}).then(i.__importStar);return r(t,n,a)}))}),t.makeWaterMarkingActionPluginLoader=t=>({pluginId:r.WATERMARKING_ACTION_PLUGIN_ID,load:(r,n)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeWaterMarkingActionPlugin:a}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/watermarking/edit_plugin/action_plugin"],t,i)}).then(i.__importStar);return a(t,r,n)}))}),t.makeRenameActionLoader=(t,n,a)=>({pluginId:r.RENAME_ACTION_PLUGIN_ID,load:(r,s)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeRenamePlugin:r}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/rename_plugin"],t,i)}).then(i.__importStar);return r(t,n,s,a)}))}),t.makeOpenInDesktopActionLoader=(t,n,a)=>({pluginId:r.OPEN_IN_DESKTOP_ACTION_PLUGIN_ID,load:(r,s)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeOpenInDesktopPlugin:r}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/open_in_desktop_plugin"],t,i)}).then(i.__importStar);return r(t,n,s,a)}))}),t.makeRequestApprovalLoader=(t,n)=>({pluginId:r.REQUEST_APPROVAL_ACTION_PLUGIN_ID,load:(r,a)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeRequestApprovalPlugin:r}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/flows/approval/request_approval_plugin"],t,i)}).then(i.__importStar);return r(t,n,a)}))})})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/cloud_docs",["require","exports","spectrum-sharing/utils/sharing_constants","metaserver/static/js/modules/clean/cloud_docs/shared_components/routing","metaserver/static/js/modules/clean/file_store/utils"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeCloudDocsClient=void 0,t.makeCloudDocsClient=function(e,t,a){const s=!!a&&a.linkType===i.SharedLinkType.Shmodel;return{triggerDynamicRoutingModalCheck:()=>{const i=t();i.file.file_id&&!s&&r.maybeShowDynamicRoutingModal(e,i.file,n.getExtension(i.file))}}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/comments",["require","exports","typescript/libraries/file-viewer/src/comments2/plugin/loader/lazy","metaserver/static/js/modules/clean/react/comments2/client_builder","metaserver/static/js/modules/clean/react/file_viewer/utils","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/experiments"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeComments2MetaserverLoader=void 0,t.makeComments2MetaserverLoader=function(e){const t=n.isPreviewPageRevampEnabled();return i.makeLoader(r.makeComments2Client(e),{showCommentsMeatball:!t,isInBladeRightRail:t,comments2UsabilityRevamp:a.fileViewerFeatureExperiments.comments2UsabilityRevamp,showApproval:!!e&&a.fileViewerFlowExperiments.approvalFlowByUserId[e.id],approvalVariant:e?a.fileViewerFlowExperiments.approvalFlowVariantByUserId[e.id]:""})}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FVSDK_MOUNT_POINT=void 0,t.FVSDK_MOUNT_POINT="fvsdk-mount-point"})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/download_utils",["require","exports","tslib","react","metaserver/static/js/modules/clean/auth/login_or_register/types","metaserver/static/js/modules/clean/react/file_viewer/utils","typescript/libraries/file-viewer/src/core/config","metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/save_as_copy/save_as_copy","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/save_as_copy/snackbars","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/download","metaserver/static/js/modules/clean/react/components/modal","metaserver/static/js/modules/core/persistence/storage","metaserver/static/js/modules/clean/react/share_download/util"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadActiveFile=t.saveToDropbox=void 0,r=i.__importDefault(r),t.saveToDropbox=function(e,t,i,r,n){if(r)if(i)t("save_to_dropbox"),o.portableSaveAsCopy({fileName:l.getFilename(e),user:i,shareToken:r},{onNetworkRequest:()=>{c.saveCopySnackBarInProgress(d.PREVIEWS_SNACKBAR_ID),t("save_to_dropbox_approve")},onModalClose:()=>{t("save_to_dropbox_cancel")}});else{const e=new URL(window.location.href);e.searchParams.set("copy_to_dropbox","true"),window.history.replaceState(e.href,"",e.href),a.showAuthModal({mode:s.AuthMode.REGISTER,sharedLinkUrl:e.href,kind:s.LoginOrRegisterKind.DOWNLOAD,encryptionOptions:n,loggingExtra:{source:"save_to_dropbox"}})}},t.downloadActiveFile=function(t,a,s,o,c){if(o!==n.LoginOrRegisterKind.DOWNLOAD||_.LocalStorage.get("has_seen_download_signup_modal"))u.downloadSingleFile({href:t.href,source:"PREVIEWS",isFswm:l.isSharedFile(t)}),a||g.showPostDownloadSignInModal({encryptionOptions:s,logUserAction:c});else{const t=()=>{_.LocalStorage.set("has_seen_download_signup_modal",!0)},a=()=>{_.LocalStorage.set("has_seen_download_signup_modal",!0)};new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/auth/login_or_register/modal"],t,i)}).then(i.__importStar).then(({LoginOrRegisterModal:e})=>{p.Modal.showInstance(r.default.createElement(e,{downloadAction:n.DownloadAction.DIRECT_DOWNLOAD,id:"shared-link-download-signup-modal",initialMode:n.Mode.REGISTER,kind:o,onAuthenticateSuccess:t,onCancel:a,signup_tag:"shmodel_download_register",encryptionOptions:s,loggingExtra:{source:"download_button"}}))})}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/feature_config",["require","exports","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/utils","metaserver/static/js/modules/clean/react/file_viewer/utils","typescript/libraries/file-viewer/src/core/config","typescript/libraries/file-viewer/src/plugins/types","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/experiments","metaserver/static/js/modules/core/browser_detection"],(function(e,t,i,r,n,a,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeatureConfig=void 0,t.getFeatureConfig=(e,t,l,c,d,u,p)=>{const _=e===i.SDKPreviewSurface.BROWSE,g=e===i.SDKPreviewSurface.SHARED_LINK?r.getMobileWebRevampOobVariant(p):r.getMobileWebRevampBrowseVariant(_);return{html_support:!0,excel_support:r.translateExcelSupport(s.fileViewerFeatureExperiments.fvsdkExcel2Phase,s.fileViewerFeatureExperiments.fvsdkExcelMsEmbedPhase),annotations:_,ax_annotations:s.fileViewerFeatureExperiments.fvsdkAxAnnotations,enable_fullscreen:!0,file_flipping:t,keyboard_shortcuts:!0,titlebar_logo_config:{show_logo:!0,base_url:"www.dropbox.com"},preview_types:{[a.PreviewType.SsrDoc]:Object.assign(Object.assign({},n.DEFAULT_CONFIG.preview_types[a.PreviewType.SsrDoc]),{showPageNavigation:!0})},mobile_web_fvsdk_variant:o.is_supported_mobile_browser()?g:null,preview_content_only:l,transparent_background:c,force_no_toolbar:d,preview_page_revamp:!0,new_pass_ux:!0,show_cloud_doc_preview:u,partial_prewarm_allowed:s.fileViewerFeatureExperiments.partialPrewarmAllowed,enable_fvsdk_dynamic_actions:s.fileViewerFeatureExperiments.enableFvsdkDynamicActions,comments2_usability_revamp:s.fileViewerFeatureExperiments.comments2UsabilityRevamp,fvsdk_image_preload:"ON"===s.fileViewerFeatureExperiments.fvsdkImagePreload,enable_tags_section:s.fileViewerFeatureExperiments.enableTagsSection,fvsdk_readable_doc_zoom:s.fileViewerFeatureExperiments.fvsdkReadableDocZoom,fvsdk_use_native_lazy_loading:s.fileViewerFeatureExperiments.fvsdkUseNativeLazyLoading,fvsdk_excel_ms_embed_phase:s.fileViewerFeatureExperiments.fvsdkExcelMsEmbedPhase,new_quips_type:s.fileViewerFeatureExperiments.newQuipsType}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/file_system",["require","exports","metaserver/static/js/modules/clean/react/share_download/util","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/download_utils"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileSystemClient=void 0,t.makeFileSystemClient=function(e,t,{allowCopyToDropbox:n,shareToken:a,encryptionOptions:s,sharePermission:o,authModalKind:l}){return{copyToDropbox:!n||o&&!i.isDownloadAllowed(o)?()=>{}:({logModalConfirm:i,logModalCancel:n})=>{const{file:o}=t();r.saveToDropbox(o,e=>{"save_to_dropbox_approve"===e?i():"save_to_dropbox_cancel"===e&&n()},e,a,s)},downloadFile:()=>{const{file:i}=t();r.downloadActiveFile(i,e,s,l)}}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/file_viewer",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/common/rendering","classnames","react-redux","metaserver/static/js/api_v2/default_user_client","metaserver/static/js/api_v2/noauth_client","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/react/components/css","metaserver/static/js/modules/clean/react/extensions/data/selectors","metaserver/static/js/modules/clean/react/extensions/data/helpers","metaserver/static/js/modules/clean/react/file_viewer/utils","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/async_plugin_loaders","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/self_sign_plugin","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/starred_plugin","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/restore_plugin","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/comments","metaserver/static/js/modules/clean/react/browse/models","metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/send_file_viewer_plugin","metaserver/static/js/modules/clean/react/flows/conversions/conversion_plugin","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/file_system","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/full_screen","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/print","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/navigation","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/utils","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/pass","metaserver/static/js/modules/clean/web_timing_logger","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/browser","typescript/libraries/file-viewer/src/core/data/riviera/api","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/public/index","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/url","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/cloud_docs","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/constants","typescript/libraries/file-viewer/src/info_blade/types","metaserver/static/js/modules/clean/react/pass/plugin/loader","typescript/libraries/file-viewer/src/info_blade/loader","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/preview_logger","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/feature_config","metaserver/static/js/modules/clean/react/share_download/util","metaserver/static/js/modules/clean/react/extensions/cloud_docs_compat","metaserver/static/js/modules/clean/react/previews/print_helpers","typescript/libraries/file-viewer/src/file_activity_blade/loader","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/preferences","metaserver/static/js/modules/clean/react/previews/sharing_plugin/loader","metaserver/static/js/modules/clean/react/branding/branding_modal_controller","typescript/libraries/file-viewer/src/watermarking/edit_plugin/loader","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/unzip_plugin","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/upsell/upsell_dialog_manager","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/version_history_plugin","metaserver/static/js/modules/clean/react/integrations/pdf_editor/plugin/loader","keymaster","metaserver/static/js/modules/clean/loggers/device_type","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/toolbar_plugins/star_plugin","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/toolbar_plugins/snackbar_manager_plugin","metaserver/static/js/modules/clean/browse_uri_interface","metaserver/static/js/modules/clean/react/previews/constants","metaserver/static/js/modules/core/dom","metaserver/static/js/modules/clean/user_survey/user_survey","metaserver/static/js/modules/clean/react/file_viewer/toggle_browse_elements_util","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/replay_prompt/async_replay_dialog","metaserver/static/js/modules/clean/react/flows/approval/api","metaserver/static/js/modules/clean/sharing/ui_util","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/report_exception","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/app_download_interstitial","metaserver/static/js/modules/clean/react/comments2/util","typescript/libraries/file-viewer/src/comments2/plugin/types","typescript/libraries/file-viewer/src/core/constants","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/clean/react/snackbar_manager","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/add_to_collection_plugin","metaserver/static/js/modules/clean/uuid/uuid","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/experiments","metaserver/static/js/modules/clean/react/extensions/data/store","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/preferences_util","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A,w,y,S,P,F,R,I,E,C,O,k,M,x,D,T,L,j,U,V,N,B,K,G,z,W,H,q,Y,J,Q,Z,X,$,ee,te,ie,re,ne,ae,se,oe,le,ce,de,ue,pe,_e,ge,ve,fe,me,be,he,Ae,we,ye,Se,Pe,Fe){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileViewer=t._FileViewer=t.isWatermarkingEnabled=void 0,r=i.__importDefault(r),a=i.__importDefault(a),E=i.__importStar(E),O=i.__importStar(O),ee=i.__importDefault(ee),se=i.__importStar(se),t.isWatermarkingEnabled=e=>!(!e||!ye.fileViewerConfiguration.watermarkingByUserId[e.id]);const Re=r.default.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{TagsSectionPreview:t}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/tagging/components/section/tags_section_preview"],t,i)}).then(i.__importStar);return{default:t}}))),Ie=(e,i,a,s,d,u,p,M,L,j,K,G,z,Y,Z,ee=!1,se=!1,le=!1,ce=!0,ge=!1,ve,fe,me,be,we,Se,Pe,Ie,Ee)=>{var Ce;let Oe={};const ke=L?new o.DefaultUserApiV2Client(L):new l.NoAuthApiV2Client,Me=B.getFeatureConfig(e,ge,ee,se,le,ce,L),xe=e=>_.showAuthModal(Object.assign(Object.assign({},e),{encryptionOptions:Z})),De=H.makePreferencesClient(L);he.is_supported_mobile_browser()||(oe.UserSurvey.addAttribute("previewPageRevamp",ye.fileViewerFeatureExperiments.previewPageRevamp),oe.UserSurvey.trackEvent("preview_viewed","previews")),c.isSharedFile(i().file)&&setTimeout(()=>{ue.trackReceiverUserLeapEvent(ue.ReceiverUserLeapEvent.VIEWED_SHARED_FILE)},5e3);const Te=c.isBrowseFile(i().file)&&t.isWatermarkingEnabled(L);switch(e){case R.SDKPreviewSurface.BROWSE:case R.SDKPreviewSurface.HOME:case R.SDKPreviewSurface.HELLOSIGN:case R.SDKPreviewSurface.SEARCH:case R.SDKPreviewSurface.RECENTS:case R.SDKPreviewSurface.STARRED:case R.SDKPreviewSurface.STANDALONE_PREVIEW:case R.SDKPreviewSurface.PHOTOS:case R.SDKPreviewSurface.COLLECTIONS:case R.SDKPreviewSurface.FILE_LOCKING:case R.SDKPreviewSurface.BACKUP:if(!L)throw new Error("Must be logged in to browse");Oe={presenceBeaconIOClient:I.getPresenceBeaconIOClient(L,i),fileSystemClient:y.makeFileSystemClient(L,i,{allowCopyToDropbox:!1,shareToken:a,encryptionOptions:Z,authModalKind:fe}),fullScreenClient:S.makeFullScreenClient(),printClient:P.makePrintClient(),navigationClient:F.makeBrowseNavigationClient(L,i,u,j,K,G),urlClient:D.makeUrlClient(L),preferencesClient:De};break;case R.SDKPreviewSurface.VERSION_HISTORY:if(!L)throw Error("user required for version history");Oe={presenceBeaconIOClient:I.getPresenceBeaconIOClient(L,i),fileSystemClient:void 0,fullScreenClient:S.makeFullScreenClient(),printClient:P.makePrintClient(),navigationClient:F.makeVersionHistoryNavigationClient(L,i,u,j,K,G),urlClient:D.makeUrlClient(L),preferencesClient:De};break;case R.SDKPreviewSurface.SHARED_LINK:Oe={fullScreenClient:S.makeFullScreenClient(),printClient:P.makePrintClient(),navigationClient:F.makeInbandShareNavigationClient(u,j,K,G,xe),urlClient:D.makeUrlClient(L),fileSystemClient:y.makeFileSystemClient(L,i,{allowCopyToDropbox:!0,shareToken:a,encryptionOptions:Z,sharePermission:d,authModalKind:fe}),presenceBeaconIOClient:I.getPresenceBeaconIOClient(L,i),preferencesClient:De};break;case R.SDKPreviewSurface.SHARED_LINK_EMBED:case R.SDKPreviewSurface.COMMERCE:case R.SDKPreviewSurface.TRANSFER:Oe={fullScreenClient:S.makeFullScreenClient(),printClient:P.makePrintClient(),urlClient:D.makeUrlClient(L),fileSystemClient:y.makeFileSystemClient(L,i,{allowCopyToDropbox:!0,shareToken:a,encryptionOptions:Z,sharePermission:d,authModalKind:fe})};break;case R.SDKPreviewSurface.SHARED_CONTENT_LINK:case R.SDKPreviewSurface.INBAND_SHARE:Oe={presenceBeaconIOClient:I.getPresenceBeaconIOClient(L,i),fileSystemClient:y.makeFileSystemClient(L,i,{allowCopyToDropbox:!0,shareToken:a,encryptionOptions:Z,sharePermission:d,authModalKind:fe}),fullScreenClient:S.makeFullScreenClient(),printClient:P.makePrintClient(),navigationClient:F.makeInbandShareNavigationClient(u,j,K,G),urlClient:D.makeUrlClient(L),preferencesClient:De}}const Le={logTTI:E.mark_time_to_interactive,logTTV:E.mark_time_to_view,logVideo:N.logVideo,log:N.logEvent,logDuration:N.logDuration},je=x.createFileViewerFactory({batteries:{intl:C.intl,coreIOClients:{apiv2ClientBase:ke,rivieraIOClient:new k.WebRivieraIOClient},logger:Le,optionalIOClients:Object.assign(Object.assign({},Oe),{showAuthModal:xe,cloudDocsClient:L?T.makeCloudDocsClient(L,i,a):void 0,reportExceptionClient:pe.makeReportExceptionClient()})},callbacks:{onRenderSucceeded:()=>{_.cleanupPrerenderPreview(),he.is_supported_mobile_browser()&&(oe.UserSurvey.trackEvent("mobile_web_preview_viewed","previews"),e===R.SDKPreviewSurface.SHARED_LINK&&oe.UserSurvey.trackEvent("mobile_web_receiver_preview_viewed","previews"),oe.UserSurvey.addAttribute("mobileWebRevamp",ye.fileViewerFeatureExperiments.mobileWebFvsdkVariant)),_.isExcelPreview(i().file)&&(oe.UserSurvey.addAttribute("fvsdk_excel2_phase",ye.fileViewerFeatureExperiments.fvsdkExcel2Phase),oe.UserSurvey.trackEvent("excel_preview_viewed","previews"))},onPreviewSessionInitialized:e=>{z&&z(e)}},initData:{accountId:L?L.account_id:void 0,deviceType:te.getDeviceType()},featureConfig:Me,platformConfig:{osModifierKey:"ctrlKey"},fileViewerId:Ee});he.is_supported_mobile_browser()&&Me.mobile_web_fvsdk_variant&&je.registerPlugins([g.makeMobilePluginLoader({previewSurface:e,sharedLinkInfo:be,getActiveFile:i,user:L,encryptionOptions:Z,authModalKind:fe,shareToken:a,sharePermission:d,browseContext:p,onFileChanged:we})]);const Ue=ye.fileViewerFeatureExperiments.enableTagsSection;je.registerPlugins([V.makeInfoBladePluginLoader(L?String(L.id):void 0,Y,L&&"MULTI_APPROVER"===ye.fileViewerFlowExperiments.approvalFlowVariantByUserId[L.id]?e=>de.getFileApprovalStatus(L.id,e):void 0,Ue?()=>{const e=i().file;return Ue&&L&&c.isBrowseFile(e)&&e.ns_path?r.default.createElement(n.LazySuspense,{fallback:null},r.default.createElement(Re,{files:[h.File.fromAnyFileObject(e)],user:L,isAutoTaggingEnabled:!1})):null}:void 0),e!==R.SDKPreviewSurface.BACKUP?b.makeComments2MetaserverLoader(L):void 0,L&&e!==R.SDKPreviewSurface.BACKUP?W.makeFileActivityPluginLoader(L,null===(Ce=Oe.navigationClient)||void 0===Ce?void 0:Ce.openVersionHistory):void 0,Te?J.makeWatermarkLoader(Le,({fqPath:t,overwrite:i})=>{i&&e===R.SDKPreviewSurface.BROWSE||(t&&L?O.replace_location(ne.preview_uri_for_fq_path(L,t,{context:ae.PreviewSourceContext.Workflow})):O.reload())}):void 0]);const Ve=L&&"MULTI_APPROVER"===ye.fileViewerFlowExperiments.approvalFlowVariantByUserId[L.id]&&ye.fileViewerFlowExperiments.flowsApprovalInShareModalEnabled&&Fe.isLiveFile(i().file)&&!Fe.isCloudDoc(i().file);if(je.registerPlugins([U.makePASSMetaserverLoader(i,e,L),e!==R.SDKPreviewSurface.BACKUP?q.makeShareMetaserverLoader(i,e,L,Se,Pe,Ie,void 0,Ve):void 0,g.makeDownloadActionLoader(i,e,L,a,d,Z,fe),_e.makeOpenInAppPluginLoader(i,L,me||ye.fileViewerFeatureExperiments.fvsdkInterstitialV2)]),je.registerPlugin(re.snackbarManagerLoader),L){const t=g.makeOpenDropdownActionLoader(i,L),r=g.makeMoveActionLoader(i,L,null==p?void 0:p.currentFQPath,M),n=g.makeCopyActionLoader(i,L,null==p?void 0:p.currentFQPath,M),a="OFF",o=!1,l=Ae.makeAddToCollectionActionLoader(i,L),c=f.makeStarredActionLoader(i,L),d=g.makeRenameActionLoader(i,L),u=g.makeDeleteActionLoader(i,L),b=g.makeWaterMarkingActionPluginLoader(i),h=g.makeOpenInDesktopActionLoader(i,L,p),y=Q.makeUnzipActionLoader(i,L),S=X.makeVersionHistoryActionLoader(i,L),P=w.makeFileConversionsLoader(i,L),F=A.makeSendForSignatureLoader(i,L),I=o?v.makeSelfSignLoader(i,L,a):void 0,E=m.makeRestoreActionLoader(G,ve),C=ie.makeStarToolbarButtonLoader(i,L),O=g.makeRequestApprovalLoader(i,L),k=$.makePdfEditorPluginLoader(i,L,s),x="MULTI_APPROVER"===ye.fileViewerFlowExperiments.approvalFlowVariantByUserId[L.id],D=Me.enable_fvsdk_dynamic_actions?[g.makeMoveActionLoader(i,L,null==p?void 0:p.currentFQPath,M,we),n,g.makeRenameActionLoader(i,L,we),g.makeDeleteActionLoader(i,L,we)]:[];switch(e){case R.SDKPreviewSurface.BROWSE:je.registerPlugins([t,r,n,d,u,Te?b:void 0,_.isFvsdkPdfEditorEnabled()?k:void 0,l,c,S,h,y,P,F,I,C,x?O:void 0]);break;case R.SDKPreviewSurface.SEARCH:je.registerPlugins([t,...D,Te?b:void 0,_.isFvsdkPdfEditorEnabled()?k:void 0,l,c,S,y,P,F,I,C,x?O:void 0]);break;case R.SDKPreviewSurface.STANDALONE_PREVIEW:case R.SDKPreviewSurface.FILE_LOCKING:je.registerPlugins([t,...D,Te?b:void 0,_.isFvsdkPdfEditorEnabled()?k:void 0,c,S,y,P,F,E,C,x?O:void 0]);break;case R.SDKPreviewSurface.RECENTS:case R.SDKPreviewSurface.STARRED:case R.SDKPreviewSurface.HOME:je.registerPlugins([t,...D,Te?b:void 0,_.isFvsdkPdfEditorEnabled()?k:void 0,c,S,y,P,F,I,E,C,x?O:void 0]);break;case R.SDKPreviewSurface.INBAND_SHARE:case R.SDKPreviewSurface.SHARED_CONTENT_LINK:case R.SDKPreviewSurface.SHARED_LINK:case R.SDKPreviewSurface.HELLOSIGN:case R.SDKPreviewSurface.PHOTOS:je.registerPlugins([t,Te?b:void 0,_.isFvsdkPdfEditorEnabled()?k:void 0,c,S,y,P,F,E,C,x?O:void 0]);break;case R.SDKPreviewSurface.VERSION_HISTORY:je.registerPlugins([E]);break;case R.SDKPreviewSurface.COLLECTIONS:je.registerPlugins([t,S,F,x?O:void 0]);break;case R.SDKPreviewSurface.SHARED_LINK_EMBED:case R.SDKPreviewSurface.COMMERCE:case R.SDKPreviewSurface.TRANSFER:case R.SDKPreviewSurface.UNKNOWN:break;case R.SDKPreviewSurface.BACKUP:je.registerPlugins([t,u,S,h]);break;default:(e=>{throw new Error})()}}return je.createFileViewer()};t._FileViewer=t=>{const{file:n,sharedLinkInfo:o,sharePermission:l,shareToken:d,brandingInfo:g,user:v,previewSurface:f,encryptionOptions:m,closeFile:b,flipToNextFile:h,flipToPreviousFile:A,fileIndex:w=0,fileCount:y=1,previewContentOnly:S=!1,transparentBackground:P=!1,forceNoToolbar:F=!1,showCloudDocPreview:I=!0,onPreviewSessionInitialized:E,onRestoreRevision:O,canRestoreRevision:k,canShowFileFlippers:x,authModalKind:D,containerId:T,usePreloadedMetadata:U,onFileChanged:V,fileViewerId:N}=t,B=(e=>{switch(e){case R.SDKPreviewSurface.BROWSE:return M.SourceContext.Browse;case R.SDKPreviewSurface.SEARCH:return M.SourceContext.Search;case R.SDKPreviewSurface.INBAND_SHARE:case R.SDKPreviewSurface.SHARED_LINK:case R.SDKPreviewSurface.SHARED_CONTENT_LINK:return M.SourceContext.SharedLinkFile;case R.SDKPreviewSurface.SHARED_LINK_EMBED:return M.SourceContext.EmbeddedSharedLinkFile;case R.SDKPreviewSurface.VERSION_HISTORY:return M.SourceContext.VersionHistory;case R.SDKPreviewSurface.HOME:return M.SourceContext.Home;case R.SDKPreviewSurface.RECENTS:return M.SourceContext.Recents;case R.SDKPreviewSurface.STARRED:return M.SourceContext.Starred;case R.SDKPreviewSurface.STANDALONE_PREVIEW:return M.SourceContext.StandalonePreview;case R.SDKPreviewSurface.PHOTOS:return M.SourceContext.Photos;case R.SDKPreviewSurface.COLLECTIONS:return M.SourceContext.Collections;case R.SDKPreviewSurface.HELLOSIGN:return M.SourceContext.HelloSign;case R.SDKPreviewSurface.COMMERCE:return M.SourceContext.Commerce;case R.SDKPreviewSurface.TRANSFER:return M.SourceContext.Transfer;case R.SDKPreviewSurface.FILE_LOCKING:return M.SourceContext.FileLocking;case R.SDKPreviewSurface.BACKUP:return M.SourceContext.Backup;case R.SDKPreviewSurface.UNKNOWN:return M.SourceContext.Unknown}})(f),W=(({file:e,initialSourceAction:t})=>{const i=r.default.useRef(t===ae.PreviewSourceAction.Visit?M.SourceAction.Visit:M.SourceAction.Click),n=r.default.useRef();return r.default.useEffect(()=>{n.current=e},[e]),void 0!==n.current&&e!==n.current&&(i.current=M.SourceAction.Click),i.current})(t),[H,q]=r.default.useState(!1),J=r.default.useRef({file:n,sharedLinkInfo:o,sharePermission:l,shareToken:d,encryptionOptions:m}),Q=r.default.createRef(),X=r.default.useCallback(()=>J.current,[]),te=r.default.useRef(void 0),ie=s.useSelector(e=>u.getOpenActionsForFile(e,n),s.shallowEqual),re=r.default.useMemo(()=>p.partitionActions(ie).cloudEditors,[ie]),ne=r.default.useMemo(()=>T&&document.getElementById(T)||void 0,[T,H]),[oe,de]=r.default.useState(!1),ue=r.default.useRef(!1),pe=r.default.useCallback(e=>{te.current=e,q(!0);const t=["dragenter","dragover","dragleave","drop"],i=e=>{e.stopPropagation(),e.preventDefault()};for(const r of t)null==e||e.addEventListener(r,i)},[]),_e=t.previewSurface===R.SDKPreviewSurface.BROWSE?t.browseContext:void 0,he=t.previewSurface===R.SDKPreviewSurface.BROWSE?t.browseExceptions:void 0,Ae=t.previewSurface===R.SDKPreviewSurface.BROWSE?t.shouldFocusApproval:void 0,we=t.previewSurface===R.SDKPreviewSurface.BROWSE?t.shouldFocusComment:void 0,Se="activeCommentThreadId"in t&&t.activeCommentThreadId?t.activeCommentThreadId:void 0,Fe=ye.fileViewerFeatureExperiments.comments2UsabilityRevamp&&v?Pe.getRightRailBlade(v.id):void 0,Re=t.previewSurface===R.SDKPreviewSurface.SHARED_LINK||t.previewSurface===R.SDKPreviewSurface.SHARED_CONTENT_LINK?t.copyLinkButtonOOBPreviewsVariant:void 0;Re&&"OFF"!==Re&&new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/stormcrow/stormcrow_exposure_logger"],t,i)}).then(i.__importStar).then(({StormcrowExposureLogger:e})=>{(new e).logExposure("sharing_copy_link_button_oob_previews",Re)});const Ee=t.previewSurface===R.SDKPreviewSurface.SHARED_LINK||t.previewSurface===R.SDKPreviewSurface.SHARED_CONTENT_LINK||t.previewSurface===R.SDKPreviewSurface.INBAND_SHARE?t.shareModalOnEditPreviewsVariant:void 0,Ce=t.previewSurface===R.SDKPreviewSurface.SHARED_LINK||t.previewSurface===R.SDKPreviewSurface.SHARED_CONTENT_LINK||t.previewSurface===R.SDKPreviewSurface.INBAND_SHARE?t.parsedSharedCopyLink:void 0,Oe=r.default.useMemo(()=>Ie(f,X,d,de,l,b,_e,he,v,h,A,O,E,g,m,S,P,F,I,x,k,D,void 0,o,V,Re,Ee,Ce,N),[v,f]),ke=r.default.useMemo(()=>((e,t,i,r,n,a,s,o,l,d)=>{const u=i.map(e=>({displayName:e.description,editorName:"cloud_editor"===e.handler[".tag"]?G.cloudEditorNameToParams(e.handler.editor_name):"",iconUrl:e.icon.url}));if(c.isSharedFile(t)){const e=a?K.getToDropboxOptions(a,s,t,o):[];return{cloud_open_with_buttons:u,download_button:{enable_download_button:!r,enable_open_with_button:!r,can_download:!!a&&K.isDownloadAllowed(a),copy_targets:e.map(({text:e,role:t,isDisabled:i})=>({isDisabled:i,role:t,text:e}))},enable_pass:!!a&&a.canViewMetadataRoles.length>0,enable_print:z.canPrint(a),enable_share_button:!1,enable_open_button:!1,enable_restore_button:l,enable_prefetch_metadata_usage:d||ye.fileViewerFeatureExperiments.fvsdkPrefetchAllowed,enable_view_on_dropbox_button:!1}}return{cloud_open_with_buttons:u,download_button:{enable_download_button:!r,enable_open_with_button:!r,can_download:!0,copy_targets:[]},enable_pass:!0,enable_print:!0,enable_share_button:e!==R.SDKPreviewSurface.VERSION_HISTORY,enable_open_button:e!==R.SDKPreviewSurface.VERSION_HISTORY,enable_restore_button:l,enable_prefetch_metadata_usage:d||ye.fileViewerFeatureExperiments.fvsdkPrefetchAllowed,enable_view_on_dropbox_button:!1}})(f,n,re,S,0,l,d,m,!!k,U),[f,n,re,o,l,d,m,k]),Me=r.default.useRef(!0);r.default.useEffect(()=>{const e=f===R.SDKPreviewSurface.VERSION_HISTORY;i.__awaiter(void 0,void 0,void 0,(function*(){var t;const a=null===(t=J.current)||void 0===t?void 0:t.file,s=a&&c.isBrowseFile(a)&&c.isBrowseFile(n)&&a.file_id===n.file_id&&a.fq_path===n.fq_path,u=ue.current&&(oe||s);if(Oe&&H&&te.current&&!u){J.current={file:n,sharedLinkInfo:o,sharePermission:l,shareToken:d,encryptionOptions:m};const t=r.default.createElement(r.default.Fragment,null,r.default.createElement(Y.BrandingModalController,{brandingInfo:g,sharedLinkInfo:o,closeButtonText:C.intl.formatMessage({id:"D/tUrq",defaultMessage:"View file"})}));yield((e,t,r,n,a,s,o,l,d,u,p,g,v,f,m)=>i.__awaiter(void 0,void 0,void 0,(function*(){const i=ge.parseActiveCommentFromUrl(),b=$.getPdfEditorFromUrl(),h={fileInfo:{file_id:t.file_id,sj_id:t.sjid,ns_id:t.ns_id,url:null==u?void 0:u.url},fileMetadata:{file_id:t.file_id,file_name:c.getFilename(t),file_path:c.isBrowseFile(t)?t.fq_path:void 0,file_last_modified_date:t.ts?new Date(1e3*t.ts).toISOString():void 0,file_collection_context:{file_index:s,parent_files_count:o}},previewMetadata:t.preview,fileConfig:r,fileSize:t.bytes,supportedPreviewTypes:[...fe.DEFAULT_SUPPORTED_PREVIEW_TYPES,...R.INBAND_SUPPORTED_TYPES],sharedLinkInfo:u&&Object.assign(Object.assign({},u),{hasPublicAudienceOrVisibility:!!u.hasPublicAudienceOrVisibility}),sourceSession:{source_action:d,source_context:l,page_start_ts:performance.timing.navigationStart},pluginParams:{shouldFocusApproval:p,shouldFocusComment:g,threadId:v,commentId:i},defaultRightRailPlugin:p||g||!_.isPreviewPageRevampEnabled()||v||i?ve.COMMENTS_PLUGIN_ID:f||j.INFO_BLADE_PLUGIN_ID,activeEditPlugin:b?$.PDF_EDITOR_PLUGIN_ID:void 0};yield e.initialize(h),e.render(n,a,m)})))(Oe,n,ke,te.current,ne||te.current,w,y,B,W,o,Ae,we,Se,Fe,t),ue.current=!0,!e&&Me.current&&(Me.current=!1,le.hideElementsBehindFileViewer()),document.title=c.getFilename(n)}}))},[n,H]),r.default.useEffect(()=>{if(f!==R.SDKPreviewSurface.VERSION_HISTORY)return()=>{Me.current=!1,le.showElementsBehindFileViewer()}},[f]),r.default.useEffect(()=>{const e=me.Snackbar.manager;me.Snackbar.manager=Q.current;const t=ee.default.getScope();return ee.default.setScope("fvsdk_scope"),se.scroll_lock_document(),()=>{Oe.unmount(),se.scroll_unlock_document(),ee.default.setScope(t),me.Snackbar.manager=e}},[]);const xe="AD_FREE"!==ye.fileViewerFeatureExperiments.previewPageRevamp,De=r.default.useRef(null);return r.default.createElement("div",{ref:De,className:a.default("fvsdk-container",{"fvsdk-embed-viewport":!!ne})},r.default.createElement(be.SnackbarManager,{ref:Q,getParentElement:()=>De.current,useDigSnackbars:!0}),r.default.createElement("div",{className:L.FVSDK_MOUNT_POINT,id:L.FVSDK_MOUNT_POINT,ref:pe}),xe&&r.default.createElement(Z.UpsellDialogManager,{file:n,user:v}),xe&&r.default.createElement(ce.AsyncReplayDialog,{file:n,user:v}))},t._FileViewer.displayName="_FileViewer",t._FileViewer.displayName="_FileViewer";const Ee=e=>{const i=r.default.useMemo(()=>we.UUID.v4({allowInsecure:!0}),[]),n=r.default.useMemo(()=>we.UUID.v4({allowInsecure:!0}),[]),[a,s]=r.default.useState(!1),o=r.default.useCallback(()=>{s(!0)},[s]);return ye.fileViewerFeatureExperiments.fvsdkInterstitialV2&&"open_in_app_data"in e.file&&e.file.open_in_app_data&&!a&&!e.hideOpenInAppInterstitial?r.default.createElement(_e.FvsdkAppDownloadInterstitial,{file:e.file,filePreviewSessionId:i,fileViewerSessionId:n,onDismiss:o,openInAppData:e.file.open_in_app_data,sharedLinkInfo:e.sharedLinkInfo,fileViewOrigin:e.fileViewOrigin}):r.default.createElement(t._FileViewer,Object.assign({},e,{fileViewerId:n}))};Ee.displayName="FileViewerWithInterstitial";const Ce=Se.getStore(),Oe=e=>r.default.createElement(s.Provider,{store:Ce},r.default.createElement(Ee,Object.assign({},e)));Oe.displayName="FileViewerWithProvider",Oe.displayName="FileViewerWithProvider";const ke=d.requireCssWithComponent(Oe,["/static/js/typescript/libraries/file-viewer/src/index.web-vfl9bj7wa.css","/static/js/typescript/libraries/comments2/src/index-vfllBhe2M.css","/static/css/dig-components/index.web-vfl0pq0Fh.css","/static/css/preview/sdk_file_viewer-vflPU2xvu.css","/static/js/typescript/component_libraries/files_components/src/index.web-vfldNb6um.css","/static/js/dig-experimental/index.web-vfllg4n6e.css","/static/js/typescript/component_libraries/retrieval-components/src/index.web-vfl6Ys6C5.css","/static/js/typescript/component_libraries/flows/src/index.web-vflL2aLAX.css","/static/css/dig-illustrations/index.web-vflOY1TCT.css","/static/css/spectrum/index.web-vfliw9181.css"]);t.FileViewer=ke,ke.displayName="FileViewer"})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/full_screen",["require","exports","metaserver/static/js/modules/clean/react/file_viewer/full_screen_helpers"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeFullScreenClient=void 0,t.makeFullScreenClient=function(){return{enterFullScreen:e=>i.enterFullScreen({dispatchFunction:e,shouldDispatchReduxAction:!1}),exitFullScreen:()=>i.exitFullScreen()}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/navigation",["require","exports","metaserver/static/js/modules/clean/cloud_docs/types","metaserver/static/js/modules/clean/react/extensions/cloud_docs_compat","metaserver/static/js/modules/clean/cloud_docs/open_with_utils","metaserver/static/js/modules/clean/previews/util"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeVersionHistoryNavigationClient=t.makeBrowseNavigationClient=t.makeInbandShareNavigationClient=void 0,t.makeInbandShareNavigationClient=function(e,t,a,s,o){return{openWithCloudEditor:(e,t,a)=>{const s=i.UserActionSourceType.WEB_PREVIEW,o=r.cloudEditorNameToParams(a);n.openWithCloudEditor({fileId:e},t,o,!1,s)},closeViewer:e?()=>{e()}:void 0,flipToNextFile:t,showAuthModal:o,flipToPreviousFile:a,restorePreviousVersion:s}},t.makeBrowseNavigationClient=function(e,t,i,r,n,s){return{closeViewer:i?()=>{i()}:void 0,openVersionHistory:()=>{const i=t();a.redirectToVersionHistory(i.file,e)},flipToNextFile:r,flipToPreviousFile:n,restorePreviousVersion:s}},t.makeVersionHistoryNavigationClient=function(e,t,i,r,n,a){return{closeViewer:i?()=>{i()}:void 0,flipToNextFile:r,flipToPreviousFile:n,restorePreviousVersion:a}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/preferences",["require","exports","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/preferences_util"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePreferencesClient=void 0,t.makePreferencesClient=function(e){return e?(function(e){return{rightRail:{setCollapsedState:({isCollapsed:t})=>{i.setRightRailIsCollapsed(e.id,t)},getCollapsedState:()=>i.getRightRailIsCollapsed(e.id),setBladeState:({bladeId:t})=>{i.setRightRailBlade(e.id,t)},getBladeState:()=>i.getRightRailBlade(e.id)},docSidebar:{setCollapsedState:({isCollapsed:t})=>{i.setDocSidebarIsCollapsed(e.id,t)},getCollapsedState:()=>i.getDocSidebarIsCollapsed(e.id)},video:{getVolumeState:()=>i.getVolumeState(e.id),setVolumeState:t=>i.setVolumeState(e.id,t),getMutedState:()=>i.getMutedState(e.id),setMuteState:t=>i.setMutedState(e.id,t)}}})(e):{rightRail:{setCollapsedState:()=>{},getCollapsedState:()=>!0,setBladeState:()=>{},getBladeState:()=>{}},docSidebar:{setCollapsedState:({})=>{},getCollapsedState:()=>!0}}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/preview_logger",["require","exports","tslib","metaserver/static/js/modules/clean/deprecated_ajax/ajax_jquery","metaserver/static/js/modules/clean/perf_tools/web_timing_utils","metaserver/static/js/modules/clean/metrics/index","typescript/libraries/file-viewer/src/core/logging/constants","apex-metrics/index","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request"],(function(e,t,i,r,n,a,s,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logDuration=t.logVideo=t.logEvent=void 0,r=i.__importStar(r),l=i.__importStar(l);const d=[s.SessionEventType.FilePreviewSupportConfirmed,s.SessionEventType.FilePreviewSupportDenied,s.SessionEventType.FilePreviewDownloadAttempted,s.SessionEventType.FilePreviewDownloadSucceeded,s.SessionEventType.FilePreviewDownloadFailed,s.SessionEventType.FilePreviewRenderSucceeded,s.SessionEventType.FilePreviewRenderFailed,s.SessionEventType.FilePreviewSessionEnded],u=e=>Object.assign(Object.assign(Object.assign({device_type:e.device_type},e.extra.source_context&&{source_context:e.extra.source_context}),e.extra.preview_type&&{preview_type:e.extra.preview_type}),e.extra.action&&{action:e.extra.action}),p=(e,i)=>{a.getMetricsReporter().createStats({ns:"web_previews",name:e},Object.assign(Object.assign({},u(i)),{deployment:l.YAPS_DEPLOYMENT})).record(1),d.includes(e)&&((e,t)=>{const i=t.extra.file_preview_timeline?JSON.parse(t.extra.file_preview_timeline):{};if(s.SessionEventType.FilePreviewAttemptStarted in i&&e in i){const r=i[e]-i[s.SessionEventType.FilePreviewAttemptStarted];r>0&&a.getMetricsReporter().createStats({ns:"web_previews",name:"time_from_attempt_ms"},Object.assign(Object.assign({},u(t)),{event_name:e,deployment:l.YAPS_DEPLOYMENT})).recordDuration(r,o.TimeUnit.MILLISECONDS)}})(e,i),((e,i)=>{if(e===s.SessionEventType.FilePreviewAttemptStarted&&i.extra.source_action===s.SourceAction.Visit&&window.performance){const e=Date.now()-window.performance.timing.navigationStart;e>0&&t.logDuration("time_to_preview_attempt_from_load_ms",e,i)}})(e,i)};t.logEvent=(e,t)=>{const i=t.extra.file_preview_timeline?JSON.stringify(Object.assign({},...Object.entries(JSON.parse(t.extra.file_preview_timeline)).map(([e,t])=>({[e+"_ts"]:t})))):void 0,n={device_type:t.device_type,event_name:e,extra:JSON.stringify(Object.assign(Object.assign({},t.extra),{request_id:c.REQUEST_ID})),file_viewer_session_id:t.file_viewer_session_id,file_preview_session_id:t.file_preview_session_id,file_ns_id:t.ns_id,file_sjid:t.sj_id,file_preview_timeline:i,file_preview_size:t.file_preview_size};r.SilentBackgroundBeaconRequest({url:"/log/file_preview",data:n}),p(e,t)},t.logVideo=(e,t)=>{const{file_preview_session_id:i,video_format:a,video_duration_seconds:s,video_truncated:o,extra:l}=t,c={event_name:e,client_timestamp_ms:n.WebTimingUtil.getNow(),file_preview_session_id:i,video_format:a,video_duration_seconds:s,video_truncated:o,extra:JSON.stringify(l)};r.SilentBackgroundBeaconRequest({url:"/log/video_preview",data:c})},t.logDuration=(e,t,i,r={})=>a.getMetricsReporter().createStats({ns:"web_previews",name:e},Object.assign(Object.assign(Object.assign({},r),i&&u(i)),{deployment:l.YAPS_DEPLOYMENT})).recordDuration(t,o.TimeUnit.MILLISECONDS)})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/print",["require","exports","metaserver/static/js/modules/clean/previews/actions","typescript/libraries/file-viewer/src/plugins/types"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePrintClient=void 0,t.makePrintClient=function(){return{print:(e,t)=>{t===r.PreviewType.SsrDoc?i.docPrint(e):t===r.PreviewType.Image&&i.imagePrint(e)}}}}));var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&__createBinding(t,e,i);return __setModuleDefault(t,e),t};define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/replay_prompt/async_replay_dialog",["require","exports","metaserver/static/js/modules/clean/react/async/loadable"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncReplayDialog=void 0,t.AsyncReplayDialog=i.Loadable({loader:()=>new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/replay_prompt/replay_dialog"],t,i)}).then(__importStar).then(({ReplayDialog:e})=>e)})})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/report_exception",["require","exports","tslib","metaserver/static/js/modules/core/exception"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeReportExceptionClient=void 0,r=i.__importStar(r),t.makeReportExceptionClient=function(){return{reportException:(e,t,i)=>r.reportException({err:e,severity:i?"critical":"non-critical",tags:["file-viewer",t]})}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/toolbar_plugins/snackbar_manager_plugin",["require","exports","metaserver/static/js/modules/clean/react/snackbar"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.snackbarManagerLoader=t.SNACKBAR_MANAGER_PLUGIN_ID=void 0,t.SNACKBAR_MANAGER_PLUGIN_ID="SNACKBAR_MANAGER",t.snackbarManagerLoader={pluginId:t.SNACKBAR_MANAGER_PLUGIN_ID,load:(e,t)=>Promise.resolve({isSnackbarVisible:()=>{var e;return!!(null===(e=i.Snackbar.manager)||void 0===e?void 0:e.state.displayedSnackbar)},lifecycle:{}})}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/toolbar_plugins/star_plugin",["require","exports","tslib","react","react-redux","dig-components/buttons","dig-components/tooltips","dig-components/icons","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/hooks","metaserver/static/js/modules/clean/react/starred/redux/store"],(function(e,t,i,r,n,a,s,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeStarToolbarButtonLoader=void 0,r=i.__importDefault(r);const d=e=>{var{className:t}=e,n=i.__rest(e,["className"]);const{message:c,iconSrc:d,handleClick:u}=l.useStarControl(n),{file:p}=n.getActiveFile();return l.isStarringEnabled(p)?r.default.createElement(s.Tooltip,{title:c,shouldCloseOnClick:!0},r.default.createElement(a.IconButton,{variant:"transparent",onClick:u,className:t,"aria-label":c,inverse:!0},r.default.createElement(o.UIIcon,{src:d}))):null};d.displayName="_StarButton";const u=e=>{const t=c.getStoreForStarred();return r.default.createElement(n.Provider,{store:t},r.default.createElement(d,Object.assign({},e)))};u.displayName="StarButton",u.displayName="StarButton",t.makeStarToolbarButtonLoader=(e,t)=>({pluginId:"STAR_TOOLBAR_BUTTON",load:()=>Promise.resolve(new class{constructor(){this.identifier="star",this.lifecycle={},this.toolbarUI=({className:i})=>r.default.createElement(u,{getActiveFile:e,user:t,className:i})}})})})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/upsell/upsell_dialog_manager",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/components/css","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/upsell/use_show_upsell_dialogs","metaserver/static/js/modules/clean/react/async/loadable"],(function(e,t,i,r,n,a,s){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.UpsellDialogManager=void 0,r=i.__importStar(r),(function(e){e[e.professionalEsign=0]="professionalEsign",e[e.docsend=1]="docsend"})(o||(o={}));const l=({user:e,file:t})=>{const{proEsign:{showUpsell:i,campaignContext:n,proEsignSpaceCopy:s,stormcrowVariant:l},docsend:{showUpsell:u,campaignContext:p}}=a.useShowUpsellDialogs(null==e?void 0:e.id,t);let _=void 0;return i?_=o.professionalEsign:u&&(_=o.docsend),r.createElement(r.Fragment,null,_===o.docsend&&r.createElement(d,{user:e,campaignContext:p}),_===o.professionalEsign&&r.createElement(c,{user:e,file:t,campaignContext:n,proEsignSpaceCopy:s,stormcrowVariant:l}))};l.displayName="UnstyledUpsellDialogManager",t.UpsellDialogManager=n.requireCssWithComponent(l,["/static/css/file_viewer/upsell_dialog-vfluIgJJw.css"]);const c=s.Loadable({loader:()=>new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/upsell/esign_upsell_dialog"],t,i)}).then(i.__importStar).then(({EsignUpsellDialog:e})=>e)}),d=s.Loadable({loader:()=>new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/upsell/docsend_upsell_dialog"],t,i)}).then(i.__importStar).then(({DocsendUpsellDialog:e})=>e)})})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/upsell/upsell_dialog_user_actions_tracker",["require","exports","metaserver/static/js/modules/clean/growth/user_action/tracker"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocsendUpsellUserActionTracker=t.DocsendUpsellUserAction=t.EsignUpsellUserActionTracker=t.EsignUpsellUserAction=void 0,(function(e){e.DISMISS="dismiss",e.SHOW="show"})(t.EsignUpsellUserAction||(t.EsignUpsellUserAction={}));class r extends i.GrowthUserActionTracker{constructor(){super(...arguments),this.project="pg_sdk_file_viewer_esign_upsell"}}t.EsignUpsellUserActionTracker=r,(function(e){e.SHOW="show"})(t.DocsendUpsellUserAction||(t.DocsendUpsellUserAction={}));class n extends i.GrowthUserActionTracker{constructor(){super(...arguments),this.project="pg_sdk_file_viewer_docsend_upsell"}}t.DocsendUpsellUserActionTracker=n})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/upsell/use_show_upsell_dialogs",["require","exports","tslib","react","metaserver/static/js/api_v2/user_client","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/upsell/upsell_dialog_user_actions_tracker","metaserver/static/js/modules/clean/react/campaigns/campaign_events_api"],(function(e,t,i,r,n,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackDismissAction=t.useShowUpsellDialogs=t.initialState=void 0,t.initialState={proEsign:{showUpsell:!1,stormcrowVariant:"OFF",productPlanType:"UNKNOWN",campaignContext:void 0,proEsignSpaceCopy:""},docsend:{showUpsell:!1,stormcrowVariant:"OFF",campaignContext:void 0}};const o=["pdf","doc","docx"],l=["pdf","docx","doc","pptx","ppt","xlsx","xls","key"];function c(e,t){var i,r,n,a,s,o;switch(t.type){case"showProEsignCampaign":return Object.assign(Object.assign({},e),{proEsign:Object.assign(Object.assign({},e.proEsign),{showUpsell:!0,stormcrowVariant:null===(i=t.proEsignPayload)||void 0===i?void 0:i.stormcrowVariant,productPlanType:null===(r=t.proEsignPayload)||void 0===r?void 0:r.productPlanType,campaignContext:null===(n=t.proEsignPayload)||void 0===n?void 0:n.campaignContext,proEsignSpaceCopy:null===(a=t.proEsignPayload)||void 0===a?void 0:a.proEsignSpaceCopy})});case"showDocsendUpsellCampaign":return Object.assign(Object.assign({},e),{docsend:Object.assign(Object.assign({},e.docsend),{showUpsell:!0,stormcrowVariant:null===(s=t.docsendPayload)||void 0===s?void 0:s.stormcrowVariant,campaignContext:null===(o=t.docsendPayload)||void 0===o?void 0:o.campaignContext})});default:return e}}function d(e){return i.__awaiter(this,void 0,void 0,(function*(){try{return{value:yield e,failed:!1}}catch(e){return{failed:!0}}}))}t.useShowUpsellDialogs=function(e,i){const[a,u]=r.useReducer(c,t.initialState);return r.useEffect(()=>{let t=!0;if(void 0!==e&&void 0!==i){if(!i.ext)return;const r=i.ext.slice(1);Promise.all([o.includes(r)?d((new n.UserApiV2Client).ns("growth_bundling").rpc("show_pro_esign_upsell",{sjid:i.sjid,ns_id:i.ns_id,file_ext:i.ext.slice(1),surface:"sdk_file_viewer"},{subjectUserId:e})):Promise.resolve(),l.includes(r)?d((new n.UserApiV2Client).ns("growth_bundling").rpc("show_docsend_upsell",{sjid:i.sjid,ns_id:i.ns_id,file_ext:i.ext.slice(1)},{subjectUserId:e})):Promise.resolve()]).then(([e,i])=>{var r,n,a;const o=e&&e.value,l=i&&i.value;t&&(o&&o.show_campaign&&u({type:"showProEsignCampaign",proEsignPayload:{showUpsell:!0,stormcrowVariant:o.variant||"",productPlanType:o.product_plan_type||"",campaignContext:void 0!==(null===(r=o.campaign_context)||void 0===r?void 0:r.campaign_impression_id)?s.createMegaphoneCampaignImpressionContext(o.campaign_context.campaign_impression_id,o.campaign_context.campaign_id,o.campaign_context.campaign_variant_id):void 0,proEsignSpaceCopy:(null===(n=o.rcs_copy)||void 0===n?void 0:n.pro_esign_space)||""}}),l&&l.show_campaign&&u({type:"showDocsendUpsellCampaign",docsendPayload:{showUpsell:!0,stormcrowVariant:l.variant||"",campaignContext:void 0!==(null===(a=l.campaign_context)||void 0===a?void 0:a.campaign_impression_id)?s.createMegaphoneCampaignImpressionContext(l.campaign_context.campaign_impression_id,l.campaign_context.campaign_id,l.campaign_context.campaign_variant_id):void 0}}))})}return()=>{t=!1}},[e,i]),a},t.trackDismissAction=e=>{if(!e)return;new a.EsignUpsellUserActionTracker(e).track(a.EsignUpsellUserAction.DISMISS)}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/url",["require","exports","tslib","metaserver/static/js/modules/clean/history","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/uri","metaserver/static/js/modules/clean/browse_uri_interface","metaserver/static/js/modules/clean/referrer_cleansing_redirect"],(function(e,t,i,r,n,a,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeUrlClient=void 0,r=i.__importDefault(r),n=i.__importStar(n),o=i.__importStar(o),t.makeUrlClient=function(e){return{getQueryStringParameter(e){const t=n.get_uri().getQuery();return e in t?t[e]:null},setQueryStringParameter(e,t){const i=r.default.get_uri();null!==t?i.updateQuery(e,t):i.removeQuery(e),r.default.push_state(i.getPath(),i.getQuery())},onQueryStringParameterChange(e,t){const i=`/${n.get_uri().getPath().split("/")[1]}`;r.default.add_callback(i,(i,r)=>{let n=null;if(e in r){const t=r[e];n=t instanceof Array?t.length?t[0]:null:null!=t?t:null}t(e,n)},!0)},openFile(t){const i=s.get_browse_root(e)+a.URI.encode_parts(t);n.replace_location(i)},redirect(e,t){t?o.safe_open_tab_and_redirect(e):o.redirect(e)}}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/add_to_collection_plugin",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","dig-components/icons","metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/utils","dig-components/icons/src","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/experiments","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","metaserver/static/js/modules/clean/react/action_bar/action_bar_strings"],(function(e,t,i,r,n,a,s,o,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeAddToCollectionActionLoader=void 0,r=i.__importDefault(r);t.makeAddToCollectionActionLoader=(t,u)=>({pluginId:"ADD_TO_COLLECTION_ACTION",load:()=>Promise.resolve(new class{constructor(){this.actionDefinitions={alwaysInOverflow:[this.actionToDisplay()]},this.lifecycle={previewWillInitialize:()=>{this.actionDefinitions.alwaysInOverflow=[this.actionToDisplay()]}}}actionToDisplay(){const{file:e}=t();return c.isLiveFile(e)&&l.fileViewerFeatureExperiments.enableAddToCollection?[this.addToCollectionDefinition()]:[]}addToCollectionDefinition(){const{file:l}=t();return s.makePluginActionDefinition({label:n.intl.formatMessage(d.ADD_TO_COLLECTION_STRING),icon:r.default.createElement(a.UIIcon,{src:o.AddToCollectionLine}),id:"ADD_TO_COLLECTION_ACTION",action:()=>i.__awaiter(this,void 0,void 0,(function*(){const{showCollectionSaverModal:t}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/collections/shared/index"],t,i)}).then(i.__importStar);t({fileIds:[l.file_id],surface:"preview"})}))})}})})}));__createBinding=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&__createBinding(t,e,i);return __setModuleDefault(t,e),t};define("metaserver/static/js/modules/clean/react/file_viewer/share_helpers",["require","exports","metaserver/static/js/modules/clean/file_store/utils"],(function(e,t,i){"use strict";function r(e,t,r){const n={filename:i.getFilename(e),isFolder:!1,nsId:e.ns_id,origin:r,sjid:e.sjid,url:t||void 0,fqPath:""};return i.isBrowseFile(e)&&(n.fqPath=e.fq_path),null!=e.file_id&&(n.fileId=e.file_id),n}Object.defineProperty(t,"__esModule",{value:!0}),t.share=t.getDataForContentInfo=void 0,t.getDataForContentInfo=r,t.share=function(t,i,n,a,s={}){new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/sharing/share_modal_util"],t,i)}).then(__importStar).then(e=>{const o=r(t,n,a);e.showShareModal(i,o,s)})}})),define("metaserver/static/js/modules/clean/react/integrations/pdf_editor/plugin/loader",["require","exports","tslib","metaserver/static/js/modules/clean/history"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPdfEditorFromUrl=t.makePdfEditorPluginLoader=t.PDF_EDITOR_PLUGIN_ID=void 0,r=i.__importDefault(r),t.PDF_EDITOR_PLUGIN_ID="pdf_edit_plugin",t.makePdfEditorPluginLoader=function(r,n,a){return{pluginId:t.PDF_EDITOR_PLUGIN_ID,load:(t,s)=>i.__awaiter(this,void 0,void 0,(function*(){const{PdfEditorPluginBase:o,generateNonceSubdomain:l}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/integrations/pdf_editor/plugin/plugin_entry"],t,i)}).then(i.__importStar),c=yield l();return new o(t,s,c,r,n,a)}))}},t.getPdfEditorFromUrl=function(){return"1"===r.default.get_uri().getQuery().edit}})),define("metaserver/static/js/modules/clean/react/pass/plugin/loader",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/file_viewer_sidebar/widgets/seen_states","metaserver/static/js/modules/clean/react/size_class/constants","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/utils"],(function(e,t,i,r,n,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePASSMetaserverLoader=void 0,r=i.__importDefault(r);t.makePASSMetaserverLoader=(e,t,i)=>({pluginId:"PASS",load:o=>Promise.resolve(new class{constructor(){this.identifier="PASS",this.lifecycle={},this.titleBarUI={Component:()=>{if(t===s.SDKPreviewSurface.VERSION_HISTORY)return null;const o=e(),l=a.SizeClass.Medium;return r.default.createElement(n.AsyncSeenStatesProviderWrapper,{user:i||null,file:o.file,source:"fileViewer",sharedLinkInfo:o.sharedLinkInfo,sizeClass:l,isSeenStatesEnabled:!0,isViewMetadataDisabled:!1,soloAccessText:!0},r.default.createElement(n.AsyncSeenStateFacepileConsumer,{isCollapsed:!1}))}}}})})})),define("metaserver/static/js/modules/clean/react/previews/sharing_plugin/copy_file_link_button",["require","exports","tslib","react","metaserver/static/js/modules/clean/analytics","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/clean/sharing/views/share_modal_evolution/utils/logging","spectrum-sharing/utils/sharing_constants","spectrum-sharing/utils/logging","metaserver/static/js/modules/clean/react/previews/sharing_plugin/copy_link_button"],(function(e,t,i,r,n,a,s,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyFileLinkButton=void 0,r=i.__importDefault(r);const d=(e,t,i,r)=>{const l=o.SHARE_ACTION_ORIGIN_TYPE.SHARING_PREVIEW_PAGE,c=a.get_browser_info(),d=Object.assign(Object.assign({},i&&s.buildExtraFromLinkMetadata(i)),{file_id:t}),u=Object.assign(Object.assign({},d),{browser:c.browser,browser_version:c.version,created_new_link:!1});r?n.ShareTibEventLogger.log(r,e,l,u):n.ShareTibEventLogger.log_unauth(e,l,u)};t.CopyFileLinkButton=e=>{var{file_id:t,link_metadata:n}=e,a=i.__rest(e,["file_id","link_metadata"]);return r.default.createElement(c.CopyLinkButton,Object.assign({},a,{logSuccess:()=>{var e;return d(l.TiburonEventName.CopySharedLink,t,n,null===(e=null==a?void 0:a.user)||void 0===e?void 0:e.id)},logFailure:()=>{var e;return d(l.TiburonEventName.CopySharedLinkFailure,t,n,null===(e=null==a?void 0:a.user)||void 0===e?void 0:e.id)}}))},t.CopyFileLinkButton.displayName="CopyFileLinkButton"})),define("typescript/libraries/file-viewer/src/about/plugin/index",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ABOUT_PLUGIN_ID=void 0,t.ABOUT_PLUGIN_ID="documentation"})),define("typescript/libraries/file-viewer/src/app",["require","exports","tslib","react","classnames","react-redux","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/css/app.module.css","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/renderer","typescript/libraries/file-viewer/src/titlebar/index","typescript/libraries/file-viewer/src/keyboard/index","react-intl","typescript/libraries/file-viewer/src/plugins/types","typescript/libraries/file-viewer/src/plugins/selectors/index","dig-components/layer","dig-components/progress_indicators","typescript/libraries/file-viewer/src/plugins/props","typescript/libraries/file-viewer/src/plugins/data","typescript/libraries/file-viewer/src/preview_error/index","typescript/libraries/file-viewer/src/title_bar_v2/index","typescript/libraries/file-viewer/src/preview_archive/breadcrumbs","typescript/libraries/file-viewer/src/sidebar_v2/index","typescript/libraries/file-viewer/src/utils","typescript/libraries/file-viewer/src/mobile_web/footer","typescript/libraries/file-viewer/src/mobile_web/meatball_menu","typescript/libraries/file-viewer/src/toolbar/toolbar_v2","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","typescript/libraries/file-viewer/src/sidebar_v2/edit_plugin_sidebar","typescript/libraries/file-viewer/src/preview_error/error_boundary","typescript/libraries/file-viewer/src/plugins/edit_fullscreen_plugin_action","typescript/libraries/file-viewer/src/css/preview-core.module.css","typescript/libraries/file-viewer/src/core/data/modes/types","typescript/libraries/file-viewer/src/core/logging/actions","typescript/libraries/file-viewer/src/core/utils/index","typescript/libraries/file-viewer/src/skeleton/preview_skeleton_viewport","typescript/libraries/file-viewer/src/plugins/selectors/active_plugin","typescript/libraries/file-viewer/src/modes/constants"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A,w,y,S,P,F,R,I,E,C,O,k,M,x,D,T,L,j,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppWithProvider=t.App=void 0,r=i.__importStar(r),n=i.__importDefault(n),l=i.__importStar(l),M=i.__importStar(M);const V=r.memo(e=>{const{id:t,previewKey:i,isFileFlippingEnabled:n,isPreviewZoomed:a,enableFullscreen:o,dispatch:l}=e,c=o?p.getKeyboardBinding({callback:()=>l(s.enterFullScreen({previewKey:i,fileViewerId:t,sourceContext:g.UserActionContext.Keyboard})),keyCode:p.Key.F}):[];if(!n)return r.createElement(p.KeyboardBindingConnector,{keyboardBindings:c});const d=p.getFileFlippingBindings({dispatch:l,previewKey:i,fileViewerId:t,requireCommandKey:a});return r.createElement(p.KeyboardBindingConnector,{keyboardBindings:[...d,...c]})});V.displayName="AppKeyboardBindings",t.App=e=>{var t,i;const{activePluginInstance:a,config:o,coreFileViewerUiData:p,dispatch:_,fileInfo:v,fileMetadata:f,filePreviewUiData:b,id:h,intl:k,previewMetadata:j,rivieraData:N,currentMode:B,loggingSession:{file_preview_session_id:K},loggingSession:G,pluginQueryBus:z,shouldShowSidebar:W,shouldShowTitlebar:H,isPluginEditMode:q,viewport:Y,pluginProps:J,rightRailPluginInstances:Q,pluginNavigation:Z,sharedLinkInfo:X,archiveFiles:$,fullFilePreviewUi:ee,fullRivieraData:te,isFullScreen:ie,account:re,isPreviewZoomed:ne,pluginInstances:ae,onMount:se,onDestroy:oe,callbacks:le,rootInfo:ce,enabledEditPluginFullscreenActionDefinitions:de,isPreviewLoading:ue,children:pe}=e,[_e,ge]=r.useState(!1),ve=r.useCallback(()=>_(s.setPreviewLoadingAction({isPreviewLoading:!1})),[_]),fe=r.useCallback(()=>{_(D.logSessionEvent({event:c.SessionEventType.FilePreviewRenderSucceeded,fileViewerId:h,previewSessionId:K})),ve(),(null==le?void 0:le.onRenderSucceeded)&&le.onRenderSucceeded()},[le,h,K,_,ve]),me=r.useCallback(()=>{_(D.logSessionEvent({event:c.SessionEventType.FilePreviewRenderFailed,fileViewerId:h,previewSessionId:K})),ve()},[ve,h,K,_]),be=r.useCallback(()=>{_(D.logTTI(h))},[h]),he=r.useCallback(e=>{var t;(null===(t=e.detail)||void 0===t?void 0:t.value)&&_(D.logDuration({eventName:"TTI",duration:e.detail.value,fileViewerId:h}))},[h,_]),Ae=r.useCallback(()=>{_(D.logTTV(h))},[h]),we=r.useCallback(e=>{var t;(null===(t=e.detail)||void 0===t?void 0:t.value)&&_(D.logDuration({eventName:"visually_complete",duration:e.detail.value,fileViewerId:h}))},[h,_]),ye=r.useCallback(()=>{_(D.logSessionEvent({event:c.SessionEventType.FilePreviewGetApp,fileViewerId:h,previewSessionId:G.file_preview_session_id}))},[h,G]);r.useEffect(()=>{se&&se(),window.addEventListener("TTI",he),window.addEventListener("visually_complete",we);const e=document.getSelection();return e&&e.removeAllRanges(),()=>{oe&&oe(),window.removeEventListener("TTI",he),window.removeEventListener("visually_complete",we)}},[]);const{previewKey:Se,bootstrap:Pe}=v,Fe=null!==(t=null==f?void 0:f.file_name)&&void 0!==t?t:"",Re=null!==(i=null==f?void 0:f.file_path)&&void 0!==i?i:"",Ie=o.transparent_background,Ee=o.mobile_web_fvsdk_variant,Ce=o.preview_content_only,Oe=P.extractToolbarComponentsFromPlugins(ae),ke=P.extractSnackbarManagerFromPlugins(ae),Me=a&&g.isEditPluginOverlayInstance(a);if(a&&g.isEditPluginFullscreenInstance(a)){if(J){const e=a.fullscreenLayer;return r.createElement("div",{className:l.editPluginFullscreenContainer},r.createElement(e,Object.assign({},J)))}return null}const xe=Object.values(ae).filter(g.isOpenInAppPlugin);if(xe.length>1)throw new Error("More than one Open-in-app plugin is not allowed");const De=xe?xe[0]:void 0;if(De&&!_e){const e=De.getInterstitial();if(e)return r.createElement(e,{onHide:()=>ge(!0),onClickAppDownload:ye})}return r.createElement(r.Fragment,null,pe,r.createElement(d.FileViewer,{className:n.default(l.containerV2,{[l.transparentBackground]:Ie}),intl:k,viewport:Y},({width:t,height:i})=>{var s;const c=P.calcResponsiveSize(t),D=(function(e,t,i=!0,r=!1){return!i||r?e:e<=U.RIGHT_RAIL_RESPONSIVE_BREAKPOINT?e:e-(t===x.SidebarVisibility.Open?U.SIDEBAR_OPEN_WIDTH_RIGHT_RAIL:U.SIDEBAR_CLOSED_WIDTH_RIGHT_RAIL)})(t,Me?x.SidebarVisibility.Open:B.sidebar.visibility,W&&!Ce,null!==Ee),K=(function(e,t){return e-(t?w.TITLE_BAR_V2_HEIGHT:0)})(i,H&&!Ce),Y=t-w.TITLE_BAR_BACK_AND_HELP_ICONS+32,se=(null===(s=null==j?void 0:j.content)||void 0===s?void 0:s[".tag"])===g.PreviewType.Archive?{canExtract:!0,rootInfo:ce,filePreviewUiData:b}:{canExtract:!1};let oe;oe=b.currentPath&&b.currentPath.length>0?r.createElement(y.ArchiveFileBreadcrumbs,{archiveName:Fe,currentPath:b.currentPath,fileViewerId:h,previewKey:Se,dispatch:_,isMobile:c===E.ResponsiveSize.MOBILE}):r.createElement(u.TruncatedTitle,{width:Y,fileName:Fe,filePath:Re});const le=H&&!Ce&&r.createElement(w.TitleBarV2,{previewKey:Se,dispatch:_,title:oe,mobileWebVariant:Ee,baseUrl:o.titlebar_logo_config.base_url,canCloseViewer:Z.canCloseViewer,intl:k,fileViewerId:h,config:null==f?void 0:f.fileConfig,actions:P.extractActionsFromPlugins(ae,de),responsiveSize:c,width:t,components:P.extractTitlebarComponentsFromPlugins(ae)}),pe=T.resolvePreviewType(j),_e=Ce&&(pe===g.PreviewType.Audio||pe===g.PreviewType.Video),ge=r.createElement("div",{className:n.default(l.loadingSpinnerWrapper,{[M.isFullScreen]:ie})},r.createElement(m.Spinner,{"aria-valuetext":k.formatMessage({id:"zqXonC",defaultMessage:"Your preview is loading"}),"aria-label":"preview-loading-spinner",inverse:ie||q}),o.preview_page_revamp&&!o.force_no_toolbar&&!_e&&r.createElement(I.ConfigurableToolbarV2,{featureConfig:o,previewKey:Se,previewType:g.PreviewType.Loading,intl:k,filePreviewUi:b,fileMetadata:f,fileViewerUi:p,fileViewerId:h,plugins:Oe,snackbarManagerPluginInstance:ke,previewWidth:D,responsiveSize:c})),he=null!=f&&!!f.file_collection_context&&!Me,we=he&&f.file_collection_context.parent_files_count>1,ye="IMAGES"===o.new_quips_type&&!q&&!we&&L.isEligibleToShowSkeletonPreview(j),Ie=ye&&r.createElement(L.SkeletonViewport,{width:D,height:K,preview:j}),xe=(()=>{const e={fileViewerId:h,width:D,height:K,onRenderSucceeded:fe,onRenderFailed:me,intl:k,dispatch:_,onInteractive:be,onViewable:Ae,config:o,currentMode:B,filePreviewUiData:b,fileMetadata:f,fileInfo:v,previewMetadata:j,data:void 0,coreFileViewerUiData:p,activePluginInstance:a,pluginProps:J,pluginQueryBus:z,extractConfig:se,sharedLinkInfo:X,previewKey:Se,archiveFiles:$,fullFilePreviewUi:ee,fullRivieraData:te,loggingSession:G,account:re,fileConfig:null==f?void 0:f.fileConfig,toolbarPlugins:Oe,snackbarManagerPluginInstance:ke,responsiveSize:c,openInAppPluginInstance:De,onSetPreviewLoaded:ve};switch(Pe.state){case"initializing":return null;case"ready":return r.createElement(d.PreviewRenderer,Object.assign({rivieraData:N},e));case"errored":return r.createElement(A.PreviewBootstrapError,Object.assign({error:Pe.error},e))}})(),Te=r.createElement(r.Fragment,null,r.createElement("div",{className:n.default(l.contentWrapper,{[l.editMode]:q,[l.contentContainerLoading]:!ue}),style:{width:D}},ue?ye?Ie:ge:null),r.createElement("div",{className:n.default(l.contentWrapper,{[l.editMode]:q,[l.contentContainerLoading]:ue}),style:{width:D}},r.createElement(O.ErrorBoundary,Object.assign({},e,{activePluginInstance:a,previewKey:v.previewKey,key:Se.serialized,fileViewerId:h,rivieraData:void 0,data:void 0,onRenderSucceeded:fe,fileConfig:null==f?void 0:f.fileConfig,onRenderFailed:me,width:D,height:K,onInteractive:be,onSetPreviewLoaded:ve}),xe)));let Le;Ce||ie||Ee||Ee||(Le=a&&g.isEditPluginOverlayInstance(a)?r.createElement(C.EditPluginSidebar,{fileViewerId:h,pluginNavigation:Z,pluginQueryBus:z,plugin:a}):r.createElement(S.PreviewRightRail,{previewKey:Se,fileName:Fe,fileViewerId:h,intl:k,pluginInstances:Q,pluginNavigation:Z,pluginQueryBus:z,height:K}));const je=r.createElement(V,{id:h,previewKey:Se,enableFullscreen:o.enable_fullscreen,isFileFlippingEnabled:he,isPreviewZoomed:ne,dispatch:_});return r.createElement(r.Fragment,null,le,r.createElement("div",{className:l.contentContainer},Te,Le,je),Ee&&r.createElement(F.Footer,{showAuthModal:Z.showAuthModal,mobilePluginActions:ae.mobile_plugin,variant:Ee}),Ee&&r.createElement(R.MeatballMenu,{previewKey:Se,mobilePluginActions:ae.mobile_plugin,fileViewerId:h,fileMetadata:f,sharedLinkInfo:X,showAuthModal:Z.showAuthModal}))}))},t.App.displayName="App";const N=a.connect((function(e,t){const{config:i,id:r,pluginNavigation:n,pluginQueryBus:a,rightRailPluginInstances:s}=t,l=o.getCurrentFile(e,r),c=l.previewKey,d=e.previewData[c.serialized],u=v.getActivePluginId(e,r);let p;if(null==u)p=null;else{const e=t.pluginInstances[u];p=e&&(g.parseEditOverlayPlugin(e)||g.parseFullscreenEditPlugin(e)||g.parseRightRailPlugin(e))}const _=b.makePluginProps(e,r,h.getPluginData(e,{fileViewerId:r,navigation:n}),a),f=v.getRuntimeDisabledPlugins(e,r),m=o.getIsFullScreen(e,r),A=!m&&Object.keys(s).length>0,w=!m&&i.show_titlebar&&!g.isEditPluginOverlayInstance(p),y=k.getEditPluginFullscreenActionDefinitions(t.pluginInstances,f,c,r);return{account:o.getLoadableCurrentUser(e),activePluginInstance:p,coreFileViewerUiData:e.fileViewerUi[r]||{},currentMode:e.modes[r],fileInfo:l,fileMetadata:e.fileMetadata[c.serialized],filePreviewUiData:(e.filePreviewUi[r]||{})[c.serialized]||{},isPreviewZoomed:o.isPreviewZoomed(e,r),loggingSession:e.loggingSession[r],pluginProps:_,previewMetadata:d,rivieraData:e.rivieraData[c.serialized],sharedLinkInfo:e.sharedLinkInfo[c.serialized],shouldShowSidebar:A,shouldShowTitlebar:w,isPluginEditMode:j.isPluginEditMode(e,r),unstable_runtimeDisabledPluginsUsedOnlyToTriggerUpdate:f,rootInfo:e.rootInfo,archiveFiles:e.archiveFiles,fullFilePreviewUi:e.filePreviewUi[r]||{},fullRivieraData:e.rivieraData||{},isFullScreen:m,enabledEditPluginFullscreenActionDefinitions:y,isPreviewLoading:e.isPreviewLoading}}),(function(e){return{dispatch:e}}))(t.App);class B extends r.PureComponent{render(){const e=this.props,{store:t,intl:n,osModifierKey:s}=e,o=i.__rest(e,["store","intl","osModifierKey"]),{config:l}=o;return r.createElement(a.Provider,{store:t},r.createElement(_.RawIntlProvider,{value:n},r.createElement(p.KeyboardBindingProvider,{disableBindings:!l.keyboard_shortcuts||l.preview_content_only,osModifierKey:s},r.createElement(f.LayerContext.Provider,{value:501},r.createElement(N,Object.assign({intl:n},o))))))}}t.AppWithProvider=B,B.displayName="AppWithProvider"})),define("typescript/libraries/file-viewer/src/comments2/plugin/loader/lazy",["require","exports","tslib","typescript/libraries/file-viewer/src/comments2/plugin/types"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeLoader=void 0,t.makeLoader=function(t,n={}){const a=(()=>{let r=null;return()=>i.__awaiter(this,void 0,void 0,(function*(){if(null==r){const{makeLoader:a}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/comments2/plugin/loader/eager"],t,i)}).then(i.__importStar);r=a(t,n)}return r}))})();return{pluginId:r.COMMENTS_PLUGIN_ID,load:(e,t)=>i.__awaiter(this,void 0,void 0,(function*(){return(yield a()).load(e,t)}))}}})),define("typescript/libraries/file-viewer/src/comments2/plugin/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMENTS_PLUGIN_ID=void 0,t.COMMENTS_PLUGIN_ID="comments"})),define("typescript/libraries/file-viewer/src/core/data/store_utils",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeStore=void 0,t.observeStore=function(e,t,i,r){let n=r;const a=()=>{const r=t(e.getState());r!==n&&(i(n,r),n=r)},s=e.subscribe(a);return a(),s}})),define("typescript/libraries/file-viewer/src/core/middlewares/cloud_docs",["require","exports","typescript/libraries/file-viewer/src/core/data/actions"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0,t.middleware=function(e){return()=>t=>r=>(r.type===i.Action.TriggerDynamicRoutingModalCheck&&e.triggerDynamicRoutingModalCheck(),t(r))}})),define("typescript/libraries/file-viewer/src/core/middlewares/file_system",["require","exports","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/logging/actions","typescript/libraries/file-viewer/src/core/logging/constants"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0,t.middleware=function(e){return({dispatch:t})=>a=>s=>(s.type===i.Action.DownloadFile?e.downloadFile():s.type===i.Action.CopyToDropbox&&e.copyToDropbox({role:s.payload.role,logModalConfirm:()=>{t(r.logUserActionEvent({userAction:n.UserAction.SaveToDropboxApprove,fileViewerId:s.payload.fileViewerId,actionContext:n.UserActionContext.Sidebar}))},logModalCancel:()=>{t(r.logUserActionEvent({userAction:n.UserAction.SaveToDropboxCancel,fileViewerId:s.payload.fileViewerId,actionContext:n.UserActionContext.Sidebar}))}}),a(s))}})),define("typescript/libraries/file-viewer/src/core/middlewares/full_screen",["require","exports","tslib","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/logging/constants"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0,t.middleware=function(e){return({dispatch:t})=>a=>s=>i.__awaiter(this,void 0,void 0,(function*(){const i=a(s);if(s.type===r.Action.EnterFullScreen){const{fileViewerId:i,previewKey:a}=s.payload,o=()=>{t(r.exitFullScreen(Object.assign(Object.assign({},s.payload),{isFromOutsideSDK:!0})))};e.enterFullScreen(o),t(r.zoomToggleOriginalOrFit({fileViewerId:i,previewKey:a,sourceContext:n.UserActionContext.Toolbar,fitOnly:!0}))}else s.type===r.Action.ExitFullScreen&&(s.payload.isFromOutsideSDK||e.exitFullScreen());return i}))}})),define("typescript/libraries/file-viewer/src/core/middlewares/plugins",["require","exports","typescript/libraries/file-viewer/src/plugins/shims","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/modes/types"],(function(e,t,i,r,n,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluginsMiddleware=void 0,t.pluginsMiddleware=e=>({dispatch:t,getState:o})=>l=>c=>{const d=e();if(0===d.size)return l(c);switch(c.type){case a.Action.ChangeMode:{const{fileViewerId:e,mode:r}=c.payload,u=o(),p=n.getCurrentPreviewKey(u,e),_=i.getPluginFromMode(r),{sourceContext:g}=c.payload;return null!=_&&d.has(_)?(t(a.setActiveRightRailPlugin({pluginId:_,fileViewerId:e,previewKey:p,sourceContext:g})),l(Object.assign(Object.assign({},c),{payload:Object.assign(Object.assign({},c.payload),{mode:s.FileViewerMode.Plugins})}))):(t(a.setActiveRightRailPlugin({pluginId:void 0,fileViewerId:e,previewKey:p,sourceContext:g})),l(c))}case a.Action.SetInitialFocus:{const{fileViewerId:e,mode:u}=c.payload,p=o(),_=n.getCurrentPreviewKey(p,e),g=i.getPluginFromMode(u);return null!=g&&d.has(g)?(t(a.setActiveRightRailPlugin({pluginId:g,fileViewerId:e,previewKey:_,sourceContext:r.UserActionContext.Sidebar})),l(a.setInitialFocus({previewKey:_,fileViewerId:e,mode:s.FileViewerMode.Plugins}))):l(c)}default:return l(c)}}})),define("typescript/libraries/file-viewer/src/core/middlewares/preferences",["require","exports","tslib","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/logging/constants"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesMiddleware=void 0,t.preferencesMiddleware=function(e){return({dispatch:t})=>a=>s=>i.__awaiter(this,void 0,void 0,(function*(){var i,o,l,c,d,u,p;switch(s.type){case r.Action.OpenSidebar:null===(i=null==e?void 0:e.rightRail)||void 0===i||i.setCollapsedState({isCollapsed:!1});break;case r.Action.CloseSidebar:null===(o=null==e?void 0:e.rightRail)||void 0===o||o.setCollapsedState({isCollapsed:!0});break;case r.Action.SetActiveRightRailPlugin:s.payload.pluginId&&s.payload.sourceContext===n.UserActionContext.Sidebar&&(null===(l=null==e?void 0:e.rightRail)||void 0===l||l.setBladeState({bladeId:s.payload.pluginId}));break;case r.Action.InitializeSidebar:if((null==e?void 0:e.rightRail)&&!s.payload.forceOpen){const i=e.rightRail.getCollapsedState(),n=e.rightRail.getBladeState(),a=i?r.closeSidebar:r.openSidebar;t(a(s.payload)),!i&&s.payload.useBladePreference&&t(r.setActiveRightRailPlugin(Object.assign(Object.assign({},s.payload),{pluginId:n})))}else t(r.openSidebar(s.payload));break;case r.Action.OpenDocSidebar:null===(c=null==e?void 0:e.docSidebar)||void 0===c||c.setCollapsedState({isCollapsed:!1});break;case r.Action.CloseDocSidebar:null===(d=null==e?void 0:e.docSidebar)||void 0===d||d.setCollapsedState({isCollapsed:!0});break;case r.Action.InitializeDocSidebar:if(null==e?void 0:e.docSidebar){const i=e.docSidebar.getCollapsedState()?r.closeDocSidebar:r.openDocSidebar;t(i(s.payload))}else t(r.closeDocSidebar(s.payload));break;case r.Action.InitializeVolumeAndMuted:(null==e?void 0:e.video)&&(t(r.setVolume(Object.assign(Object.assign({},s.payload),{volume:e.video.getVolumeState()}))),t(r.setMuted(Object.assign(Object.assign({},s.payload),{muted:e.video.getMutedState()}))));break;case r.Action.SetVolume:null===(u=null==e?void 0:e.video)||void 0===u||u.setVolumeState(s.payload.volume);break;case r.Action.SetMuted:null===(p=null==e?void 0:e.video)||void 0===p||p.setMuteState(s.payload.muted)}return a(s)}))}})),define("typescript/libraries/file-viewer/src/core/middlewares/print",["require","exports","tslib","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/selectors"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0,t.middleware=function(e){return({getState:t})=>a=>s=>i.__awaiter(this,void 0,void 0,(function*(){const i=a(s);if(s.type===r.Action.Print){const{fileViewerId:i,previewType:r}=s.payload,a=n.getPrintUrl(t(),i);e.print(a,r)}return i}))}})),define("typescript/libraries/file-viewer/src/core/middlewares/report_exception",["require","exports","tslib","typescript/libraries/file-viewer/src/core/data/actions"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportExceptionMiddleware=void 0,t.reportExceptionMiddleware=function(e){return()=>t=>n=>i.__awaiter(this,void 0,void 0,(function*(){return n.type===r.Action.ReportException&&e.reportException(n.payload.error,n.payload.fileType,n.payload.isCritical),t(n)}))}})),define("typescript/libraries/file-viewer/src/core/middlewares/url",["require","exports","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/preview_archive/constants","typescript/libraries/file-viewer/src/preview_archive/utils"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0,t.middleware=function(e){return({dispatch:t})=>a=>s=>{if(s.type===i.Action.UpdateArchiveFileCurrentPath)s.payload.fromUrlChanged||e.setQueryStringParameter(r.ArchiveSubpathQueryStringKey,n.archiveCurrentPathToQueryStringValue(s.payload.currentPath));else{if(s.type===i.Action.SetupArchiveFileCurrentPath){const o=(function(e,t,a){return(s,o)=>{s===r.ArchiveSubpathQueryStringKey&&a(i.updateArchiveFileCurrentPath({currentPath:n.queryStringValueToArchiveCurrentPath(o),fileViewerId:e,previewKey:t,fromUrlChanged:!0}))}})(s.payload.fileViewerId,s.payload.previewKey,t);e.onQueryStringParameterChange(r.ArchiveSubpathQueryStringKey,o);const l=e.getQueryStringParameter(r.ArchiveSubpathQueryStringKey);return a(i.updateArchiveFileCurrentPath({currentPath:n.queryStringValueToArchiveCurrentPath(l),fileViewerId:s.payload.fileViewerId,previewKey:s.payload.previewKey}))}s.type===i.Action.OpenFileURL?e.openFile(s.payload.fqPath):s.type===i.Action.CloseViewer?e.setQueryStringParameter(r.ArchiveSubpathQueryStringKey,null):s.type===i.Action.Redirect&&e.redirect(s.payload.href,s.payload.newTab)}return a(s)}}})),define("typescript/libraries/file-viewer/src/file_activity_blade/loader",["require","exports","tslib","typescript/libraries/file-viewer/src/file_activity_blade/types"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileActivityPluginLoader=void 0,t.makeFileActivityPluginLoader=function(t,n){return{pluginId:r.FILE_ACTIVITY_PLUGIN_ID,load:(r,a)=>i.__awaiter(this,void 0,void 0,(function*(){const{makeStore:s}=yield new Promise((t,i)=>{e(["typescript/component_libraries/files_components/src/blades/file_activity/index"],t,i)}).then(i.__importStar),{FileActivityPluginBase:o}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/file_activity_blade/file_activity_blade_plugin"],t,i)}).then(i.__importStar),l=s({apiV2Client:r.apiv2ClientBase});return new o(r,l,t,a,n)}))}}})),define("typescript/libraries/file-viewer/src/file_activity_blade/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FILE_ACTIVITY_PLUGIN_ID=void 0,t.FILE_ACTIVITY_PLUGIN_ID="file_activity"})),define("typescript/libraries/file-viewer/src/file_viewer/index",["require","exports","typescript/libraries/file-viewer/src/file_viewer/file_viewer","typescript/libraries/file-viewer/src/file_viewer/bootstrap"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileViewerSDK=t.createFileViewerFactory=t.GetPlatformProps=t.RenderOpts=t.InitializeOpts=t.FileViewer=void 0,Object.defineProperty(t,"FileViewer",{enumerable:!0,get:function(){return i.SDKFileViewer}}),Object.defineProperty(t,"InitializeOpts",{enumerable:!0,get:function(){return i.InitializeOpts}}),Object.defineProperty(t,"RenderOpts",{enumerable:!0,get:function(){return i.RenderOpts}}),Object.defineProperty(t,"GetPlatformProps",{enumerable:!0,get:function(){return i.GetPlatformProps}}),Object.defineProperty(t,"createFileViewerFactory",{enumerable:!0,get:function(){return r.createFileViewerFactory}}),Object.defineProperty(t,"FileViewerSDK",{enumerable:!0,get:function(){return r.FileViewerSDK}})})),define("typescript/libraries/file-viewer/src/info_blade/info_blade_plugin",["require","exports","tslib","react","typescript/component_libraries/files_components/src/blades/info_blade/index","typescript/component_libraries/files_components/src/blades/info_blade/metadata/metadata_row","react-redux","typescript/component_libraries/pro-ui/src/components/branding/branding_block/optional_branding_block","typescript/libraries/file-viewer/src/utils","typescript/component_libraries/flows/src/components/approval-forms/approval_metadata","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/comments2/plugin/types","typescript/libraries/file-viewer/src/info_blade/types","react-intl","dig-components/typography"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InfoBladePluginBase=void 0,r=i.__importStar(r);t.InfoBladePluginBase=class{constructor(e,t,i,v,f,m,b){this.layerUI={},this.rightRailUI={Sidebar:e=>{var t,i;const v=e.file,f=_.useIntl(),m=r.useMemo(()=>{const{fqPath:e,name:t,lastModifiedDate:i,size:r}=v;return{fqPath:e,size:r,name:t,lastModifiedMs:i?new Date(i).getTime():void 0}},[v]),b=r.useMemo(()=>({enabled:!0,openPath:e.navigation.navigateToPath}),[e.navigation.navigateToPath]),h=r.useMemo(()=>{if("loaded"===e.account.state&&e.account.data)return l.getRootName(e.account.data)},[e.account]),A=r.useCallback(e=>{this.context.logUserAction({action:e?"click_show_all_metadata":"click_hide_all_metadata",context:"right_sidebar"})},[]),w=r.useCallback(()=>{this.context.logUserAction({action:"right_rail_approval_status_click",context:"right_sidebar",file_id:v.fileId})},[v]);return r.default.createElement(s.Provider,{store:this.store},r.default.createElement(n.InfoBlade,{intl:this.platform.intl,id:p.INFO_BLADE_PLUGIN_ID},r.default.createElement(o.OptionalBrandingBlock,{sharedLinkInfo:e.sharedLinkInfo,brandingInfo:this.brandingInfo}),this.tagSection&&r.default.createElement(this.tagSection,null),r.default.createElement(g.Text,{variant:"paragraph",size:"small",isBold:!0},f.formatMessage({id:"bNnicH",defaultMessage:"Properties"})),r.default.createElement(n.BasicFileMetadata,{file:m,pathBar:b,accountRootName:h}),r.default.createElement(n.SharedLinkMetadata,Object.assign({},e.sharedLinkInfo)),r.default.createElement(n.UploadMetadata,{fileId:v.fileId,sharedLinkURL:null===(t=e.sharedLinkInfo)||void 0===t?void 0:t.url}),this.getApprovalStatus&&r.default.createElement(c.ApprovalMetadata,{fileId:v.fileId,getApprovalStatus:this.getApprovalStatus,onClick:()=>{w(),this.context.getPluginData().navigation.openRightRailPlugin(d.UserActionContext.ApprovalStatus,u.COMMENTS_PLUGIN_ID)},InfoBladeRowComponent:a.InfoBladeMetadataRow}),this.userId&&r.default.createElement(n.FileContentMetadata,{fileId:v.fileId,userId:this.userId,sharedLinkURL:null===(i=e.sharedLinkInfo)||void 0===i?void 0:i.url,onShowMore:A})))},Control:()=>r.default.createElement(n.InfoBladeCollapsedBladeButton,{intl:this.platform.intl,id:p.INFO_BLADE_PLUGIN_ID})},this.lifecycle={},this.platform=e,this.store=t,this.userId=v,this.brandingInfo=f,this.context=i,this.getApprovalStatus=m,this.tagSection=b}}})),define("typescript/libraries/file-viewer/src/info_blade/loader",["require","exports","tslib","typescript/component_libraries/files_components/src/blades/info_blade/index","typescript/libraries/file-viewer/src/info_blade/info_blade_plugin","typescript/libraries/file-viewer/src/info_blade/types"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeInfoBladePluginLoader=void 0,t.makeInfoBladePluginLoader=function(e,t,s,o){return{pluginId:a.INFO_BLADE_PLUGIN_ID,load:(a,l)=>i.__awaiter(this,void 0,void 0,(function*(){const i=r.makeStore({apiV2ClientBase:a.apiv2ClientBase});return new n.InfoBladePluginBase(a,i,l,e,t,s,o)}))}}})),define("typescript/libraries/file-viewer/src/info_blade/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INFO_BLADE_PLUGIN_ID=void 0,t.INFO_BLADE_PLUGIN_ID="info_blade"})),define("typescript/libraries/file-viewer/src/mobile_web/footer",["require","exports","tslib","react","dig-components/buttons","dig-components/icons","typescript/libraries/file-viewer/src/css/mobile_web.module.css","typescript/libraries/file-viewer/src/core/config","dig-components/icons/src","react-intl","typescript/libraries/file-viewer/src/plugins/index","typescript/libraries/file-viewer/src/plugins/types"],(function(e,t,i,r,n,a,s,o,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0,r=i.__importDefault(r),s=i.__importStar(s),t.Footer=({variant:e,showAuthModal:t,mobilePluginActions:i})=>{var p,_,g,v,f,m,b,h;const A=c.useIntl(),w=null===(p=u.parseActionBarPlugin(i))||void 0===p?void 0:p.actionDefinitions,y=w&&(null===(_=w.mobileWeb)||void 0===_?void 0:_.footerActions);function S(){null==t||t({mode:o.AuthMode.REGISTER,kind:o.LoginOrRegisterKind.IMMEDIATE,loggingExtra:{context:"mobile_footer"}})}return r.default.createElement(r.default.Fragment,null,y&&r.default.createElement("div",{className:s.footerContainer},"SIGNUP"===e||"COPYLINK"===e||"SHARE"===e?r.default.createElement(n.IconButton,{size:"large",disabled:null===(g=y[d.MobileWebPluginAction.DownloadSharedFile])||void 0===g?void 0:g.disabled,onClick:null===(v=y[d.MobileWebPluginAction.DownloadSharedFile])||void 0===v?void 0:v.action,variant:"opacity"},r.default.createElement(a.UIIcon,{src:l.DownloadLine})):r.default.createElement(n.IconButton,{size:"large",onClick:null===(f=y[d.MobileWebPluginAction.CopyLink])||void 0===f?void 0:f.action,variant:"opacity"},r.default.createElement(a.UIIcon,{src:l.LinkLine})),r.default.createElement("div",{className:s.rightButtonsContainer},r.default.createElement("div",{className:s.abTestButton},r.default.createElement(()=>{var t,i,s,o;return y?"SIGNUP"===e?r.default.createElement(n.Button,{size:"large",onClick:S,variant:"opacity"},A.formatMessage({id:"Gi4Nez",defaultMessage:"Sign Up"})):"DOWNLOAD"===e?r.default.createElement(n.IconButton,{size:"large",disabled:null===(t=y[d.MobileWebPluginAction.DownloadSharedFile])||void 0===t?void 0:t.disabled,onClick:null===(i=y[d.MobileWebPluginAction.DownloadSharedFile])||void 0===i?void 0:i.action,variant:"opacity"},r.default.createElement(a.UIIcon,{src:l.DownloadLine})):"COPYLINK"===e?r.default.createElement(n.IconButton,{size:"large",onClick:null===(s=y[d.MobileWebPluginAction.Share])||void 0===s?void 0:s.action,variant:"opacity"},r.default.createElement(a.UIIcon,{src:l.ShareArrowLine})):"SHARE"===e?r.default.createElement(n.IconButton,{size:"large",onClick:null===(o=y[d.MobileWebPluginAction.CopyLink])||void 0===o?void 0:o.action,variant:"opacity"},r.default.createElement(a.UIIcon,{src:l.LinkLine})):null:null},null)),("SIGNUP"===e||"DOWNLOAD"===e)&&r.default.createElement(n.Button,{size:"large",onClick:null===(m=y[d.MobileWebPluginAction.CopyToDropbox])||void 0===m?void 0:m.action,variant:"primary",withIconLeft:r.default.createElement(a.UIIcon,{src:l.DropboxLine})},A.formatMessage({id:"OQEZDM",defaultMessage:"Save a copy"})),"SHARE"===e&&r.default.createElement(n.Button,{size:"large",onClick:null===(b=y[d.MobileWebPluginAction.Share])||void 0===b?void 0:b.action,variant:"primary"},A.formatMessage({id:"FsyKvP",defaultMessage:"Share"})),"COPYLINK"===e&&r.default.createElement(n.Button,{size:"large",onClick:null===(h=y[d.MobileWebPluginAction.CopyLink])||void 0===h?void 0:h.action,variant:"primary"},A.formatMessage({id:"r0apaG",defaultMessage:"Copy Link"})))))},t.Footer.displayName="Footer"})),define("typescript/libraries/file-viewer/src/mobile_web/meatball_menu",["require","exports","tslib","dig-components/icons/src","dig-components/icons","react","react-intl","typescript/libraries/file-viewer/src/css/mobile_web.module.css","react-redux","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/core/config","classnames","dig-components/buttons","typescript/libraries/file-viewer/src/core/data/actions","dig-components/typography","typescript/libraries/file-viewer/src/plugins/types","typescript/libraries/file-viewer/src/core/i18n","typescript/component_libraries/files_components/src/icons/file_icon","typescript/libraries/file-viewer/src/core/utils/index","dig-components/truncate"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeatballMenu=void 0,a=i.__importDefault(a),o=i.__importStar(o),u=i.__importDefault(u),t.MeatballMenu=({sharedLinkInfo:e,showAuthModal:t,fileViewerId:i,previewKey:A,mobilePluginActions:w,fileMetadata:y})=>{var S,P;const F=null===(S=v.parseActionBarPlugin(w))||void 0===S?void 0:S.actionDefinitions,R=F&&(null===(P=F.mobileWeb)||void 0===P?void 0:P.meatballMenuComponents),I=l.useSelector(e=>c.getIsMobileMeatballMenuOpen(e,i)),E=s.useIntl(),C=l.useDispatch(),O=(null==y?void 0:y.size)?f.formatBytes(y.size,E):0,k=l.useSelector(c.getCurrentUser),M=l.useSelector(c.getFetchingUser),x=(null==e?void 0:e.ownerName)||E.formatMessage({id:"BgdVC1",defaultMessage:"you"});function D(){C(_.toggleMobileMeatballMenu({isOpen:!1,previewKey:A,fileViewerId:i}))}return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{onClick:D,className:u.default({[o.meatballMenuOverlay]:I})}),a.default.createElement("div",{className:u.default(o.meatballMenuContainer,{[o.isVisible]:I})},a.default.createElement("div",null,a.default.createElement(p.IconButton,{onClick:D,className:o.meatballMenuDismiss,variant:"transparent"},a.default.createElement(n.UIIcon,{src:r.CloseLine})),a.default.createElement("div",{className:o.metadata},a.default.createElement("div",{className:o.fileIconContainer},a.default.createElement(m.FileIcon,{file:b.mapMetadataToFile(y)||{uniqueKey:"",title:"",isFolder:!1}})),a.default.createElement("div",{className:o.metadataText},a.default.createElement(g.Text,{className:o.fileName,variant:"label",size:"standard",tagName:"p",isBold:!0},a.default.createElement(h.Truncate,{maxWidth:188},null==y?void 0:y.file_name)),a.default.createElement(g.Text,{color:"faint"},E.formatMessage({id:"lFMuH3",defaultMessage:"{formatted_size}, file owner: {owner}"},{formatted_size:O,owner:x})))),a.default.createElement("div",{className:o.actions},null==R?void 0:R.map(e=>a.default.createElement("div",{key:null==e?void 0:e.type.displayName,className:u.default({[o.actionRow]:!(null==e?void 0:e.props.placeholder)})},e))),!k&&!M&&a.default.createElement("div",{className:o.signInButton},a.default.createElement(p.Button,{onClick:function(){null==t||t({mode:d.AuthMode.REGISTER,kind:d.LoginOrRegisterKind.IMMEDIATE,loggingExtra:{context:"mobile_meatball_menu"}})},variant:"opacity"},a.default.createElement(n.UIIcon,{src:r.PersonCircleLine}),a.default.createElement("span",null,E.formatMessage({id:"FFqlH9",defaultMessage:"Sign up"})))),a.default.createElement("div",{className:o.footer},a.default.createElement("span",{onClick:function(){var e;return null===(e=document.getElementById("consent-iframe").contentWindow)||void 0===e?void 0:e.postMessage({message_type:"OPEN_OPTIONS_DIALOG"},"https://consent.dropbox.com/")}},E.formatMessage({id:"FqzxYC",defaultMessage:"Cookie preferences"})),a.default.createElement(n.UIIcon,{className:o.meatballSeparator,size:"small",src:r.CircleSmallFilledFill}),a.default.createElement("a",{href:"https://dropbox.com/privacy"},E.formatMessage({id:"4gi6Mt",defaultMessage:"Privacy and legal"}))))))},t.MeatballMenu.displayName="MeatballMenu"})),define("typescript/libraries/file-viewer/src/pass/actions",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.getFilePresence=t.unsubscribePresence=t.subscribePresence=t.updateViewingUsersWithDelta=t.updateViewingUsers=t.Action=void 0,(function(e){e.UpdateViewingUsers="@@presence/updateViewingUsers",e.UpdateViewingUsersWithDelta="@@presence/updateViewingUsersWithDelta",e.SubscribePresence="@@presence/subscribe",e.UnsubscribePresence="@@presence/unsubscribe",e.GetFilePresence="@@presence/getFilePresence"})(i=t.Action||(t.Action={})),t.updateViewingUsers=function(e){return{type:i.UpdateViewingUsers,payload:e}},t.updateViewingUsersWithDelta=function(e){return{type:i.UpdateViewingUsersWithDelta,payload:e}},t.subscribePresence=function(e){return{type:i.SubscribePresence,payload:e}},t.unsubscribePresence=function(e){return{type:i.UnsubscribePresence,payload:e}},t.getFilePresence=function(e){return{type:i.GetFilePresence,payload:e}}})),define("typescript/libraries/file-viewer/src/pass/beacon_middleware",["require","exports","tslib","typescript/libraries/file-viewer/src/pass/types","typescript/libraries/file-viewer/src/pass/actions","typescript/libraries/api_v2/redux/users"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beaconMiddleware=void 0,t.beaconMiddleware=function(e){return({dispatch:t})=>{const s=(function(e){return(t,i=!0)=>{const s=t.events.filter(e=>e.info.status!==r.PresenceStatus.offline).map(e=>e.agent.userId);e(i?n.updateViewingUsers({[t.fileId]:t.events}):n.updateViewingUsersWithDelta({[t.fileId]:t.events})),s.length&&e(a.getAccountBatchAction({arg:{account_ids:s}}))}})(t);return e.onBeacon(s),t=>r=>i.__awaiter(this,void 0,void 0,(function*(){const i=t(r);if(r.type===n.Action.SubscribePresence)e.subscribe(r.payload.fileId,r.payload.previewSessionId);else if(r.type===n.Action.UnsubscribePresence)e.unsubscribe(r.payload);else if(r.type===n.Action.GetFilePresence)try{if(e.getPresence){const t=yield e.getPresence(r.payload);s(t)}}catch(e){}return i}))}}})),define("typescript/libraries/file-viewer/src/pass/container",["require","exports","tslib","react","typescript/libraries/file-viewer/src/css/pass.module.css","classnames","spectrum/facepile/facepile_members","typescript/libraries/file-viewer/src/pass/reducer"],(function(e,t,i,r,n,a,s,o){"use strict";function l(e){return e.split(/\s+/g).slice(0,2).map(e=>e[0]).join("").toLocaleUpperCase()}Object.defineProperty(t,"__esModule",{value:!0}),t.Facepiles=t.timeSince=void 0,r=i.__importStar(r),n=i.__importStar(n),a=i.__importDefault(a);function c(e,t){const i=Date.now()-("number"==typeof e?e:e.getTime());return i>31536e6?t.formatMessage({id:"8w63fP",defaultMessage:"Viewed {number, plural, one {# year ago} other {# years ago}}"},{number:i/31536e6|0}):i>2592e6?t.formatMessage({id:"p+J/9i",defaultMessage:"Viewed {number, plural, one {# month ago} other {# months ago}}"},{number:i/2592e6|0}):i>6048e5?t.formatMessage({id:"Sr+rcm",defaultMessage:"Viewed {number, plural, one {# week ago} other {# weeks ago}}"},{number:i/6048e5|0}):i>864e5?t.formatMessage({id:"zdIfoz",defaultMessage:"Viewed {number, plural, one {# day ago} other {# days ago}}"},{number:i/864e5|0}):i>36e5?t.formatMessage({id:"xs1WyB",defaultMessage:"Viewed {number, plural, one {# hour ago} other {# hours ago}}"},{number:i/36e5|0}):i>6e4?t.formatMessage({id:"oZ87NQ",defaultMessage:"Viewed {number, plural, one {# min ago} other {# mins ago}}"},{number:i/6e4|0}):t.formatMessage({id:"2Sqn0x",defaultMessage:"Viewed just now"})}function d({name:e,ts:t,intl:i,active:a}){return r.createElement("article",{className:n.avatarTooltip},r.createElement("header",null,r.createElement("h3",null,e)),a?i.formatMessage({id:"cSWjTH",defaultMessage:"Viewing now"}):t?c(1e3*t,i):null)}function u(e){return e.startsWith("dbafvid:")}function p({name:{display_name:e},account_id:t,profile_photo_url:i},n){return{active:!0,alt:e,avatarColorSeed:t,initials:l(e),memberKey:t,photoUrl:i||"",tooltipContent:r.createElement(d,{name:e,active:!0,intl:n})}}function _({currentUser:e,viewingUserIds:t,users:i,seenStates:n,fileMembers:a,intl:s}){const o=[p(e,s),...t.filter(t=>t!==e.account_id&&(u(t)||i[t])).slice(0,3).map(e=>u(e)?(function(e,t){const i=t.formatMessage({id:"uxSU4g",defaultMessage:"Guest"});return{active:!0,alt:i,avatarColorSeed:e,initials:l(i),memberKey:e,photoUrl:"",tooltipContent:r.createElement(d,{name:i,active:!0,intl:t})}})(e,s):p(i[e],s))];return o.length<4&&o.push(...n.order.filter(i=>!t.includes(i)&&i!==e.account_id).slice(0,4-o.length).map(e=>(function(e,t,i=!1){const{when_last_seen:n,seen_state_user:{display_name:a,email:s,user_id:o,photo_circle_url:c}}=e;return{active:i,alt:a||s||"",avatarColorSeed:o,initials:l(a),memberKey:o,photoUrl:c||"",tooltipContent:r.createElement(d,{name:a,active:!1,ts:n,intl:t})}})(n.infos[e],s))),o.length<4&&o.push(...a.order.filter(i=>!(i===e.account_id||t.includes(i)||i in n.infos)).slice(0,4-o.length).map(e=>a.users[e]?(function({user:{display_name:e,account_id:t}},i){return{active:!1,alt:e,avatarColorSeed:t,initials:l(e),memberKey:t,photoUrl:"",tooltipContent:r.createElement(d,{name:e,intl:i})}})(a.users[e],s):(function({user:e,invitee:t},i){if(e){const{display_name:t,account_id:n}=e;return{active:!1,alt:t,avatarColorSeed:n,initials:l(t),memberKey:n,photoUrl:"",tooltipContent:r.createElement(d,{name:t,intl:i})}}if("email"===t[".tag"])return{active:!1,alt:t.email,avatarColorSeed:t.email,initials:l(t.email),memberKey:t.email,photoUrl:"",tooltipContent:r.createElement(d,{name:t.email,intl:i})}})(a.invitees[e],s)).filter(e=>!!e)),o}t.timeSince=c,t.Facepiles=e=>{const{seenStates:t=o.DEFAULT_SEEN_STATES,intl:i,className:l,fileMemberCounts:c=o.DEFAULT_FILE_MEMBER_COUNTS,fileMembers:d=o.DEFAULT_FILE_MEMBERS,currentUser:u,users:p,viewingUserIds:g=o.DEFAULT_VIEWING_USER_IDS}=e;let v=0,f=[];u&&(v=(function(e,t,i,r){return e.count+t.order.filter(e=>!(e in i.users||e in i.invitees)).length+r.filter(e=>!(e in t.infos||e in i.users||e in i.invitees)).length})(c,t,d,g),f=_({currentUser:u,viewingUserIds:g,users:p,seenStates:t,fileMembers:d,intl:i}));const m=v-f.length,b=m>99?i.formatMessage({id:"tkBGME",defaultMessage:"99+"}):m>0?m.toString():"";return 1===f.length&&f[0].memberKey===(null==u?void 0:u.account_id)&&g.length<=1?null:r.createElement(s.FacepileMembers,{className:a.default(l,n.facepileMembers),remainderCount:b,avatarSize:32,remainderTooltipProps:{backgroundColor:"#344063",tooltipContent:r.createElement("p",{className:n.remainderTooltip},i.formatMessage({id:"U34Aor",defaultMessage:"{count, plural, one {# other} other {# others}}"},{count:m}))},isRemainderActive:!1,members:f})},t.Facepiles.displayName="Facepiles",t.Facepiles.displayName="Facepiles"})),define("typescript/libraries/file-viewer/src/pass/index",["require","exports","typescript/libraries/file-viewer/src/pass/actions","typescript/libraries/file-viewer/src/pass/reducer","typescript/libraries/file-viewer/src/pass/container","typescript/libraries/file-viewer/src/pass/pass_mode_button","typescript/libraries/file-viewer/src/pass/types","typescript/libraries/file-viewer/src/pass/beacon_middleware","typescript/libraries/file-viewer/src/pass/lifecycle"],(function(e,t,i,r,n,a,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.teardownPASSPresence=t.initializePASSPresence=t.initializePASS=t.PresenceIOClient=t.beaconMiddleware=t.FileMembers=t.SeenStateInfos=t.UnconnectedPASSModeButton=t.PASSModeButton=t.Facepiles=t.reducers=t.StoreState=t.getFilePresence=t.unsubscribePresence=t.subscribePresence=void 0,Object.defineProperty(t,"subscribePresence",{enumerable:!0,get:function(){return i.subscribePresence}}),Object.defineProperty(t,"unsubscribePresence",{enumerable:!0,get:function(){return i.unsubscribePresence}}),Object.defineProperty(t,"getFilePresence",{enumerable:!0,get:function(){return i.getFilePresence}}),Object.defineProperty(t,"StoreState",{enumerable:!0,get:function(){return r.StoreState}}),Object.defineProperty(t,"reducers",{enumerable:!0,get:function(){return r.reducers}}),Object.defineProperty(t,"Facepiles",{enumerable:!0,get:function(){return n.Facepiles}}),Object.defineProperty(t,"PASSModeButton",{enumerable:!0,get:function(){return a.PASSModeButton}}),Object.defineProperty(t,"UnconnectedPASSModeButton",{enumerable:!0,get:function(){return a.UnconnectedPASSModeButton}}),Object.defineProperty(t,"SeenStateInfos",{enumerable:!0,get:function(){return s.SeenStateInfos}}),Object.defineProperty(t,"FileMembers",{enumerable:!0,get:function(){return s.FileMembers}}),Object.defineProperty(t,"beaconMiddleware",{enumerable:!0,get:function(){return o.beaconMiddleware}}),Object.defineProperty(t,"PresenceIOClient",{enumerable:!0,get:function(){return o.PresenceIOClient}}),Object.defineProperty(t,"initializePASS",{enumerable:!0,get:function(){return l.initializePASS}}),Object.defineProperty(t,"initializePASSPresence",{enumerable:!0,get:function(){return l.initializePASSPresence}}),Object.defineProperty(t,"teardownPASSPresence",{enumerable:!0,get:function(){return l.teardownPASSPresence}})})),define("typescript/libraries/file-viewer/src/pass/lifecycle",["require","exports","typescript/libraries/file-viewer/src/pass/actions","typescript/libraries/api_v2/redux/seen_state","typescript/libraries/api_v2/redux/sharing"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializePASS=t.teardownPASSPresence=t.initializePASSPresence=void 0,t.initializePASSPresence=function(e,t,r){e.dispatch(i.subscribePresence({fileId:t,previewSessionId:r}))},t.teardownPASSPresence=function(e,t){e.dispatch(i.unsubscribePresence(t))},t.initializePASS=function(e,t){e.dispatch(i.getFilePresence(t)),e.dispatch(n.getFileMemberCountsAction({arg:{file:t}})),e.dispatch(n.listFileMembersAction({arg:{file:t}})),e.dispatch(r.getSeenStateInfoAction({arg:{file_infos:[{file_identifier:t}]}}))}})),define("typescript/libraries/file-viewer/src/pass/pass_mode_button",["require","exports","tslib","react","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/pass/container","typescript/libraries/file-viewer/src/pass/rich_container","spectrum/facepile/facepile_members_avatar","react-redux","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/modes/types"],(function(e,t,i,r,n,a,s,o,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PASSModeButton=t.UnconnectedPASSModeButton=void 0,r=i.__importStar(r),t.UnconnectedPASSModeButton=e=>{const{fileViewerId:t,previewKey:l,fileViewerUiData:c,currentUser:p,intl:_,dispatch:g,newUx:v}=e,f=i.__rest(e,["fileViewerId","previewKey","fileViewerUiData","currentUser","intl","dispatch","newUx"]);if(!p)return null;if(c.sidebar.visibility===u.SidebarVisibility.Open){const e=Object.assign(Object.assign({},f),{previewKey:l,currentUser:p,intl:_});return v?r.createElement(s.RichFacepileContainer,Object.assign({},e)):r.createElement(a.Facepiles,Object.assign({},e))}return r.createElement(o.FacepileMembersAvatar,{active:!0,photoUrl:p.profile_photo_url||"",initials:p.name.abbreviated_name,avatarColorSeed:p.account_id,avatarSize:32,onClick:()=>g(d.openSidebar({fileViewerId:t,previewKey:l,sourceContext:n.UserActionContext.Sidebar}))})},t.PASSModeButton=l.connect((function(e,t){const{fileViewerId:i}=t,{file_id:r,previewKey:n}=c.getCurrentFile(e,i);return{seenStates:e.seenState[r],fileMemberCounts:e.fileMemberCounts[r],fileMembers:e.fileMembers[r],users:e.users,previewKey:n,viewingUserIds:e.viewingUserIds[r],currentUser:e.currentUser}}))(t.UnconnectedPASSModeButton),t.PASSModeButton.displayName="PASSModeButton"})),define("typescript/libraries/file-viewer/src/pass/reducer",["require","exports","typescript/libraries/file-viewer/src/pass/actions","typescript/libraries/api_v2/redux/seen_state","typescript/libraries/api_v2/redux/sharing","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/pass/types"],(function(e,t,i,r,n,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=t.DEFAULT_STATE=t.DEFAULT_VIEWING_USER_IDS=t.DEFAULT_FILE_MEMBERS=t.DEFAULT_FILE_MEMBER_COUNTS=t.DEFAULT_SEEN_STATES=void 0,t.DEFAULT_SEEN_STATES={order:[],infos:{}},t.DEFAULT_FILE_MEMBER_COUNTS={count:0,exceeds_limit:!1},t.DEFAULT_FILE_MEMBERS={order:[],users:{},invitees:{}},t.DEFAULT_VIEWING_USER_IDS=[],t.DEFAULT_STATE={seenState:{},fileMemberCounts:{},fileMembers:{},viewingUserIds:{}};function o(e){return!!e.user||"email"===e.invitee[".tag"]}t.reducers={seenState:(e=t.DEFAULT_STATE.seenState,i)=>i.type!==a.Action.InitializeFilePreview||e[i.payload.fileInfo.file_id]?i.type===r.Action.GetSeenStateInfoResult&&i.payload.result?Object.assign(Object.assign({},e),i.payload.result.reduce((e,t)=>{const{seen_states:i}=t.seen_state_info;return e[t.file_info.file_identifier||""]={order:i.map(e=>e.seen_state_user.user_id),infos:i.reduce((e,t)=>(e[t.seen_state_user.user_id]=t,e),{})},e},{})):e:Object.assign(Object.assign({},e),{[i.payload.fileInfo.file_id]:t.DEFAULT_SEEN_STATES}),fileMemberCounts:(e=t.DEFAULT_STATE.fileMemberCounts,i)=>{if(i.type===a.Action.InitializeFilePreview&&!e[i.payload.fileInfo.file_id])return Object.assign(Object.assign({},e),{[i.payload.fileInfo.file_id]:t.DEFAULT_FILE_MEMBER_COUNTS});if(i.type===n.Action.GetFileMemberCountsResult&&i.payload.result){const t=i.payload.arg.file;return Object.assign(Object.assign({},e),{[t]:i.payload.result})}return e},fileMembers:(e=t.DEFAULT_STATE.fileMembers,i)=>{if(i.type===a.Action.InitializeFilePreview&&!e[i.payload.fileInfo.file_id])return Object.assign(Object.assign({},e),{[i.payload.fileInfo.file_id]:t.DEFAULT_FILE_MEMBERS});if(i.type===n.Action.ListFileMembersResult&&i.payload.result){const t=i.payload.arg.file,{users:r,invitees:n}=i.payload.result,a=n.filter(o),s={order:[...r.map(e=>e.user.account_id),...a.map(e=>e.user?e.user.account_id:e.invitee.email)],users:r.reduce((e,t)=>(e[t.user.account_id]=t,e),{}),invitees:a.reduce((e,t)=>(e[t.user?t.user.account_id:t.invitee.email]=t,e),{})};return Object.assign(Object.assign({},e),{[t]:s})}return e},viewingUserIds:(e=t.DEFAULT_STATE.viewingUserIds,r)=>r.type!==a.Action.InitializeFilePreview||e[r.payload.fileInfo.file_id]?r.type===i.Action.UpdateViewingUsers?Object.assign(Object.assign({},e),Object.keys(r.payload).reduce((e,t)=>(e[t]=r.payload[t].filter(e=>e.info.status!==s.PresenceStatus.offline).map(e=>e.agent.userId),e),{})):r.type===i.Action.UpdateViewingUsersWithDelta?Object.assign(Object.assign({},e),Object.keys(r.payload).reduce((t,i)=>{const n=e[i]||[];for(const e of r.payload[i])e.info.status===s.PresenceStatus.offline?t[i]=n.filter(t=>t!==e.agent.userId):n.includes(e.agent.userId)||(t[i]=[...n,e.agent.userId]);return t},{})):e:Object.assign(Object.assign({},e),{[r.payload.fileInfo.file_id]:t.DEFAULT_VIEWING_USER_IDS})}})),define("typescript/libraries/file-viewer/src/pass/rich_container",["require","exports","tslib","react","typescript/libraries/file-viewer/src/css/pass.module.css","typescript/libraries/file-viewer/src/pass/reducer","typescript/libraries/dbx-i18n/src/index","typescript/libraries/comments2/src/components/rich_facepile/index"],(function(e,t,i,r,n,a,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RichFacepileContainer=void 0,r=i.__importStar(r),n=i.__importStar(n);const l=e=>e.split(/\s+/g).slice(0,2).map(e=>e[0]).join("").toLocaleUpperCase(),c=({name:e,ts:t,intl:i,active:a})=>r.createElement("article",{className:n.avatarTooltipPadded},r.createElement("header",null,r.createElement("h3",null,e)),a?i.formatMessage({id:"cSWjTH",defaultMessage:"Viewing now"}):t?i.formatMessage({id:"lWGuPm",defaultMessage:"Viewed {ago}"},{ago:s.timeSince(i,t,{displayLocation:"label",displayContext:"sentence-middle"})}):null),d=e=>e.startsWith("dbafvid:"),u=({name:{display_name:e},account_id:t,profile_photo_url:i},n)=>({present:!0,displayName:e,initials:l(e),avatarColorSeed:t,memberKey:t,photoUrl:i||"",passiveTooltipContent:r.createElement(c,{name:e,active:!0,intl:n})}),p=({currentUser:e,viewingUserIds:t,users:i,seenStates:n,fileMembers:a,intl:s})=>{const o=[u(e,s),...t.filter(t=>t!==e.account_id&&(d(t)||i[t])).slice(0,3).map(e=>d(e)?((e,t)=>{const i=t.formatMessage({id:"uxSU4g",defaultMessage:"Guest"});return{present:!0,displayName:i,initials:l(i),avatarColorSeed:e,memberKey:e,photoUrl:"",passiveTooltipContent:r.createElement(c,{name:i,active:!0,intl:t})}})(e,s):u(i[e],s))];return o.length<4&&o.push(...n.order.filter(i=>!t.includes(i)&&i!==e.account_id).slice(0,4-o.length).map(e=>((e,t,i=!1)=>{const{when_last_seen:n,seen_state_user:{display_name:a,user_id:s,photo_circle_url:o}}=e;return{present:i,displayName:a,initials:l(a),avatarColorSeed:s,memberKey:s,photoUrl:o||"",passiveTooltipContent:r.createElement(c,{name:a,active:!1,ts:n,intl:t})}})(n.infos[e],s))),o.length<4&&o.push(...a.order.filter(i=>!(i===e.account_id||t.includes(i)||i in n.infos)).slice(0,4-o.length).map(e=>a.users[e]?(({user:{display_name:e,account_id:t}},i)=>({present:!1,displayName:e,initials:l(e),avatarColorSeed:t,memberKey:t,photoUrl:"",passiveTooltipContent:r.createElement(c,{name:e,intl:i})}))(a.users[e],s):(({user:e,invitee:t},i)=>{if(e){const{display_name:t,account_id:n}=e;return{present:!1,displayName:t,initials:l(t),avatarColorSeed:n,memberKey:n,photoUrl:"",passiveTooltipContent:r.createElement(c,{name:t,intl:i})}}if("email"===t[".tag"])return{present:!1,displayName:t.email,initials:l(t.email),avatarColorSeed:t.email,memberKey:t.email,photoUrl:"",passiveTooltipContent:r.createElement(c,{name:t.email,intl:i})}})(a.invitees[e],s)).filter(e=>!!e)),o};t.RichFacepileContainer=e=>{const{seenStates:t=a.DEFAULT_SEEN_STATES,intl:i,fileMemberCounts:n=a.DEFAULT_FILE_MEMBER_COUNTS,fileMembers:s=a.DEFAULT_FILE_MEMBERS,currentUser:l,users:c,viewingUserIds:d=a.DEFAULT_VIEWING_USER_IDS}=e;let u=0,_=[];return l&&(u=(function(e,t,i,r){return e.count+t.order.filter(e=>!(e in i.users||e in i.invitees)).length+r.filter(e=>!(e in t.infos||e in i.users||e in i.invitees)).length})(n,t,s,d),_=p({currentUser:l,viewingUserIds:d,users:c,seenStates:t,fileMembers:s,intl:i})),r.createElement(o.RichFacepile,{avatarSize:32,sizeClass:o.SizeClass.Large,sizeClassToCircleCountOverrides:{[o.SizeClass.Large]:4,[o.SizeClass.ExtraLarge]:4},avatarInfoList:_,intl:i,overflowBasis:u,tooltipComponent:o.UtilTooltip})},t.RichFacepileContainer.displayName="RichFacepileContainer"})),define("typescript/libraries/file-viewer/src/pass/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PresenceStatus=void 0,(function(e){e.offline="offline",e.viewer="viewer",e.modifier="modifier"})(t.PresenceStatus||(t.PresenceStatus={}))})),define("typescript/libraries/file-viewer/src/plugins/components/index",["require","exports","typescript/libraries/file-viewer/src/plugins/components/pane_stack_context"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaneId=void 0,Object.defineProperty(t,"PaneId",{enumerable:!0,get:function(){return i.PaneId}})})),define("typescript/libraries/file-viewer/src/plugins/components/pane_stack_context",["require","exports","tslib","react"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginPaneStackContext=void 0,r=i.__importDefault(r),t.PluginPaneStackContext=r.default.createContext({paneStack:[],popPane:function(){}})})),define("typescript/libraries/file-viewer/src/plugins/components/plugin_control",["require","exports","tslib","classnames","react","dig-components/tooltips","dig-components/buttons","typescript/libraries/file-viewer/src/css/modes/sidebar/control.module.css"],(function(e,t,i,r,n,a,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePluginSidebarControl=void 0,r=i.__importDefault(r),n=i.__importStar(n),o=i.__importStar(o),t.BasePluginSidebarControl=({ariaLabel:e,className:t,children:i,disabled:l,forwardRef:c,iconId:d,isSelectedPlugin:u,label:p,onClick:_,ui:{isSidebarVisible:g}})=>n.createElement(a.Tooltip,{placement:"left",title:p},n.createElement("span",{className:o.tooltipWrappedControl},n.createElement(s.IconButton,{"aria-label":e||p,"aria-expanded":u&&g,"aria-selected":u,className:r.default(o.control,t),"data-available":!l,"data-control-id":d,disabled:l,onClick:_,ref:c,variant:"transparent"},n.createElement("div",{className:o.controlIcon}),i))),t.BasePluginSidebarControl.displayName="BasePluginSidebarControl",t.BasePluginSidebarControl.displayName="BasePluginSidebarControl"})),define("typescript/libraries/file-viewer/src/plugins/context",["require","exports","typescript/libraries/file-viewer/src/core/logging/actions","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/plugins/data","typescript/libraries/file-viewer/src/plugins/navigation","typescript/libraries/file-viewer/src/core/data/actions"],(function(e,t,i,r,n,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePluginContext=void 0,t.makePluginContext=function({store:e,sdkConfig:t,fileViewerId:o,pluginId:l,reinitializeFileViewer:c,exitPluginEditMode:d}){const u=a.makeNavigation({store:e,fileViewerId:o,pluginId:l,reinitializeFileViewer:c,exitPluginEditMode:d});return{fileViewerId:o,getFilePreviewSessionId:()=>e.getState().loggingSession[o].file_preview_session_id,getFileViewerSessionId:()=>e.getState().loggingSession[o].file_viewer_session_id,logUserAction:t=>{const n=e.getState().loggingSession[o].file_preview_session_id;e.dispatch(i.logPreviewEvent({event:r.EventType.UserAction,fileViewerId:o,previewSessionId:n,extra:t}))},sdkConfig:t,getPluginData:()=>{const t=e.getState();return n.getPluginData(t,{fileViewerId:o,navigation:u})},disableSelf(){e.dispatch(s.pluginEnabledStateChanged({fileViewerId:o,pluginId:l,enabled:!1}))},enableSelf(){e.dispatch(s.pluginEnabledStateChanged({fileViewerId:o,pluginId:l,enabled:!0}))}}}})),define("typescript/libraries/file-viewer/src/plugins/data",["require","exports","typescript/libraries/file-viewer/src/plugins/types","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/core/utils/index","typescript/libraries/file-viewer/src/plugins/selectors/file"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPluginData=void 0,t.getPluginData=function(e,t){const{fileViewerId:s,navigation:o}=t,l=r.getCurrentFile(e,s),c=l?e.previewData[l.previewKey.serialized]:null,d=r.getLoadableCurrentUser(e),u={navigation:o,sharedLinkInfo:a.getCurrentSharedLinkInfo(e,s),account:d},p=a.getCurrentBaseFile(e,s);if(!p)return Object.assign({previewType:i.PreviewType.Loading,file:null},u);const _=a.getCurrentCommonFile(e,p);if("errored"===l.bootstrap.state)return Object.assign({previewType:i.PreviewType.Error,file:_},u);if(!c)return Object.assign({previewType:i.PreviewType.Loading,file:_},u);const g=n.resolvePreviewType(c);switch(g){case i.PreviewType.Image:const t=a.getCurrentImageFile(e,p,s);if(t)return Object.assign({previewType:g,file:t},u);break;case i.PreviewType.SsrDoc:case i.PreviewType.CloudDoc:const r=a.getCurrentDocFile(e,p,s);if(r)return Object.assign({previewType:g,file:r},u);break;case i.PreviewType.Audio:case i.PreviewType.Video:const n=a.getCurrentAudioVideoFile(e,p);if(n)return Object.assign({previewType:g,file:n},u);break;case i.PreviewType.Archive:const o=a.getCurrentArchiveFile(e,p);if(o)return Object.assign({previewType:g,file:o},u);break;case i.PreviewType.Error:case i.PreviewType.Loading:return Object.assign({previewType:g,file:null},u);default:return Object.assign({previewType:g,file:_},u)}return Object.assign({previewType:i.PreviewType.Other,file:_},u)}})),define("typescript/libraries/file-viewer/src/plugins/edit_fullscreen_plugin_action",["require","exports","tslib","reselect","typescript/libraries/file-viewer/src/plugins/types","react","react-redux","typescript/libraries/file-viewer/src/core/data/actions","dig-components/menu","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","dig-components/icons","dig-components/buttons"],(function(e,t,i,r,n,a,s,o,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEditPluginFullscreenActionDefinitions=void 0,a=i.__importStar(a);const p=(e,t,i)=>o.setActiveEditPlugin({previewKey:e,fileViewerId:t,pluginId:i,sourceContext:n.UserActionContext.Toolbar}),_=a.default.memo(({icon:e,label:t,pluginId:i,previewKey:r,fileViewerId:n,callback:o})=>{const d=s.useDispatch(),u=a.useCallback(()=>{d(p(r,n,i)),null==o||o()},[r,n,i,d]);return a.default.createElement(l.Menu.ActionItem,{value:{nodeType:"dropdown",actionType:c.ActionBarActionTypes.CUSTOM_ACTION,id:i,menuItem:{handler:u}},withLeftAccessory:e,disabled:!1},t)});_.displayName="EditFullscreenOverflowItem";const g=a.default.memo(({icon:e,label:t,pluginId:i,previewKey:r,fileViewerId:n,hideIcons:o,callback:l})=>{const c=s.useDispatch(),d=a.useCallback(()=>{c(p(r,n,i)),null==l||l()},[r,n,i,c]);return a.default.createElement(u.Button,{variant:"opacity",onClick:d,withIconLeft:o?null:e,disabled:!1},t)});g.displayName="EditFullscreenRenderButton";t.getEditPluginFullscreenActionDefinitions=r.defaultMemoize((e,t,i,r)=>(({editFullscreenPlugins:e,previewKey:t,fileViewerId:i})=>Object.entries(e).map(([e,r])=>{const n=a.default.createElement(d.UIIcon,{src:r.buttonIcon});return{overflowItem:a.default.createElement(_,{icon:n,label:r.buttonText,pluginId:e,fileViewerId:i,previewKey:t,callback:r.onActivate}),renderButton:s=>a.default.createElement(g,{hideIcons:s,icon:n,label:r.buttonText,pluginId:e,fileViewerId:i,previewKey:t,callback:r.onActivate}),id:"FULLSCREEN_ACTION"}}))({editFullscreenPlugins:Object.entries(e).reduce((e,[i,r])=>n.isEditPluginFullscreenInstance(r)&&!t.includes(i)?Object.assign(Object.assign({},e),{[i]:r}):e,{}),previewKey:i,fileViewerId:r}))})),define("typescript/libraries/file-viewer/src/plugins/index",["require","exports","typescript/libraries/file-viewer/src/plugins/types","typescript/libraries/file-viewer/src/plugins/components/index"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaneId=t.parseEditOverlayPlugin=t.parseRightRailPlugin=t.parseActionBarPlugin=t.UniversalPluginNavigation=t.UserActionContext=t.EditPluginFullscreenInstance=t.EditPluginOverlayInstance=t.EditUI=t.TitleBarPluginInstance=t.TitleBarUI=t.RightRailPluginInstance=t.PreviewType=t.PluginMode=t.PluginUiProps=t.PluginReinitializeOpts=t.MobileWebPluginAction=t.MobilePluginComponents=t.RightRailUI=t.PluginProps=t.PluginNavigation=t.PluginLoader=t.PluginLifecycle=t.PluginLayerProps=t.PluginInstance=t.PluginInitialParams=t.PluginControlUiProps=t.PluginControlProps=t.PluginContext=t.PluginActionDefinitions=t.PluginActionDefinition=t.PlatformAdapter=t.Marker=t.ImagePluginNavigation=t.FileIdentifier=t.DocPluginNavigation=t.ActionBarPluginInstance=void 0,Object.defineProperty(t,"ActionBarPluginInstance",{enumerable:!0,get:function(){return i.ActionBarPluginInstance}}),Object.defineProperty(t,"DocPluginNavigation",{enumerable:!0,get:function(){return i.DocPluginNavigation}}),Object.defineProperty(t,"FileIdentifier",{enumerable:!0,get:function(){return i.FileIdentifier}}),Object.defineProperty(t,"ImagePluginNavigation",{enumerable:!0,get:function(){return i.ImagePluginNavigation}}),Object.defineProperty(t,"Marker",{enumerable:!0,get:function(){return i.Marker}}),Object.defineProperty(t,"PlatformAdapter",{enumerable:!0,get:function(){return i.PlatformAdapter}}),Object.defineProperty(t,"PluginActionDefinition",{enumerable:!0,get:function(){return i.PluginActionDefinition}}),Object.defineProperty(t,"PluginActionDefinitions",{enumerable:!0,get:function(){return i.PluginActionDefinitions}}),Object.defineProperty(t,"PluginContext",{enumerable:!0,get:function(){return i.PluginContext}}),Object.defineProperty(t,"PluginControlProps",{enumerable:!0,get:function(){return i.PluginControlProps}}),Object.defineProperty(t,"PluginControlUiProps",{enumerable:!0,get:function(){return i.PluginControlUiProps}}),Object.defineProperty(t,"PluginInitialParams",{enumerable:!0,get:function(){return i.PluginInitialParams}}),Object.defineProperty(t,"PluginInstance",{enumerable:!0,get:function(){return i.PluginInstance}}),Object.defineProperty(t,"PluginLayerProps",{enumerable:!0,get:function(){return i.PluginLayerProps}}),Object.defineProperty(t,"PluginLifecycle",{enumerable:!0,get:function(){return i.PluginLifecycle}}),Object.defineProperty(t,"PluginLoader",{enumerable:!0,get:function(){return i.PluginLoader}}),Object.defineProperty(t,"PluginNavigation",{enumerable:!0,get:function(){return i.PluginNavigation}}),Object.defineProperty(t,"PluginProps",{enumerable:!0,get:function(){return i.PluginProps}}),Object.defineProperty(t,"RightRailUI",{enumerable:!0,get:function(){return i.RightRailUI}}),Object.defineProperty(t,"MobilePluginComponents",{enumerable:!0,get:function(){return i.MobilePluginComponents}}),Object.defineProperty(t,"MobileWebPluginAction",{enumerable:!0,get:function(){return i.MobileWebPluginAction}}),Object.defineProperty(t,"PluginReinitializeOpts",{enumerable:!0,get:function(){return i.PluginReinitializeOpts}}),Object.defineProperty(t,"PluginUiProps",{enumerable:!0,get:function(){return i.PluginUiProps}}),Object.defineProperty(t,"PluginMode",{enumerable:!0,get:function(){return i.PluginMode}}),Object.defineProperty(t,"PreviewType",{enumerable:!0,get:function(){return i.PreviewType}}),Object.defineProperty(t,"RightRailPluginInstance",{enumerable:!0,get:function(){return i.RightRailPluginInstance}}),Object.defineProperty(t,"TitleBarUI",{enumerable:!0,get:function(){return i.TitleBarUI}}),Object.defineProperty(t,"TitleBarPluginInstance",{enumerable:!0,get:function(){return i.TitleBarPluginInstance}}),Object.defineProperty(t,"EditUI",{enumerable:!0,get:function(){return i.EditUI}}),Object.defineProperty(t,"EditPluginOverlayInstance",{enumerable:!0,get:function(){return i.EditPluginOverlayInstance}}),Object.defineProperty(t,"EditPluginFullscreenInstance",{enumerable:!0,get:function(){return i.EditPluginFullscreenInstance}}),Object.defineProperty(t,"UserActionContext",{enumerable:!0,get:function(){return i.UserActionContext}}),Object.defineProperty(t,"UniversalPluginNavigation",{enumerable:!0,get:function(){return i.UniversalPluginNavigation}}),Object.defineProperty(t,"parseActionBarPlugin",{enumerable:!0,get:function(){return i.parseActionBarPlugin}}),Object.defineProperty(t,"parseRightRailPlugin",{enumerable:!0,get:function(){return i.parseRightRailPlugin}}),Object.defineProperty(t,"parseEditOverlayPlugin",{enumerable:!0,get:function(){return i.parseEditOverlayPlugin}}),Object.defineProperty(t,"PaneId",{enumerable:!0,get:function(){return r.PaneId}})})),define("typescript/libraries/file-viewer/src/plugins/navigation",["require","exports","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/plugins/selectors/file"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeNavigation=void 0,t.makeNavigation=({store:e,fileViewerId:t,reinitializeFileViewer:a,exitPluginEditMode:s,showAuthModal:o,canCloseViewer:l})=>({fileFlipping:{flipToNextFile(i){const a=n.getCurrentPreviewKey(e.getState(),t);null!=a&&e.dispatch(r.flipToNextFile({fileViewerId:t,previewKey:a,sourceContext:i}))},flipToPreviousFile(i){const a=n.getCurrentPreviewKey(e.getState(),t);null!=a&&e.dispatch(r.flipToNextFile({fileViewerId:t,previewKey:a,sourceContext:i}))}},navigateToPage(a,s){const o=n.getCurrentPreviewKey(e.getState(),t);null!=o&&(e.dispatch(r.updateDocCurrentPageIndex({fileViewerId:t,previewKey:o,pageIndex:a,sourceContext:s})),e.dispatch(r.pageNavigation({fileViewerId:t,previewKey:o,sourceContext:i.UserActionContext.Sidebar,pageIndex:a})))},closeSidebar(i){const a=n.getCurrentPreviewKey(e.getState(),t);null!=a&&e.dispatch(r.closeSidebar({fileViewerId:t,previewKey:a,sourceContext:i}))},openSidebar(i){const a=n.getCurrentPreviewKey(e.getState(),t);null!=a&&e.dispatch(r.openSidebar({fileViewerId:t,previewKey:a,sourceContext:i}))},openUrl({url:t,fallbackUrl:i}){e.dispatch(r.openUrl({url:t,fallbackUrl:i}))},reinitializeFileViewer(e){a(e)},exitEditMode(){s()},seek(t){e.dispatch(r.requestVideoSeek({time:t}))},seekRelative(t){e.dispatch(r.requestVideoSeekRelative({delta:t}))},pause(){e.dispatch(r.requestVideoPause())},toggleVideoFrameSteppers(i){e.dispatch(r.toggleVideoFrameSteppers({fileViewerId:t,enabled:i}))},overrideFloatingToolbar(i,n){e.dispatch(r.overrideFloatingToolbar({fileViewerId:t,state:n,pluginId:i}))},navigateToPath(t){e.dispatch(r.openFileURL({fqPath:t}))},showAuthModal:o,canCloseViewer:l,openRightRailPlugin(a,s){const o=n.getCurrentPreviewKey(e.getState(),t);null!=o&&(e.dispatch(r.openSidebar({fileViewerId:t,previewKey:o,sourceContext:a})),e.dispatch(r.setActiveRightRailPlugin({fileViewerId:t,previewKey:o,sourceContext:i.UserActionContext.Initialization,pluginId:s})))}})})),define("typescript/libraries/file-viewer/src/plugins/props",["require","exports","typescript/libraries/file-viewer/src/plugins/types","typescript/libraries/file-viewer/src/plugins/selectors/ui"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePluginControlProps=t.makePluginProps=void 0,t.makePluginProps=function(e,t,n,a){switch(n.previewType){case i.PreviewType.CloudDoc:case i.PreviewType.SsrDoc:return(function(e,t,i,n){const a=r.getDocUiProps(t,e);return null!=i.file&&null!=a?Object.assign(Object.assign({},i),{file:i.file,ui:a,queries:n.getHandlers()}):null})(t,e,n,a);case i.PreviewType.Image:return(function(e,t,i){const n=r.getImageUiProps(t,e);return null!=i.file&&null!=n?Object.assign(Object.assign({},i),{file:i.file,ui:n,queries:{}}):null})(t,e,n);case i.PreviewType.Audio:case i.PreviewType.Video:return(function(e,t,i,n){const a=r.getAudioVideoUiProps(t,e);return null!=i.file&&null!=a?Object.assign(Object.assign({},i),{file:i.file,ui:a,queries:n.getHandlers()}):null})(t,e,n,a);case i.PreviewType.Archive:return(function(e,t,i){const n=r.getArchiveUiProps(t,e);return null!=i.file&&null!=n?Object.assign(Object.assign({},i),{file:i.file,ui:n,queries:{}}):null})(t,e,n);case i.PreviewType.Loading:case i.PreviewType.Error:return(function(e,t,i){const n=r.getUnsupportedFileUiProps(t,e);return null!=i.file?Object.assign(Object.assign({},i),{file:i.file,ui:n,queries:{}}):null})(t,e,n);default:return(function(e,t,i){const n=r.getUnsupportedFileUiProps(t,e);return null!=i.file&&null!=n?Object.assign(Object.assign({},i),{file:i.file,ui:n,queries:{}}):null})(t,e,n)}},t.makePluginControlProps=function(e,t,i,n){const a=r.getControlUiProps(e,t,i.previewType);return Object.assign(Object.assign({},i),{ui:a,queries:n.getHandlers()})}})),define("typescript/libraries/file-viewer/src/plugins/queries",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginQueryBus=void 0;t.PluginQueryBus=class{constructor(e){this.handlerChain=[],this.defaultHandlers=e,this.resolvedHandlers=this.resolveHandlers()}getHandlers(){return this.resolvedHandlers}handleQuery(e,t){this.handlerChain.push([e,t]),this.resolvedHandlers=this.resolveHandlers()}unhandleQuery(e,t){const i=this.handlerChain.findIndex(([i,r])=>i===e&&r===t);if(null==i)throw new Error("Attempted to unregister query handlers that are not registered");this.handlerChain.splice(i),this.resolvedHandlers=this.resolveHandlers()}resolveHandlers(){return this.handlerChain.reduce((e,[t,i])=>Object.assign(Object.assign({},e),{[t]:i}),this.defaultHandlers)}}})),define("typescript/libraries/file-viewer/src/plugins/selectors/file",["require","exports","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/core/data/utils"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentSharedLinkInfo=t.getCurrentPreviewKey=t.getCurrentFileId=t.getCurrentCommonFile=t.getCurrentArchiveFile=t.getCurrentAudioVideoFile=t.getCurrentDocFile=t.getCurrentImageFile=t.getCurrentBaseFile=void 0;class n extends Error{constructor(e,t){super(`Expected ${e} to be of type ${t}, but it is not`)}}t.getCurrentBaseFile=(e,t)=>{const{currentFileInfo:i,fileMetadata:r}=e,n=i[t];if(null==n)return null;const{file_id:a,ns_id:s,sj_id:o,url:l}=n;if(null==a||null==s||null==o)return null;const c=r[n.previewKey.serialized];if(null==c)return null;const{file_name:d,file_path:u,file_last_modified_date:p,size:_}=c;return{fileId:a,lastModifiedDate:p,name:d,nsId:s,fqPath:u,sjId:o,url:l,size:_,previewKey:n.previewKey}},t.getCurrentImageFile=(e,t,n)=>{var a;const s=e.previewData[t.previewKey.serialized],o=null===(a=i.getFileContentMetadata(e,t.previewKey))||void 0===a?void 0:a.metadata,l="image"===(null==o?void 0:o[".tag"])?o:null,c=r.filterDimensionsFilePreviewUiState(i.getFilePreviewUi(e,n,t.previewKey));return Object.assign(Object.assign({},t),{dimensions:(null==s?void 0:s.dimensions)||(null==c?void 0:c.dimensions),contentMetadata:l})},t.getCurrentDocFile=(e,t,a)=>{var s;const o=e.rivieraData[t.previewKey.serialized];if(null==o||0===Object.getOwnPropertyNames(o).length)return null;if(!("pages"in o))throw new n("rivieraData","DocPreviewMetadata");const l=null===(s=i.getFileContentMetadata(e,t.previewKey))||void 0===s?void 0:s.metadata,c="ms_office"===(null==l?void 0:l[".tag"])||"pdf"===(null==l?void 0:l[".tag"])?l:null,d=i.getFilePreviewUi(e,a,t.previewKey),u=r.filterDocFilePreviewUiState(d);return Object.assign(Object.assign({},t),{pages:o.pages.map(({dimension:[e,t],pageIndex:i})=>({pageIndex:i,dimensions:{width:e,height:t}})),contentMetadata:c,isPasswordProtected:!!(null==u?void 0:u.isPasswordProtected)})},t.getCurrentAudioVideoFile=(e,t)=>{var r;const n=null===(r=i.getFileContentMetadata(e,t.previewKey))||void 0===r?void 0:r.metadata,a="audio"===(null==n?void 0:n[".tag"])||"video"===(null==n?void 0:n[".tag"])?n:null;return null==a?null:Object.assign(Object.assign({},t),{contentMetadata:a})},t.getCurrentArchiveFile=(e,t)=>Object.assign(Object.assign({},t),{contentMetadata:null}),t.getCurrentCommonFile=(e,t)=>Object.assign(Object.assign({},t),{contentMetadata:null}),t.getCurrentFileId=(e,t)=>{const r=i.getCurrentFile(e,t);if(null!=r)return r.file_id},t.getCurrentPreviewKey=(e,t)=>{const r=i.getCurrentFile(e,t);if(null!=r)return r.previewKey},t.getCurrentSharedLinkInfo=(e,i)=>{const r=t.getCurrentPreviewKey(e,i);if(r)return e.sharedLinkInfo[r.serialized]}})),define("typescript/libraries/file-viewer/src/plugins/selectors/index",["require","exports","typescript/libraries/file-viewer/src/plugins/selectors/file","typescript/libraries/file-viewer/src/plugins/selectors/ui","typescript/libraries/file-viewer/src/plugins/selectors/active_plugin"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeDisabledPlugins=t.getSelectedPluginId=t.getActivePluginId=t.getImageUiProps=t.getDocUiProps=t.getCurrentSharedLinkInfo=void 0,Object.defineProperty(t,"getCurrentSharedLinkInfo",{enumerable:!0,get:function(){return i.getCurrentSharedLinkInfo}}),Object.defineProperty(t,"getDocUiProps",{enumerable:!0,get:function(){return r.getDocUiProps}}),Object.defineProperty(t,"getImageUiProps",{enumerable:!0,get:function(){return r.getImageUiProps}}),Object.defineProperty(t,"getActivePluginId",{enumerable:!0,get:function(){return n.getActivePluginId}}),Object.defineProperty(t,"getSelectedPluginId",{enumerable:!0,get:function(){return n.getSelectedRightRailPluginId}}),Object.defineProperty(t,"getRuntimeDisabledPlugins",{enumerable:!0,get:function(){return n.getRuntimeDisabledPlugins}})})),define("typescript/libraries/file-viewer/src/plugins/selectors/ui",["require","exports","typescript/libraries/file-viewer/src/plugins/types","typescript/libraries/file-viewer/src/core/data/utils","typescript/libraries/file-viewer/src/core/data/selectors"],(function(e,t,i,r,n){"use strict";function a(e,t){const{previewKey:i}=(function(e,t){return n.getCurrentFile(e,t)||null})(e,t);return e.filePreviewUi[t]?e.filePreviewUi[t][i.serialized]:null}function s(e,t){return{isSidebarVisible:n.isSidebarOpen(e,t)}}function o(e,t){const i=a(e,t);if(null==i)return null;const s=r.filterZoomableFilePreviewUi(i);return null==s?null:{scaleFactor:n.getCurrentScaleFactorFromFilePreviewUi(s)}}function l(e,t){var i,n;const l=s(e,t);if(null==l)return null;const c=o(e,t);if(null==c)return null;const d=a(e,t);if(null==d)return null;const u=null!==(n=null===(i=r.filterDocFilePreviewUiState(d))||void 0===i?void 0:i.currentPageIndex)&&void 0!==n?n:null;if(null==u)return null;const p=e.fileViewerUi[t],_=!!p&&p.isDocSidebarOpen;return Object.assign(Object.assign(Object.assign({},l),c),{currentPageIndex:u,isNavBarVisible:_})}function c(e,t){const i=s(e,t);if(null==i)return null;const r=o(e,t);return null==r?null:Object.assign(Object.assign({},i),r)}function d(e,t){return s(e,t)}function u(e,t){return{isSidebarVisible:n.isSidebarOpen(e,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getControlUiProps=t.getUnsupportedFileUiProps=t.getArchiveUiProps=t.getAudioVideoUiProps=t.getImageUiProps=t.getDocUiProps=void 0,t.getDocUiProps=l,t.getImageUiProps=c,t.getAudioVideoUiProps=function(e,t){const i=s(e,t);if(null==i)return null;const n=a(e,t);if(null==n)return null;const o=r.filterAudioVideoFilePreviewUiState(n);if(null==o)return null;const{currentTimestamp:l,isPlaying:c}=o;return Object.assign(Object.assign({},i),{currentTimestamp:l,isPlaying:c})},t.getArchiveUiProps=function(e,t){return s(e,t)},t.getUnsupportedFileUiProps=d,t.getControlUiProps=function(e,t,r){switch(r){case i.PreviewType.SsrDoc:case i.PreviewType.CloudDoc:{const i=l(e,t);return null!=i?i:u(e,t)}case i.PreviewType.Image:{const i=c(e,t);return null!=i?i:u(e,t)}default:{const i=d(e,t);return null!=i?i:u(e,t)}}}})),define("typescript/libraries/file-viewer/src/plugins/shims",["require","exports","typescript/libraries/file-viewer/src/about/plugin/index","typescript/libraries/file-viewer/src/comments2/plugin/types","typescript/libraries/file-viewer/src/core/data/modes/types"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPluginFromMode=void 0,t.getPluginFromMode=e=>({[n.FileViewerMode.Commenting]:r.COMMENTS_PLUGIN_ID,[n.FileViewerMode.Default]:void 0,[n.FileViewerMode.Documentation]:i.ABOUT_PLUGIN_ID,[n.FileViewerMode.Markup]:void 0,[n.FileViewerMode.Plugins]:void 0,[n.FileViewerMode.HelloSign]:void 0,[n.FileViewerMode.ProAnalytics]:void 0}[e])})),define("typescript/libraries/file-viewer/src/preview_archive/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArchiveSubpathQueryStringKey=void 0,t.ArchiveSubpathQueryStringKey="file_subpath"})),define("typescript/libraries/file-viewer/src/preview_archive/utils",["require","exports","typescript/libraries/file-viewer/src/core/data/preview_key","typescript/libraries/api_v2/redux/previews","typescript/libraries/file-viewer/src/core/data/actions"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArchiveFiles=t.getFiles=t.transformArchiveEntriesToFiles=t.queryStringValueToArchiveCurrentPath=t.archiveCurrentPathToQueryStringValue=void 0,t.archiveCurrentPathToQueryStringValue=function(e){return 0===e.length?null:`/${e.join("/")}`},t.queryStringValueToArchiveCurrentPath=function(e){return null===e?[]:e.split("/").slice(1)},t.transformArchiveEntriesToFiles=function(e,t,i,r,a){return e.map(e=>({uniqueKey:e.name,title:e.name,isFolder:!!e.isDir,extension:e.name.split(".").pop(),sizeInBytes:e.size,performOpenAction:()=>{t(n.updateArchiveFileCurrentPath({currentPath:[...i,e.name],fileViewerId:r,previewKey:a,isDir:!!e.isDir}))}}))},t.getFiles=function(e){return e.filter(e=>!e.isDir)},t.getArchiveFiles=function(e,t,n,a,s,o){if(!t.length)return;const l={file_id:n.file_id,ns_id:n.ns_id,sj_id:n.sj_id,url:n.url},c=t.map(t=>i.getSubpath([...e,t.name]));a(o?r.getArchiveFilesAction({arg:{root_file_info:l,subpaths:c}},{rootFileId:s}):r.loggedOutGetArchiveFilesAction({arg:{root_file_info:l,subpaths:c}},{rootFileId:s}))}})),define("typescript/libraries/file-viewer/src/preview_error/error_boundary",["require","exports","tslib","react","react-redux","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/errors","typescript/libraries/file-viewer/src/preview_error/index"],(function(e,t,i,r,n,a,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=void 0,r=i.__importDefault(r);class l extends r.default.PureComponent{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){var t,i;this.props.reportException({error:e,fileType:(null===(i=null===(t=this.props.previewMetadata)||void 0===t?void 0:t.content)||void 0===i?void 0:i[".tag"])||"other",isCritical:!0})}render(){return this.state.hasError?r.default.createElement(o.PreviewRenderError,Object.assign({},this.props,{error:new s.FVError(s.FVErrorCode.Unknown)})):this.props.children}}l.displayName="UnconnectedErrorBoundary";const c={reportException:a.reportException};t.ErrorBoundary=n.connect(null,c)(l)})),define("typescript/libraries/file-viewer/src/preview_excel/tab_selection_handler",["require","exports","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/utils","typescript/libraries/file-viewer/src/core/data/preview_key","typescript/libraries/file-viewer/src/core/data/selectors"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabSelectionHandler=void 0,t.tabSelectionHandler=({dispatch:e,getState:t})=>s=>o=>{if(s(o),o.type!==i.Action.SwitchWorkbookTab)return;const{previewKey:l,fileViewerId:c,tabIndex:d}=o.payload;if(n.isNestedArchiveFilePreviewKey(l))return;const u=t(),p=a.getPreviewData(u,l),_=a.getRivieraData(u,l);if(null==p||!r.isExcelApiV2MetadataContent(p.content))return;if(null==_||!r.isExcelPreviewRivieraData(_))return;const{workbook_data_url_tmpl:g}=p.content;if(null!=_.sheets){const t=_.sheets[d];null!=t&&"errored"!==t.state||e(i.fetchExcelSheetLayoutData({previewKey:l,fileViewerId:c,sheetIndex:d,workbookDataUrlTmpl:g}))}}})),define("typescript/libraries/file-viewer/src/public/index",["require","exports","typescript/libraries/file-viewer/src/file_viewer/index","typescript/libraries/file-viewer/src/public/public_api"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPreviewTypeSupported=t.SDKInitData=t.OptionalIOClients=t.CoreIOClients=t.SDKBatteries=t.SDKOptions=t.FileViewerSDK=t.createFileViewerFactory=t.FileViewer=void 0,Object.defineProperty(t,"FileViewer",{enumerable:!0,get:function(){return i.FileViewer}}),Object.defineProperty(t,"createFileViewerFactory",{enumerable:!0,get:function(){return i.createFileViewerFactory}}),Object.defineProperty(t,"FileViewerSDK",{enumerable:!0,get:function(){return i.FileViewerSDK}}),Object.defineProperty(t,"SDKOptions",{enumerable:!0,get:function(){return r.SDKOptions}}),Object.defineProperty(t,"SDKBatteries",{enumerable:!0,get:function(){return r.SDKBatteries}}),Object.defineProperty(t,"CoreIOClients",{enumerable:!0,get:function(){return r.CoreIOClients}}),Object.defineProperty(t,"OptionalIOClients",{enumerable:!0,get:function(){return r.OptionalIOClients}}),Object.defineProperty(t,"SDKInitData",{enumerable:!0,get:function(){return r.SDKInitData}}),Object.defineProperty(t,"isPreviewTypeSupported",{enumerable:!0,get:function(){return r.isPreviewTypeSupported}})})),define("typescript/libraries/file-viewer/src/public/public_api",["require","exports","typescript/libraries/file-viewer/src/core/utils/index"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPreviewTypeSupported=void 0,Object.defineProperty(t,"isPreviewTypeSupported",{enumerable:!0,get:function(){return i.isPreviewTypeSupported}})})),define("typescript/libraries/file-viewer/src/renderer",["require","exports","tslib","react","classnames","typescript/libraries/file-viewer/src/css/app.module.css","typescript/libraries/file-viewer/src/plugins/index","typescript/libraries/file-viewer/src/core/errors","typescript/libraries/file-viewer/src/core/i18n","typescript/libraries/file-viewer/src/core/utils/index"],(function(e,t,i,r,n,a,s,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewRenderer=t.LoadingPlaceholder=t.PreviewError=t.FileViewer=void 0,r=i.__importStar(r),n=i.__importDefault(n),a=i.__importStar(a);class d extends r.PureComponent{constructor(){super(...arguments),this.state={windowWidth:0,windowHeight:0},this.handleResize=()=>{const{viewport:e}=this.props;e&&this.setState({windowWidth:e.clientWidth,windowHeight:e.clientHeight})}}componentDidMount(){this.handleResize(),this.props.__window&&this.props.__window.addEventListener("resize",this.handleResize)}componentWillUnmount(){this.props.__window&&this.props.__window.removeEventListener("resize",this.handleResize)}render(){const{children:e,className:t}=this.props,{windowWidth:i,windowHeight:s}=this.state;return r.createElement("div",{className:n.default(a.container,t),style:{width:i,height:s}},e({width:i,height:s}))}}t.FileViewer=d,d.defaultProps={intl:l.placeholderI18nFormatters,children:e=>null,__window:"undefined"!=typeof window?window:void 0,viewport:"undefined"!=typeof document?document.documentElement:void 0},d.displayName="FileViewer",t.PreviewError=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewRenderError:t}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_error/index"],t,i)}).then(i.__importStar);return{default:t}}))),t.LoadingPlaceholder=()=>null,t.LoadingPlaceholder.displayName="LoadingPlaceholder";const u=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewImageContainer:t}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_image/container"],t,i)}).then(i.__importStar);return{default:t}}))),p=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewAudioVideo:t}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_audio_video/index"],t,i)}).then(i.__importStar);return{default:t}}))),_=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewDoc:t}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_doc/index"],t,i)}).then(i.__importStar);return{default:t}}))),g=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewCloudDoc:t}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_cloud_doc/index"],t,i)}).then(i.__importStar);return{default:t}}))),v=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewExcelViewOnlyEmbed:t}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_excel/ms_embed/index"],t,i)}).then(i.__importStar);return{default:t}}))),f=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewExcel:t}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_excel/index"],t,i)}).then(i.__importStar);return{default:t}}))),m=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewHTML:t}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_html/index"],t,i)}).then(i.__importStar);return{default:t}}))),b=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewArchive:t}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_archive/index"],t,i)}).then(i.__importStar);return{default:t}}))),h=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewLinkfile:t}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/preview_linkfile/index"],t,i)}).then(i.__importStar);return{default:t}})));t.PreviewRenderer=e=>{var{data:n,filePreviewUiData:a,rivieraData:l,pluginProps:d}=e,A=i.__rest(e,["data","filePreviewUiData","rivieraData","pluginProps"]);const w=c.resolvePreviewType(A.previewMetadata);return r.createElement(r.Suspense,{fallback:r.createElement(t.LoadingPlaceholder,null)},(()=>{var e,i,n,c;switch(w){case s.PreviewType.Image:return r.createElement(u,Object.assign({},A,{data:void 0,filePreviewUiData:a,pluginProps:d}));case s.PreviewType.SsrDoc:case s.PreviewType.CloudDoc:return"cloud_doc"===(null===(i=null===(e=A.previewMetadata)||void 0===e?void 0:e.content)||void 0===i?void 0:i[".tag"])&&A.previewMetadata.content.exit_url?r.createElement(g,Object.assign({},A,{data:void 0,filePreviewUiData:a,rivieraData:void 0,pluginProps:d})):(null===(c=null===(n=A.fileMetadata)||void 0===n?void 0:n.file_name)||void 0===c?void 0:c.endsWith(".gsheet"))?r.createElement(m,Object.assign({},A,{data:void 0,filePreviewUiData:a,rivieraData:void 0,pluginProps:d,isRawHtml:!0})):r.createElement(_,Object.assign({},A,{data:void 0,filePreviewUiData:a,rivieraData:l,pluginProps:d}));case s.PreviewType.Video:case s.PreviewType.Audio:return r.createElement(p,Object.assign({},A,{data:void 0,filePreviewUiData:a,isAudio:w===s.PreviewType.Audio,rivieraData:l,pluginProps:d}));case s.PreviewType.Excel:if("ms_view_embed"===A.config.excel_support.embed_support)return r.createElement(v,Object.assign({},A,{data:void 0,filePreviewUiData:a,rivieraData:void 0,pluginProps:d}));if("excel1"===A.config.excel_support.support)return r.createElement(m,Object.assign({},A,{data:void 0,filePreviewUiData:a,rivieraData:void 0,pluginProps:d,isRawHtml:!1}));if("excel2"===A.config.excel_support.support)return r.createElement(f,Object.assign({},A,{data:void 0,filePreviewUiData:a,rivieraData:l,pluginProps:d}));break;case s.PreviewType.HTML:case s.PreviewType.RawHTML:if(A.config.html_support)return r.createElement(m,Object.assign({},A,{data:void 0,filePreviewUiData:a,rivieraData:void 0,pluginProps:d,isRawHtml:w===s.PreviewType.RawHTML}));break;case s.PreviewType.Archive:return r.createElement(b,Object.assign({},A,{data:void 0,filePreviewUiData:a,rivieraData:l,pluginProps:d}));case s.PreviewType.Linkfile:return r.createElement(h,Object.assign({},A,{data:void 0,filePreviewUiData:a,rivieraData:l,pluginProps:d}))}return r.createElement(t.PreviewError,Object.assign({error:new o.FVError(o.FVErrorCode.UnsupportedPreviewType),filePreviewUiData:a,data:void 0},A))})())},t.PreviewRenderer.displayName="PreviewRenderer",t.PreviewRenderer.displayName="PreviewRenderer"})),define("typescript/libraries/file-viewer/src/sidebar/login_signup_buttons",["require","exports","tslib","dig-components/buttons","react","react-redux","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/core/config","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/modes/types","dig-components/tooltips","dig-components/icons/src","dig-components/icons"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoginSignupButtons=void 0,n=i.__importDefault(n),t.LoginSignupButtons=({intl:e,dispatch:t,fileViewerUiData:i,className:_})=>{const g=a.useSelector(s.getCurrentUser),v=a.useSelector(s.getFetchingUser),f=e.formatMessage({id:"N0xz5m",defaultMessage:"Sign in"}),m=()=>{t(l.showAuthModal({mode:o.AuthMode.LOGIN,kind:o.LoginOrRegisterKind.IMMEDIATE,loggingExtra:{source:"login_signup_button"}}))};return(null==i?void 0:i.sidebar.visibility)===c.SidebarVisibility.Closed?n.default.createElement(d.Tooltip,{placement:"left",title:f},n.default.createElement(r.IconButton,{title:f,onClick:m,variant:"transparent"},n.default.createElement(p.UIIcon,{src:u.PersonLine}))):v||g?null:n.default.createElement("div",{className:_},n.default.createElement(r.Button,{onClick:()=>t(l.showAuthModal({mode:o.AuthMode.LOGIN,kind:o.LoginOrRegisterKind.SIDEBAR})),"aria-label":e.formatMessage({id:"Cg3xuN",defaultMessage:"Button to trigger login dialog"}),variant:"opacity"},f),n.default.createElement(r.Button,{onClick:()=>t(l.showAuthModal({mode:o.AuthMode.REGISTER,kind:o.LoginOrRegisterKind.SIDEBAR})),"aria-label":e.formatMessage({id:"B9J0l9",defaultMessage:"Button to trigger sign up dialog"}),variant:"primary"},e.formatMessage({id:"5KEf7W",defaultMessage:"Sign up"})))},t.LoginSignupButtons.displayName="LoginSignupButtons"})),define("typescript/libraries/file-viewer/src/sidebar_v2/edit_plugin_sidebar",["require","exports","tslib","react","react-redux","typescript/libraries/file-viewer/src/plugins/data","typescript/libraries/file-viewer/src/plugins/props","typescript/libraries/file-viewer/src/css/right_rail/right_rail.module.css"],(function(e,t,i,r,n,a,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditPluginSidebar=void 0,r=i.__importDefault(r),o=i.__importStar(o),t.EditPluginSidebar=({plugin:e,fileViewerId:t,pluginNavigation:i,pluginQueryBus:l})=>{const c=n.useSelector(e=>a.getPluginData(e,{fileViewerId:t,navigation:i})),d=n.useSelector(e=>s.makePluginProps(e,t,c,l)),{Sidebar:u}=e.editUI;return u&&d?r.default.createElement("div",{className:o.editPluginContainer},r.default.createElement(u,Object.assign({},d))):null},t.EditPluginSidebar.displayName="EditPluginSidebar"})),define("typescript/libraries/file-viewer/src/sidebar_v2/index",["require","exports","typescript/libraries/file-viewer/src/sidebar_v2/right_rail"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewRightRail=void 0,Object.defineProperty(t,"PreviewRightRail",{enumerable:!0,get:function(){return i.PreviewRightRail}})})),define("typescript/libraries/file-viewer/src/title_bar_v2/help_menu",["require","exports","tslib","dig-components/buttons","dig-components/icons/src","dig-components/icons","dig-components/menu","react"],(function(e,t,i,r,n,a,s,o){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.HelpMenu=void 0,o=i.__importDefault(o),(function(e){e[e.HELP=0]="HELP",e[e.REPORT=1]="REPORT",e[e.PRIVACY=2]="PRIVACY",e[e.COOKIES=3]="COOKIES"})(l||(l={})),t.HelpMenu=({intl:e})=>{const t=document.getElementById("consent-iframe"),i=e.formatMessage({id:"yXlaNs",defaultMessage:"Help"});return o.default.createElement(s.Menu.Wrapper,{onSelection:e=>{var i;const r=window.location&&encodeURIComponent(window.location.href),n={[l.HELP]:"https://help.dropbox.com/",[l.REPORT]:`/report_abuse?ssu=${r}`,[l.PRIVACY]:"/privacy"};if(e===l.COOKIES)return null===(i=t.contentWindow)||void 0===i?void 0:i.postMessage({message_type:"OPEN_OPTIONS_DIALOG"},"https://consent.dropbox.com/");const a=n[e];window.open(a)}},({getTriggerProps:c,getContentProps:d})=>o.default.createElement(o.default.Fragment,null,o.default.createElement(r.IconButton,Object.assign({},c(),{variant:"transparent","aria-label":i}),o.default.createElement(a.UIIcon,{src:n.HelpLine})),o.default.createElement(s.Menu.Content,Object.assign({},d()),o.default.createElement(s.Menu.Segment,null,o.default.createElement(s.Menu.ActionItem,{value:l.HELP,key:l.HELP},e.formatMessage({id:"AIqtl8",defaultMessage:"Help center"})),o.default.createElement(s.Menu.ActionItem,{value:l.PRIVACY,key:l.PRIVACY},e.formatMessage({id:"dCY8w0",defaultMessage:"Privacy and legal"})),t&&o.default.createElement(s.Menu.ActionItem,{value:l.COOKIES,key:l.COOKIES},e.formatMessage({id:"jnuJZG",defaultMessage:"Cookie & CCPA preferences"})),o.default.createElement(s.Menu.ActionItem,{value:l.REPORT,key:l.REPORT},e.formatMessage({id:"ivV9/Z",defaultMessage:"Report an issue"}))))))},t.HelpMenu.displayName="HelpMenu"})),define("typescript/libraries/file-viewer/src/utils",["require","exports","tslib","react-intl","react","dig-components/menu","dig-components/buttons","dig-components/icons","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","typescript/libraries/file-viewer/src/plugins/types","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","typescript/libraries/file-viewer/src/preview_audio_video/helper/browser_detection"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcResponsiveSize=t.getRootName=t.extractSnackbarManagerFromPlugins=t.extractToolbarComponentsFromPlugins=t.extractTitlebarComponentsFromPlugins=t.extractActionsFromPlugins=t.GENERIC_CATEGORY_PLUGIN_ID=void 0,n=i.__importStar(n),t.GENERIC_CATEGORY_PLUGIN_ID="GENERIC_CATEGORY_PLUGIN_ID";const _=e=>({actionType:c.ActionBarActionTypes.CUSTOM_ACTION,id:e.id,text:r.defineMessage({id:"C2s323",defaultMessage:"Blank"}),icon:n.default.createElement("div",null),isEnabled:!0,renderButton:e.renderButton,overflowItem:e.overflowItem}),g=(e,t)=>{const i=d.parseActionBarPlugin(t);if(null==i)return e;const{alwaysAtTopLevel:r,atTopLevelIfSpace:n,alwaysInOverflow:a}=i.actionDefinitions,s=(e=[],t=[])=>[...e,...t];return{alwaysAtTopLevel:s(e.alwaysAtTopLevel,null==r?void 0:r.map(_)),atTopLevelIfSpace:s(e.atTopLevelIfSpace,null==n?void 0:n.map(_)),alwaysInOverflow:((e=[],t=[])=>{var i,r;const n=[];for(let a=0;a<e.length||a<t.length;a++)n[a]=[...null!==(i=e[a])&&void 0!==i?i:[],...null!==(r=t[a])&&void 0!==r?r:[]];return n})(e.alwaysInOverflow,null==a?void 0:a.map(e=>e.map(_)))}},v=(e,t)=>{const i=d.parseTitleBarPlugin(t);if(null==i)return e;{const{identifier:t,titleBarUI:r}=i;return Object.assign(Object.assign({},e),{[t]:r})}},f=(e,t)=>{const i=d.parseToolbarPlugin(t);return i?Object.assign(Object.assign({},e),{[i.identifier]:i.toolbarUI}):e},m={workflows:r.defineMessage({id:"6BWuNX",defaultMessage:"Workflows"})},b={workflows:l.MemberTransferLine},h=({category:e,children:t,hideIcons:i})=>{const l=r.useIntl(),c=m[e],d=b[e],u=n.useCallback(e=>{null==e||e.handler()},[]);return n.default.createElement(a.Menu.Wrapper,{onSelection:u},({getTriggerProps:r,getContentProps:u})=>n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Button,Object.assign({},r(),{variant:"opacity",withIconLeft:i?null:n.default.createElement(o.UIIcon,{src:d}),withDropdownIcon:!0,className:e+"-menu-button"}),l.formatMessage(c)),n.default.createElement(a.Menu.Content,Object.assign({},u()),n.default.createElement(a.Menu.Segment,null,t))))};h.displayName="CategoryButton";const A=({category:e,children:t})=>{const i=r.useIntl(),s=m[e],l=b[e];return n.default.createElement(a.Menu.Submenu,{withTriggerContent:i.formatMessage(s),withLeftAccessory:n.default.createElement(o.UIIcon,{src:l})},n.default.createElement(a.Menu.Segment,null,t))};A.displayName="CategorySubmenu";const w=(e,i,r)=>{var a,s,o,l,c;const d=[];if(e.workflows&&e.workflows.length>0){const i=((e,i)=>{const r=i.map(e=>{var t;return null!==(t=e.overflowItem)&&void 0!==t?t:null}).filter(e=>null!==e);if(0===r.length)return;const a=n.default.createElement(A,{category:e},r);return _({id:t.GENERIC_CATEGORY_PLUGIN_ID,renderButton:t=>n.default.createElement(h,{category:e,hideIcons:t},r),overflowItem:a})})("workflows",e.workflows);void 0!==i&&d.push(i)}const u=i.map(_),p=(null!==(a=r.atTopLevelIfSpace)&&void 0!==a?a:[]).length,g=null!==(l=null===(o=null!==(s=r.alwaysInOverflow)&&void 0!==s?s:[])||void 0===o?void 0:o[0])&&void 0!==l?l:[],v=g.slice(0,p),f=g.slice(p),m=[...v,...u,...d,...f];return Object.assign(Object.assign({},r),{atTopLevelIfSpace:[...null!==(c=r.atTopLevelIfSpace)&&void 0!==c?c:[],...u,...d],alwaysInOverflow:[m]})},y=e=>e.reduce((e,t)=>((e,t)=>{var i,r;const n=e;let a;for(a in t){const s=null!==(i=e[a])&&void 0!==i?i:[],o=null!==(r=t[a])&&void 0!==r?r:[];n[a]=[...s,...o]}return n})(e,(e=>{var t;const i=d.parseActionBarPlugin(e);return null==i?{}:null!==(t=i.actionDefinitions.categories)&&void 0!==t?t:{}})(t)),{});t.extractActionsFromPlugins=function(e,t){const i=Object.values(e),r=i.reduce(g,{}),n=y(i);return w(n,t,r)},t.extractTitlebarComponentsFromPlugins=function(e){return Object.values(e).reduce(v,{})},t.extractToolbarComponentsFromPlugins=function(e){return Object.values(e).reduce(f,{})},t.extractSnackbarManagerFromPlugins=function(e){return Object.values(e).find(d.isSnackbarManagerPlugin)};t.getRootName=function(e){return"work"===e.role&&e.team?e.team.name:e.is_paired?"Personal":"Dropbox"};t.calcResponsiveSize=function(e){return p.is_mobile_or_tablet()?e>1026?u.ResponsiveSize.DESKTOP:e<=736?u.ResponsiveSize.MOBILE:u.ResponsiveSize.TABLET:e>736?u.ResponsiveSize.DESKTOP:e<=428?u.ResponsiveSize.MOBILE:u.ResponsiveSize.TABLET}})),define("typescript/libraries/file-viewer/src/watermarking/edit_plugin/loader",["require","exports","tslib"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeWatermarkLoader=t.WATER_MARKING_PLUGIN_ID=void 0,t.WATER_MARKING_PLUGIN_ID="water_marking",t.makeWatermarkLoader=(r,n)=>({pluginId:t.WATER_MARKING_PLUGIN_ID,load:(t,a)=>i.__awaiter(void 0,void 0,void 0,(function*(){const{makeStore:s}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/watermarking/plugin/redux/index"],t,i)}).then(i.__importStar),{WatermarkingPlugin:o}=yield new Promise((t,i)=>{e(["typescript/libraries/file-viewer/src/watermarking/edit_plugin/plugin"],t,i)}).then(i.__importStar),l=s({platformAdapter:t,logger:r,onWatermarkingSuccessHandler:n});return new o(t,a,l)}))})})),define("typescript/libraries/file-viewer/src/title_bar_v2/title_bar_v2",["require","exports","tslib","react","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/css/title_bar_v2.module.css","classnames","typescript/component_libraries/retrieval-components/src/simple-action-bar/index","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","typescript/libraries/file-viewer/src/sidebar/login_signup_buttons","typescript/libraries/file-viewer/src/title_bar_v2/help_menu","typescript/libraries/file-viewer/src/titlebar/titlebar_logo","dig-components/icons","dig-components/buttons","dig-components/icons/src"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TitleBarV2=t.TITLE_BAR_BACK_AND_HELP_ICONS=t.TITLE_BAR_V2_HEIGHT=void 0,r=i.__importStar(r),s=i.__importStar(s),o=i.__importDefault(o),t.TITLE_BAR_V2_HEIGHT=64,t.TITLE_BAR_BACK_AND_HELP_ICONS=146;const f={handleAction:e=>{var t,i;e.type!==c.ActionBarActionTypes.OPEN&&e.type!==c.ActionBarActionTypes.CUSTOM_ACTION||null===(i=null===(t=e.menuItem)||void 0===t?void 0:t.handler)||void 0===i||i.call(t)}};t.TitleBarV2=e=>{var m,b,{dispatch:h,previewKey:A,fileViewerId:w}=e,y=i.__rest(e,["dispatch","previewKey","fileViewerId"]);const S=a.UserActionContext.TitleBarMain,{actions:P,title:F,intl:R,components:I,config:E,canCloseViewer:C,baseUrl:O,responsiveSize:k,mobileWebVariant:M,width:x}=y,D=x-t.TITLE_BAR_BACK_AND_HELP_ICONS;const T=E&&E.enable_pass&&(null===(m=I.PASS)||void 0===m?void 0:m.Component),L=null===(b=I.SHARE)||void 0===b?void 0:b.Component,j=r.createElement(d.LoginSignupButtons,{intl:R,dispatch:h,className:s.auth}),U=r.createElement(l.ActionBar,{intl:R,actionHandler:f,actions:P,responsive:!0,responsiveSize:k,className:k===c.ResponsiveSize.MOBILE?s.actionBarMobile:s.actionBar,fixedWidth:k===c.ResponsiveSize.MOBILE?40:void 0});return r.createElement("header",{className:o.default(s.titleBar,{[s.mobileTitleBar]:M}),"data-testid":"fv-sdk-title-bar"},C?r.createElement("span",{className:s.closeButton},r.createElement(g.IconButton,{onClick:()=>{h(n.closeViewer({fileViewerId:w,previewKey:A,sourceContext:S}))},variant:"transparent"},r.createElement(_.UIIcon,{"aria-label":R.formatMessage({id:"IDlWPW",defaultMessage:"Back"}),src:v.ChevronLeftLine}))):r.createElement(p.Logo,{className:s.dropboxLogo,previewKey:A,fileViewerId:w,dispatch:h,baseUrl:O}),r.createElement(r.Fragment,null,k!==c.ResponsiveSize.MOBILE&&!M&&U,k===c.ResponsiveSize.MOBILE&&r.createElement(r.Fragment,null,r.createElement("div",{className:s.title,style:{maxWidth:D}},F),!M&&U),M&&r.createElement("span",{className:s.mobileMeatball},r.createElement(g.IconButton,{variant:"transparent",onClick:function(){h(n.toggleMobileMeatballMenu({isOpen:!0,previewKey:A,fileViewerId:w}))}},r.createElement(_.UIIcon,{src:v.MoreHorizontalLine}))),k!==c.ResponsiveSize.MOBILE&&!M&&r.createElement(r.Fragment,null,r.createElement("div",{className:s.spacer}),L&&r.createElement("div",{className:s.share},r.createElement(L,null)),j,T&&r.createElement("div",{className:s.pass},r.createElement(T,null))),!M&&r.createElement("div",{className:s.helpButton},r.createElement(u.HelpMenu,Object.assign({},y)))))},t.TitleBarV2.displayName="TitleBarV2"})),define("typescript/libraries/file-viewer/src/preview_doc/renderer/index",["require","exports","tslib","react","typescript/libraries/file-viewer/src/preview_doc/renderer/ppt","typescript/libraries/file-viewer/src/preview_doc/renderer/pdf","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/preview_doc/data_transform","typescript/libraries/file-viewer/src/css/preview-doc.module.css","typescript/libraries/file-viewer/src/css/preview-core.module.css","typescript/libraries/file-viewer/src/css/doc-sidebar.module.css","typescript/libraries/file-viewer/src/preview_doc/password_modal","typescript/libraries/file-viewer/src/preview_error/index","typescript/libraries/file-viewer/src/keyboard/index","typescript/libraries/file-viewer/src/preview_doc/layers","typescript/libraries/file-viewer/src/core/utils/index","typescript/libraries/file-viewer/src/toolbar/toolbar","typescript/libraries/file-viewer/src/modes/sidebar/utils","typescript/libraries/file-viewer/src/core/constants","typescript/libraries/file-viewer/src/toolbar/toolbar_v2","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/riviera/types","typescript/libraries/file-viewer/src/core/errors","typescript/libraries/file-viewer/src/file_extension/extension_constants","typescript/libraries/file-viewer/src/plugins/types","typescript/libraries/file-viewer/src/core/invariant"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A,w,y,S,P,F){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewDoc=void 0,r=i.__importStar(r);const R=parseInt(l.pageMargin,10),I=parseInt(l.pageMarginTop,10),E=parseInt(l.pageMarginLeft,10),C=parseInt(d.sidebarWidth,10),O=[".docx",".pptx"],k=[...S.PDF_EXTS,...S.WORDPROC_EXTS];class M extends r.PureComponent{constructor(e){super(e),this.state={failedPasswordAttempt:0,passwordDismissed:!1,transformedData:this.props.rivieraData?o.transformData(this.props.rivieraData):this.props.data},this.handlePageChange=(e,t)=>{this.props.dispatch(A.updateDocCurrentPageIndex({fileViewerId:this.props.fileViewerId,previewKey:this.props.previewKey,pageIndex:e,sourceContext:t}))},this.handlePdfPageChange=e=>{this.handlePageChange(e,s.UserActionContext.MouseWheel)},this.handlePasswordSubmit=e=>{const{fileViewerId:t,previewKey:i,previewMetadata:r}=this.props;if(!r||!r.content)return;const{refresh_url:n,text_url_tmpl:a,image_url_tmpl:s}=r.content;F.invariant(!!n,y.FVErrorCode.MalformedRivieraData,"Cannot send password! Missing refresh_url from preview metadata"),this.props.dispatch(A.refreshBlobAction({fileViewerId:t,previewKey:i,refreshUrl:n,oldPreview:{text_url_tmpl:a,image_url_tmpl:s},password:e}))},this.handlePasswordDismiss=()=>{this.setState({passwordDismissed:!0})},this.fetchPageDataWithMetadata=(e,t,i)=>{const r=v.calculatePageRange(e,this.props.config.partial_prewarm_allowed);if(t&&(r[0]!==this.metadataBatchPageRange[0]||r[1]!==this.metadataBatchPageRange[1])){const[e,n]=this.metadataBatchPageRange=r;this.props.dispatch(A.fetchPageDataWithMetadata({fileViewerId:this.props.fileViewerId,previewKey:i,textUrlTmpl:t.content.text_url_tmpl,startPage:e,endPage:n}))}},this.onRenderSucceeded=()=>{this.props.onRenderSucceeded(),this.fetchPageDataWithMetadata(this.props.filePreviewUiData.currentPageIndex,this.props.previewMetadata,this.props.previewKey)},this.zoomIn=()=>{const{dispatch:e,fileViewerId:t,previewKey:i}=this.props;e(A.zoomIn({fileViewerId:t,previewKey:i,sourceContext:s.UserActionContext.Keyboard}))},this.zoomOut=()=>{const{dispatch:e,fileViewerId:t,previewKey:i}=this.props;e(A.zoomOut({fileViewerId:t,previewKey:i,sourceContext:s.UserActionContext.Keyboard}))},this.keyboardBindings=_.getZoomInOutBindings({zoomIn:this.zoomIn,zoomOut:this.zoomOut}),e.config.partial_prewarm_allowed?this.metadataBatchPageRange=[0,b.TEXT_FIRST_BATCH_SIZE]:this.metadataBatchPageRange=[0,50]}recalculateFitScaleFactor(e=this.props){const{rivieraData:t,fileViewerId:i,previewKey:r,width:n,height:a,dispatch:s}=e;if(!t||!t.metadata)return;const o=h.shouldShowDocSidebar(n)&&e.config.enable_navigation_bar&&e.coreFileViewerUiData.isDocSidebarOpen,l=Math.max(0,n-R-E-(o?C:0)-30),c=Math.max(0,a-R-I),{scaleToFit:d,maxWidth:u}=this.props.config.preview_types[P.PreviewType.SsrDoc],p=null!=u?Math.min(l,u):l,_=c,{dimensions:g}=t.metadata;if(0===g.length)return 1;const f=e.config.fvsdk_readable_doc_zoom&&this.props.fileMetadata&&k.includes(v.getFileExtension(this.props.fileMetadata.file_name)),m="width_and_height"===d&&!f,b=g.reduce((e,[t,i])=>Math.min(e,p/t,m?_/i:Number.POSITIVE_INFINITY),Number.POSITIVE_INFINITY);s(A.updateFitScaleFactor({fileViewerId:i,previewKey:r,fitScaleFactor:Math.min(b,f?1.75:Number.POSITIVE_INFINITY)}))}componentDidMount(){this.props.fileMetadata&&O.includes(v.getFileExtension(this.props.fileMetadata.file_name))&&this.props.dispatch(A.triggerDynamicRoutingModalCheck()),this.recalculateFitScaleFactor()}UNSAFE_componentWillReceiveProps(e){const{rivieraData:t,previewMetadata:i}=e;e.previewKey.serialized!==this.props.previewKey.serialized?this.setState({failedPasswordAttempt:0,passwordDismissed:!1}):t&&t!==this.props.rivieraData&&t.error&&t.error.statusCode===w.RivieraStatus.PasswordProtected&&this.setState({failedPasswordAttempt:this.state.failedPasswordAttempt+1}),t!==this.props.rivieraData&&this.setState({transformedData:t?o.transformData(t):e.data});const{currentPageIndex:r}=e.filePreviewUiData,[n,a]=this.metadataBatchPageRange;!(r>=n&&r<a)&&t&&i&&v.canPreviewInPreviewDoc(i)&&this.fetchPageDataWithMetadata(r,i,e.previewKey),this.recalculateFitScaleFactor(e)}render(){var e,t;const{config:i,coreFileViewerUiData:s,dispatch:o,previewKey:l,fileMetadata:d,filePreviewUiData:b,fileViewerId:h,fileConfig:A,height:F,intl:I,rootArchiveFileInformation:O,rivieraData:k,width:M}=this.props,{failedPasswordAttempt:x,transformedData:D,passwordDismissed:T}=this.state,L=d?d.file_name:"";if(null===(e=this.props.rivieraData)||void 0===e?void 0:e.error){const e=this.props.rivieraData.error.statusCode!==w.RivieraStatus.PasswordProtected?new y.FVError(y.FVErrorCode.RivieraDataFetchFailure,this.props.rivieraData.error.message):T||x>3?new y.FVError(y.FVErrorCode.PasswordProtected):void 0;return e?r.createElement(p.PreviewRenderError,Object.assign({},this.props,{rivieraData:void 0,data:void 0,error:e})):r.createElement(u.PasswordModal,{enteredWrongPassword:!!x,intl:I,onSubmit:this.handlePasswordSubmit,onDismiss:this.handlePasswordDismiss,fileName:L})}const j=R+E,U=Math.round(100*(M-j-C)/window.innerWidth/window.devicePixelRatio),V=Object.assign(Object.assign({},b),{viewportWidth:U}),N=Object.assign(Object.assign({},this.props),{onRenderSucceeded:this.onRenderSucceeded,filePreviewUiData:V,data:(D||[]).filter(e=>e),onPageChange:this.handlePdfPageChange,layerRenderFn:g.defaultLayerRenderFn,pageNavigation:b.pageNavigation});return r.createElement("div",{className:c.app,style:{width:M,height:F}},S.PRESENTATION_EXTS.includes(v.getFileExtension(L))?r.createElement(n.PreviewPPT,Object.assign({},N,{onPageChange:this.handlePageChange})):r.createElement(a.PreviewPDF,Object.assign({},N,{isEditMode:m.isPluginEditMode(null===(t=this.props.activePluginInstance)||void 0===t?void 0:t.mode)})),!i.preview_page_revamp&&r.createElement(f.ConfigurableToolbarV1,{className:c.toolbar,previewKey:l,fileConfig:A,fileViewerId:h,featureConfig:i,intl:I,previewType:P.PreviewType.SsrDoc,dispatch:o,rootArchiveFileInformation:O,fileViewerUi:s,filePreviewUi:b,fileMetadata:d,fileRivieraData:k}),r.createElement(_.KeyboardBindingConnector,{keyboardBindings:this.keyboardBindings}))}}t.PreviewDoc=M,M.displayName="PreviewDoc"})),define("typescript/libraries/file-viewer/src/preview_doc/index",["require","exports","typescript/libraries/file-viewer/src/preview_doc/sidebar","typescript/libraries/file-viewer/src/preview_doc/links_layer","typescript/libraries/file-viewer/src/preview_doc/text_transform","typescript/libraries/file-viewer/src/preview_doc/img_layer","typescript/libraries/file-viewer/src/preview_doc/text_layer","typescript/libraries/file-viewer/src/preview_doc/text_transform","typescript/libraries/file-viewer/src/preview_doc/error_snackbar","typescript/libraries/file-viewer/src/preview_doc/types","typescript/libraries/file-viewer/src/preview_doc/renderer/index","typescript/libraries/file-viewer/src/preview_doc/renderer/page","typescript/libraries/file-viewer/src/preview_doc/renderer/pdf_pages","typescript/libraries/file-viewer/src/preview_doc/renderer/pdf","typescript/libraries/file-viewer/src/preview_doc/renderer/ppt","typescript/libraries/file-viewer/src/preview_doc/password_modal","typescript/libraries/file-viewer/src/preview_doc/layers"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLayerRenderFn=t.PasswordModal=t.PreviewPPT=t.PreviewPDF=t.PdfPages=t.Page=t.PreviewDoc=t.TextDir=t.TextNodeType=t.ErrorSnackbar=t.transformText=t.TextLayer=t.ImgLayer=t.normalizeUrl=t.isLinkUrl=t.LinksLayer=t.SIDEBAR_WIDTH=t.Sidebar=void 0,Object.defineProperty(t,"Sidebar",{enumerable:!0,get:function(){return i.Sidebar}}),Object.defineProperty(t,"SIDEBAR_WIDTH",{enumerable:!0,get:function(){return i.SIDEBAR_WIDTH}}),Object.defineProperty(t,"LinksLayer",{enumerable:!0,get:function(){return r.LinksLayer}}),Object.defineProperty(t,"isLinkUrl",{enumerable:!0,get:function(){return r.isLinkUrl}}),Object.defineProperty(t,"normalizeUrl",{enumerable:!0,get:function(){return n.normalizeUrl}}),Object.defineProperty(t,"ImgLayer",{enumerable:!0,get:function(){return a.ImgLayer}}),Object.defineProperty(t,"TextLayer",{enumerable:!0,get:function(){return s.TextLayer}}),Object.defineProperty(t,"transformText",{enumerable:!0,get:function(){return o.transform}}),Object.defineProperty(t,"ErrorSnackbar",{enumerable:!0,get:function(){return l.ErrorSnackbar}}),Object.defineProperty(t,"TextNodeType",{enumerable:!0,get:function(){return c.TextNodeType}}),Object.defineProperty(t,"TextDir",{enumerable:!0,get:function(){return c.TextDir}}),Object.defineProperty(t,"PreviewDoc",{enumerable:!0,get:function(){return d.PreviewDoc}}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return u.Page}}),Object.defineProperty(t,"PdfPages",{enumerable:!0,get:function(){return p.PdfPages}}),Object.defineProperty(t,"PreviewPDF",{enumerable:!0,get:function(){return _.PreviewPDF}}),Object.defineProperty(t,"PreviewPPT",{enumerable:!0,get:function(){return g.PreviewPPT}}),Object.defineProperty(t,"PasswordModal",{enumerable:!0,get:function(){return v.PasswordModal}}),Object.defineProperty(t,"defaultLayerRenderFn",{enumerable:!0,get:function(){return f.defaultLayerRenderFn}})})),define("typescript/libraries/file-viewer/src/preview_doc/renderer/pdf",["require","exports","tslib","react","classnames","typescript/libraries/file-viewer/src/preview_doc/sidebar","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/preview_doc/renderer/pdf_pages","typescript/libraries/file-viewer/src/css/preview-doc.module.css","typescript/libraries/file-viewer/src/css/ui.module.css","typescript/libraries/file-viewer/src/css/preview-core.module.css","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/keyboard/index","typescript/libraries/file-viewer/src/ui/index","typescript/libraries/file-viewer/src/plugins/header","typescript/libraries/file-viewer/src/css/header.module.css","typescript/libraries/file-viewer/src/toolbar/toolbar_v2","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/plugins/types"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewPDF=void 0,r=i.__importStar(r),n=i.__importDefault(n);class h extends r.PureComponent{constructor(e){super(e),this.pdfPages=null,this.containerEl=null,this.pageRendered={},this.state={isSidebarFocused:!1,rendered:!1},this.handleSidebarPageChange=e=>{this.focusSidebar(),this.syncStorePageIndex(e,s.UserActionContext.DocSidebar),this.props.onPageNavigation&&this.props.onPageNavigation(e);const{logSidebarPageClicked:t}=this.props;t&&t()},this.dispatchResolvePageNavigation=()=>{this.props.dispatch(m.resolvePageNavigation({fileViewerId:this.props.fileViewerId,previewKey:this.props.previewKey,sourceContext:s.UserActionContext.Default}))},this.focusSidebar=()=>{this.setState({isSidebarFocused:!0})},this.unfocusSidebar=()=>{this.setState({isSidebarFocused:!1})},this.handleCloseFullScreen=()=>{const{dispatch:e,previewKey:t,fileViewerId:i}=this.props;e(m.exitFullScreen({previewKey:t,fileViewerId:i,sourceContext:s.UserActionContext.Default,isFromOutsideSDK:!1}))},this.handleInternalLinkClicked=e=>{this.props.onPageNavigation&&this.props.onPageNavigation(e),this.syncStorePageIndex(e,s.UserActionContext.DocLink)},this.handleImageLoad=e=>{this.pageRendered[e]|=2,this.props.onInteractive(),this.checkPageRendered()},this.handleImageError=()=>{this.props.onPageImageError&&this.props.onPageImageError()},this.handleTextRendered=e=>{this.pageRendered[e]|=1,this.checkPageRendered()},this.pageDown=()=>{this.pdfPages&&this.pdfPages.pageDown()},this.pageUp=()=>{this.pdfPages&&this.pdfPages.pageUp()},this.scrollDown=()=>{this.pdfPages&&this.pdfPages.scrollDown()},this.scrollUp=()=>{this.pdfPages&&this.pdfPages.scrollUp()},this.upBinding=()=>{this.state.isSidebarFocused?this.pageUp():this.scrollUp()},this.downBinding=()=>{this.state.isSidebarFocused?this.pageDown():this.scrollDown()},this.makeKeyboardBindings=()=>[...p.getPageUpDownBindings({pageUp:this.pageUp,pageDown:this.pageDown}),...p.getUpDownBindings({up:this.upBinding,down:this.downBinding}),...p.getHomeEndBindings({home:()=>this.syncStorePageIndex(0,s.UserActionContext.Keyboard),end:()=>{this.props.rivieraData&&this.syncStorePageIndex(this.props.rivieraData.pages.length-1,s.UserActionContext.Keyboard)}})],this.keybindings=this.makeKeyboardBindings()}checkPageRendered(){if(this.state.rendered)return;Object.keys(this.pageRendered).find(e=>3===this.pageRendered[+e])&&(this.setState({rendered:!0}),this.props.onRenderSucceeded&&this.props.onRenderSucceeded())}UNSAFE_componentWillReceiveProps(e){e.previewKey.serialized!==this.props.previewKey.serialized&&(this.setState({isSidebarFocused:!1,rendered:!1}),this.pageRendered={},this.syncStorePageIndex(0,s.UserActionContext.DocReset))}getContainerEl(){return this.containerEl}syncStorePageIndex(e,t){this.props.dispatch(m.pageNavigation({fileViewerId:this.props.fileViewerId,previewKey:this.props.previewKey,sourceContext:t,pageIndex:e}))}jumpToPage(e){this.pdfPages&&this.pdfPages.jumpToPage(e)}render(){const{account:e,activePluginInstance:t,className:i,config:s,coreFileViewerUiData:m,currentMode:h,data:A,dispatch:w,fileInfo:y,fileMetadata:S,filePreviewUiData:P,fileViewerId:F,height:R,intl:I,isEditMode:E,layerRenderFn:C,onMouseDown:O,onMouseEnter:k,onMouseMove:M,onMouseUp:x,rootArchiveFileInformation:D,onPageChange:T,onScroll:L,pageClassName:j,pagesClassName:U,pluginProps:V,previewKey:N,previewMetadata:B,pluginQueryBus:K,width:G,fileConfig:z,rivieraData:W,toolbarPlugins:H,snackbarManagerPluginInstance:q,responsiveSize:Y,openInAppPluginInstance:J}=this.props,{currentPageIndex:Q}=P,Z=u.getCurrentScaleFactorFromFilePreviewUi(P),{isDocSidebarOpen:X,isFullScreen:$}=m,{rendered:ee}=this.state,te=f.shouldShowDocSidebar(G),ie=te&&s.enable_navigation_bar&&X,re=s.enable_navigation_bar&&te,ne=s.fvsdk_use_native_lazy_loading;return r.createElement(r.Fragment,null,r.createElement("article",{className:n.default(l.container,i,{[d.isFullScreen]:$}),style:{visibility:ee?"visible":"hidden",width:G,height:R},ref:e=>this.containerEl=e},$&&r.createElement(_.CloseButton,{className:n.default(l.close,c.close),intl:I,onClick:this.handleCloseFullScreen}),ee&&re&&!$?r.createElement(a.Sidebar,{isOpened:X,isEditMode:E,currentPageIndex:Q,pages:A,intl:I,isFocused:this.state.isSidebarFocused,onPageChange:this.handleSidebarPageChange,onFocus:this.focusSidebar,onBlur:this.unfocusSidebar,featureConfig:s}):null,r.createElement("div",{className:v.headerContainer},V&&r.createElement(g.PluginHeader,{pluginProps:V,activePluginInstance:t||void 0,openInAppPluginInstance:J}),r.createElement(o.PdfPages,{className:n.default(l.pdfViewport,U),count:A?A.length:1,height:R,onMouseDown:O,onMouseEnter:k,onMouseMove:M,onMouseUp:x,onPageChange:T,onScroll:L,pageClassName:j,currentPageIndex:Q,pages:(A||[]).slice(0,ee?void 0:1),ref:e=>this.pdfPages=e,scaleFactor:Z,width:ie?G-a.SIDEBAR_WIDTH:G,pageNavigation:P.pageNavigation,dispatchResolvePageNavigation:this.dispatchResolvePageNavigation,pluginQueryBus:K,previewKey:N,nativeLazyLoadingVariant:ne,toolbar:s.preview_page_revamp&&r.createElement(f.ConfigurableToolbarV2,{featureConfig:s,fileConfig:z,previewKey:N,fileViewerId:F,showDocSidebar:re,intl:I,rootArchiveFileInformation:D,previewType:b.PreviewType.SsrDoc,fileRivieraData:W,filePreviewUi:P,fileViewerUi:m,fileMetadata:S,previewWidth:G,plugins:H,snackbarManagerPluginInstance:q,responsiveSize:Y})},C({account:e,activePluginInstance:t,config:s,coreFileViewerUiData:m,currentMode:h,dispatch:w,fileInfo:y,fileMetadata:S,filePreviewUiData:P,fileViewerId:F,intl:I,pluginProps:V,previewKey:N,previewMetadata:B,onImageError:this.handleImageError,onImageLoad:this.handleImageLoad,onInternalLinkClicked:this.handleInternalLinkClicked,onTextRendered:this.handleTextRendered})))),r.createElement(p.KeyboardBindingConnector,{keyboardBindings:this.keybindings}))}}t.PreviewPDF=h,h.displayName="PreviewPDF"})),define("typescript/libraries/file-viewer/src/preview_image/container",["require","exports","tslib","react","classnames","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/preview_image/preview_image","typescript/libraries/file-viewer/src/css/preview-core.module.css","typescript/libraries/file-viewer/src/keyboard/index","typescript/libraries/file-viewer/src/preview_image/layers","typescript/libraries/file-viewer/src/toolbar/toolbar","typescript/libraries/file-viewer/src/ui/index","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/plugins/types"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewImageContainer=void 0,r=i.__importStar(r),n=i.__importDefault(n);class g extends r.Component{constructor(){super(...arguments),this.handleCloseFullScreen=()=>{const{dispatch:e,previewKey:t,fileViewerId:i}=this.props;e(p.exitFullScreen({previewKey:t,fileViewerId:i,sourceContext:a.UserActionContext.Default,isFromOutsideSDK:!1}))},this.handleFitScaleFactorChange=(e,t)=>{const{dispatch:i,fileViewerId:r,previewKey:n}=this.props;i(p.updateFitScaleFactor({fileViewerId:r,previewKey:n,fitScaleFactor:e,storedFitScaleFactor:t}))},this.handleUpdateDimensions=e=>{const{dispatch:t,fileViewerId:i,previewKey:r}=this.props;t(p.updateDimensions({fileViewerId:i,previewKey:r,dimensions:e}))},this.zoomIn=e=>{const{dispatch:t,fileViewerId:i,previewKey:r}=this.props;t(p.zoomIn({fileViewerId:i,previewKey:r,sourceContext:e}))},this.zoomOut=e=>{const{dispatch:t,fileViewerId:i,previewKey:r}=this.props;t(p.zoomOut({fileViewerId:i,previewKey:r,sourceContext:e}))},this.keyboardBindings=l.getZoomInOutBindings({zoomIn:()=>this.zoomIn(a.UserActionContext.Keyboard),zoomOut:()=>this.zoomOut(a.UserActionContext.Keyboard)})}render(){const{config:e,coreFileViewerUiData:t,dispatch:i,fileConfig:a,fileMetadata:p,previewKey:g,filePreviewUiData:v,fileViewerId:f,intl:m}=this.props,b=t.isFullScreen;return r.createElement("div",{className:n.default(o.app,{[o.isFullScreen]:b})},b&&r.createElement(u.CloseButton,{intl:m,onClick:this.handleCloseFullScreen}),r.createElement(s.PreviewImage,Object.assign({},this.props,{layerRenderFn:c.defaultLayerRenderFn,onFitScaleFactorChanged:this.handleFitScaleFactorChange,onUpdateDimensions:this.handleUpdateDimensions})),!e.preview_page_revamp&&r.createElement(d.ConfigurableToolbarV1,{className:o.toolbar,dispatch:i,featureConfig:e,rootArchiveFileInformation:this.props.rootArchiveFileInformation,fileConfig:a,previewKey:g,fileViewerId:f,intl:m,previewType:_.PreviewType.Image,filePreviewUi:v,fileMetadata:p,fileViewerUi:t}),r.createElement(l.KeyboardBindingConnector,{keyboardBindings:this.keyboardBindings}))}}t.PreviewImageContainer=g,g.displayName="PreviewImageContainer"})),define("typescript/libraries/file-viewer/src/preview_doc/renderer/ppt",["require","exports","tslib","react","lodash","classnames","typescript/libraries/file-viewer/src/preview_doc/sidebar","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/core/utils/image_utils","typescript/libraries/file-viewer/src/preview_doc/renderer/page","typescript/libraries/file-viewer/src/css/preview-doc.module.css","typescript/libraries/file-viewer/src/css/preview-core.module.css","typescript/libraries/file-viewer/src/css/header.module.css","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/keyboard/index","typescript/libraries/file-viewer/src/ui/index","typescript/libraries/file-viewer/src/plugins/header","typescript/libraries/file-viewer/src/toolbar/toolbar_v2","typescript/libraries/file-viewer/src/plugins/types","typescript/libraries/file-viewer/src/core/data/actions"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewPPTWithOnlyImageLayer=t.PreviewPPT=void 0,r=i.__importStar(r),a=i.__importDefault(a);class A extends r.PureComponent{constructor(){super(...arguments),this.state={isSidebarFocused:!0,rendered:!1},this.pageRendered={},this.focusSidebar=()=>{this.setState({isSidebarFocused:!0})},this.unfocusSidebar=()=>{this.setState({isSidebarFocused:!1})},this.handleSidebarPageChange=e=>{this.focusSidebar(),this.props.onPageChange&&this.props.onPageChange(e,o.UserActionContext.DocSidebar)},this.handleWheel=n.debounce(e=>{const{data:t,width:i,height:r,filePreviewUiData:n,onPageChange:a}=this.props;if(!t.length)return;const{currentPageIndex:s}=n,c=_.getCurrentScaleFactorFromFilePreviewUi(n),{dimension:d}=t[s],u=(p=d,g=[i,r],l.calculateFitBox(g[0],g[1],p[0]/p[1])[0]/p[0]);var p,g;c.toFixed(2)<=u.toFixed(2)&&a&&a(s+(e.deltaY>0?1:-1),o.UserActionContext.MouseWheel)},40,{leading:!0,trailing:!1}),this.handleClose=()=>{const{dispatch:e,previewKey:t,fileViewerId:i}=this.props;e(h.exitFullScreen({previewKey:t,fileViewerId:i,sourceContext:o.UserActionContext.Default,isFromOutsideSDK:!1}))},this.handleImageLoad=e=>(this.pageRendered[e]|=2,this.props.onInteractive(),this.checkPageRendered()),this.handleTextRendered=e=>{this.pageRendered[e]|=1,this.checkPageRendered()},this.changePage=(e,t)=>{const{onPageChange:i}=this.props;i(e,t)},this.pageFirst=e=>{this.changePage(0,e)},this.pageLast=e=>{const t=this.props.rivieraData;t&&this.changePage(t.pages.length-1,e)},this.pageNext=e=>{const{currentPageIndex:t}=this.props.filePreviewUiData;this.changePage(t+1,e)},this.pagePrev=e=>{const{currentPageIndex:t}=this.props.filePreviewUiData;this.changePage(t-1,e)},this.pageUpKeyboard=()=>this.pagePrev(o.UserActionContext.Keyboard),this.pageDownKeyboard=()=>this.pageNext(o.UserActionContext.Keyboard),this.pageFirstKeyboard=()=>this.pageFirst(o.UserActionContext.Keyboard),this.pageLastKeyboard=()=>this.pageLast(o.UserActionContext.Keyboard),this.keyboardBindings=[...g.getPageUpDownBindings({pageUp:this.pageUpKeyboard,pageDown:this.pageDownKeyboard}),...g.getUpDownBindings({up:this.pageUpKeyboard,down:this.pageDownKeyboard}),...g.getHomeEndBindings({home:this.pageFirstKeyboard,end:this.pageLastKeyboard})]}checkPageRendered(){!this.state.rendered&&Object.keys(this.pageRendered).find(e=>3===this.pageRendered[+e])&&(this.setState({rendered:!0}),this.props.onRenderSucceeded&&this.props.onRenderSucceeded())}handleInternalLinkClicked(){}handleImageError(){}UNSAFE_componentWillReceiveProps(e){e.previewKey.serialized!==this.props.previewKey.serialized&&(this.setState({isSidebarFocused:!1,rendered:!1}),this.pageRendered={},this.props.onPageChange&&this.props.onPageChange(0,o.UserActionContext.DocReset))}componentDidUpdate(){this.props.pageNavigation&&(this.props.onPageChange(this.props.pageNavigation.pageIndex,o.UserActionContext.Default),this.props.dispatch(h.resolvePageNavigation({previewKey:this.props.previewKey,fileViewerId:this.props.fileViewerId,sourceContext:o.UserActionContext.Default})))}render(){const{account:e,activePluginInstance:t,className:i,config:n,coreFileViewerUiData:o,currentMode:l,data:h,dispatch:A,fileInfo:w,fileMetadata:y,filePreviewUiData:S,fileViewerId:P,height:F,intl:R,layerRenderFn:I,onPageMouseDown:E,onPageMouseEnter:C,onPageMouseMove:O,onPageMouseUp:k,pageClassName:M,pluginProps:x,previewKey:D,previewMetadata:T,refCallback:L,width:j,rootArchiveFileInformation:U,pageNavigation:V,rivieraData:N,fileConfig:B,toolbarPlugins:K,snackbarManagerPluginInstance:G,responsiveSize:z,openInAppPluginInstance:W}=this.props,H=V?V.pageIndex:S.currentPageIndex,q=_.getCurrentScaleFactorFromFilePreviewUi(S),{isDocSidebarOpen:Y,isFullScreen:J}=o,{isSidebarFocused:Q,rendered:Z}=this.state,X=Z&&n.enable_navigation_bar&&m.shouldShowDocSidebar(j)&&!J;return r.createElement(r.Fragment,null,r.createElement("article",{ref:L,className:a.default(d.container,i,{[u.isFullScreen]:J}),style:{visibility:Z?"visible":"hidden",height:F,width:j}},n.preview_page_revamp&&r.createElement(m.ConfigurableToolbarV2,{rootArchiveFileInformation:U,featureConfig:n,fileConfig:B,previewKey:D,fileViewerId:P,intl:R,showDocSidebar:X,previewType:b.PreviewType.SsrDoc,fileRivieraData:N,filePreviewUi:S,fileViewerUi:o,fileMetadata:y,previewWidth:j,plugins:K,snackbarManagerPluginInstance:G,responsiveSize:z}),J&&r.createElement(v.CloseButton,{intl:R,onClick:this.handleClose,isInverse:!1}),X?r.createElement(s.Sidebar,{currentPageIndex:H,pages:h,intl:R,isFocused:Q,onPageChange:this.handleSidebarPageChange,onFocus:this.focusSidebar,onBlur:this.unfocusSidebar,isOpened:Y,featureConfig:n}):null,r.createElement("div",{className:p.headerContainer},x&&r.createElement(f.PluginHeader,{pluginProps:x,activePluginInstance:t||void 0,openInAppPluginInstance:W}),r.createElement("section",{className:d.pptViewport,onWheel:this.handleWheel},r.createElement(c.Page,{className:M,key:H,onMouseDown:E,onMouseEnter:C,onMouseMove:O,onMouseUp:k,data:h?h[H]:void 0,scaleFactor:q},I({account:e,activePluginInstance:t,config:n,coreFileViewerUiData:o,currentMode:l,dispatch:A,fileInfo:w,fileMetadata:y,filePreviewUiData:S,fileViewerId:P,intl:R,pluginProps:x,previewKey:D,previewMetadata:T,onImageError:this.handleImageError,onImageLoad:this.handleImageLoad,onInternalLinkClicked:this.handleInternalLinkClicked,onTextRendered:this.handleTextRendered}))))),r.createElement(g.KeyboardBindingConnector,{keyboardBindings:this.keyboardBindings}))}}t.PreviewPPT=A,A.displayName="PreviewPPT";t.PreviewPPTWithOnlyImageLayer=class extends A{checkPageRendered(){!this.state.rendered&&Object.keys(this.pageRendered).find(e=>2===this.pageRendered[+e])&&(this.setState({rendered:!0}),this.props.onRenderSucceeded&&this.props.onRenderSucceeded())}}})),define("typescript/libraries/file-viewer/src/file_viewer/bootstrap",["require","exports","typescript/libraries/file-viewer/src/core/middlewares/plugins","redux","typescript/libraries/file-viewer/src/core/data/reducer","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/api_v2/redux/previews","typescript/libraries/file-viewer/src/core/middlewares/riviera_data","typescript/libraries/file-viewer/src/core/config","typescript/libraries/file-viewer/src/core/middlewares/analytics","typescript/libraries/file-viewer/src/core/middlewares/ui_action_redispatcher","typescript/libraries/api_v2/redux/files","typescript/libraries/api_v2/redux/users","typescript/libraries/file-viewer/src/core/middlewares/file_system","typescript/libraries/file-viewer/src/core/middlewares/full_screen","typescript/libraries/file-viewer/src/core/middlewares/navigation","typescript/libraries/file-viewer/src/core/middlewares/print","typescript/libraries/file-viewer/src/core/middlewares/url","typescript/libraries/file-viewer/src/core/middlewares/cloud_docs","typescript/libraries/api_v2/redux/cloud_docs","typescript/libraries/api_v2/redux/seen_state","typescript/libraries/api_v2/redux/flows","typescript/libraries/api_v2/redux/sharing","typescript/libraries/file-viewer/src/file_viewer/file_viewer","typescript/libraries/file-viewer/src/pass/index","typescript/libraries/file-viewer/src/preview_excel/tab_selection_handler","typescript/libraries/file-viewer/src/core/middlewares/preferences","typescript/libraries/file-viewer/src/core/middlewares/report_exception"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A,w,y,S,P,F,R,I){"use strict";function E(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?r.compose(r.applyMiddleware(...e),window.__REDUX_DEVTOOLS_EXTENSION__({name:"File Viewer SDK"})):r.applyMiddleware(...e),i=Object.assign(Object.assign({},n.reducers),P.reducers);return r.createStore(r.combineReducers(i),{},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createFileViewerFactory=t.createSDKStore=void 0,t.createSDKStore=E,t.createFileViewerFactory=function(e){var t,r;const{batteries:n,callbacks:C,featureConfig:O,initData:k,platformConfig:M}=e,{accountId:x,deviceType:D}=k,{optionalIOClients:T,coreIOClients:L,logger:j,intl:U}=n,{rivieraIOClient:V,apiv2ClientBase:N}=L,{fileSystemClient:B,fullScreenClient:K,navigationClient:G,presenceBeaconIOClient:z,printClient:W,urlClient:H,preferencesClient:q,cloudDocsClient:Y,reportExceptionClient:J}=T,Q=e.pluginLoaders||[],Z=new Set(Q.map(e=>e.pluginId)),X=E([...G?[v.middleware(G)]:[],o.rivieraDataMiddleware(V),s.middleware(N.ns("previews")),u.middleware(N.ns("files")),p.middleware(N.ns("users")),d.uiActionRedispatcher,...H?[m.middleware(H)]:[],i.pluginsMiddleware(()=>Z),...z?[P.beaconMiddleware(z)]:[],y.middleware(N.ns("sharing")),...(null==O?void 0:O.excel_support)?[F.tabSelectionHandler]:[],...B?[_.middleware(B)]:[],...K?[g.middleware(K)]:[],...W?[f.middleware(W)]:[],A.middleware(N.ns("seen_state")),w.middleware(N.ns("flows")),...q?[R.preferencesMiddleware(q)]:[],...Y?[b.middleware(Y)]:[],..."ms_view_embed"===(null===(t=null==O?void 0:O.excel_support)||void 0===t?void 0:t.embed_support)?[h.middleware(N.ns("cloud_docs"))]:[],...J?[I.reportExceptionMiddleware(J)]:[],...j?[c.analyticsMiddleware(j)]:[]]);let $=l.DEFAULT_CONFIG;O&&($=Object.assign(Object.assign({},$),O));const ee={callbacks:C,intl:U,store:X,accountId:x,showAuthModal:n.optionalIOClients.showAuthModal,canCloseViewer:!!(null===(r=n.optionalIOClients.navigationClient)||void 0===r?void 0:r.closeViewer),deviceType:D||a.DeviceType.desktop,config:$,platformConfig:Object.assign(Object.assign({},S.defaultPlatformConfig),M)},te=e=>{const t=e.pluginId;if(Z.has(t))throw new Error("Plugin ID "+t+" registered twice");Q.push(e),Z.add(t)};return{createFileViewer:()=>new S.SDKFileViewer(ee,N,Q),registerPlugin(e){te(e)},registerPlugins(e){e.forEach(e=>e&&te(e))}}}})),define("typescript/libraries/file-viewer/src/core/middlewares/analytics",["require","exports","tslib","typescript/libraries/file-viewer/src/core/logging/actions","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/core/logging/session","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/modes/types","typescript/libraries/file-viewer/src/core/extension_constants","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/core/utils/index","lodash","typescript/libraries/file-viewer/src/core/errors"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p){"use strict";function _(e){return Object.keys(e).reduce((t,i)=>{const r=e[i];return"string"==typeof r||"number"==typeof r?t[i]=String(r):"boolean"==typeof r?t[i]=String(+r):"object"==typeof r&&r&&(t[i]=JSON.stringify(r)),t},{})}function g(e){return Object.assign(Object.assign({},e),{file_extension:l.getWhitelistedFileExtension(e.file_extension||""),extra:_(e.extra)})}Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsMiddleware=t.MAPPED_USER_ACTIONS=void 0,u=i.__importDefault(u);const v={[s.Action.ZoomIn]:n.UserAction.ZoomIn,[s.Action.ZoomOut]:n.UserAction.ZoomOut,[s.Action.CloseDocSidebar]:n.UserAction.CloseDocSidebar,[s.Action.OpenDocSidebar]:n.UserAction.OpenDocSidebar,[s.Action.ZoomToggleOriginalOrFit]:n.UserAction.ZoomToggleOriginalOrFit,[s.Action.ChangeMode]:n.UserAction.ModeChange,[s.Action.UpdateDocCurrentPageIndex]:n.UserAction.PageJump,[s.Action.PageDown]:n.UserAction.PageDown,[s.Action.PageUp]:n.UserAction.PageUp,[s.Action.Share]:n.UserAction.Share,[s.Action.Restore]:n.UserAction.Restore,[s.Action.OpenWith]:n.UserAction.OpenWith,[s.Action.OpenWebPreview]:n.UserAction.OpenWebPreview,[s.Action.FlipToNextFile]:n.UserAction.FlipNext,[s.Action.FlipToPreviousFile]:n.UserAction.FlipPrevious,[s.Action.CloseViewer]:n.UserAction.CloseViewer,[s.Action.OpenFullscreenPreview]:n.UserAction.OpenFullscreenPreview,[s.Action.OpenVersionHistory]:n.UserAction.OpenVersionHistory,[s.Action.OpenSidebar]:n.UserAction.ToggleSidebarOn,[s.Action.CloseSidebar]:n.UserAction.ToggleSidebarOff,[s.Action.SwitchWorkbookTab]:n.UserAction.SwitchWorkbookTab,[s.Action.CopyToDropbox]:n.UserAction.SaveToDropbox,[s.Action.DownloadFile]:n.UserAction.Download,[s.Action.Print]:n.UserAction.Print,[s.Action.EnterFullScreen]:n.UserAction.ToggleFullscreenOn,[s.Action.ExitFullScreen]:n.UserAction.ToggleFullscreenOff,[s.Action.ClickDropboxLogo]:n.UserAction.ClickDropboxLogo,[s.Action.SetActiveRightRailPlugin]:n.UserAction.SidebarPaneSelected};t.MAPPED_USER_ACTIONS=u.default(v);t.analyticsMiddleware=function(e){return({getState:i,dispatch:u})=>f=>m=>{var b;switch(m.type){case r.Action.LogSessionEvent:try{return f(((e,t,i)=>{const{payload:{event:n,fileViewerId:s,previewSessionId:o,extra:l}}=i;let c=t.loggingSession[s];return o===c.file_preview_session_id&&(c=a.recordEvent(t.loggingSession[s],n,l),e.log(n,g(c)),c=a.updateSessionLastEvent(c,n)),r.updateSession(c)})(e,i(),m))}catch(e){return e instanceof Error&&(u(s.reportException({error:e,fileType:(null===(b=i().loggingSession[m.payload.fileViewerId])||void 0===b?void 0:b.extra.preview_type)||"other",isCritical:!p.isFVError(e)||e.type!==p.FVErrorCode.InvalidLoggingOrder})),console.warn(e.message)),f(m)}case r.Action.Log:return f(((e,t,i)=>{const{payload:n}=i,{event:a,fileViewerId:s}=n,o=t.loggingSession[s];return e.log(a,g(Object.assign(Object.assign({},o),{extra:Object.assign(Object.assign({},(null==o?void 0:o.extra.source_context)&&{source_context:o.extra.source_context}),n.extra)}))),r.updateSession(o)})(e,i(),m));case r.Action.LogVideo:return void 0!==e.logVideo?f(((e,t,i)=>{const{payload:n}=i,{eventName:a,fileViewerId:s,previewSessionId:o}=n,l=t.loggingSession[s],c=l.file_preview_session_id;return void 0!==e.logVideo&&o===c&&e.logVideo(a,(e=>{const{previewSessionId:t,videoFormat:i,videoDuration:r,videoTruncated:n,extra:a}=e;return{file_preview_session_id:t,video_format:i,video_duration_seconds:r,video_truncated:n,extra:a}})(n)),r.updateSession(l)})(e,i(),m)):f(m);case r.Action.LogUserAction:return f(((e,i,r)=>{const{payload:a}=r,{userAction:s,actionContext:o,fileViewerId:l}=a,c=i.loggingSession[l];return s in t.MAPPED_USER_ACTIONS?console.warn(`WARNING: ${s} is automatically logged when it's in USER_ACTION_MAP. No need to call logUserAction for it.`):e.log(n.EventType.UserAction,g(Object.assign(Object.assign({},c),{extra:Object.assign(Object.assign(Object.assign({},(null==c?void 0:c.extra.source_context)&&{source_context:c.extra.source_context}),a.extra),{action:s,context:o})}))),r})(e,i(),m));case r.Action.LogTTI:return f(((e,t,i)=>{let n=null;return n=a.markTTI(t.loggingSession[i.payload]),e.logTTI(),r.updateSession(n)})(e,i(),m));case r.Action.LogTTV:return f(((e,t,i)=>{const n=t.loggingSession[i.payload];return e.logTTV(),r.updateSession(n)})(e,i(),m));case s.Action.ExcelSheetRenderFailed:case s.Action.ExcelSheetRenderSucceeded:case s.Action.FetchExcelSheetLayoutData:case s.Action.FetchExcelSheetLayoutDataResult:return f(((e,t,i)=>{const{fileViewerId:r,sheetIndex:a}=i.payload,o=t.loggingSession[r],l=g(Object.assign(Object.assign({},o),{extra:_({tab_index:a,ts:Date.now()})}));switch(i.type){case s.Action.FetchExcelSheetLayoutData:e.log(n.EventType.ExcelSheetDownloadAttempted,l);break;case s.Action.FetchExcelSheetLayoutDataResult:null!=i.error?e.log(n.EventType.ExcelSheetDownloadFailed,l):e.log(n.EventType.ExcelSheetDownloadSucceeded,l);break;case s.Action.ExcelSheetRenderFailed:e.log(n.EventType.ExcelSheetRenderFailed,l);break;case s.Action.ExcelSheetRenderSucceeded:e.log(n.EventType.ExcelSheetRenderSucceeded,l)}return i})(e,i(),m));case s.Action.UpdateArchiveFileCurrentPath:return f(((e,t,i)=>{const{fileViewerId:r,currentPath:a,isDir:s}=i.payload;if(void 0!==s){const i=t.loggingSession[r],o=g(Object.assign(Object.assign({},i),{extra:_({action:n.UserAction.ArchiveNavigation,context:n.UserActionContext.PreviewContentMain,isDir:String(s),extension:s?"":l.getWhitelistedFileExtension(d.getFileExtension(a[a.length-1]))})}));e.log(n.EventType.UserAction,o)}return i})(e,i(),m));case r.Action.LogDuration:return f(((e,t,i)=>{var r;const{eventName:n,duration:a,fileViewerId:s,tags:o}=i.payload,l=t.loggingSession[s];return null===(r=e.logDuration)||void 0===r||r.call(e,n,a,l?g(l):void 0,o),i})(e,i(),m))}return m.type in v?f(((e,t,i)=>{const{fileViewerId:r,sourceContext:a}=i.payload,{loggingSession:l,modes:d}=t,u=l[r],p=d[r]?d[r].mode:o.FileViewerMode.Default,f=c.isSidebarOpen(t,r),m={context:a,action:v[i.type],mode:p,right_sidebar_state:f?"opened":"collapsed"};return i.type===s.Action.ChangeMode?m.next_mode=i.payload.mode:i.type===s.Action.SwitchWorkbookTab?m.tab_index=i.payload.tabIndex:i.type===s.Action.SetActiveRightRailPlugin&&(m.selected_pane=i.payload.pluginId),e.log(n.EventType.UserAction,g(Object.assign(Object.assign({},u),{extra:_(m)}))),i})(e,i(),m)):f(m)}}})),define("typescript/libraries/file-viewer/src/core/middlewares/riviera_data",["require","exports","tslib","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/riviera/api","typescript/libraries/file-viewer/src/core/data/riviera/transform","typescript/libraries/file-viewer/src/core/invariant","typescript/libraries/file-viewer/src/core/errors","typescript/libraries/file-viewer/src/core/utils/index","typescript/libraries/file-viewer/src/core/data/utils","typescript/libraries/file-viewer/src/core/constants","typescript/libraries/file-viewer/src/core/urls","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/core/data/preview_key"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_){"use strict";function g(e){const{previewKey:t,fileViewerId:i}=e.payload;return{previewKey:t,fileViewerId:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.rivieraDataMiddleware=void 0,t.rivieraDataMiddleware=function(e){const t=new n.RivieraClientBase(e);return({getState:e,dispatch:n})=>v=>f=>i.__awaiter(this,void 0,void 0,(function*(){var i,m;const b=e();switch(f.type){case r.Action.FetchRivieraData:{const{fileViewerId:e,previewKey:t,config:i}=f.payload,a=p.getRivieraData(b,t);if(a&&Object.keys(a).length)return;const l=p.getPreviewMetadata(b,t);if(!l||!l.content)throw new o.FVError(o.FVErrorCode.MalformedPreviewsDataApiResponse,"Missing `content` from preview data api payload");const c=[];switch(l.content[".tag"]){case"ssr_doc":case"cloud_doc":const{text_url_tmpl:a,image_url_tmpl:p}=l.content,_="cloud_doc"===l.content[".tag"]?l.content.exit_url:void 0;if(s.invariant(!("cloud_doc"!==l.content[".tag"]&&!a&&!p),o.FVErrorCode.MissingContentMetadata,"Content metadata is not present"),!_&&null!=a&&null!=p){const s=n(r.fetchPageDataWithMetadata({fileViewerId:e,previewKey:t,textUrlTmpl:a,startPage:0,endPage:i.partial_prewarm_allowed?d.TEXT_FIRST_BATCH_SIZE:50,loadPartialPages:!0}));c.push(s);const o="ssr_doc"===l.content[".tag"]?Math.min(...(l.content.supported_widths||[]).concat([480])):void 0;n(r.prewarmUnifiedPreviewAsset({fileViewerId:e,previewKey:t,assetUrl:u.imageUrl(p,0,0,o)}))}break;case"video":{const{metadata_url:e}=l.content;e&&n(r.fetchMediaMetadata({metadataUrl:e,previewKey:t}));break}case"audio":{const e=l.content.waveform_url;e&&n(r.fetchWaveformData({url:e,previewKey:t}));break}case"linkfile":{const e=l.content.url,i=l.content.authenticated;e&&n(r.fetchLinkfileData({url:e,authenticated:!!i,previewKey:t}));break}case"excel":{if("excel2"!==i.excel_support.support)break;const{content:{workbook_data_url_tmpl:a}}=l;s.invariant(!!a,o.FVErrorCode.MissingContentMetadata,"Content metadata is not present"),null!=a&&c.push(n(r.fetchExcelSheetLayoutData({fileViewerId:e,previewKey:t,sheetIndex:0,workbookDataUrlTmpl:a})));break}case"archive":s.invariant(!!l.preview_url,o.FVErrorCode.MissingContentMetadata,"Content metadata is not present"),l.preview_url&&(n(r.fetchArchiveTopLevelData({fileViewerId:e,previewKey:t,contentUrl:l.preview_url})),c.push(n(r.setupArchiveFileCurrentPath({fileViewerId:e,previewKey:t}))))}return yield Promise.all(c)}case r.Action.FetchPageDataWithMetadata:{const{textUrlTmpl:e,startPage:i,endPage:n,loadPartialPages:l}=f.payload,{previewKey:c,fileViewerId:d}=g(f),u=p.getPreviewMetadata(b,c),_=p.getRivieraData(b,c),m=_&&"metadata"in _&&!_.error?_.metadata:void 0;try{const p=yield t.fetchDocMetadata(e,!m,i,n);s.invariant(!!u,o.FVErrorCode.InvalidFileInfo,`Preview Data for ${c.serialized} should have been available`);const{image_url_tmpl:_,supported_widths:g}=u.content,f=null!=m?m:p.metadata;s.invariant(!!f,o.FVErrorCode.MalformedRivieraData,"Response from riviera ssr_doc has no metadata and we also have no existing metadata");const b=f.page_count,[h,A]=l?[i,n]:[0,b];return v(r.fetchPageDataWithMetadataResult({fileViewerId:d,previewKey:c,data:{metadata:f,pages:a.processTextAndUrl(_,f.dimensions,b,p,g,h,Math.min(null!=A?A:b,b))}}))}catch(e){return v(r.fetchPageDataWithMetadataResult({fileViewerId:f.payload.fileViewerId,previewKey:c,data:void 0},e))}}case r.Action.FetchMediaMetadata:{const e=f.payload.previewKey;if(_.isNestedArchiveFilePreviewKey(e))return v(f);try{const i=yield t.fetchMediaMetadata(f.payload.metadataUrl);return s.invariant(!!b.previewData[e.serialized],o.FVErrorCode.InvalidFileInfo,`Preview Data for ${e.serialized} should have been available`),v(r.fetchMediaMetadataResult({data:{is_truncated:i.is_truncated},previewKey:e}))}catch(t){return n(r.fetchMediaMetadataResult({data:{is_truncated:void 0},previewKey:e},t))}}case r.Action.FetchWaveformData:{const e=f.payload.previewKey;if(_.isNestedArchiveFilePreviewKey(e))return v(f);try{const i=yield t.fetchWaveformData(f.payload.url);return s.invariant(!!b.previewData[e.serialized],o.FVErrorCode.InvalidFileInfo,`Preview Data for ${e.serialized} should have been available`),v(r.fetchWaveformDataResult({data:{waveformHeights:i.waveformHeights},previewKey:e}))}catch(t){return n(r.fetchWaveformDataResult({data:{waveformHeights:void 0},previewKey:e},t))}}case r.Action.FetchLinkfileData:{const e=f.payload.previewKey;try{const i=yield t.fetchLinkfileData(f.payload.url,f.payload.authenticated);return s.invariant(!!b.previewData[e.serialized],o.FVErrorCode.InvalidFileInfo,`Preview Data for ${e.serialized} should have been available`),v(r.fetchLinkfileDataResult({data:{uri:i.uri},previewKey:e}))}catch(t){return n(r.fetchLinkfileDataResult({data:{uri:void 0},previewKey:e},t))}}case r.Action.RefreshBlob:{const{previewKey:e,fileViewerId:a}=g(f),d=p.getPreviewMetadata(b,e);try{const u=yield t.refreshDocBlob(f.payload.refreshUrl,f.payload.password);if(v(r.refreshBlobSuccessAction({previewKey:e,preview:u})),s.invariant(!!d,o.FVErrorCode.InvalidFileInfo,`Preview Data for ${e.serialized} should have been available`),f.payload.password)return n(r.fetchPageDataWithMetadata({fileViewerId:a,previewKey:e,textUrlTmpl:u.text_url_tmpl}));const _=p.getFilePreviewUi(b,f.payload.fileViewerId,e),g=null!==(m=null===(i=c.filterDocFilePreviewUiState(_))||void 0===i?void 0:i.currentPageIndex)&&void 0!==m?m:0,h=l.calculatePageRange(g);return n(r.fetchPageDataWithMetadata({fileViewerId:a,previewKey:e,textUrlTmpl:u.text_url_tmpl,startPage:h[0],endPage:h[1]}))}catch(t){return v(r.fetchPageDataWithMetadataResult({fileViewerId:a,previewKey:e,data:void 0},t))}}case r.Action.FetchExcelSheetLayoutData:{const{previewKey:e,fileViewerId:i}=g(f);v(f);const{sheetIndex:a,workbookDataUrlTmpl:s}=f.payload;try{const o=yield t.fetchExcelWorkbookLayoutData(s,a);return n(r.fetchExcelSheetLayoutDataResult({fileViewerId:i,previewKey:e,sheetIndex:a,data:o}))}catch(t){return n(r.fetchExcelSheetLayoutDataResult({fileViewerId:i,previewKey:e,sheetIndex:a,data:void 0},t))}}case r.Action.FetchArchiveTopLevelData:{const{previewKey:e,fileViewerId:i}=g(f);v(f);try{const{contentUrl:a}=f.payload,l=yield t.fetchArchiveTopLevelData(a);return s.invariant(!!l,o.FVErrorCode.MalformedRivieraData,"Response from riviera archive has no data"),n(r.fetchArchiveTopLevelDataResult({fileViewerId:i,previewKey:e,data:l}))}catch(t){return n(r.fetchArchiveTopLevelDataResult({fileViewerId:i,previewKey:e,data:void 0},t))}}}return v(f)}))}})),define("typescript/libraries/file-viewer/src/core/middlewares/ui_action_redispatcher",["require","exports","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/models","typescript/libraries/file-viewer/src/core/data/utils","typescript/libraries/file-viewer/src/core/data/selectors"],(function(e,t,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uiActionRedispatcher=void 0,t.uiActionRedispatcher=({getState:e})=>t=>s=>{const o=e(),{filePreviewUi:l,rivieraData:c}=o,{previewKey:d,fileViewerId:u}=s.payload;if(!d)return t(s);const p=a.getPreviewMetadata(o,d),_=c[d.serialized];if(!l[u]||!p||!p.content)return t(s);if(!l[u][d.serialized])return t(s);switch(s.type){case i.Action.ZoomIn:return t(i.zoomIn(Object.assign(Object.assign({},s.payload),{previewType:"ssr_doc"===p.content[".tag"]?r.PreviewType.SsrDoc:r.PreviewType.Image})));case i.Action.ZoomOut:return t(i.zoomOut(Object.assign(Object.assign({},s.payload),{previewType:"ssr_doc"===p.content[".tag"]?r.PreviewType.SsrDoc:r.PreviewType.Image})));case i.Action.UpdateDocCurrentPageIndex:if((p.content[".tag"]===r.PreviewType.SsrDoc||p.content[".tag"]===r.PreviewType.CloudDoc)&&n.isDocPreviewRivieraData(_)&&_.metadata)return t(i.updateDocCurrentPageIndex(Object.assign(Object.assign({},s.payload),{pageCount:_.metadata.page_count})));break;case i.Action.PageDown:if((p.content[".tag"]===r.PreviewType.SsrDoc||p.content[".tag"]===r.PreviewType.CloudDoc)&&n.isDocPreviewRivieraData(_)&&_.metadata)return t(i.pageDown(Object.assign(Object.assign({},s.payload),{pageCount:_.metadata.page_count})))}return t(s)}})),define("typescript/libraries/file-viewer/src/core/data/reducer",["require","exports","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/api_v2/redux/users","typescript/libraries/api_v2/redux/files","typescript/libraries/api_v2/redux/previews","typescript/libraries/api_v2/redux/flows","typescript/libraries/api_v2/redux/cloud_docs","typescript/libraries/file-viewer/src/core/logging/session","typescript/libraries/file-viewer/src/core/data/modes/types","typescript/libraries/file-viewer/src/core/uuid","typescript/libraries/file-viewer/src/core/logging/actions","typescript/libraries/file-viewer/src/core/data/models","typescript/libraries/file-viewer/src/core/constants","typescript/libraries/file-viewer/src/core/extension_constants","typescript/libraries/file-viewer/src/core/data/utils","typescript/libraries/file-viewer/src/core/data/riviera/transform","lodash","typescript/libraries/file-viewer/src/core/data/preview_key","typescript/libraries/file-viewer/src/core/data/riviera/types","typescript/libraries/file-viewer/src/core/errors"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=t.modesReducer=t.usersReducer=t.currentFileInfoReducer=t.loggingSessionReducer=t.DEFAULT_DOC_PREVIEW_METADATA=t.DEFAULT_FILE_VIEWER_UI=t.DEFAULT_AUDIO_VIDEO_PREVIEW_UI=t.DEFAULT_ARCHIVE_PREVIEW_UI=t.DEFAULT_EXCEL_PREVIEW_UI=t.DEFAULT_DOC_PREVIEW_UI=t.DEFAULT_IMAGE_PREVIEW_UI=t.DEFAULT_FILE_PREVIEW_UI=t.DEFAULT_STATE=t.DEFAULT_MODE=void 0;function w(e,t){if(1===t||!e)return 1;let i=Math.round(e*t/_.ZOOM_PERCENT_DELTA)*_.ZOOM_PERCENT_DELTA;return Math.abs(i-e)<_.ZOOM_PERCENT_DELTA&&(i+=t>1?_.ZOOM_PERCENT_DELTA:-_.ZOOM_PERCENT_DELTA),Math.min(Math.max(i,_.MIN_IMG_SCALE_FACTOR),_.MAX_IMG_SCALE_FACTOR)}function y(e,t){return Math.max(Math.min(e*t,_.MAX_DOC_SCALE_FACTOR),_.MIN_DOC_SCALE_FACTOR)}const S={visibility:c.SidebarVisibility.Closed,paneStack:[]};t.DEFAULT_MODE={mode:c.FileViewerMode.Default,sidebar:S},t.DEFAULT_STATE={previewData:{},archiveFiles:{},fileMetadata:{},rivieraData:{},cloudDocsData:{},filePreviewUi:{},fileViewerUi:{},currentFileInfo:{},loggingSession:{},users:{},currentUser:null,fetchingUser:!0,modes:{},fileContentMetadata:{},plugins:{},sharedLinkInfo:{},videoRequests:[],rootInfo:null,toolbar:{isHovered:!1,override:void 0,overridePluginId:void 0},volume:{volume:1,muted:!1},isPreviewLoading:!1},t.DEFAULT_FILE_PREVIEW_UI={currentPath:void 0,isMobileMeatballMenuOpen:!1},t.DEFAULT_IMAGE_PREVIEW_UI=Object.assign(Object.assign({},t.DEFAULT_FILE_PREVIEW_UI),{fitScaleFactor:0}),t.DEFAULT_DOC_PREVIEW_UI=Object.assign(Object.assign({},t.DEFAULT_FILE_PREVIEW_UI),{currentPageIndex:0,fitScaleFactor:0,isPasswordProtected:!1}),t.DEFAULT_EXCEL_PREVIEW_UI=Object.assign(Object.assign({},t.DEFAULT_FILE_PREVIEW_UI),{currentTabIndex:0,fitScaleFactor:0}),t.DEFAULT_ARCHIVE_PREVIEW_UI=Object.assign(Object.assign({},t.DEFAULT_FILE_PREVIEW_UI),{currentPath:[],extractAllSnackbarState:null}),t.DEFAULT_AUDIO_VIDEO_PREVIEW_UI=Object.assign(Object.assign({},t.DEFAULT_FILE_PREVIEW_UI),{currentTimestamp:0,isPlaying:!1}),t.DEFAULT_FILE_VIEWER_UI={isDocSidebarOpen:!1,showVideoFrameSteppers:!1,isFullScreen:!1};const P=[".gdoc",".gslides",".paper",".papert",".binder"],F=(e,i)=>{switch(e){case p.PreviewType.Image:return t.DEFAULT_IMAGE_PREVIEW_UI;case p.PreviewType.SsrDoc:return t.DEFAULT_DOC_PREVIEW_UI;case p.PreviewType.Excel:return t.DEFAULT_EXCEL_PREVIEW_UI;case p.PreviewType.Archive:return t.DEFAULT_ARCHIVE_PREVIEW_UI;case p.PreviewType.Audio:case p.PreviewType.Video:return t.DEFAULT_AUDIO_VIDEO_PREVIEW_UI;case p.PreviewType.CloudDoc:return i&&P.includes(i)?t.DEFAULT_DOC_PREVIEW_UI:t.DEFAULT_FILE_PREVIEW_UI;default:return t.DEFAULT_FILE_PREVIEW_UI}};t.DEFAULT_DOC_PREVIEW_METADATA={metadata:{page_count:0,dimensions:[[0,0,0]]},pages:[]};t.loggingSessionReducer=(e=t.DEFAULT_STATE.loggingSession,r)=>{if(r.type===i.Action.InitializeFilePreviewSession){const{fileViewerId:t,sourceSession:i}=r.payload;return Object.assign(Object.assign({},e),{[t]:l.createFilePreviewSession({file_viewer_session_id:r.payload.fileViewerId,file_preview_session_id:d.v4(),file_id:r.payload.fileId,sj_id:r.payload.sjId,ns_id:r.payload.nsId,device_type:r.payload.deviceType,file_extension:g.getWhitelistedFileExtension(r.payload.fileExtension),extra:i})})}if(r.type===u.Action.UpdateSession)return Object.assign(Object.assign({},e),{[r.payload.file_viewer_session_id]:r.payload});if(r.type===i.Action.InitializeFilePreview){const{payload:{fileViewerId:t,fileInfo:i,previewType:n}}=r;return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{file_id:i.file_id,ns_id:i.ns_id,extra:Object.assign(Object.assign({},e[t].extra),{preview_type:n})})})}return e},t.currentFileInfoReducer=(e=t.DEFAULT_STATE.currentFileInfo,r)=>{var n;switch(r.type){case i.Action.SetCurrentFilePreview:const{previewKey:t,fileInfo:s}=r.payload,o=null!==(n=s.file_id)&&void 0!==n?n:"fakeFileId";return Object.assign(Object.assign({},e),{[r.payload.fileViewerId]:Object.assign(Object.assign({fileId:o,previewKey:t},r.payload.fileInfo),{bootstrap:{state:"initializing"}})});case a.Action.GetPreviewDataBatchResult:if(r.payload.result){const t={},i=r.meta.previewKey;for(const n of Object.keys(e)){const a=e[n];for(const e of r.payload.result.results)if(a.previewKey===i){const r=e.file;t[n]=Object.assign(Object.assign({},r),{bootstrap:{state:"initializing"},previewKey:i})}}if(Object.keys(t).length>0)return Object.assign(Object.assign({},e),t)}return e;case i.Action.SetBootstrappedFile:if(e[r.payload.fileViewerId].previewKey.serialized===r.payload.previewKey.serialized)return Object.assign(Object.assign({},e),{[r.payload.fileViewerId]:Object.assign(Object.assign({},e[r.payload.fileViewerId]),{bootstrap:{state:"ready"}})});break;case i.Action.SetErroredFile:if(e[r.payload.fileViewerId].previewKey.serialized===r.payload.previewKey.serialized)return Object.assign(Object.assign({},e),{[r.payload.fileViewerId]:Object.assign(Object.assign({},e[r.payload.fileViewerId]),{bootstrap:{state:"errored",error:r.payload.error}})});break}return e};t.usersReducer=(e=t.DEFAULT_STATE.users,i)=>i.type===r.Action.GetAccountBatchResult&&i.payload.result?Object.assign(Object.assign({},e),i.payload.result.reduce((e,t)=>(e[t.account_id]=t,e),{})):e;const R=e=>e.sidebar.visibility!==c.SidebarVisibility.Open?Object.assign(Object.assign({},e),{sidebar:Object.assign(Object.assign({},e.sidebar),{visibility:c.SidebarVisibility.Open})}):e,I={[c.FileViewerMode.Default]:e=>e.mode===c.FileViewerMode.Default?e:Object.assign(Object.assign({},e),{mode:c.FileViewerMode.Default}),[c.FileViewerMode.Documentation]:e=>e.mode===c.FileViewerMode.Documentation?R(e):Object.assign(Object.assign({},e),{mode:c.FileViewerMode.Documentation,sidebar:Object.assign(Object.assign({},e.sidebar),{paneStack:[c.SidebarPaneId.Documentation],selectedControlId:c.SidebarControlId.Documentation,visibility:c.SidebarVisibility.Open})}),[c.FileViewerMode.Commenting]:e=>e.mode===c.FileViewerMode.Commenting?R(e):Object.assign(Object.assign({},e),{mode:c.FileViewerMode.Commenting,sidebar:Object.assign(Object.assign({},e.sidebar),{paneStack:[c.SidebarPaneId.Comments],selectedControlId:c.SidebarControlId.Comments,visibility:c.SidebarVisibility.Open})}),[c.FileViewerMode.Markup]:e=>e,[c.FileViewerMode.Plugins]:e=>e.mode===c.FileViewerMode.Plugins?R(e):Object.assign(Object.assign({},e),{mode:c.FileViewerMode.Plugins,sidebar:Object.assign(Object.assign({},e.sidebar),{paneStack:[c.SidebarPaneId.Plugins],selectedControlId:void 0,visibility:c.SidebarVisibility.Open})}),[c.FileViewerMode.HelloSign]:e=>e,[c.FileViewerMode.ProAnalytics]:e=>e};t.modesReducer=(e=t.DEFAULT_STATE.modes,r)=>{switch(r.type){case i.Action.InitializeFileViewer:return Object.assign(Object.assign({},e),{[r.payload.fileViewerId]:t.DEFAULT_MODE});case i.Action.SetInitialFocus:return Object.assign(Object.assign({},e),{[r.payload.fileViewerId]:I[r.payload.mode](t.DEFAULT_MODE)});case i.Action.OpenSidebar:{const{fileViewerId:t}=r.payload;return e[t]&&e[t].sidebar.visibility===c.SidebarVisibility.Open?e:Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{sidebar:Object.assign(Object.assign({},e[t].sidebar),{visibility:c.SidebarVisibility.Open})})})}case i.Action.CloseSidebar:{const{fileViewerId:t}=r.payload;return e[t]&&e[t].sidebar.visibility===c.SidebarVisibility.Closed?e:Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{sidebar:Object.assign(Object.assign({},e[t].sidebar),{visibility:c.SidebarVisibility.Closed})})})}case i.Action.ChangeMode:{const t=I[r.payload.mode](e[r.payload.fileViewerId]);return t!==e[r.payload.fileViewerId]?Object.assign(Object.assign({},e),{[r.payload.fileViewerId]:t}):e}case i.Action.PushSidebarPane:{const{fileViewerId:i,paneId:n}=r.payload,a=e[i]||t.DEFAULT_MODE,s=a.sidebar.paneStack;return s.includes(n)?e:Object.assign(Object.assign({},e),{[i]:Object.assign(Object.assign({},a),{sidebar:Object.assign(Object.assign({},a.sidebar),{paneStack:[...s,n]})})})}case i.Action.PopSidebarPane:{const{fileViewerId:i}=r.payload,n=e[i]||t.DEFAULT_MODE,a=n.sidebar.paneStack;return 0===a.length?e:Object.assign(Object.assign({},e),{[i]:Object.assign(Object.assign({},n),{sidebar:Object.assign(Object.assign({},n.sidebar),{paneStack:a.slice(0,-1)})})})}case i.Action.SetActiveRightRailPlugin:{const{fileViewerId:i,pluginId:n}=r.payload;if(null==n)return e;const a=e[i]||t.DEFAULT_MODE;return Object.assign(Object.assign({},e),{[i]:I[c.FileViewerMode.Plugins](a)})}default:return e}};t.reducers={modes:t.modesReducer,previewData:(e=t.DEFAULT_STATE.previewData,r)=>{let n;switch(r.type){case i.Action.InitializeFilePreview:return n=r.payload.fileInfo.previewKey.serialized,e[n]?e:Object.assign(Object.assign({},e),{[n]:{}});case i.Action.SetPreviewMetadata:return n=r.payload.previewKey.serialized,Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},e[n]),r.payload)});case a.Action.GetPreviewDataBatchResult:{if(!r.payload||!r.payload.result)return e;const t=r.payload.result.results,i=r.meta.previewKey;return Object.assign(Object.assign({},e),t.reduce((e,t)=>{var n;if(null==t.file.file_id){if(null===(n=r.payload.arg)||void 0===n||!n.files||1!==r.payload.arg.files.length)throw Error("Invalid response: file_id must be present in FileInfo for get_preview_data_batch");t.file.file_id=r.payload.arg.files[0].file_id}return t.preview&&(e[i.serialized]=t.preview),null!=t.err&&"unsupported_file_error"===t.err[".tag"]&&(null==e[i.serialized]&&(e[i.serialized]={}),e[i.serialized]=Object.assign(Object.assign({},e[i.serialized]),{error:new A.FVError(A.FVErrorCode.UnsupportedPreviewType,"This file type is not supported")})),e},{}))}case i.Action.RefreshBlobSuccess:if(!r.payload)return e;const{previewKey:t,preview:s}=r.payload;if(b.isNestedArchiveFilePreviewKey(t))return e;const o=t.serialized,l=e[o]?e[o].content:{};return Object.assign(Object.assign({},e),{[o]:Object.assign(Object.assign({},e[o]),{content:Object.assign(Object.assign({},l),s)})})}return e},archiveFiles:(e=t.DEFAULT_STATE.archiveFiles,i)=>{switch(i.type){case a.Action.GetArchiveFilesResult:case a.Action.LoggedOutGetArchiveFilesResult:{const t=i.meta.rootFileId,r=m.cloneDeep(e);if(null==r[t]&&(r[t]={}),!i.payload||!i.payload.result)return r;for(const e of i.payload.result.archive_files)e.preview&&(r[t][e.subpath]=e.preview);return r}}return e},fileMetadata:(e=t.DEFAULT_STATE.fileMetadata,r)=>{const{payload:n}=r;if(!n)return e;if(r.type===i.Action.InitializeFilePreview){const t=r.payload.fileInfo.file_id,i=r.payload.fileInfo.previewKey.serialized;return Object.assign(Object.assign({},e),{[i]:Object.assign(Object.assign({},e[i]),{file_id:t,file_name:r.payload.fileName,size:r.payload.fileInfo.size,fileConfig:r.payload.fileConfig})})}if(r.type===i.Action.SetFileMetadata){const t=r.payload.previewKey.serialized;return Object.assign(Object.assign({},e),{[t]:r.payload})}return e},rivieraData:(e=t.DEFAULT_STATE.rivieraData,r)=>{const{payload:n,error:a}=r;if(!n)return e;switch(r.type){case i.Action.InitializeFilePreview:{const t=r.payload.fileInfo.previewKey.serialized;return e[t]?e:Object.assign(Object.assign({},e),{[t]:{}})}case i.Action.FetchPhotoMetadataResult:return Object.assign(Object.assign({},e),{[r.payload.previewKey.serialized]:{originalWidth:r.payload.originalWidth,originalHeight:r.payload.originalHeight}});case i.Action.FetchPageDataWithMetadataResult:{const i=r.payload.previewKey.serialized,{pages:n}=e[i]||t.DEFAULT_DOC_PREVIEW_METADATA;if(a)return n&&n.length?e:Object.assign(Object.assign({},e),{[i]:Object.assign(Object.assign({},t.DEFAULT_DOC_PREVIEW_METADATA),{error:a})});if(r.payload&&r.payload.data){const{data:{metadata:t,pages:a}}=r.payload;if(!t)return e;let s=n||new Array(t.page_count);return Array.isArray(a)&&a.length&&(s=[...s],a.forEach(e=>s[e.pageIndex]=Object.assign(Object.assign({},s[e.pageIndex]),e))),Object.assign(Object.assign({},e),{[i]:{metadata:t,pages:s}})}break}case i.Action.FetchExcelSheetLayoutData:{const t=r.payload.previewKey.serialized,i=e[t];if(null!=i&&"workbook"in i){if(!v.isExcelPreviewRivieraData(i))break;return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{sheets:Object.assign(Object.assign({},i.sheets),{[r.payload.sheetIndex]:v.makePendingLoadableData()})})})}return Object.assign(Object.assign({},e),{[t]:{sheets:{[r.payload.sheetIndex]:v.makePendingLoadableData()},workbook:v.makePendingLoadableData()}})}case i.Action.FetchExcelSheetLayoutDataResult:{const t=r.payload.previewKey.serialized,{sheetIndex:i,data:n}=r.payload,a=e[t],s=v.isExcelPreviewRivieraData(a)?a.sheets:{};if(n)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},a),{sheets:Object.assign(Object.assign({},s),{[i]:v.makeFulfilledLoadableData(n.sheets[i])}),workbook:f.transformExcelResponseToWorkbookMetadata(n)})});if(r.error){const n=v.isExcelPreviewRivieraData(a)&&"loaded"===a.workbook.state?a.workbook:v.makeRejectedLoadableData(r.error);return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},a),{sheets:Object.assign(Object.assign({},s),{[i]:v.makeRejectedLoadableData(r.error)}),workbook:n})})}break}case i.Action.FetchArchiveTopLevelData:{const t=r.payload.previewKey.serialized,i=e[t];if(null!=i&&"rootEntry"in i){if(!v.isArchivePreviewRivieraData(i))throw Error(`fetching archive top level data but ${t} has non archive data already: ${i}`);return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{rootEntry:v.makePendingLoadableData()})})}return Object.assign(Object.assign({},e),{[t]:{rootEntry:v.makePendingLoadableData()}})}case i.Action.FetchArchiveTopLevelDataResult:{const t=r.payload.previewKey.serialized,{data:i}=r.payload,n=e[t];if(i)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},n),{rootEntry:f.transformArchiveTreeResponseToArchiveRootEntry(i)})});if(r.error){const i=v.isArchivePreviewRivieraData(n)&&"loaded"===n.rootEntry.state?n.rootEntry:v.makeRejectedLoadableData(r.error);return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},n),{rootEntry:i})})}break}case i.Action.FetchMediaMetadata:{const t=r.payload.previewKey.serialized,i=e[t];return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{isTruncated:v.makePendingLoadableData()})})}case i.Action.FetchMediaMetadataResult:{const t=r.payload.previewKey.serialized,i=e[t],{is_truncated:n}=r.payload.data;if("boolean"==typeof n)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{isTruncated:v.makeFulfilledLoadableData(n)})});if(r.error)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{isTruncated:v.makeRejectedLoadableData(r.error)})});break}case i.Action.FetchWaveformData:{const t=r.payload.previewKey.serialized,i=e[t];return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{waveformData:v.makePendingLoadableData()})})}case i.Action.FetchWaveformDataResult:{const t=r.payload.previewKey.serialized,i=e[t],n=r.payload.data.waveformHeights;if(n)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{waveformData:v.makeFulfilledLoadableData(n)})});if(r.error)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{waveformData:v.makeRejectedLoadableData(r.error)})});break}case i.Action.FetchLinkfileData:{const t=r.payload.previewKey.serialized,i=e[t];return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{linkfileData:v.makePendingLoadableData()})})}case i.Action.FetchLinkfileDataResult:{const t=r.payload.previewKey.serialized,i=e[t],n=r.payload.data.uri;if(n)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{linkfileData:v.makeFulfilledLoadableData(n)})});if(r.error)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i),{linkfileData:v.makeRejectedLoadableData(r.error)})})}}return e},cloudDocsData:(e=t.DEFAULT_STATE.cloudDocsData,i)=>{const{payload:r,type:n,error:a}=i;if(n===o.Action.GetCloudEditorUrlResult){if(a)return Object.assign(Object.assign({},e),{[i.payload.arg.file_id]:v.makeRejectedLoadableData(a)});if(null==r?void 0:r.result)return Object.assign(Object.assign({},e),{[i.payload.arg.file_id]:v.makeFulfilledLoadableData(r.result)})}return e},filePreviewUi:(e=t.DEFAULT_STATE.filePreviewUi,r)=>{var n,a,o,l,c,d,u,g,f;if(!r.payload)return e;if(r.type===i.Action.InitializeFileViewer)return Object.assign(Object.assign({},e),{[r.payload.fileViewerId]:{}});let b;if(r.type===i.Action.InitializeFilePreview)b=r.payload.fileInfo.previewKey.serialized;else if(r.type===s.Action.UnzipResult){b=r.meta.previewKey.serialized}else{if(!r.payload.previewKey)return e;b=r.payload.previewKey.serialized}const A=r.type===s.Action.UnzipResult?r.meta.fileViewerId:r.payload.fileViewerId,S=e[A]||{},P=S[b]||{},R=v.filterZoomableFilePreviewUi(P);switch(r.type){case i.Action.InitializeFilePreview:{const{previewType:t,fileExtension:i}=r.payload,n=F(t,i);return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},n),P)})})}case i.Action.InitializeNestedArchiveFilePreview:{const{previewType:t,currentPath:i}=r.payload,n=F(t);return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign(Object.assign({},n),{currentPath:i}),P)})})}case i.Action.FetchPageDataWithMetadataResult:if(r.payload.data&&r.payload.data.metadata)return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{isDocSidebarOpen:!1})})});if((null===(n=r.error)||void 0===n?void 0:n.statusCode)===h.RivieraStatus.PasswordProtected)return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{isPasswordProtected:!0})})});break;case i.Action.PageNavigation:{const{sourceContext:t,pageIndex:i}=r.payload;return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{pageNavigation:{sourceContext:t,pageIndex:i}})})})}case i.Action.ResolvePageNavigation:return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{pageNavigation:void 0})})});case i.Action.UpdateDocCurrentPageIndex:const{pageCount:t}=r.payload;let{pageIndex:I}=r.payload;return I<0?I=0:t&&I>=t-1&&(I=t-1),Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{currentPageIndex:I})})});case i.Action.PageUp:{const t=null!==(o=null===(a=v.filterDocFilePreviewUiState(P))||void 0===a?void 0:a.currentPageIndex)&&void 0!==o?o:null;if(t)return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{currentPageIndex:Math.max(t-1,0)})})});break}case i.Action.PageDown:{const t=null!==(c=null===(l=v.filterDocFilePreviewUiState(P))||void 0===l?void 0:l.currentPageIndex)&&void 0!==c?c:null;if(t)return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{currentPageIndex:Math.min(t+1,r.payload.pageCount||1)})})});break}case i.Action.ZoomIn:{if(null==R)return e;const t=null!==(d=R.zoomScaleFactor)&&void 0!==d?d:R.fitScaleFactor;return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{zoomScaleFactor:r.payload.previewType===p.PreviewType.SsrDoc?y(t,_.DOC_ZOOM_MULTIPLIER):w(t,_.IMG_ZOOM_MULTIPLIER)})})})}case i.Action.ZoomOut:{if(null==R)return e;const t=null!==(u=R.zoomScaleFactor)&&void 0!==u?u:R.fitScaleFactor;return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{zoomScaleFactor:r.payload.previewType===p.PreviewType.SsrDoc?y(t,1/_.DOC_ZOOM_MULTIPLIER):w(t,1/_.IMG_ZOOM_MULTIPLIER)})})})}case i.Action.ZoomToggleOriginalOrFit:{if(null==R)return e;const t=null!==(g=R.zoomScaleFactor)&&void 0!==g?g:R.fitScaleFactor,i=t===R.fitScaleFactor?1:void 0,n=(null==R?void 0:R.storedFitScaleFactor)&&1===t?null==R?void 0:R.storedFitScaleFactor:void 0,a=r.payload.fitOnly?void 0:n||i;return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{zoomScaleFactor:a})})})}case i.Action.UpdateFitScaleFactor:{if(null==R)return e;const{fitScaleFactor:t}=R;return t===r.payload.fitScaleFactor?e:Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{storedFitScaleFactor:r.payload.storedFitScaleFactor,fitScaleFactor:r.payload.fitScaleFactor})})})}case i.Action.UpdateDimensions:return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{dimensions:r.payload.dimensions})})});case i.Action.SwitchWorkbookTab:return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{currentTabIndex:r.payload.tabIndex})})});case i.Action.UpdateArchiveFileCurrentPath:return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{currentPath:r.payload.currentPath})})});case i.Action.UpdateArchiveExtractAllSnackbarState:return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{extractAllSnackbarState:r.payload.extractAllSnackbarState})})});case s.Action.UnzipResult:let E;return E=(null===(f=r.payload.result)||void 0===f?void 0:f.path)?v.makeFulfilledLoadableData(r.payload.result.path):v.makeRejectedLoadableData(r.error||new Error),Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{extractAllSnackbarState:E})})});case i.Action.ToggleMobileMeatballMenu:return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{isMobileMeatballMenuOpen:r.payload.isOpen})})});case i.Action.UpdateAudioVideoPlaybackState:const C=m.pick(r.payload,"currentTimestamp","isPlaying");return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),C)})});case i.Action.PrewarmUnifiedPreviewAsset:return Object.assign(Object.assign({},e),{[A]:Object.assign(Object.assign({},S),{[b]:Object.assign(Object.assign({},P),{prewarmUrl:r.payload.assetUrl})})})}return e},fileViewerUi:(e=t.DEFAULT_STATE.fileViewerUi,r)=>{if(!r.payload)return e;const{fileViewerId:n}=r.payload,a=e[n]||{};switch(r.type){case i.Action.InitializeFileViewer:return Object.assign(Object.assign({},e),{[n]:t.DEFAULT_FILE_VIEWER_UI});case i.Action.OpenDocSidebar:return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},a),{isDocSidebarOpen:!0})});case i.Action.CloseDocSidebar:return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},a),{isDocSidebarOpen:!1})});case i.Action.EnterFullScreen:return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},a),{isFullScreen:!0})});case i.Action.ExitFullScreen:return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},a),{isFullScreen:!1})});case i.Action.ToggleVideoFrameSteppers:return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},a),{showVideoFrameSteppers:r.payload.enabled})});default:return e}},loggingSession:t.loggingSessionReducer,currentFileInfo:t.currentFileInfoReducer,users:t.usersReducer,fetchingUser:(e=t.DEFAULT_STATE.fetchingUser,i)=>i.type!==r.Action.GetCurrentAccountResult&&e,currentUser:(e=t.DEFAULT_STATE.currentUser,i)=>i.type===r.Action.GetCurrentAccountResult&&i.payload.result?i.payload.result:e,fileContentMetadata:(e=t.DEFAULT_STATE.fileContentMetadata,i)=>{if(i.type===n.Action.GetFileContentMetadataResult&&i.payload.result){const t=(e=>{if(!e.meta)throw new Error(`missing meta argument to action ${e.type}`);return e.meta})(i).previewKey;return Object.assign(Object.assign({},e),{[t.serialized]:i.payload.result})}return e},plugins:(e=t.DEFAULT_STATE.plugins,r)=>{if(r.type===i.Action.InitializeFileViewer){const{fileViewerId:t}=r.payload;return Object.assign(Object.assign({},e),{[t]:{activeRightRailPluginId:void 0,activeEditPluginId:void 0,runtimeDisabledPlugins:[]}})}if(r.type===i.Action.SetActiveRightRailPlugin){const{fileViewerId:t,pluginId:i}=r.payload;return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{activeRightRailPluginId:i,activeEditPluginId:void 0})})}if(r.type===i.Action.SetActiveEditPlugin){const{fileViewerId:t,pluginId:i}=r.payload;return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{activeEditPluginId:i})})}if(r.type===i.Action.PluginEnabledStateChange){const{enabled:t,fileViewerId:i,pluginId:n}=r.payload,a=e[i].runtimeDisabledPlugins,s=e[i].activeEditPluginId;let o=a;return t&&a.includes(n)?o=a.filter(e=>e!==n):t||a.includes(n)||(o=[...a,n]),Object.assign(Object.assign({},e),{[i]:Object.assign(Object.assign({},e[i]),{runtimeDisabledPlugins:o,activeEditPluginId:n!==s||t?s:void 0})})}return e},sharedLinkInfo:(e=t.DEFAULT_STATE.sharedLinkInfo,r)=>{const{payload:n,type:a}=r;if(a===i.Action.SetSharedLinkInfo){const t=n.previewKey.serialized;return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),n)})}return e},videoRequests:(e=t.DEFAULT_STATE.videoRequests,r)=>{switch(r.type){case i.Action.RequestVideoSeek:return[...e,{videoRequestType:"seek",time:r.payload.time}];case i.Action.RequestVideoSeekRelative:return[...e,{videoRequestType:"seekRelative",delta:r.payload.delta}];case i.Action.RequestVideoPause:return[...e,{videoRequestType:"pause"}];case i.Action.ClearVideoRequests:return[];default:return e}},rootInfo:(e=t.DEFAULT_STATE.rootInfo,i)=>{var n;switch(i.type){case r.Action.GetRootInfoResult:return null!==(n=i.payload.result)&&void 0!==n?n:null;default:return e}},toolbar:(e=t.DEFAULT_STATE.toolbar,r)=>{switch(r.type){case i.Action.SetToolbarIsHovered:return r.payload.isHovered?Object.assign(Object.assign({},e),{isHovered:!0}):Object.assign(Object.assign({},e),{isHovered:!1});case i.Action.OverrideFloatingToolbar:{const t=r.payload.state;return Object.assign(Object.assign({},e),{override:t,overridePluginId:r.payload.pluginId})}default:return e}},volume:(e=t.DEFAULT_STATE.volume,r)=>{switch(r.type){case i.Action.SetVolume:return Object.assign(Object.assign({},e),{volume:r.payload.volume});case i.Action.SetMuted:return Object.assign(Object.assign({},e),{muted:r.payload.muted});default:return e}},isPreviewLoading:(e=t.DEFAULT_STATE.isPreviewLoading,r)=>{switch(r.type){case i.Action.SetPreviewLoadingAction:return r.payload.isPreviewLoading;default:return e}}}})),define("typescript/libraries/file-viewer/src/core/data/riviera/transform",["require","exports","typescript/libraries/file-viewer/src/core/urls","typescript/libraries/file-viewer/src/core/data/utils"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformArchiveTreeResponseToArchiveRootEntry=t.transformExcelResponseToSheetMetadata=t.transformExcelResponseToWorkbookMetadata=t.processTextAndUrl=void 0;function n(e,t,r){return r&&r.map(r=>`${i.imageUrl(e,t,0,r)} ${r}w`).join(",")}function a(e,t,r){return r&&r[0]?i.imageUrl(e,t,0,r[0]):i.imageUrl(e,t,0)}function s(e){var t;return{name:e.name,size:void 0!==e.size?Number(e.size):void 0,isDir:e.isDir,children:null===(t=e.children)||void 0===t?void 0:t.map(s)}}t.processTextAndUrl=function(e,t=[],r,s,o,l=0,c=r){const d=(function(e,t=[],r,s,o,l){const c=t.reduce((e,[t,i,r])=>{for(let n=0;n<r;n++)e.push([t,i]);return e},[]),d=[...Array(r)].map((e,t)=>({pageIndex:t,dimension:c[t],thumbnailUrl:"",imgUrls:{"1x":"","4x":"",srcset:""},textboxes:[],links:[]}));for(let t=s;t<o;t++)d[t]={pageIndex:t,dimension:c[t],thumbnailUrl:a(e,t,l),imgUrls:{"1x":i.imageUrl(e,t,0),"4x":i.imageUrl(e,t,400),srcset:n(e,t,l)},textboxes:[],links:[]};return d})(e,t,r,l,c,o);return(function(e){const{text:t}=e;if(!t||!t.pages)return[];const{links:i,pages:r}=t,n=(t.fonts||[]).reduce((e,t)=>(e[t.f]=(function(e){const t=e.n.lastIndexOf(",");return{fontFamily:`"${t>-1?e.n.substr(0,t):e.n}", ${1&e.f?"monospace":"serif"}`,isBold:(e.f&1<<18)>0,isItalic:(64&e.f)>0}})(t),e),{});return Object.keys(r).map(e=>({pageIndex:+e,textboxes:(r[e]||[]).map(e=>Object.assign(Object.assign({},e),{font:n[e.f]})),links:i&&i[e]||[]}))})(s).forEach(e=>{const{pageIndex:t}=e;d[t]=Object.assign(Object.assign({},d[t]),e)}),d},t.transformExcelResponseToWorkbookMetadata=function(e){return r.makeFulfilledLoadableData({name:e.workbook_name,sheetOverview:e.sheets.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.idx]:{hidden:t.hidden,name:t.name}}),{})})},t.transformExcelResponseToSheetMetadata=function(e){return e.sheets.reduce((e,t)=>"dimensions"in t?Object.assign(Object.assign({},e),{[t.idx]:r.makeFulfilledLoadableData(t)}):e,{})},t.transformArchiveTreeResponseToArchiveRootEntry=function(e){return r.makeFulfilledLoadableData(Object.assign(Object.assign({},s(e)),{isPasswordProtected:!!e.isEncrypted}))}})),define("typescript/libraries/file-viewer/src/core/errors",["require","exports","typescript/libraries/file-viewer/src/core/data/riviera/types"],(function(e,t,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getFvErrorCodeFromRivieraStatus=t.isFVError=t.FVError=t.FVErrorCode=void 0,(function(e){e[e.PreviewsDataApiFailure=0]="PreviewsDataApiFailure",e[e.MalformedPreviewsDataApiResponse=1]="MalformedPreviewsDataApiResponse",e[e.RivieraDataFetchFailure=2]="RivieraDataFetchFailure",e[e.MalformedRivieraData=3]="MalformedRivieraData",e[e.FileTooLarge=4]="FileTooLarge",e[e.UnsupportedPreviewType=5]="UnsupportedPreviewType",e[e.NoExtension=6]="NoExtension",e[e.PasswordProtected=7]="PasswordProtected",e[e.FileUploading=8]="FileUploading",e[e.Unknown=9]="Unknown",e[e.FileSwitched=10]="FileSwitched",e[e.InvalidFileInfo=11]="InvalidFileInfo",e[e.InvalidLoggingOrder=12]="InvalidLoggingOrder",e[e.InvalidLoggingSession=13]="InvalidLoggingSession",e[e.UserOffline=14]="UserOffline",e[e.MissingContentMetadata=15]="MissingContentMetadata"})(r=t.FVErrorCode||(t.FVErrorCode={}));class n extends Error{constructor(e,t){super(t),Object.setPrototypeOf(this,n.prototype),this.type=e}}t.FVError=n,t.isFVError=function(e){return e instanceof n},t.getFvErrorCodeFromRivieraStatus=function(e){switch(e){case i.RivieraStatus.Unknown:return r.Unknown;case i.RivieraStatus.UnsupportedFormat:return r.UnsupportedPreviewType;case i.RivieraStatus.TooBig:return r.FileTooLarge;case i.RivieraStatus.PasswordProtected:return r.PasswordProtected;default:return r.RivieraDataFetchFailure}}})),define("typescript/libraries/file-viewer/src/core/extension_constants",["require","exports","typescript/libraries/file-viewer/src/core/data/models","typescript/libraries/file-viewer/src/file_extension/extension_constants"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWhitelistedFileExtension=t.brandWhitelistedFileExtension=t.resolvePreviewTypeFromExtension=t.LOGGING_ALLOWED_EXTS_SET=t.DOC_EXTS=t.IMAGE_EXTS=void 0;function n(e){return e}t.IMAGE_EXTS=r.PHOTO_EXTS.concat([".xd"]),t.DOC_EXTS=r.PDF_EXTS.concat(r.DOCUMENT_EXTS,r.PRESENTATION_EXTS,r.WORDPROC_EXTS),t.LOGGING_ALLOWED_EXTS_SET=new Set(r.LOGGING_ALLOWED_EXTS),t.resolvePreviewTypeFromExtension=function(e){return e=e.toLowerCase(),r.MSOFFICE_EXCEL_EXTS.includes(e)?i.PreviewType.Excel:t.DOC_EXTS.includes(e)?i.PreviewType.SsrDoc:t.IMAGE_EXTS.includes(e)?i.PreviewType.Image:r.TRANSCODE_VIDEO_EXTS.includes(e)?i.PreviewType.Video:r.AUDIO_EXTS.includes(e)?i.PreviewType.Audio:r.LINK_FILE_EXTS.includes(e)?i.PreviewType.Linkfile:r.HTMLIFIED_PREVIEW_EXTS.includes(e)?i.PreviewType.HTML:r.CLOUD_DOC_EXTS.includes(e)?i.PreviewType.CloudDoc:i.PreviewType.Other},t.brandWhitelistedFileExtension=n,t.getWhitelistedFileExtension=function(e){return t.LOGGING_ALLOWED_EXTS_SET.has(e)?e:r.LOGGING_UNALLOWED_EXT_PLACEHOLDER}})),define("typescript/libraries/file-viewer/src/core/i18n",["require","exports","react-intl"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDuration=t.formatBytes=t.placeholderI18nFormatters=void 0;const r=i.createIntl({locale:"en"});t.placeholderI18nFormatters=Object.assign(Object.assign({},r),{formatMessage(...e){const[t,i]=e;return r.formatMessage(Object.assign(Object.assign({},t),{id:"placeholder"}),i)}}),t.formatBytes=function(e,t){const i={minimumFractionDigits:0,maximumFractionDigits:2};return e<1024?t.formatMessage({id:"JPwjIB",defaultMessage:"{value, plural, one {# byte} other {# bytes}}"},{value:t.formatNumber(e,i)}):e<921600?t.formatMessage({id:"rNMBTS",defaultMessage:"{value} KB"},{value:t.formatNumber(e/1024,i)}):e<943718400?t.formatMessage({id:"mDrYnG",defaultMessage:"{value} MB"},{value:t.formatNumber(e/1048576,i)}):e<900*1024**3?t.formatMessage({id:"g+xqHV",defaultMessage:"{value} GB"},{value:t.formatNumber(e/1024**3,i)}):t.formatMessage({id:"7XWgdi",defaultMessage:"{value} TB"},{value:t.formatNumber(e/1024**4,i)})};t.formatDuration=function(e,t){if(e&&!(isNaN(e)||e<=0))return e<6e4?t.formatMessage({id:"XJTRCn",defaultMessage:"{value, plural, one{# second} other{# seconds}}"},{value:Math.round(e/1e3)}):e<36e5?t.formatMessage({id:"hYCfnh",defaultMessage:"{value, plural, one{# minute} other{# minutes}}"},{value:Math.round(e/6e4)}):e<864e5?t.formatMessage({id:"5vUoeT",defaultMessage:"{value, plural, one{# hour} other{# hours}}"},{value:Math.round(e/36e5)}):e<6048e5?t.formatMessage({id:"VUIAfM",defaultMessage:"{value, plural, one{# day} other{# days}}"},{value:Math.round(e/864e5)}):e<2592e6?t.formatMessage({id:"0wIJlM",defaultMessage:"{value, plural, one{# week} other{# weeks}}"},{value:Math.round(e/6048e5)}):e<31536e6?t.formatMessage({id:"MPX3Ow",defaultMessage:"{value, plural, one{# month} other{# months}}"},{value:Math.round(e/2592e6)}):t.formatMessage({id:"toXz6N",defaultMessage:"{value, plural, one{# year} other{# years}}"},{value:Math.round(e/31536e6)})}})),define("typescript/libraries/file-viewer/src/core/invariant",["require","exports","typescript/libraries/file-viewer/src/core/errors"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invariant=void 0,t.invariant=function(e,t=i.FVErrorCode.Unknown,r){if(!e){let e;throw e=void 0===r?new i.FVError(t,"An error occurred for unknown reason"):new i.FVError(t,r),e.framesToPop=1,e}return e}})),define("typescript/libraries/file-viewer/src/core/logging/actions",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.logDuration=t.updateSession=t.logTTV=t.logTTI=t.logVideoEvent=t.logUserActionEvent=t.logPreviewEvent=t.logSessionEvent=t.Action=void 0,(function(e){e.UpdateSession="@@previews/updateSession",e.Log="@@previews/log",e.LogUserAction="@@previews/LogUserAction",e.LogSessionEvent="@@previews/logSessionEvent",e.LogTTI="@@previews/logTTI",e.LogTTV="@@previews/logTTV",e.LogVideo="@@previews/logVideo",e.LogDuration="@@previews/logDuration",e.UpdateFitScaleFactor="UpdateFitScaleFactor"})(i=t.Action||(t.Action={})),t.logSessionEvent=function(e){return{type:i.LogSessionEvent,payload:e}},t.logPreviewEvent=function(e){return{type:i.Log,payload:e}},t.logUserActionEvent=function(e){return{type:i.LogUserAction,payload:e}},t.logVideoEvent=function(e){return{type:i.LogVideo,payload:e}},t.logTTI=function(e){return{type:i.LogTTI,payload:e}},t.logTTV=function(e){return{type:i.LogTTV,payload:e}},t.updateSession=function(e){return{type:i.UpdateSession,payload:e}},t.logDuration=function(e){return{type:i.LogDuration,payload:e}}})),define("typescript/libraries/file-viewer/src/core/logging/session",["require","exports","typescript/libraries/file-viewer/src/core/uuid","typescript/libraries/file-viewer/src/core/invariant","typescript/libraries/file-viewer/src/core/errors","typescript/libraries/file-viewer/src/core/extension_constants","typescript/libraries/file-viewer/src/core/logging/constants"],(function(e,t,i,r,n,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markTTI=t.recordExtra=t.updateSessionLastEvent=t.recordEvent=t.createFilePreviewSession=void 0,t.createFilePreviewSession=function(e){const{file_viewer_session_id:t=i.v4(),file_preview_session_id:r=i.v4(),file_id:n="",sj_id:o,ns_id:l,file_extension:c=a.getWhitelistedFileExtension(""),device_type:d=s.DeviceType.desktop,extra:u={}}=e||{};return{file_viewer_session_id:t,file_preview_session_id:r,file_id:n,sj_id:o,ns_id:l,file_extension:c,device_type:d,extra:Object.assign(Object.assign({},u),{source_action:u.source_action||s.SourceAction.Visit,source_context:u.source_context||s.SourceContext.FileViewer,file_preview_timeline:{}})}},t.recordEvent=function(e,t,i){const{extra:{last_event:a}}=e;switch(r.invariant(a!==t,n.FVErrorCode.InvalidLoggingOrder,`Cannot log duplicate event ${t}`),t){case s.SessionEventType.FilePreviewSupportConfirmed:case s.SessionEventType.FilePreviewSupportDenied:r.invariant(a===s.SessionEventType.FilePreviewAttemptStarted,n.FVErrorCode.InvalidLoggingOrder,`Event ${t} out of order, expect \`last_event\` to be '${s.SessionEventType.FilePreviewAttemptStarted}' but was '${a}'`);break;case s.SessionEventType.FilePreviewDownloadAttempted:r.invariant(a===s.SessionEventType.FilePreviewSupportConfirmed,n.FVErrorCode.InvalidLoggingOrder,`Event ${t} out of order, expect \`last_event\` to be '${s.SessionEventType.FilePreviewSupportConfirmed}' but was '${a}'`);break;case s.SessionEventType.FilePreviewDownloadFailed:case s.SessionEventType.FilePreviewDownloadSucceeded:r.invariant(a===s.SessionEventType.FilePreviewDownloadAttempted,n.FVErrorCode.InvalidLoggingOrder,`Event ${t} out of order, expect \`last_event\` to be '${s.SessionEventType.FilePreviewDownloadAttempted}' but was '${a}'`);break;case s.SessionEventType.FilePreviewRenderSucceeded:case s.SessionEventType.FilePreviewRenderFailed:r.invariant(a===s.SessionEventType.FilePreviewDownloadSucceeded||a===s.SessionEventType.FilePreviewDownloadAttempted,n.FVErrorCode.InvalidLoggingOrder,`Event ${t} out of order, expect \`last_event\` to be '${s.SessionEventType.FilePreviewDownloadSucceeded}' but was '${a}'`);break;case s.SessionEventType.FilePreviewGetApp:r.invariant(a!==s.SessionEventType.FilePreviewSessionEnded,n.FVErrorCode.InvalidLoggingOrder,`Event ${t} out of order. Preview session has already ended`)}return Object.assign(Object.assign({},e),{extra:Object.assign(Object.assign(Object.assign({},e.extra),{file_preview_timeline:Object.assign(Object.assign({},e.extra.file_preview_timeline),{[t]:Date.now()})}),i||{})})},t.updateSessionLastEvent=function(e,t){return Object.assign(Object.assign({},e),{extra:Object.assign(Object.assign({},e.extra),{last_event:t})})},t.recordExtra=function(e,t){return Object.assign(Object.assign({},e),{extra:Object.assign(Object.assign({},e.extra),t)})},t.markTTI=function(e){const t=Object.assign({},e.extra);if(t.time_to_primary_mark)return e;switch(t.primary_mark_ts||(t.primary_mark_ts=Date.now()),t.source_action){case s.SourceAction.Visit:r.invariant(!!t.page_start_ts,n.FVErrorCode.InvalidLoggingSession,"Cannot calculate 1st page TTI without page_start_ts"),t.time_to_primary_mark=t.primary_mark_ts-t.page_start_ts;break;case s.SourceAction.Click:r.invariant(t.file_preview_timeline&&!!t.file_preview_timeline.preview_attempted,n.FVErrorCode.InvalidLoggingSession,"Cannot calculate subsequent page TTI without preview_attempted timestamp"),t.time_to_primary_mark=t.primary_mark_ts-t.file_preview_timeline.preview_attempted}return Object.assign(Object.assign({},e),{extra:t})}})),define("typescript/libraries/file-viewer/src/core/middlewares/navigation",["require","exports","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/selectors"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=void 0,t.middleware=function(e){return({getState:t})=>n=>a=>{var s,o,l,c,d,u;switch(a.type){case i.Action.Share:return null===(s=e.openShareModal)||void 0===s||s.call(e),n(a);case i.Action.OpenWith:return null===(o=e.openDefaultNativeApp)||void 0===o||o.call(e),n(a);case i.Action.OpenWebPreview:return null===(l=e.openWebPreview)||void 0===l||l.call(e),n(a);case i.Action.OpenVersionHistory:return e.openVersionHistory(),n(a);case i.Action.Restore:return e.restorePreviousVersion(),n(a);case i.Action.OpenFullscreenPreview:return e.openFullScreenPreview&&e.openFullScreenPreview(),n(a);case i.Action.OpenContainingFolder:return e.openContainingFolder&&e.openContainingFolder(),n(a);case i.Action.OpenUrl:const{url:p,fallbackUrl:_}=a.payload;return e.openUrl&&e.openUrl(p,_),n(a);case i.Action.CloseViewer:const g=r.getCurrentFilePreviewUI(t(),a.payload.fileViewerId);if((null==g?void 0:g.currentPath)&&g.currentPath.length>0){const e=g.currentPath.slice(0,-1);return n(i.updateArchiveFileCurrentPath(Object.assign(Object.assign({},a.payload),{currentPath:e,fromUrlChanged:!1,isDir:!0})))}return e.closeViewer&&e.closeViewer(),n(a);case i.Action.ShowAuthModal:const{encryptionOptions:v,sharedLinkUrl:f,kind:m,mode:b,loggingExtra:h}=a.payload;return e.showAuthModal&&e.showAuthModal({encryptionOptions:v,sharedLinkUrl:f,kind:m,mode:b,loggingExtra:h}),n(a);case i.Action.FlipToNextFile:return null===(c=e.flipToNextFile)||void 0===c||c.call(e),n(a);case i.Action.FlipToPreviousFile:return null===(d=e.flipToPreviousFile)||void 0===d||d.call(e),n(a);case i.Action.OpenWithCloudEditor:const{editorName:A,fileViewerId:w}=a.payload,y=r.getCurrentFile(t(),w),{currentUser:S}=t();return S&&(null==y?void 0:y.file_id)&&(null===(u=e.openWithCloudEditor)||void 0===u||u.call(e,y.file_id,S.uid,A)),n(a);default:return n(a)}}}})),define("typescript/libraries/file-viewer/src/core/uuid",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.v4=void 0;const i=(()=>{let e,t;const i=[];for(e=0,t=e;e<=255;e++,t=e)i.push((t+256).toString(16).substr(1));return i})();function r(e){return e.map(e=>i[e]).join("")}t.v4=function(){const e=(function(){const e=new Uint8Array(16);return window.crypto&&window.crypto.getRandomValues(e),e})();e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Array.prototype.slice.call(e);return[t.slice(0,4),t.slice(4,6),t.slice(6,8),t.slice(8,10),t.slice(10,16)].map(r).join("-")}})),define("typescript/libraries/file-viewer/src/core/urls",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getXlsImgUrl=t.imageUrl=t.updateQueryParam=void 0,t.updateQueryParam=function(e,t){Object.keys(t).forEach(i=>{e.searchParams.set(i,t[i])})},t.imageUrl=function(e,t,i,r){const n=new URL(e);return n.searchParams.set("page",t.toString()),n.searchParams.set("scale_percent",i.toString()),null!=r&&n.searchParams.set("width",r.toString()),n.toString()},t.getXlsImgUrl=function(e,t,i){const r=new URL(e,"https://www.dropbox.com");if("/previews_asset/"===r.pathname){return(r.pathname+r.search).replace(/SHEET_PLACEHOLDER/,t.toString()).replace(/TILE_PLACEHOLDER/,i.toString())}return r.searchParams.set("sheet",t.toString()),r.searchParams.set("tile",i.toString()),r.toString()}})),define("typescript/libraries/file-viewer/src/open_with_native/index",["require","exports","tslib","classnames","react","dig-components/buttons","dig-components/tooltips","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/css/sidebar.module.css","react-redux","typescript/libraries/file-viewer/src/core/data/selectors","dig-components/icons/src","dig-components/icons","typescript/libraries/file-viewer/src/core/data/modes/types","typescript/libraries/file-viewer/src/core/data/actions"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenWithButton=t.UnconnectedOpenWithButton=void 0,r=i.__importDefault(r),n=i.__importStar(n),l=i.__importStar(l),t.UnconnectedOpenWithButton=({dispatch:e,intl:t,previewKey:i,fileViewerId:c,collapsed:d,variant:_="transparent",size:v="standard",className:f="",sourceContext:m=o.UserActionContext.Sidebar})=>{if(!i)return null;const b=n.createElement(p.UIIcon,{src:u.OpenLine}),h=()=>e(g.openWith({fileViewerId:c,previewKey:i,sourceContext:m})),A=t.formatMessage({id:"tB7wey",defaultMessage:"Open"});return d?n.createElement(s.Tooltip,{placement:"left",title:A},n.createElement(a.Button,{size:v,onClick:h,variant:_,title:A,className:r.default(l.openWithCollapsed,f)},b)):n.createElement(a.Button,{size:v,onClick:h,variant:_,className:r.default(l.openWith,f),withIconLeft:b},A)},t.UnconnectedOpenWithButton.displayName="UnconnectedOpenWithButton",t.OpenWithButton=c.connect((function(e,t){const{fileViewerId:i,collapsed:r}=t;if(!d.getCurrentFile(e,i))return{};const{modes:n,currentFileInfo:{[i]:{previewKey:a}}}=e;return a?{previewKey:a,collapsed:null==r?n[i].sidebar.visibility===_.SidebarVisibility.Closed:r}:{}}))(t.UnconnectedOpenWithButton)})),define("typescript/libraries/file-viewer/src/file_viewer/file_viewer",["require","exports","tslib","react","react-dom","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/app","typescript/libraries/file-viewer/src/core/uuid","typescript/libraries/file-viewer/src/core/config","typescript/libraries/api_v2/redux/previews","typescript/libraries/api_v2/redux/users","typescript/libraries/file-viewer/src/core/invariant","typescript/libraries/file-viewer/src/core/data/models","typescript/libraries/file-viewer/src/core/utils/index","typescript/libraries/file-viewer/src/core/logging/actions","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/core/errors","typescript/libraries/file-viewer/src/core/data/riviera/types","typescript/libraries/file-viewer/src/core/constants","typescript/libraries/file-viewer/src/plugins/index","typescript/libraries/file-viewer/src/plugins/queries","typescript/libraries/file-viewer/src/plugins/context","typescript/libraries/file-viewer/src/plugins/selectors/index","typescript/libraries/file-viewer/src/plugins/navigation","typescript/libraries/file-viewer/src/core/data/store_utils","typescript/libraries/api_v2/redux/seen_state","typescript/libraries/file-viewer/src/pass/index","typescript/libraries/api_v2/redux/files","typescript/libraries/file-viewer/src/core/data/preview_key","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/preview_audio_video/helper/browser_detection"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A,w,y,S,P,F,R,I,E,C,O){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileViewerComponent=t.SDKFileViewer=t.defaultPlatformConfig=void 0,r=i.__importStar(r),n=i.__importStar(n),t.defaultPlatformConfig={osModifierKey:"ctrlKey"};t.SDKFileViewer=class{constructor(e,t,w=[],y){this.mounted=!1,this.sessionActive=!1,this.loadPreviewMetadata=e=>i.__awaiter(this,void 0,void 0,(function*(){const e=this.store,t=this.fileViewerId,{file_id:i,url:r,previewKey:n}=C.getCurrentFile(e.getState(),t),{config:s}=this.platformProps;e.dispatch(I.getFileContentMetadataAction({arg:{file_path_or_id:i,url:r}},{previewKey:n})),yield Promise.all([e.dispatch(a.fetchRivieraData({fileViewerId:this.fileViewerId,previewKey:n,config:s}))])})),this.maybePreloadFile=(e,t)=>{const i=t.content;if(e===p.PreviewType.Image&&i&&"image"===i[".tag"]&&i.default_src){const e=new Image;i.src_set&&(e.srcset=i.src_set),e.src=i.default_src}},this.selectDefaultPlugin=()=>i.__awaiter(this,void 0,void 0,(function*(){var e,t;const i=yield this.plugins.promisedInstances,r=Object.keys(i),n=this.store.getState(),{previewKey:s}=C.getCurrentFile(n,this.fileViewerId);this.store.dispatch(a.setActiveRightRailPlugin({fileViewerId:this.fileViewerId,previewKey:s,sourceContext:v.UserActionContext.Initialization,pluginId:null!==(t=null!==(e=this.defaultPlugin)&&void 0!==e?e:this.plugins.initialDefaultPlugin)&&void 0!==t?t:r[0]}))})),this.exitPluginEditMode=()=>i.__awaiter(this,void 0,void 0,(function*(){const{config:e}=this.platformProps,t=this.store.getState(),{previewKey:i}=C.getCurrentFile(t,this.fileViewerId);e.preview_page_revamp?this.store.dispatch(a.setActiveEditPlugin({fileViewerId:this.fileViewerId,previewKey:i,sourceContext:v.UserActionContext.Sidebar,pluginId:void 0})):this.selectDefaultPlugin()})),this.reinitializeFileViewer=e=>i.__awaiter(this,void 0,void 0,(function*(){let t;switch(e.userAction){case"click":t=v.SourceAction.Click;break;case"double_click":t=v.SourceAction.DoubleClick;break;case"visit":t=v.SourceAction.Visit}const i=this.store.getState(),r=C.getCurrentFile(i,this.fileViewerId),{fileConfig:n}=C.getFileMetadata(i,r.previewKey);let a;switch(e.sourceContext){case"workflow":a=v.SourceContext.Workflow}this.selectDefaultPlugin(),this.initialize({fileSize:e.fileSize,sourceSession:{source_action:t,source_context:a},fileMetadata:{file_id:e.fileId,file_name:e.fileName},fileInfo:{ns_id:e.nsId,sj_id:e.sjId,file_id:e.fileId},fileConfig:n})})),this.resolveFilePreview=(e,t,r)=>i.__awaiter(this,void 0,void 0,(function*(){var i;let n;u.invariant(!(!e.url&&!e.file_id),f.FVErrorCode.InvalidFileInfo,"You have to either provide a file ID or shared link url to fetch the preview data");const a=null!==(i=e.url)&&void 0!==i?i:r;n=a?{url:a,file_id:e.file_id}:e.ns_id&&e.sj_id?{ns_id:e.ns_id,sj_id:e.sj_id}:{file_id:e.file_id},yield this.store.dispatch(c.getPreviewDataBatchAction({arg:{files:[n],include_dimensions:!0},params:{}},{previewKey:t}))})),this.hasFileFlipped=e=>{const t=C.getCurrentFile(this.store.getState(),this.fileViewerId),{previewKey:i}=t;return i.serialized!==e.serialized},this.initialize=({fileMetadata:e,fileSize:t,fileInfo:r,fileConfig:n,previewMetadata:s,sourceSession:o,defaultRightRailPlugin:c,activeEditPlugin:d,pluginParams:h={},supportedPreviewTypes:A=b.DEFAULT_SUPPORTED_PREVIEW_TYPES,sharedLinkInfo:w})=>i.__awaiter(this,void 0,void 0,(function*(){const{file_name:i}=e,b=r.file_id,y=r.sj_id,S=r.ns_id,P=r.url,I=E.getPreviewKey(b,S,y,P),{store:k,config:M,deviceType:x,accountId:D,callbacks:T}=this.platformProps,L=_.getFileExtension(i),j=this.fileViewerId,U=_.getFileExtension(i),V=C.getCurrentFile(k.getState(),j);V&&this.mounted&&(yield this.doTeardown()),this.store.dispatch(a.setCurrentFilePreview({fileViewerId:this.fileViewerId,fileInfo:r,previewKey:I}));const N=Object.assign(Object.assign({},l.DEFAULT_FILE_CONFIG),null!=n?n:{});k.dispatch(a.setFileMetadata(Object.assign(Object.assign({},e),{fileConfig:N,size:t,previewKey:I}))),s&&N.enable_prefetch_metadata_usage&&k.dispatch(a.setPreviewMetadata(Object.assign(Object.assign({},s),{previewKey:I}))),this.sessionActive=!0,k.dispatch(a.initializeFilePreviewSession({fileViewerId:j,fileId:b,sjId:y,nsId:S,deviceType:x,fileExtension:U,sourceSession:o})),k.dispatch(a.setPreviewLoadingAction({isPreviewLoading:!0}));const B=k.getState().loggingSession[this.fileViewerId].file_preview_session_id;T&&T.onPreviewSessionInitialized&&T.onPreviewSessionInitialized(B),k.dispatch(g.logSessionEvent({event:v.SessionEventType.FilePreviewAttemptStarted,fileViewerId:j,previewSessionId:B}));const K=performance.now();try{yield this.triggerPluginsPreviewWillInitialize(r,w,void 0===D)}catch(e){k.dispatch(g.logSessionEvent({event:v.SessionEventType.LifecycleFailure,fileViewerId:this.fileViewerId,previewSessionId:B,extra:{e:e}}))}const G=performance.now();k.dispatch(g.logDuration({eventName:"plugin_initialization_ms",duration:G-K,fileViewerId:j}));try{u.invariant(!!L,f.FVErrorCode.NoExtension,"Missing file extension"),u.invariant(!!r.url||!!r.file_id,f.FVErrorCode.InvalidFileInfo,"You have to either provide a file ID or shared link url to fetch the preview data");try{if(C.getPreviewData(k.getState(),I)||(yield this.resolveFilePreview(r,I,null==w?void 0:w.url)),!navigator.onLine)throw new f.FVError(f.FVErrorCode.UserOffline,"There is a network connectivity issue")}catch(e){throw f.isFVError(e)?e:new f.FVError(f.FVErrorCode.PreviewsDataApiFailure,e.message)}if(this.hasFileFlipped(I))return;const e=C.getCurrentFile(k.getState(),j),{file_id:n,ns_id:s,sj_id:o}=e;w&&k.dispatch(a.setSharedLinkInfo(Object.assign(Object.assign({},w),{previewKey:I})));const l=performance.now();if(k.dispatch(g.logDuration({eventName:"fetch_preview_data_ms",duration:l-G,fileViewerId:j})),u.invariant(!!n,f.FVErrorCode.MalformedPreviewsDataApiResponse,"Missing `file_id` in `file_info`"),yield this.setDefaultActivePlugin(I,c),yield this.setActiveEditPlugin(I,d),null==V){const e={fileViewerId:this.fileViewerId,previewKey:I,sourceContext:v.UserActionContext.Initialization};k.dispatch(a.initializeSidebar(Object.assign(Object.assign({},e),{forceOpen:Boolean(h.shouldFocusApproval),useBladePreference:M.comments2_usability_revamp}))),k.dispatch(a.initializeDocSidebar({fileViewerId:this.fileViewerId,previewKey:I,sourceContext:v.UserActionContext.Initialization})),k.dispatch(a.initializeVolumeAndMuted(e))}k.dispatch(g.logDuration({eventName:"set_default_plugin_ms",duration:performance.now()-l,fileViewerId:j}));const b=C.getPreviewData(k.getState(),I),y=_.resolvePreviewType(b);if(k.dispatch(a.initializeFilePreview({fileViewerId:j,fileInfo:{file_id:n,size:t,ns_id:s,sj_id:o,previewKey:I},fileExtension:U,fileName:i,previewType:y,fileConfig:N})),b.error)throw b.error;if(u.invariant(y!==p.PreviewType.Error,f.FVErrorCode.MalformedPreviewsDataApiResponse,"Preview Type got resolved to PreviewType.Error, possibly because of missing `content`"),u.invariant(A.includes(y),f.FVErrorCode.UnsupportedPreviewType,"Unsupported preview type"),u.invariant(_.fileSizeSupported(i,t,y,M),f.FVErrorCode.FileTooLarge,"Unsupported file size"),k.dispatch(g.logSessionEvent({event:v.SessionEventType.FilePreviewSupportConfirmed,fileViewerId:j,previewSessionId:B,extra:{preview_type:y}})),k.dispatch(g.logSessionEvent({event:v.SessionEventType.FilePreviewDownloadAttempted,fileViewerId:j,previewSessionId:B,extra:{preview_type:y}})),M.fvsdk_image_preload&&this.maybePreloadFile(y,b),yield this.loadPreviewMetadata(r).catch(e=>{throw f.isFVError(e)?e:new f.FVError(f.FVErrorCode.RivieraDataFetchFailure,e.message)}),this.hasFileFlipped(I))return;const S=k.getState().rivieraData[I.serialized];let P;if(S&&(P=S.error,P&&(null==P?void 0:P.statusCode)!==m.RivieraStatus.PasswordProtected)){if(null==(null==P?void 0:P.statusCode)||!navigator.onLine)throw new f.FVError(f.FVErrorCode.UserOffline,"There is a network connectivity issue");throw new f.FVError(f.FVErrorCode.RivieraDataFetchFailure,`Riviera Failure, status code "${P.statusCode}"`)}if(k.dispatch(g.logSessionEvent({event:v.SessionEventType.FilePreviewDownloadSucceeded,fileViewerId:j,previewSessionId:B,extra:{preview_type:y}})),k.dispatch(a.setBootstrappedFile({fileViewerId:j,previewKey:I})),M.log_views_to_pass){const e={file_views:[{file_info:{file_identifier:n,shared_link_details:w?{url:w.url}:void 0},platform_type:{".tag":O.is_android()&&O.is_supported_mobile_browser()?"mobile_android":O.iphone?"mobile_ios":"web"}}]};D?k.dispatch(F.logFileViewAction({arg:e})):k.dispatch(F.loggedOutLogFileViewAction({arg:e}))}try{R.initializePASSPresence(k,n,B),N.enable_pass&&R.initializePASS(k,n),yield this.triggerPluginsPreviewDidInitialize(h)}catch(e){k.dispatch(g.logSessionEvent({event:v.SessionEventType.LifecycleFailure,fileViewerId:this.fileViewerId,previewSessionId:B,extra:{e:e}}))}this.subscribeToPluginActivation(B)}catch(e){switch(f.isFVError(e)||(e=new f.FVError(f.FVErrorCode.Unknown)),e.type){case f.FVErrorCode.PreviewsDataApiFailure:case f.FVErrorCode.NoExtension:case f.FVErrorCode.InvalidFileInfo:case f.FVErrorCode.UnsupportedPreviewType:case f.FVErrorCode.MalformedPreviewsDataApiResponse:k.dispatch(g.logSessionEvent({event:v.SessionEventType.FilePreviewSupportDenied,fileViewerId:this.fileViewerId,previewSessionId:B,extra:{error_code:f.FVErrorCode[e.type]}}));break;default:k.dispatch(g.logSessionEvent({event:v.SessionEventType.FilePreviewDownloadFailed,fileViewerId:this.fileViewerId,previewSessionId:B,extra:{error_code:f.FVErrorCode[e.type]}}))}const{previewKey:t}=C.getCurrentFile(k.getState(),j);k.dispatch(a.setErroredFile({fileViewerId:j,previewKey:t,error:e})),k.dispatch(a.setPreviewLoadingAction({isPreviewLoading:!1})),this.triggerPluginsPreviewDidError(e)}})),this.triggerPluginsPreviewDidRender=()=>i.__awaiter(this,void 0,void 0,(function*(){const e=yield this.plugins.promisedInstances;for(const t of Object.values(e))t.lifecycle.previewDidRender&&t.lifecycle.previewDidRender()})),this.render=(e,t,i)=>{this.container=e;const r=this.makeComponent(t,i);if(r)return n.render(r,e,this.triggerPluginsPreviewDidRender)},this.makeComponent=(e,t)=>{const{store:i,intl:n,config:a,platformConfig:o,callbacks:l}=this.platformProps,c=this.plugins.instances;if(null==c)return null;const d=Object.entries(c).reduce((e,[t,i])=>{const r=h.parseRightRailPlugin(i);return null==r?e:Object.assign(Object.assign({},e),{[t]:r})},{});return r.createElement(s.AppWithProvider,{store:i,intl:n,id:this.fileViewerId,callbacks:l,config:a,pluginInstances:c,rightRailPluginInstances:d,pluginQueryBus:this.plugins.queryBus,pluginNavigation:this.plugins.navigation,onDestroy:this.handleAppDestroy,onMount:this.handleAppMount,osModifierKey:o.osModifierKey,viewport:e},t)},this.doTeardown=()=>i.__awaiter(this,void 0,void 0,(function*(){const{store:e}=this.platformProps,t=e.getState().loggingSession[this.fileViewerId].file_preview_session_id;this.endSession();try{this.triggerPluginDidDeactivateForCurrent()}catch(i){e.dispatch(g.logSessionEvent({event:v.SessionEventType.LifecycleFailure,fileViewerId:this.fileViewerId,previewSessionId:t,extra:{e:i}}))}this.unsubscribeFromPluginActivation&&this.unsubscribeFromPluginActivation();try{yield this.triggerPluginsPreviewWillTeardown()}catch(i){e.dispatch(g.logSessionEvent({event:v.SessionEventType.LifecycleFailure,fileViewerId:this.fileViewerId,previewSessionId:t,extra:{e:i}}))}})),this.endSession=()=>{if(this.sessionActive){this.sessionActive=!1;const{store:e}=this.platformProps,t=e.getState().loggingSession[this.fileViewerId].file_preview_session_id,i=C.getCurrentFile(e.getState(),this.fileViewerId);e.dispatch(g.logSessionEvent({event:v.SessionEventType.FilePreviewSessionEnded,fileViewerId:this.fileViewerId,previewSessionId:t})),(null==i?void 0:i.file_id)&&R.teardownPASSPresence(e,i.file_id)}},this.handleAppDestroy=()=>i.__awaiter(this,void 0,void 0,(function*(){this.mounted=!1,yield this.doTeardown()})),this.handleAppMount=()=>{this.mounted=!0},this.unmount=()=>{this.container&&(n.unmountComponentAtNode(this.container),this.cleanup())},this.cleanup=()=>{window.removeEventListener("beforeunload",this.endSession)};const P=y||o.v4();this.fileViewerId=P,this.platformProps=e,this.apiv2ClientBase=t;const{store:k,deviceType:M=v.DeviceType.desktop,showAuthModal:x,canCloseViewer:D}=e;this.store=k;const T=w.length>0?w[0].pluginId:void 0;this.plugins={navigation:S.makeNavigation({store:k,fileViewerId:P,reinitializeFileViewer:this.reinitializeFileViewer,exitPluginEditMode:this.exitPluginEditMode,showAuthModal:x,canCloseViewer:D}),instances:null,promisedInstances:this.loadPlugins(w),count:w.length,queryBus:new A.PluginQueryBus({getPageForSelection:()=>{}}),initialDefaultPlugin:T},this.defaultPlugin=void 0,k.dispatch(a.initializeFileViewer({fileViewerId:P,deviceType:M})),k.dispatch(d.getCurrentAccountAction({arg:void 0,params:{}})),k.dispatch(d.getRootInfoAction({arg:void 0})),window.addEventListener("beforeunload",this.endSession,{once:!0})}loadPlugins(e){const t={},{config:r,intl:n}=this.platformProps,a={intl:n,apiv2ClientBase:this.apiv2ClientBase};return Promise.all(e.map(e=>i.__awaiter(this,void 0,void 0,(function*(){const t=e.pluginId,i=performance.now(),n=w.makePluginContext({store:this.store,sdkConfig:r,fileViewerId:this.fileViewerId,pluginId:t,reinitializeFileViewer:this.reinitializeFileViewer,exitPluginEditMode:this.exitPluginEditMode}),s=yield e.load(a,n);return this.store.dispatch(g.logDuration({eventName:"plugin_load_ms",duration:performance.now()-i,fileViewerId:this.fileViewerId,tags:{pluginName:t}})),[t,s]})))).then(e=>(e.forEach(([e,i])=>{t[e]=i}),this.plugins.instances=t,t))}getPluginByName(e){return e&&this.plugins.instances&&this.plugins.instances[e]?this.plugins.instances[e]:null}getActivePluginInstance(){const e=y.getActivePluginId(this.store.getState(),this.fileViewerId);return this.getPluginByName(e)}setDefaultActivePlugin(e,t){var r;return i.__awaiter(this,void 0,void 0,(function*(){if(this.defaultPlugin=t,y.getSelectedPluginId(this.store.getState(),this.fileViewerId))return;const i=yield this.plugins.promisedInstances,n=Object.keys(i);0!==n.length&&this.store.dispatch(a.setActiveRightRailPlugin({fileViewerId:this.fileViewerId,previewKey:e,sourceContext:v.UserActionContext.Initialization,pluginId:null!==(r=null!=t?t:this.plugins.initialDefaultPlugin)&&void 0!==r?r:n[0]}))}))}setActiveEditPlugin(e,t){return i.__awaiter(this,void 0,void 0,(function*(){this.store.dispatch(a.setActiveEditPlugin({fileViewerId:this.fileViewerId,previewKey:e,sourceContext:v.UserActionContext.Initialization,pluginId:t}))}))}triggerPluginDidDeactivateForCurrent(){const e=this.getActivePluginInstance();e&&e.lifecycle&&e.lifecycle.pluginDidDeactivate&&e.lifecycle.pluginDidDeactivate()}triggerPluginsPreviewWillInitialize({file_id:e,ns_id:t,sj_id:r,url:n},a,s){return i.__awaiter(this,void 0,void 0,(function*(){let i;if(null!=e)i={fileId:e};else if(null!=t&&null!=r)i={nsId:t,sjId:r};else{if(null==n)throw new Error("Expected file_id, ns_id/sj_id, or url to be present");i={sharedLinkUrl:n}}const o=yield this.plugins.promisedInstances;for(const{lifecycle:{previewWillInitialize:e}}of Object.values(o))null!=e&&e(i,a,s)}))}subscribeToPluginActivation(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=this.fileViewerId;this.unsubscribeFromPluginActivation=P.observeStore(this.store,e=>y.getActivePluginId(e,t),(t,i)=>{const r=this.getPluginByName(t);if(r&&r.lifecycle&&r.lifecycle.pluginDidDeactivate)try{r.lifecycle.pluginDidDeactivate()}catch(t){this.store.dispatch(g.logSessionEvent({event:v.SessionEventType.LifecycleFailure,fileViewerId:this.fileViewerId,previewSessionId:e,extra:{e:t}}))}const n=this.getPluginByName(i);if(n&&r!==n&&n.lifecycle&&n.lifecycle.pluginDidActivate)try{n.lifecycle.pluginDidActivate()}catch(t){this.store.dispatch(g.logSessionEvent({event:v.SessionEventType.LifecycleFailure,fileViewerId:this.fileViewerId,previewSessionId:e,extra:{e:t}}))}})}))}triggerPluginsPreviewDidInitialize(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield this.plugins.promisedInstances;for(const i of Object.values(t))null!=i.lifecycle.previewDidInitialize&&i.lifecycle.previewDidInitialize(e)}))}triggerPluginsPreviewWillTeardown(){return i.__awaiter(this,void 0,void 0,(function*(){const e=yield this.plugins.promisedInstances;for(const t of Object.values(e))t.lifecycle.previewWillTeardown&&t.lifecycle.previewWillTeardown()}))}triggerPluginsPreviewDidError(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield this.plugins.promisedInstances;for(const i of Object.values(t))i.lifecycle.previewDidError&&i.lifecycle.previewDidError(e)}))}},t.FileViewerComponent=e=>{const{fileViewer:t,initializeOpts:n,className:a,id:s,viewport:o,children:l}=e;r.useEffect(()=>()=>{t.cleanup()},[]);const[c,d]=r.useState(0),u=r.useRef(null);r.useEffect(()=>{n&&i.__awaiter(void 0,void 0,void 0,(function*(){yield t.initialize(n),d(e=>e+1)}))},[n]);const p=r.useMemo(()=>c>0?t.makeComponent(o,l):null,[c]);return r.createElement("div",{className:a,id:s,ref:u},p)},t.FileViewerComponent.displayName="FileViewerComponent",t.FileViewerComponent.displayName="FileViewer"})),define("typescript/libraries/file-viewer/src/preview_archive/archive_snack_bar",["require","exports","tslib","react","dig-components/snackbar","dig-components/progress_indicators","dig-components/icons","dig-components/icons/src","dig-components/buttons","typescript/libraries/file-viewer/src/css/preview-archive.module.css","typescript/libraries/file-viewer/src/core/data/actions"],(function(e,t,i,r,n,a,s,o,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArchiveSnackBar=void 0,r=i.__importStar(r),c=i.__importStar(c),t.ArchiveSnackBar=e=>{const t=e.filePreviewUiData.extractAllSnackbarState,{intl:i,fileViewerId:u,previewKey:p,dispatch:_}=e,g=r.useMemo(()=>()=>_(d.updateArchiveExtractAllSnackbarState({extractAllSnackbarState:null,fileViewerId:u,previewKey:p})),[_,u,p]);if(!t)return null;let v;if("pending"===t.state)v=r.createElement(n.Snackbar,{open:!0,timeout:0},r.createElement(a.Spinner,{"aria-valuetext":"Loading",size:"small",inverse:!0}),r.createElement(n.Snackbar.Message,null,i.formatMessage({id:"Cdmrh0",defaultMessage:"Extracting files..."})));else if("loaded"===t.state){const e=()=>{_(d.openFileURL({fqPath:t.data}))};v=r.createElement(n.Snackbar,{open:!0,timeout:0},r.createElement(s.UIIcon,{src:o.CheckmarkCircleLine}),r.createElement(n.Snackbar.Message,null,i.formatMessage({id:"Qs0be2",defaultMessage:"Files extracted to {folder} in your main Dropbox folder"},{folder:t.data})),r.createElement(n.Snackbar.Actions,null,r.createElement(l.Button,{variant:"transparent",inverse:!0,onClick:e},i.formatMessage({id:"SliIKT",defaultMessage:"Open"})),r.createElement(l.Button,{variant:"transparent",inverse:!0,onClick:g},i.formatMessage({id:"1dhg8/",defaultMessage:"Close"}))))}else v=r.createElement(n.Snackbar,{open:!0,timeout:0},r.createElement(s.UIIcon,{src:o.FailLine}),r.createElement(n.Snackbar.Message,null,i.formatMessage({id:"Jh3TK7",defaultMessage:"Couldn't extract files"})),r.createElement(n.Snackbar.Actions,null,r.createElement(l.Button,{variant:"transparent",inverse:!0,onClick:g},i.formatMessage({id:"1dhg8/",defaultMessage:"Close"}))));return r.createElement("div",{className:c.snackBar},v)}})),define("typescript/libraries/file-viewer/src/preview_error/index",["require","exports","tslib","react","typescript/libraries/file-viewer/src/css/preview-error.module.css","typescript/libraries/file-viewer/src/css/header.module.css","dig-components/buttons","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/open_with_native/index","react-intl","typescript/libraries/file-viewer/src/sidebar/download_dropdown","typescript/libraries/file-viewer/src/preview_archive/archive_snack_bar","typescript/libraries/file-viewer/src/toolbar/toolbar_v2","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/errors","typescript/libraries/file-viewer/src/core/i18n","typescript/libraries/file-viewer/src/core/utils/index","typescript/libraries/file-viewer/src/plugins/types","typescript/libraries/file-viewer/src/plugins/header","react-redux","typescript/libraries/file-viewer/src/core/data/selectors"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewBootstrapError=t.PreviewRenderError=t.PreviewErrorBase=t.TestOnlyErrorPage=t.UserOffline=t.FileUploading=t.FileTooLarge=t.NoExtension=t.DataFetchFailure=t.Unavailable=t.ArchiveFilePasswordProtected=t.PasswordProtected=t.ArchiveFileUnavailable=t.ArchiveNestedFiletypeNotSupported=t.FiletypeNotSupported=t.ErrorContent=void 0,r=i.__importStar(r),n=i.__importStar(n);const w=(e,t)=>{const n=r.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{[t]:i}=yield e();return{default:i}}))),a=()=>r.createElement(r.Suspense,{fallback:null},r.createElement(n,null));return a.displayName=`Async${t}`,a},y=w(()=>new Promise((t,i)=>{e(["metaserver/static/js/dig-illustrations/spot/look-view"],t,i)}).then(i.__importStar),"LookViewSpot"),S=w(()=>new Promise((t,i)=>{e(["metaserver/static/js/dig-illustrations/spot/traffic-duck-crossing"],t,i)}).then(i.__importStar),"TrafficDuckCrossingSpot"),P=w(()=>new Promise((t,i)=>{e(["metaserver/static/js/dig-illustrations/spot/team-ants"],t,i)}).then(i.__importStar),"TeamAntsSpot"),F=w(()=>new Promise((t,i)=>{e(["metaserver/static/js/dig-illustrations/spot/passcode-lock"],t,i)}).then(i.__importStar),"PasscodeLockSpot"),R=c.defineMessage({id:"f0donV",defaultMessage:"Couldn't preview this file"});t.ErrorContent=({title:e,message:t,illustration:i,children:a})=>r.createElement("article",{className:n.container},r.createElement("div",{className:n.illustrationContainer},i),r.createElement("header",{className:n.header},r.createElement("h1",null,e)),t?r.createElement("p",{className:n.message},t):null,a),t.ErrorContent.displayName="ErrorContent",t.ErrorContent.displayName="ErrorContent";const I=({fileConfig:e,intl:t,dispatch:i,fileViewerId:a,previewKey:s,extractConfig:o={canExtract:!1}})=>{var c,u,p,_,g,v;const f=h.useSelector(e=>A.getCurrentFile(e,a)).file_id;return(null===(c=null==e?void 0:e.download_button)||void 0===c?void 0:c.enable_download_button)&&f?r.createElement(d.DownloadDropdown,{intl:t,dispatch:i,fileViewerId:a,fileId:f,previewKey:s,copyTargets:null!==(p=null===(u=null==e?void 0:e.download_button)||void 0===u?void 0:u.copy_targets)&&void 0!==p?p:[],canDownload:null!==(g=null===(_=null==e?void 0:e.download_button)||void 0===_?void 0:_.can_download)&&void 0!==g&&g,useTextButton:!0,useOutlineButton:!0,extractConfig:o}):(null===(v=null==e?void 0:e.download_button)||void 0===v?void 0:v.enable_open_with_button)?r.createElement(l.OpenWithButton,{variant:"outline",collapsed:!1,dispatch:i,intl:t,fileViewerId:a,className:n.ctaSecondary}):null};I.displayName="DownloadOrOpenWithButton",I.displayName="DownloadOrOpenWithButton",t.FiletypeNotSupported=({fileViewerId:e,fileMetadata:i,previewKey:a,intl:l,dispatch:c,extractConfig:d,fileConfig:u})=>r.createElement(t.ErrorContent,{illustration:r.createElement(y,null),title:l.formatMessage({id:"73IpwD",defaultMessage:"{extension} files can’t currently be previewed."},{extension:f.getFileExtension(i?i.file_name:"")}),fileName:i?i.file_name:""},r.createElement(I,{previewKey:a,fileViewerId:e,intl:l,dispatch:c,extractConfig:d,fileConfig:u}),(null==u?void 0:u.enable_view_on_dropbox_button)?r.createElement("div",{className:n.ctaLink},r.createElement(s.Button,{variant:"transparent",onClick:()=>c(_.openWebPreview({fileViewerId:e,previewKey:a,sourceContext:o.UserActionContext.PreviewError}))},l.formatMessage({id:"qLPMn5",defaultMessage:"View on dropbox.com"}))):null),t.FiletypeNotSupported.displayName="FiletypeNotSupported",t.FiletypeNotSupported.displayName="FiletypeNotSupported",t.ArchiveNestedFiletypeNotSupported=({fileName:e,fileSize:i,intl:n})=>{const a=f.getFileExtension(e),s=a?n.formatMessage({id:"x+ecOm",defaultMessage:"{extension} files can’t be previewed from an archive file."},{extension:a}):n.formatMessage({id:"SQjtty",defaultMessage:"This file cannot be previewed. Please check to see if your file extension is correct."});return r.createElement(t.ErrorContent,{illustration:r.createElement(y,null),title:s,fileName:e,message:n.formatMessage({id:"WF66bN",defaultMessage:"{filename} · {filesize}"},{filename:e,filesize:v.formatBytes(i,n)})})},t.ArchiveNestedFiletypeNotSupported.displayName="ArchiveNestedFiletypeNotSupported",t.ArchiveNestedFiletypeNotSupported.displayName="ArchiveNestedFiletypeNotSupported",t.ArchiveFileUnavailable=({fileName:e,fileSize:i,intl:n})=>{const a=n.formatMessage(R);return r.createElement(t.ErrorContent,{illustration:r.createElement(y,null),title:a,fileName:e,message:n.formatMessage({id:"WF66bN",defaultMessage:"{filename} · {filesize}"},{filename:e,filesize:v.formatBytes(i,n)})})},t.ArchiveFileUnavailable.displayName="ArchiveFileUnavailable",t.ArchiveFileUnavailable.displayName="ArchiveFileUnavailable",t.PasswordProtected=({fileName:e,intl:i})=>r.createElement(t.ErrorContent,{illustration:r.createElement(F,null),title:i.formatMessage({id:"tzyBCT",defaultMessage:"This {extension} file is password-protected"},{extension:f.getFileExtension(e)}),fileName:e}),t.PasswordProtected.displayName="PasswordProtected",t.PasswordProtected.displayName="PasswordProtected",t.ArchiveFilePasswordProtected=({fileName:e,intl:i})=>r.createElement(t.ErrorContent,{illustration:r.createElement(F,null),title:i.formatMessage({id:"eO6mPw",defaultMessage:"Can't preview items inside password protected {extension} files."},{extension:f.getFileExtension(e)}),fileName:e}),t.ArchiveFilePasswordProtected.displayName="ArchiveFilePasswordProtected",t.ArchiveFilePasswordProtected.displayName="ArchiveFilePasswordProtected",t.Unavailable=({fileMetadata:e,previewKey:i,fileConfig:n,intl:a,fileViewerId:s,dispatch:o,extractConfig:l})=>{var c;const d=a.formatMessage(R),u=null!==(c=null==e?void 0:e.file_name)&&void 0!==c?c:"";return r.createElement(t.ErrorContent,{illustration:r.createElement(y,null),title:d,fileName:u},r.createElement(I,{previewKey:i,fileViewerId:s,intl:a,dispatch:o,extractConfig:l,fileConfig:n}))},t.Unavailable.displayName="Unavailable",t.Unavailable.displayName="Unavailable",t.DataFetchFailure=({fileMetadata:e,intl:i})=>{let n,a;return e?(n=i.formatMessage({id:"ejp+g5",defaultMessage:"{extension} files are supported but something went wrong."},{extension:f.getFileExtension(e.file_name)}),a=e.file_name):(n=i.formatMessage({id:"0ljH1z",defaultMessage:"This file cannot be previewed"}),a=""),r.createElement(t.ErrorContent,{illustration:r.createElement(y,null),title:n,fileName:a})},t.DataFetchFailure.displayName="DataFetchFailure",t.DataFetchFailure.displayName="DataFetchFailure",t.NoExtension=({fileMetadata:e,intl:i,dispatch:n,fileViewerId:a,previewKey:s,extractConfig:o,fileConfig:l})=>r.createElement(t.ErrorContent,{illustration:r.createElement(y,null),title:i.formatMessage({id:"vbytsy",defaultMessage:"Files without extensions cannot be previewed"}),fileName:e?e.file_name:""},r.createElement(I,{previewKey:s,fileViewerId:a,intl:i,dispatch:n,extractConfig:o,fileConfig:l})),t.NoExtension.displayName="NoExtension",t.NoExtension.displayName="NoExtension",t.FileTooLarge=({fileMetadata:e,previewKey:i,previewMetadata:n,intl:a,dispatch:s,fileViewerId:o,config:l,fileConfig:c,extractConfig:d={canExtract:!1}})=>r.createElement(t.ErrorContent,{illustration:r.createElement(P,null),title:a.formatMessage({id:"Jap7oN",defaultMessage:"This file is too big to preview"}),message:a.formatMessage({id:"CaboZW",defaultMessage:"The maximum size for {extension} files is {size}"},{extension:e?f.getFileExtension(e.file_name):"",size:v.formatBytes(f.getFileSizeLimit(e?e.file_name:"",f.resolvePreviewType(n),l),a)}),fileName:e?e.file_name:""},r.createElement(I,{previewKey:i,fileViewerId:o,intl:a,dispatch:s,extractConfig:d,fileConfig:c})),t.FileTooLarge.displayName="FileTooLarge",t.FileTooLarge.displayName="FileTooLarge",t.FileUploading=({fileMetadata:e,intl:i,dispatch:n,fileViewerId:a,previewKey:s,extractConfig:o,fileConfig:l})=>r.createElement(t.ErrorContent,{illustration:r.createElement(S,null),title:i.formatMessage({id:"fz7GLr",defaultMessage:"File is uploading"}),fileName:e?e.file_name:""},r.createElement(I,{previewKey:s,fileViewerId:a,intl:i,dispatch:n,extractConfig:o,fileConfig:l})),t.FileUploading.displayName="FileUploading",t.FileUploading.displayName="FileUploading",t.UserOffline=({dispatch:e,fileMetadata:i,fileViewerId:n,intl:a,previewKey:s,extractConfig:o,fileConfig:l})=>r.createElement(t.ErrorContent,{illustration:r.createElement(y,null),title:a.formatMessage({id:"jZUA7r",defaultMessage:"This file cannot be previewed because you are offline"}),fileName:i?i.file_name:""},r.createElement(I,{previewKey:s,fileViewerId:n,intl:a,dispatch:e,extractConfig:o,fileConfig:l})),t.UserOffline.displayName="UserOffline",t.UserOffline.displayName="UserOffline";const E=e=>{switch(e.error.type){case g.FVErrorCode.UnsupportedPreviewType:return r.createElement(t.FiletypeNotSupported,Object.assign({},e));case g.FVErrorCode.NoExtension:return r.createElement(t.NoExtension,Object.assign({},e));case g.FVErrorCode.FileTooLarge:return r.createElement(t.FileTooLarge,Object.assign({},e));case g.FVErrorCode.PasswordProtected:return r.createElement(t.PasswordProtected,{intl:e.intl,fileName:e.fileMetadata?e.fileMetadata.file_name:""});case g.FVErrorCode.FileUploading:return r.createElement(t.FileUploading,Object.assign({},e));case g.FVErrorCode.UserOffline:return r.createElement(t.UserOffline,Object.assign({},e));case g.FVErrorCode.RivieraDataFetchFailure:case g.FVErrorCode.PreviewsDataApiFailure:case g.FVErrorCode.MalformedPreviewsDataApiResponse:case g.FVErrorCode.MalformedRivieraData:return r.createElement(t.DataFetchFailure,Object.assign({},e));case g.FVErrorCode.Unknown:case g.FVErrorCode.FileSwitched:case g.FVErrorCode.InvalidFileInfo:case g.FVErrorCode.InvalidLoggingOrder:case g.FVErrorCode.InvalidLoggingSession:case g.FVErrorCode.MissingContentMetadata:return r.createElement(t.Unavailable,Object.assign({},e))}};t.TestOnlyErrorPage=E,E.displayName="ErrorPage",E.displayName="ErrorPage",t.PreviewErrorBase=e=>{var t;const{extractConfig:i,fileMetadata:n,intl:s,previewKey:o,fileViewerId:l,dispatch:c,rootArchiveFileInformation:d,config:_,coreFileViewerUiData:g,filePreviewUiData:v,toolbarPlugins:f,snackbarManagerPluginInstance:h,width:A,responsiveSize:w,pluginProps:y,activePluginInstance:S,openInAppPluginInstance:P,onComponentRendered:F}=e;r.useEffect(()=>{F()},[F]);const R=(null==i?void 0:i.canExtract)&&n?r.createElement(u.ArchiveSnackBar,{filePreviewUiData:i.filePreviewUiData,intl:s,previewKey:o,fileViewerId:l,dispatch:c}):null,I=null===(t=n)||void 0===t?void 0:t.fileConfig;return r.createElement("div",{className:a.headerContainer},y&&r.createElement(b.PluginHeader,{pluginProps:y,activePluginInstance:S||void 0,openInAppPluginInstance:P}),R,r.createElement(E,Object.assign({},e,{fileConfig:I})),e.config.preview_page_revamp&&r.createElement(p.ConfigurableToolbarV2,{featureConfig:_,rootArchiveFileInformation:d,fileViewerId:l,previewKey:o,intl:s,filePreviewUi:v,fileMetadata:n,fileViewerUi:g,previewType:m.PreviewType.Error,plugins:f,snackbarManagerPluginInstance:h,previewWidth:A,responsiveSize:w}))},t.PreviewErrorBase.displayName="PreviewErrorBase",t.PreviewRenderError=e=>r.createElement(t.PreviewErrorBase,Object.assign({onComponentRendered:e.onRenderFailed},e)),t.PreviewRenderError.displayName="PreviewRenderError",t.PreviewBootstrapError=e=>r.createElement(t.PreviewErrorBase,Object.assign({onComponentRendered:e.onSetPreviewLoaded},e)),t.PreviewBootstrapError.displayName="PreviewBootstrapError",t.PreviewRenderError.displayName="PreviewRenderError",t.PreviewBootstrapError.displayName="PreviewBootstrapError",t.PreviewErrorBase.displayName="PreviewErrorBase"})),define("typescript/libraries/file-viewer/src/sidebar_v2/right_rail",["require","exports","tslib","react","typescript/component_libraries/files_components/src/right-rail/right_rail","react-redux","typescript/libraries/file-viewer/src/plugins/types","typescript/libraries/file-viewer/src/css/right_rail/right_rail.module.css","typescript/libraries/file-viewer/src/plugins/data","typescript/libraries/file-viewer/src/plugins/props","typescript/libraries/file-viewer/src/plugins/selectors/active_plugin","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/core/data/actions"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewRightRail=t.NOOP=void 0,r=i.__importStar(r),o=i.__importStar(o),t.NOOP=()=>{},t.PreviewRightRail=r.default.memo(({fileViewerId:e,previewKey:i,fileName:_,intl:g,pluginInstances:v,pluginNavigation:f,pluginQueryBus:m,height:b})=>{const h=a.useDispatch(),A=a.useSelector(t=>u.isSidebarOpen(t,e)),w=a.useSelector(t=>l.getPluginData(t,{fileViewerId:e,navigation:f})),y=a.useSelector(t=>c.makePluginProps(t,e,w,m)),S=a.useSelector(t=>c.makePluginControlProps(t,e,w,m)),P=e=>{var t;return void 0===e[1].rightRailUI.isBladeSupported||!y||y&&y.file&&(null===(t=e[1].rightRailUI)||void 0===t?void 0:t.isBladeSupported(y.file))},F=a.useSelector(t=>{var r;const n=d.getSelectedRightRailPluginId(t,e),a=Object.entries(v).find(e=>e[0]===n);if(a&&!P(a)){const t=Object.entries(v).filter(P),r=null==t?void 0:t[0];r&&h(p.setActiveRightRailPlugin({fileViewerId:e,previewKey:i,sourceContext:s.UserActionContext.Default,pluginId:r[0]}))}return n||(null===(r=Object.keys(v))||void 0===r?void 0:r[0])}),R=r.default.useCallback(t=>{t===F&&A||h(p.setActiveRightRailPlugin({pluginId:t,fileViewerId:e,previewKey:i,sourceContext:s.UserActionContext.Sidebar}))},[h,e,i,F,A]),I=r.default.useCallback(()=>{const t={fileViewerId:e,previewKey:i,sourceContext:s.UserActionContext.Sidebar};h(p.openSidebar(t))},[h,e,i]),E=r.useCallback(()=>{const t={fileViewerId:e,previewKey:i,sourceContext:s.UserActionContext.Sidebar};h(p.closeSidebar(t))},[h,e,i]),C=r.default.useCallback(e=>{R(e),I()},[R,I]);return y&&F?r.default.createElement("div",{style:{height:b},className:o.previewRightRailWrapper,"data-testid":"fv-sdk-right-rail"},A?r.default.createElement(n.RightRail.ExpandedWrapper,{withTitle:_,withCollapseButton:g.formatMessage({id:"BgMbCS",defaultMessage:"Close details pane"}),onCollapse:E,expandedBlade:F,className:o.rightRailContainer,onExpandBlade:R},r.default.createElement(n.RightRail.Content,null,Object.entries(v).map(([e,{rightRailUI:{Sidebar:t}}])=>r.default.createElement(t,Object.assign({},y,{key:`plugin-sidebar-${e}`}))))):r.default.createElement(n.RightRail.CollapsedWrapper,{onExpand:I,withExpandButton:g.formatMessage({id:"J5TC1D",defaultMessage:"Open details pane"}),className:o.rightRailContainer,onExpandBlade:C},S&&Object.entries(v).map(([e,{rightRailUI:{Control:i}}])=>r.default.createElement(i,Object.assign({},S,{isSelectedPlugin:e===F,onClick:t.NOOP,key:`plugin-control-${e}`}))))):null}),t.PreviewRightRail.displayName="PreviewRightRail",t.PreviewRightRail.displayName="PreviewRightRail"})),define("typescript/libraries/file-viewer/src/sidebar/download_dropdown",["require","exports","tslib","react","dig-components/buttons","dig-components/menu","dig-components/tooltips","dig-components/icons","dig-components/icons/src","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/data/utils"],(function(e,t,i,r,n,a,s,o,l,c,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadDropdown=t.normalize=void 0,r=i.__importStar(r);function p(e){return e?("/"!==e.charAt(0)&&(e=`/${e}`),"/"===e.charAt(e.length-1)?e.substr(0,e.length-1):e):""}t.normalize=p,t.DownloadDropdown=({dispatch:t,fileViewerId:g,fileId:v,previewKey:f,intl:m,canDownload:b,copyTargets:h,useTextButton:A,extractConfig:w,useOutlineButton:y})=>{var S,P;const F=()=>{t(d.downloadFile({previewKey:f,fileViewerId:g,sourceContext:c.UserActionContext.Sidebar}))},R=e=>()=>{t(d.copyToDropbox({previewKey:f,fileViewerId:g,sourceContext:c.UserActionContext.Sidebar,role:e}))},I=m.formatMessage({id:"Mran8D",defaultMessage:"Download"}),E=()=>i.__awaiter(void 0,void 0,void 0,(function*(){t(d.updateArchiveExtractAllSnackbarState({extractAllSnackbarState:u.makePendingLoadableData(),fileViewerId:g,previewKey:f}));const{unzipAction:r}=yield new Promise((t,i)=>{e(["typescript/libraries/api_v2/redux/flows"],t,i)}).then(i.__importStar);t(r({arg:{file:{identifier:{file_id:v,".tag":"file_id"}}}},{previewKey:f,fileViewerId:g}))})),C=w.canExtract&&b?(e=>{let t;switch(null==e?void 0:e[".tag"]){case"cdm_team":const i=(function(e,t){const i=(e=p(e)).split("/").pop();return i||(t||"Dropbox")})(e.home_path);t=i.length>12?m.formatMessage({id:"TAv+z6",defaultMessage:"Extract to my member folder"}):m.formatMessage({id:"53+pL4",defaultMessage:"Extract to {cdm_tmf_name} folder"},{cdm_tmf_name:i});break;case"not_on_cdm_team":default:t=m.formatMessage({id:"v021UF",defaultMessage:"Extract to my Dropbox"})}return{text:t,value:E,disabled:!1,key:"decompress"}})(w.rootInfo):void 0,O=[b?{text:I,value:F,disabled:!1,key:"download"}:void 0,...h.map(({text:e,isDisabled:t,role:i})=>({text:e,value:R(i),disabled:t,key:e})),C].filter(Boolean);if(1===O.length)return r.createElement(n.Button,{onClick:null===(S=O[0])||void 0===S?void 0:S.value,variant:"outline"},null===(P=O[0])||void 0===P?void 0:P.text);const k=O.map(e=>e?r.createElement(a.Menu.ActionItem,{id:"download-menu-item",key:e.key,value:e.value,disabled:e.disabled},e.text):null);return A?r.createElement(n.SplitButton,{variant:y?"outline":"primary",renderMenu:_(k,m.formatMessage({id:"zeKy1a",defaultMessage:"More download options"})),onClick:F},I):r.createElement(a.Menu.Wrapper,{key:"download-dropdown-menu",onSelection:e=>{e()}},({getContentProps:e,getTriggerProps:t,triggerRef:i})=>r.createElement(r.Fragment,null,r.createElement(s.Tooltip,{placement:"left",title:I,triggerRef:i},r.createElement(n.IconButton,Object.assign({},t(),{variant:"transparent","aria-label":I}),r.createElement(o.UIIcon,{src:l.DownloadLine}))),r.createElement(a.Menu.Content,Object.assign({},e()),r.createElement(a.Menu.Segment,null,k))))},t.DownloadDropdown.displayName="DownloadDropdown";const _=(e,t)=>({buttonProps:i})=>r.createElement(a.Menu.Wrapper,{key:"download-dropdown-menu",onSelection:e=>{e()}},({getContentProps:s,getTriggerProps:o})=>r.createElement(r.Fragment,null,r.createElement(n.Button,Object.assign({},o(),i,{"aria-label":t})),r.createElement(a.Menu.Content,Object.assign({},s()),r.createElement(a.Menu.Segment,null,e))));t.DownloadDropdown.displayName="DownloadDropdown"})),define("typescript/libraries/file-viewer/src/title_bar_v2/index",["require","exports","typescript/libraries/file-viewer/src/title_bar_v2/title_bar_v2"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TitleBarV2=t.TITLE_BAR_BACK_AND_HELP_ICONS=t.TITLE_BAR_V2_HEIGHT=void 0,Object.defineProperty(t,"TITLE_BAR_V2_HEIGHT",{enumerable:!0,get:function(){return i.TITLE_BAR_V2_HEIGHT}}),Object.defineProperty(t,"TITLE_BAR_BACK_AND_HELP_ICONS",{enumerable:!0,get:function(){return i.TITLE_BAR_BACK_AND_HELP_ICONS}}),Object.defineProperty(t,"TitleBarV2",{enumerable:!0,get:function(){return i.TitleBarV2}})})),define("metaserver/static/js/modules/clean/logging/hive/schemas/web-file_previews",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebFilePreviewsLoggingRow=void 0;t.WebFilePreviewsLoggingRow=class{constructor(e){this.category="web-file_previews",this.active_user_id=null,this.anon_ip=null,this.authed_user_ids=null,this.identity_gid=null,this.locale_browser_header=null,this.locale_user_selected=null,this.referrer=null,this.session_id=null,this.team_id=null,this.team_type=null,this.ua_browser_name=null,this.ua_browser_version=null,this.ua_dist_name=null,this.ua_dist_version=null,this.ua_os_name=null,this.ua_os_version=null,this.user_agent=null,this.user_id=null,this.device_type=e.device_type,this.event_name=e.event_name,this.extra=e.extra,this.file_extension=e.file_extension,this.file_last_edit_ts=e.file_last_edit_ts,this.file_obj_id=e.file_obj_id,this.file_preview_session_id=e.file_preview_session_id,this.file_preview_size=e.file_preview_size,this.file_sf_status=e.file_sf_status,this.file_size=e.file_size,this.file_viewer_session_id=e.file_viewer_session_id,this.is_starred=e.is_starred,this.ns_id=e.ns_id,this.sj_id=e.sj_id,this.x_dropbox_path=e.x_dropbox_path,this.timestamp=Date.now()/1e3|0,Object.seal(this)}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/pass",["require","exports","metaserver/static/js/modules/clean/react/pass/beacon_presence_helpers","typescript/libraries/file-viewer/src/pass/types","metaserver/static/js/modules/clean/react/pass/types"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPresenceBeaconIOClient=void 0;const a=(e,t)=>Object.keys(e).map(e=>({agent:{userId:e},info:{status:t?r.PresenceStatus.viewer:r.PresenceStatus.offline}}));t.getPresenceBeaconIOClient=function(e,t){let r=()=>{};return{subscribe(a,s){var o;const l=t(),c=(null==l?void 0:l.file.file_id)===a?null===(o=null==l?void 0:l.sharedLinkInfo)||void 0===o?void 0:o.url:void 0,d=new n.BeaconFileData(a,c);e&&i.BeaconPresenceHelpers.receiveBeaconData({beaconFileData:d,onUpdate:r,previewSessionId:s,user:e}),i.BeaconPresenceHelpers.transmitBeaconData({prevBeaconFileData:null,beaconFileData:new n.BeaconFileData(a,c),previewSessionId:s,user:null!=e?e:null})},unsubscribe(r){var a;const s=t(),o=(null==s?void 0:s.file.file_id)===r?null===(a=null==s?void 0:s.sharedLinkInfo)||void 0===a?void 0:a.url:void 0;i.BeaconPresenceHelpers.shutdown({beaconFileData:new n.BeaconFileData(r,o),user:null!=e?e:null,async:!0})},onBeacon(e){r=(t,i,r)=>{const n={events:[...a(t.onlineUniqueUsers,!0),...a(t.offlineUniqueUsers,!1)],fileId:r.fileId};e(n,"snapshot"===t.type)}}}}})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/hooks",["require","exports","tslib","react","react-redux","@reduxjs/toolkit","metaserver/static/js/modules/clean/file_actions/strings","metaserver/static/js/modules/clean/react/starred/browse_exports","metaserver/static/js/modules/clean/react/action_bar/action_bar_strings","metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/star/portable_star","metaserver/static/js/modules/clean/react/home/resource_id_types","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/clean/react/starred/browse_exports","metaserver/static/js/modules/core/i18n","dig-components/icons/src","typescript/libraries/file-viewer/src/hooks/useStabilizedCallback","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/react/starred/redux/selectors","metaserver/static/js/modules/clean/react/starred/redux/slice","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/clean/react/starred/utils"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A,w){"use strict";function y({getActiveFile:e,user:t,onToggle:i}){const n=e(),a=v.useStabilizedCallback(()=>o.StarredStore.getIsStarred({id:n.file.file_id,type:d.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID})),[f,m]=r.useState(a());r.useEffect(()=>{const e=o.StarredStore.addListener(()=>m(a()));return()=>e()},[a]);const b=p.itemNameFromStarrableItem(n.file),h=e=>()=>{const t=e?s.starSnackbarSuccess:s.unstarSnackbarSuccess;u.Snackbar.complete(_.intl.formatMessage(t,{itemName:b}),"star-action");const i={id:n.file.file_id,type:d.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID};p.StarredActions.setStarredStatus(i,e)},A=e=>()=>{const t=e?s.starSnackbarError:s.unstarSnackbarError;u.Snackbar.fail(_.intl.formatMessage(t,{itemName:b}))},w=()=>{null==i||i();const e=!f;c.star({userId:t.id,fileId:n.file.file_id,newStarredValue:e},{onSuccess:h(e),onError:A(e)})};return{message:_.intl.formatMessage(f?l.UNSTAR_ACTION_STRING:l.STAR_ACTION_STRING),iconSrc:f?g.StarFill:g.StarLine,handleClick:e=>{e.preventDefault(),e.stopPropagation(),w()},handleKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),w())}}}Object.defineProperty(t,"__esModule",{value:!0}),t.isStarringEnabled=t.useStarControl=t.useStarControlFlux=void 0,t.useStarControlFlux=y,t.useStarControl=A.STARRED_STORE_REDUX?function({getActiveFile:e,onToggle:t}){const{file:s}=e(),o=n.useDispatch(),c=n.useSelector(e=>b.getIsStarred(e,s.file_id));r.useEffect(()=>{o(h.fetchMissingStarredStatuses([{id:s.file_id,type:d.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID}]))},[s]);const u=r.useCallback(()=>i.__awaiter(this,void 0,void 0,(function*(){null==t||t();const e=yield o(h.updateStarredStatus({id:s.file_id,newStatus:!c,showSnackbar:!1}));try{a.unwrapResult(e),w.displayStarSnackbar({itemName:p.itemNameFromStarrableItem(s),isStarred:!c,success:!0})}catch(e){w.displayStarSnackbar({itemName:p.itemNameFromStarrableItem(s),isStarred:!c,success:!1})}})),[t,o,s,c]),f=v.useStabilizedCallback(e=>{e.preventDefault(),e.stopPropagation(),u()}),m=v.useStabilizedCallback(e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),u())});return{message:_.intl.formatMessage(c?l.UNSTAR_ACTION_STRING:l.STAR_ACTION_STRING),iconSrc:c?g.StarFill:g.StarLine,handleClick:f,handleKeyPress:m}}:y,t.isStarringEnabled=function(e){return f.isLiveFile(e)&&!m.isSharedFile(e)&&!f.isInsideVaultFolder(e)}})),define("metaserver/static/js/modules/clean/react/previews/sharing_plugin/loader",["require","exports","tslib","react","react-intl","react-redux","metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/utils","metaserver/static/js/modules/core/i18n","dig-components/icons/src","dig-components/buttons","dig-components/tooltips","dig-components/icons","dig-components/menu","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/clean/react/extensions/split_share_button_component","metaserver/static/js/modules/clean/react/extensions/data/store","spectrum-sharing/utils/sharing_constants","metaserver/static/js/modules/clean/react/file_viewer/share_helpers","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/utils","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","metaserver/static/js/modules/clean/sharing/api/client","metaserver/static/js/modules/clean/sharing/access_level","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/utils","metaserver/static/js/modules/clean/integrations/zoom_share_dialog/async_modal","metaserver/static/js/modules/clean/react/action_bar/action_bar_strings","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","metaserver/static/js/modules/clean/react/previews/sharing_plugin/copy_file_link_button","typescript/libraries/file-viewer/src/comments2/plugin/types"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f,m,b,h,A,w,y,S,P,F,R,I,E,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeShareMetaserverLoader=t.DisabledShareButton=void 0,r=i.__importStar(r),m=i.__importStar(m);const O=n.defineMessage({id:"VzQ1nj",defaultMessage:"Ask the owner of this file for permission to share it with others"}),k=n.defineMessage({id:"JDi0M8",defaultMessage:"Share"});t.DisabledShareButton=()=>{const e=n.useIntl(),t=e.formatMessage(k),i=e.formatMessage(O),a=r.default.createElement(u.UIIcon,{src:l.ShareArrowLine});return r.default.createElement(d.Tooltip,{title:i,placement:"left"},r.default.createElement("span",{style:{display:"inline-block"},tabIndex:0},r.default.createElement(c.SplitButton,{variant:"primary",disabled:!0,renderMenu:({buttonProps:e})=>r.default.createElement(p.Menu.Wrapper,null,({getTriggerProps:t,getContentProps:i})=>r.default.createElement(r.default.Fragment,null,r.default.createElement(c.Button,Object.assign({"aria-label":"Show options"},e,t(),{disabled:!0})),r.default.createElement(p.Menu.Content,Object.assign({},i(),{placement:"bottom-end"}))))},a,t)))},t.DisabledShareButton.displayName="DisabledShareButton";t.makeShareMetaserverLoader=(n,c,d,p,k,M,x,D)=>({pluginId:"SHARE",load:(T,L)=>{const j=v.getStore(),U=d&&new y.FileShareApiClient({userId:d.id});return Promise.resolve(new class{constructor(s){this.identifier="SHARE",this.lifecycle={previewDidInitialize:()=>i.__awaiter(this,void 0,void 0,(function*(){var e;const{file:t}=n(),i=A.isSharedFile(t),r=_.is_supported_mobile_browser();this.isMobile=r||window.innerWidth<801,i&&U&&t.file_id!==(null===(e=this.metadata)||void 0===e?void 0:e.id)&&t.file_id!==this.lastFailedId&&(yield U.getMetadataAlpha({contentId:t.file_id}).then(e=>this.metadata=e).catch(()=>this.lastFailedId=t.file_id)),this.actionDefinitions.alwaysInOverflow=[this.actionToDisplay()]}))},this.titleBarUI={Component:()=>{const[s,o]=r.default.useState(null!=x?x:void 0),[l,u]=r.default.useState(void 0),[_,v]=r.default.useState(!0),y=(()=>{const e=()=>h.calcResponsiveSize(window.innerWidth),[t,i]=r.default.useState(e());return r.default.useEffect(()=>{const t=()=>i(e());return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),t})(),R=c===P.SDKPreviewSurface.SHARED_CONTENT_LINK||c===P.SDKPreviewSurface.SHARED_LINK,O=R||c===P.SDKPreviewSurface.INBAND_SHARE,T=n().file,L=A.isSharedFile(T),V=()=>i.__awaiter(this,void 0,void 0,(function*(){L&&U&&T.file_id!==(null==s?void 0:s.id)&&T.file_id!==l&&!(null==M?void 0:M.doesContainShmodelLink)&&(yield U.getMetadataAlpha({contentId:T.file_id}).then(e=>o(e)).catch(()=>u(T.file_id)))}));if(r.useEffect(()=>{s||V()}),!d||c===P.SDKPreviewSurface.VERSION_HISTORY)return!d&&R&&"ON"===p&&((null==M?void 0:M.doesContainRlKey)||(null==M?void 0:M.doesContainShmodelLink))?r.default.createElement("div",{className:"share-button-container"},r.default.createElement(E.CopyFileLinkButton,{file_id:T.file_id,parsedLink:M,linkAccessLevel:M.doesContainShmodelLink?"viewer":void 0})):null;const N=null!=s&&s.access_type===S.ACCESS_LEVEL.WRITER;let B=!1;if(R||L&&!N)if("ON"===p&&M&&(M.doesContainRlKey||M.doesContainShmodelLink))B=!0;else if("ON"!==p&&!N)return r.default.createElement(t.DisabledShareButton,null);const K=A.isBrowseFile(T)?T.fq_path:"",G=A.isBrowseFile(T)?T.icon:"",z=w.isCloudDoc(T),W=w.getType(T),H=Object.assign(Object.assign({},T),{icon:G,fq_path:K,is_cloud_doc:z,type:W}),q=O&&N,Y=q&&"ON"===k||!O;return k&&"OFF"!==k&&q&&_&&(v(!1),new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/stormcrow/stormcrow_exposure_logger"],t,i)}).then(i.__importStar).then(({StormcrowExposureLogger:e})=>{(new e).logExposure("sharing_modal_on_edit_previews",k)})),r.default.createElement("div",{className:"share-actions"},B&&r.default.createElement("div",{className:"share-button-container"},r.default.createElement(E.CopyFileLinkButton,{file_id:T.file_id,link_metadata:null==s?void 0:s.link_metadata,user:d,parsedLink:M,variant:Y?"opacity":"primary",linkAccessLevel:N?"editor":"viewer"})),Y&&r.default.createElement(a.Provider,{store:j},r.default.createElement(g.SplitShareButton,{files:[H],user:d,variant:"primary",onShowShare:()=>{const e=O?f.SHARE_ACTION_ORIGIN_TYPE.SHARING_PREVIEW_PAGE:f.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE;m.share(T,d,null,e,{showApproval:D,onCreateApprovalSuccess:()=>this.context.getPluginData().navigation.openRightRailPlugin(b.UserActionContext.TitleBarMain,C.COMMENTS_PLUGIN_ID)}),this.context.logUserAction({action:b.UserAction.Share,context:b.UserActionContext.TitleBarMain})},onPresentInZoom:()=>((e,t)=>{F.asyncShowModal(t.id,e,"file-viewer-modal-overlay")})(T.file_id,d),showLeftDigIcon:y===I.ResponsiveSize.DESKTOP})),!Y&&!B&&r.default.createElement(t.DisabledShareButton,null))}},this.context=s}get actionDefinitions(){return{alwaysInOverflow:[this.actionToDisplay()]}}shareDefinition(e){const{file:t}=e,i=A.isSharedFile(t),n=!!this.metadata&&this.metadata.access_type!==S.ACCESS_LEVEL.WRITER,a=i&&n;return s.makePluginActionDefinition({label:o.intl.formatMessage(R.SHARE_ACTION_STRING),disabled:a?{disabled:!0,tooltipMessage:o.intl.formatMessage(O)}:{disabled:!1},icon:r.default.createElement(u.UIIcon,{src:l.ShareArrowLine}),id:"SHARE",action:()=>{d&&(m.share(t,d,null,f.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE),this.context.logUserAction({action:b.UserAction.Share,context:b.UserActionContext.TitleBarMain}))}})}actionToDisplay(){return d&&this.isMobile&&c!==P.SDKPreviewSurface.VERSION_HISTORY?[this.shareDefinition(n())]:[]}}(L))}})})),define("metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/version_history_plugin",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","dig-components/icons","dig-components/icons/src","metaserver/static/js/modules/clean/react/action_bar/file_actions/portable/utils","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/clean/react/action_bar/action_bar_strings","metaserver/static/js/modules/clean/browse_interface","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/cloud_docs/open_with_utils","metaserver/static/js/modules/clean/cloud_docs/constants","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/sync_everything/constants"],(function(e,t,i,r,n,a,s,o,l,c,d,u,p,_,g,v,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeVersionHistoryActionLoader=void 0,r=i.__importDefault(r),l=i.__importStar(l);t.makeVersionHistoryActionLoader=(e,t)=>({pluginId:"VERSION_HISTORY_ACTION",load:(i,m)=>Promise.resolve(new class{constructor(e){this.lifecycle={previewWillInitialize:()=>{this.actionDefinitions.alwaysInOverflow=[this.actionToDisplay()]}},this.actionDefinitions={alwaysInOverflow:[this.actionToDisplay()]},this.context=e}actionToDisplay(){const{file:i}=e();return!t||!u.isBrowseFile(i)||v.isSharedFile(i)||p.isCloudBasedDoc(i)||_.isPointerByExtension(i.fq_path)||g.isPnmLinkNodeSelected(i)||!g.isLiveFile(i)?[]:[this.versionHistoryDefinition(i)]}versionHistoryDefinition(e){let i="";return i=f.isBackupBrowse()?d.getFileHistoryUrlForNsPath({nsPath:e.ns_path,nsId:e.ns_id,userId:t.id},{inside_backup:"true",return_url:l.get_href()}):d.getFileHistoryUrl({fqPath:e.fq_path,userId:t.id}),o.makePluginActionDefinition({label:n.intl.formatMessage(c.VERSION_HISTORY_ACTION_STRING),icon:r.default.createElement(a.UIIcon,{src:s.ClockLine}),id:"VERSION_HISTORY_ACTION",action:()=>{this.context.logUserAction({action:"version_history",context:"title_bar_button"}),l.redirect(i)}})}}(m))})})),define("typescript/libraries/file-viewer/src/keyboard/index",["require","exports","typescript/libraries/file-viewer/src/keyboard/keyboard_provider","typescript/libraries/file-viewer/src/keyboard/keyboard_connector","ts-keycode-enum","typescript/libraries/file-viewer/src/keyboard/keyboard_binding","typescript/libraries/file-viewer/src/keyboard/bindings"],(function(e,t,i,r,n,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyboardBinding=t.getHomeEndBindings=t.getPageUpDownBindings=t.getUpDownBindings=t.getZoomInOutBindings=t.getFileFlippingBindings=t.OsModifierKey=t.KeyboardBinding=t.Key=t.KeyboardBindingConnector=t.KeyboardBindingProvider=void 0,Object.defineProperty(t,"KeyboardBindingProvider",{enumerable:!0,get:function(){return i.KeyboardBindingProvider}}),Object.defineProperty(t,"KeyboardBindingConnector",{enumerable:!0,get:function(){return r.KeyboardBindingConnector}}),Object.defineProperty(t,"Key",{enumerable:!0,get:function(){return n.Key}}),Object.defineProperty(t,"KeyboardBinding",{enumerable:!0,get:function(){return a.KeyboardBinding}}),Object.defineProperty(t,"OsModifierKey",{enumerable:!0,get:function(){return a.OsModifierKey}}),Object.defineProperty(t,"getFileFlippingBindings",{enumerable:!0,get:function(){return s.getFileFlippingBindings}}),Object.defineProperty(t,"getZoomInOutBindings",{enumerable:!0,get:function(){return s.getZoomInOutBindings}}),Object.defineProperty(t,"getUpDownBindings",{enumerable:!0,get:function(){return s.getUpDownBindings}}),Object.defineProperty(t,"getPageUpDownBindings",{enumerable:!0,get:function(){return s.getPageUpDownBindings}}),Object.defineProperty(t,"getHomeEndBindings",{enumerable:!0,get:function(){return s.getHomeEndBindings}}),Object.defineProperty(t,"getKeyboardBinding",{enumerable:!0,get:function(){return s.getKeyboardBinding}})})),define("typescript/libraries/file-viewer/src/keyboard/bindings",["require","exports","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/core/data/actions","ts-keycode-enum"],(function(e,t,i,r,n){"use strict";function a(e){return null!=e&&null!=e.preventDefault}function s(e){return function(t){e(),a(t)&&t.preventDefault()}}function o({dispatch:e,fileViewerId:t,previewKey:a,requireCommandKey:o}){const l=s(()=>{e(r.flipToPreviousFile({fileViewerId:t,previewKey:a,sourceContext:i.UserActionContext.Keyboard}))}),c={keyboardEventCriteria:{keyCode:n.Key.LeftArrow,osModifierKey:!0},callback:l};return o?[c]:[{keyboardEventCriteria:{keyCode:n.Key.LeftArrow},callback:l},c]}function l({dispatch:e,fileViewerId:t,previewKey:a,requireCommandKey:o}){const l=s(()=>{e(r.flipToNextFile({fileViewerId:t,previewKey:a,sourceContext:i.UserActionContext.Keyboard}))}),c={keyboardEventCriteria:{keyCode:n.Key.RightArrow,osModifierKey:!0},callback:l};return o?[c]:[{keyboardEventCriteria:{keyCode:n.Key.RightArrow},callback:l},c]}function c(e){return{keyboardEventCriteria:{keyCode:n.Key.PageDown},callback:s(e)}}function d(e){return{keyboardEventCriteria:{keyCode:n.Key.DownArrow},callback:s(e)}}function u(e){return[{keyboardEventCriteria:{keyCode:n.Key.Dash,osModifierKey:!0},callback:s(e)}]}function p(e){return{keyboardEventCriteria:{keyCode:n.Key.End},callback:s(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyboardBinding=t.getHomeEndBindings=t.getZoomInOutBindings=t.getUpDownBindings=t.getPageUpDownBindings=t.getFileFlippingBindings=t.isKeyboardEvent=void 0,t.isKeyboardEvent=a,t.getFileFlippingBindings=function(e){return[...l(e),...o(e)]},t.getPageUpDownBindings=function({pageUp:e,pageDown:t}){return[(i=e,{keyboardEventCriteria:{keyCode:n.Key.PageUp},callback:s(i)}),c(t)];var i},t.getUpDownBindings=function({up:e,down:t}){return[(i=e,{keyboardEventCriteria:{keyCode:n.Key.UpArrow},callback:s(i)}),d(t)];var i},t.getZoomInOutBindings=function({zoomIn:e,zoomOut:t}){return[...(i=e,[{keyboardEventCriteria:{keyCode:n.Key.PlusSign,osModifierKey:!0},callback:s(i)}]),...u(t)];var i},t.getHomeEndBindings=function({home:e,end:t}){return[(i=e,{keyboardEventCriteria:{keyCode:n.Key.Home},callback:s(i)}),p(t)];var i},t.getKeyboardBinding=function({keyCode:e,callback:t}){return[{keyboardEventCriteria:{keyCode:e},callback:()=>t()}]}})),define("typescript/libraries/file-viewer/src/keyboard/context",["require","exports","tslib","react"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardBindingContext=void 0,r=i.__importStar(r);const n=()=>{};t.KeyboardBindingContext=r.createContext({registerKeyBindings:n,unregisterKeyBindings:n,updateKeyBindings:n})})),define("typescript/libraries/file-viewer/src/keyboard/keyboard_binding_map",["require","exports","typescript/libraries/file-viewer/src/keyboard/keyboard_binding"],(function(e,t,i){"use strict";function r(e){return i.NormalizedKeyboardEventCriteriaKeys.map(t=>`${t}:${e[t]}`).join("")}function n(e,t){return(function(e,t){return e.reduce((e,{keyboardEventCriteria:i,callback:r})=>(e[t(i)]=r,e),{})})(e,e=>(function(e,t){return r(i.normalizeKeyboardEventCriteria(e,t))})(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardBindingMap=void 0;t.KeyboardBindingMap=class{constructor(e,t){this.bindingDict={},this.bindingDict=n(e,t)}getCallbackForEvent(e){const t=i.normalizeKeyboardEvent(e);return this.bindingDict[r(t)]}}})),define("typescript/libraries/file-viewer/src/keyboard/keyboard_binding",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeKeyboardEventCriteria=t.normalizeKeyboardEvent=t.NormalizedKeyboardEventCriteriaKeys=t.genericNormalizedKeyboardEventCriteria=void 0,t.genericNormalizedKeyboardEventCriteria={altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,keyCode:0},t.NormalizedKeyboardEventCriteriaKeys=Object.keys(t.genericNormalizedKeyboardEventCriteria),t.normalizeKeyboardEvent=function(e){return{altKey:!0===e.altKey,ctrlKey:!0===e.ctrlKey,metaKey:!0===e.metaKey,shiftKey:!0===e.shiftKey,keyCode:e.keyCode}},t.normalizeKeyboardEventCriteria=function(e,t){return{altKey:!0===e.altKey,shiftKey:!0===e.shiftKey,keyCode:e.keyCode,ctrlKey:!1,metaKey:!1,[t]:!0===e.osModifierKey}}})),define("typescript/libraries/file-viewer/src/keyboard/keyboard_connector",["require","exports","tslib","react","typescript/libraries/file-viewer/src/keyboard/context"],(function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardBindingConnector=void 0,r=i.__importStar(r),t.KeyboardBindingConnector=e=>{const{keyboardBindings:t}=e,i=r.useContext(n.KeyboardBindingContext);return r.useEffect(()=>{const e=i.registerKeyBindings(t);return()=>{i.unregisterKeyBindings(e)}},[t]),null},t.KeyboardBindingConnector.displayName="KeyboardBindingConnector"})),define("typescript/libraries/file-viewer/src/keyboard/keyboard_provider",["require","exports","tslib","react","lodash","typescript/libraries/file-viewer/src/keyboard/keyboard_binding_map","typescript/libraries/file-viewer/src/keyboard/context","typescript/libraries/file-viewer/src/css/preview-excel.module.css"],(function(e,t,i,r,n,a,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardBindingProvider=void 0,r=i.__importStar(r);const{Provider:l}=s.KeyboardBindingContext;t.KeyboardBindingProvider=e=>{const{disableBindings:t,children:i,osModifierKey:s}=e,c=r.useRef(0),d=r.useRef([]),u=r.useRef(null),p=r.useCallback((e,t)=>{d.current[e]=null!=t?t:[],u.current=new a.KeyboardBindingMap((function(e){return e.map(e=>Object.assign(Object.assign({},e),{callback:n.throttle(e.callback,20)}))})(n.flatten(d.current)),s)},[]),_=r.useCallback(e=>{const t=c.current++;return p(t,e),t},[]),g=r.useCallback(e=>{p(e,[])},[]),v=r.useCallback(e=>{var t;if(!(function(e){const t=e.target||e.srcElement;if(!t)return!0;const{tagName:i,className:r=""}=t,n="INPUT"===i||"SELECT"===i||"TEXTAREA"===i,a=t instanceof HTMLInputElement&&("submit"===t.type||"button"==t.type),s=t.hasAttribute&&t.hasAttribute("contenteditable")&&"false"!==t.getAttribute("contenteditable").toLowerCase(),l=-1!==r.split(" ").indexOf(o.tab);return!s&&!l&&(!n||a)})(e))return;const i=null===(t=u.current)||void 0===t?void 0:t.getCallbackForEvent(e);i&&i(e)},[]);r.useEffect(()=>(!0!==t&&document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}),[v]);const f=r.useMemo(()=>({registerKeyBindings:_,unregisterKeyBindings:g,updateKeyBindings:p}),[]);return r.createElement(l,{value:f},i)},t.KeyboardBindingProvider.displayName="KeyboardBindingProvider"})),define("typescript/libraries/file-viewer/src/css/app.module.css",["require","exports","css!metaserver/static/js/typescript/libraries/file-viewer/src/css/app.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transparentBackground=t.authButtons=t.editPluginFullscreenContainer=t.loadingSpinnerWrapper=t.editMode=t.contentContainerLoading=t.contentWrapper=t.contentContainer=t.containerV2=t.container=void 0,t.container="_container_1e7ar_1",t.containerV2="_containerV2_1e7ar_18",t.contentContainer="_contentContainer_1e7ar_27",t.contentWrapper="_contentWrapper_1e7ar_32",t.contentContainerLoading="_contentContainerLoading_1e7ar_32",t.editMode="_editMode_1e7ar_44",t.loadingSpinnerWrapper="_loadingSpinnerWrapper_1e7ar_48",t.editPluginFullscreenContainer="_editPluginFullscreenContainer_1e7ar_64",t.authButtons="_authButtons_1e7ar_69",t.transparentBackground="_transparentBackground_1e7ar_73";t.default={container:"_container_1e7ar_1",containerV2:"_containerV2_1e7ar_18",contentContainer:"_contentContainer_1e7ar_27",contentWrapper:"_contentWrapper_1e7ar_32",contentContainerLoading:"_contentContainerLoading_1e7ar_32",editMode:"_editMode_1e7ar_44",loadingSpinnerWrapper:"_loadingSpinnerWrapper_1e7ar_48",editPluginFullscreenContainer:"_editPluginFullscreenContainer_1e7ar_64",authButtons:"_authButtons_1e7ar_69",transparentBackground:"_transparentBackground_1e7ar_73"}})),define("typescript/libraries/file-viewer/src/css/pass.module.css",["require","exports","css!metaserver/static/js/typescript/libraries/file-viewer/src/css/pass.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.facepileMembers=t.avatarTooltipPadded=t.avatarTooltip=t.remainderTooltip=void 0,t.remainderTooltip="_remainderTooltip_11942_1",t.avatarTooltip="_avatarTooltip_11942_8",t.avatarTooltipPadded="_avatarTooltipPadded_11942_20",t.facepileMembers="_facepileMembers_11942_31";t.default={remainderTooltip:"_remainderTooltip_11942_1",avatarTooltip:"_avatarTooltip_11942_8",avatarTooltipPadded:"_avatarTooltipPadded_11942_20",facepileMembers:"_facepileMembers_11942_31"}})),define("typescript/libraries/file-viewer/src/css/right_rail/right_rail.module.css",["require","exports","css!metaserver/static/js/typescript/libraries/file-viewer/src/css/right_rail/right_rail.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.previewRightRailWrapper=t.editPluginContainer=t.rightRailContainer=void 0,t.rightRailContainer="_rightRailContainer_h7q7y_1",t.editPluginContainer="_editPluginContainer_h7q7y_7",t.previewRightRailWrapper="_previewRightRailWrapper_h7q7y_14";t.default={rightRailContainer:"_rightRailContainer_h7q7y_1",editPluginContainer:"_editPluginContainer_h7q7y_7",previewRightRailWrapper:"_previewRightRailWrapper_h7q7y_14"}})),define("typescript/libraries/file-viewer/src/css/title_bar_v2.module.css",["require","exports","css!metaserver/static/js/typescript/libraries/file-viewer/src/css/title_bar_v2.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropboxLogo=t.mobileMeatball=t.helpButton=t.actionBarMobile=t.actionBar=t.auth=t.spacer=t.share=t.pass=t.title=t.closeButton=t.mobileTitleBar=t.titleBar=void 0,t.titleBar="_titleBar_ji18g_1",t.mobileTitleBar="_mobileTitleBar_ji18g_8",t.closeButton="_closeButton_ji18g_13",t.title="_title_ji18g_1",t.pass="_pass_ji18g_27",t.share="_share_ji18g_34",t.spacer="_spacer_ji18g_38",t.auth="_auth_ji18g_42",t.actionBar="_actionBar_ji18g_50",t.actionBarMobile="_actionBarMobile_ji18g_55",t.helpButton="_helpButton_ji18g_59",t.mobileMeatball="_mobileMeatball_ji18g_65",t.dropboxLogo="_dropboxLogo_ji18g_69";t.default={titleBar:"_titleBar_ji18g_1",mobileTitleBar:"_mobileTitleBar_ji18g_8",closeButton:"_closeButton_ji18g_13",title:"_title_ji18g_1",pass:"_pass_ji18g_27",share:"_share_ji18g_34",spacer:"_spacer_ji18g_38",auth:"_auth_ji18g_42",actionBar:"_actionBar_ji18g_50",actionBarMobile:"_actionBarMobile_ji18g_55",helpButton:"_helpButton_ji18g_59",mobileMeatball:"_mobileMeatball_ji18g_65",dropboxLogo:"_dropboxLogo_ji18g_69"}})),define("typescript/libraries/file-viewer/src/css/preview-core.module.css",["require","exports","css!metaserver/static/js/typescript/libraries/file-viewer/src/css/preview-core.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFullScreen=t.toolbar=t.app=void 0,t.app="_app_wmwjr_5",t.toolbar="_toolbar_wmwjr_14",t.isFullScreen="_is-full-screen_wmwjr_33";t.default={app:"_app_wmwjr_5",toolbar:"_toolbar_wmwjr_14",isFullScreen:"_is-full-screen_wmwjr_33"}})),define("typescript/libraries/file-viewer/src/css/preview-error.module.css",["require","exports","css!metaserver/static/js/typescript/libraries/file-viewer/src/css/preview-error.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.illustrationContainer=t.ctaLink=t.ctaSecondary=t.message=t.header=t.img=t.container=void 0,t.container="_container_9t5i9_1",t.img="_img_9t5i9_12",t.header="_header_9t5i9_16",t.message="_message_9t5i9_24",t.ctaSecondary="_ctaSecondary_9t5i9_29",t.ctaLink="_ctaLink_9t5i9_34",t.illustrationContainer="_illustrationContainer_9t5i9_38";t.default={container:"_container_9t5i9_1",img:"_img_9t5i9_12",header:"_header_9t5i9_16",message:"_message_9t5i9_24",ctaSecondary:"_ctaSecondary_9t5i9_29",ctaLink:"_ctaLink_9t5i9_34",illustrationContainer:"_illustrationContainer_9t5i9_38"}})),define("typescript/libraries/file-viewer/src/css/preview-excel.module.css",["require","exports","css!metaserver/static/js/typescript/libraries/file-viewer/src/css/preview-excel.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gridCell=t.gridTable=t.toolbar=t.textAlignCenter=t.loadingSpinnerWrapper=t.tab=t.segmentedControlOptionContainer=t.buttonSeparator=t.tabsGroup=t.tabsTabs=t.tabsGroupButtonsContainer=t.tabsGroupContainer=t.tabsGroupAndButtonsContainer=t.tabsPanelContainerNoScroll=t.tabsPanelContainer=t.sheetContent=t.rowHeaders=t.columnHeaders=t.sheetHeader=t.columnHeadersContainer=t.rowHeadersContainer=t.sheetHeaderContainer=t.headerSpacer=t.sheet=t.sheetWrapper=t.container=void 0,t.container="_container_7l53b_9",t.sheetWrapper="_sheetWrapper_7l53b_16",t.sheet="_sheet_7l53b_16",t.headerSpacer="_header-spacer_7l53b_31",t.sheetHeaderContainer="_sheetHeaderContainer_7l53b_41",t.rowHeadersContainer="_row-headersContainer_7l53b_46",t.columnHeadersContainer="_column-headersContainer_7l53b_52",t.sheetHeader="_sheetHeader_7l53b_41",t.columnHeaders="_column-headers_7l53b_52",t.rowHeaders="_row-headers_7l53b_46",t.sheetContent="_sheet-content_7l53b_82",t.tabsPanelContainer="_tabsPanelContainer_7l53b_91",t.tabsPanelContainerNoScroll="_tabsPanelContainerNoScroll_7l53b_106",t.tabsGroupAndButtonsContainer="_tabsGroupAndButtonsContainer_7l53b_110",t.tabsGroupContainer="_tabsGroupContainer_7l53b_123",t.tabsGroupButtonsContainer="_tabsGroupButtonsContainer_7l53b_127",t.tabsTabs="_tabsTabs_7l53b_137",t.tabsGroup="_tabsGroup_7l53b_110",t.buttonSeparator="_buttonSeparator_7l53b_150",t.segmentedControlOptionContainer="_segmentedControlOptionContainer_7l53b_161",t.tab="_tab_7l53b_91",t.loadingSpinnerWrapper="_loadingSpinnerWrapper_7l53b_180",t.textAlignCenter="_textAlignCenter_7l53b_188",t.toolbar="_toolbar_7l53b_193",t.gridTable="_gridTable_7l53b_210",t.gridCell="_gridCell_7l53b_216";t.default={container:"_container_7l53b_9",sheetWrapper:"_sheetWrapper_7l53b_16",sheet:"_sheet_7l53b_16",headerSpacer:"_header-spacer_7l53b_31",sheetHeaderContainer:"_sheetHeaderContainer_7l53b_41",rowHeadersContainer:"_row-headersContainer_7l53b_46",columnHeadersContainer:"_column-headersContainer_7l53b_52",sheetHeader:"_sheetHeader_7l53b_41",columnHeaders:"_column-headers_7l53b_52",rowHeaders:"_row-headers_7l53b_46",sheetContent:"_sheet-content_7l53b_82",tabsPanelContainer:"_tabsPanelContainer_7l53b_91",tabsPanelContainerNoScroll:"_tabsPanelContainerNoScroll_7l53b_106",tabsGroupAndButtonsContainer:"_tabsGroupAndButtonsContainer_7l53b_110",tabsGroupContainer:"_tabsGroupContainer_7l53b_123",tabsGroupButtonsContainer:"_tabsGroupButtonsContainer_7l53b_127",tabsTabs:"_tabsTabs_7l53b_137",tabsGroup:"_tabsGroup_7l53b_110",buttonSeparator:"_buttonSeparator_7l53b_150",segmentedControlOptionContainer:"_segmentedControlOptionContainer_7l53b_161",tab:"_tab_7l53b_91",loadingSpinnerWrapper:"_loadingSpinnerWrapper_7l53b_180",textAlignCenter:"_textAlignCenter_7l53b_188",toolbar:"_toolbar_7l53b_193",gridTable:"_gridTable_7l53b_210",gridCell:"_gridCell_7l53b_216"}})),define("typescript/libraries/file-viewer/src/file_activity_blade/file_activity_blade_plugin",["require","exports","tslib","react","typescript/component_libraries/files_components/src/blades/file_activity/index","react-redux","typescript/libraries/file-viewer/src/file_activity_blade/types"],(function(e,t,i,r,n,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileActivityPluginBase=void 0,r=i.__importStar(r);t.FileActivityPluginBase=class{constructor(e,t,i,o,l){this.lifecycle={},this.layerUI={},this.rightRailUI={Sidebar:e=>{const t=this.onOpenVersionHistory,i=r.useMemo(()=>t?{enabled:!0,onVersionHistoryClicked:()=>{t(),this.context.logUserAction({action:"version_history_clicked",context:"right_sidebar"})}}:{enabled:!1},[t]),o=r.useCallback(e=>{this.context.logUserAction({action:e,context:"right_sidebar"})},[]);return r.default.createElement(a.Provider,{store:this.store},r.default.createElement(n.FileActivityBlade,{id:s.FILE_ACTIVITY_PLUGIN_ID,fileId:e.file.fileId,user:this.user,intl:this.platform.intl,versionHistory:i,logFilterChange:o}))},Control:()=>r.default.createElement(n.CollapsedFileActivityBladeButton,{id:s.FILE_ACTIVITY_PLUGIN_ID,intl:this.platform.intl})},this.platform=e,this.store=t,this.user=i,this.context=o,this.onOpenVersionHistory=l}}})),define("typescript/libraries/api_v2/redux/previews",["require","exports","typescript/libraries/api_v2/redux/base_action"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.loggedOutGetArchiveFilesResultAction=t.loggedOutGetArchiveFilesAction=t.getPreviewDataBySpecsBatchResultAction=t.getPreviewDataBySpecsBatchAction=t.getPreviewDataByFileIdsBatchResultAction=t.getPreviewDataByFileIdsBatchAction=t.getPreviewDataBatchResultAction=t.getPreviewDataBatchAction=t.getArchiveFilesResultAction=t.getArchiveFilesAction=t.Action=void 0,t.Action={GetArchiveFiles:"@@apiv2_redux/previews/get_archive_files",GetArchiveFilesResult:"@@apiv2_redux/previews/get_archive_files_result",GetPreviewDataBatch:"@@apiv2_redux/previews/get_preview_data_batch",GetPreviewDataBatchResult:"@@apiv2_redux/previews/get_preview_data_batch_result",GetPreviewDataByFileIdsBatch:"@@apiv2_redux/previews/get_preview_data_by_file_ids_batch",GetPreviewDataByFileIdsBatchResult:"@@apiv2_redux/previews/get_preview_data_by_file_ids_batch_result",GetPreviewDataBySpecsBatch:"@@apiv2_redux/previews/get_preview_data_by_specs_batch",GetPreviewDataBySpecsBatchResult:"@@apiv2_redux/previews/get_preview_data_by_specs_batch_result",LoggedOutGetArchiveFiles:"@@apiv2_redux/previews/logged_out/get_archive_files",LoggedOutGetArchiveFilesResult:"@@apiv2_redux/previews/logged_out/get_archive_files_result"},t.getArchiveFilesAction=i._createAction(t.Action.GetArchiveFiles),t.getArchiveFilesResultAction=i._createAction(t.Action.GetArchiveFilesResult),t.getPreviewDataBatchAction=i._createAction(t.Action.GetPreviewDataBatch),t.getPreviewDataBatchResultAction=i._createAction(t.Action.GetPreviewDataBatchResult),t.getPreviewDataByFileIdsBatchAction=i._createAction(t.Action.GetPreviewDataByFileIdsBatch),t.getPreviewDataByFileIdsBatchResultAction=i._createAction(t.Action.GetPreviewDataByFileIdsBatchResult),t.getPreviewDataBySpecsBatchAction=i._createAction(t.Action.GetPreviewDataBySpecsBatch),t.getPreviewDataBySpecsBatchResultAction=i._createAction(t.Action.GetPreviewDataBySpecsBatchResult),t.loggedOutGetArchiveFilesAction=i._createAction(t.Action.LoggedOutGetArchiveFiles),t.loggedOutGetArchiveFilesResultAction=i._createAction(t.Action.LoggedOutGetArchiveFilesResult);const r={[t.Action.GetArchiveFiles]:{endpoint:"get_archive_files",action:t.getArchiveFilesResultAction},[t.Action.GetPreviewDataBatch]:{endpoint:"get_preview_data_batch",action:t.getPreviewDataBatchResultAction},[t.Action.GetPreviewDataByFileIdsBatch]:{endpoint:"get_preview_data_by_file_ids_batch",action:t.getPreviewDataByFileIdsBatchResultAction},[t.Action.GetPreviewDataBySpecsBatch]:{endpoint:"get_preview_data_by_specs_batch",action:t.getPreviewDataBySpecsBatchResultAction},[t.Action.LoggedOutGetArchiveFiles]:{endpoint:"logged_out/get_archive_files",action:t.loggedOutGetArchiveFilesResultAction}};t.middleware=i._createMiddleware(r)})),define("typescript/libraries/api_v2/redux/seen_state",["require","exports","typescript/libraries/api_v2/redux/base_action"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.updateTimestampsAndMarkOfflineResultAction=t.updateTimestampsAndMarkOfflineAction=t.loggedOutMarkOfflineResultAction=t.loggedOutMarkOfflineAction=t.loggedOutLogFileViewResultAction=t.loggedOutLogFileViewAction=t.logFileViewResultAction=t.logFileViewAction=t.getSeenStateUsersResultAction=t.getSeenStateUsersAction=t.getSeenStateInfoContinueResultAction=t.getSeenStateInfoContinueAction=t.getSeenStateInfoResultAction=t.getSeenStateInfoAction=t.Action=void 0,t.Action={GetSeenStateInfo:"@@apiv2_redux/seen_state/get_seen_state_info",GetSeenStateInfoResult:"@@apiv2_redux/seen_state/get_seen_state_info_result",GetSeenStateInfoContinue:"@@apiv2_redux/seen_state/get_seen_state_info/continue",GetSeenStateInfoContinueResult:"@@apiv2_redux/seen_state/get_seen_state_info/continue_result",GetSeenStateUsers:"@@apiv2_redux/seen_state/get_seen_state_users",GetSeenStateUsersResult:"@@apiv2_redux/seen_state/get_seen_state_users_result",LogFileView:"@@apiv2_redux/seen_state/log_file_view",LogFileViewResult:"@@apiv2_redux/seen_state/log_file_view_result",LoggedOutLogFileView:"@@apiv2_redux/seen_state/logged_out/log_file_view",LoggedOutLogFileViewResult:"@@apiv2_redux/seen_state/logged_out/log_file_view_result",LoggedOutMarkOffline:"@@apiv2_redux/seen_state/logged_out/mark_offline",LoggedOutMarkOfflineResult:"@@apiv2_redux/seen_state/logged_out/mark_offline_result",UpdateTimestampsAndMarkOffline:"@@apiv2_redux/seen_state/update_timestamps_and_mark_offline",UpdateTimestampsAndMarkOfflineResult:"@@apiv2_redux/seen_state/update_timestamps_and_mark_offline_result"},t.getSeenStateInfoAction=i._createAction(t.Action.GetSeenStateInfo),t.getSeenStateInfoResultAction=i._createAction(t.Action.GetSeenStateInfoResult),t.getSeenStateInfoContinueAction=i._createAction(t.Action.GetSeenStateInfoContinue),t.getSeenStateInfoContinueResultAction=i._createAction(t.Action.GetSeenStateInfoContinueResult),t.getSeenStateUsersAction=i._createAction(t.Action.GetSeenStateUsers),t.getSeenStateUsersResultAction=i._createAction(t.Action.GetSeenStateUsersResult),t.logFileViewAction=i._createAction(t.Action.LogFileView),t.logFileViewResultAction=i._createAction(t.Action.LogFileViewResult),t.loggedOutLogFileViewAction=i._createAction(t.Action.LoggedOutLogFileView),t.loggedOutLogFileViewResultAction=i._createAction(t.Action.LoggedOutLogFileViewResult),t.loggedOutMarkOfflineAction=i._createAction(t.Action.LoggedOutMarkOffline),t.loggedOutMarkOfflineResultAction=i._createAction(t.Action.LoggedOutMarkOfflineResult),t.updateTimestampsAndMarkOfflineAction=i._createAction(t.Action.UpdateTimestampsAndMarkOffline),t.updateTimestampsAndMarkOfflineResultAction=i._createAction(t.Action.UpdateTimestampsAndMarkOfflineResult);const r={[t.Action.GetSeenStateInfo]:{endpoint:"get_seen_state_info",action:t.getSeenStateInfoResultAction},[t.Action.GetSeenStateInfoContinue]:{endpoint:"get_seen_state_info/continue",action:t.getSeenStateInfoContinueResultAction},[t.Action.GetSeenStateUsers]:{endpoint:"get_seen_state_users",action:t.getSeenStateUsersResultAction},[t.Action.LogFileView]:{endpoint:"log_file_view",action:t.logFileViewResultAction},[t.Action.LoggedOutLogFileView]:{endpoint:"logged_out/log_file_view",action:t.loggedOutLogFileViewResultAction},[t.Action.LoggedOutMarkOffline]:{endpoint:"logged_out/mark_offline",action:t.loggedOutMarkOfflineResultAction},[t.Action.UpdateTimestampsAndMarkOffline]:{endpoint:"update_timestamps_and_mark_offline",action:t.updateTimestampsAndMarkOfflineResultAction}};t.middleware=i._createMiddleware(r)})),define("typescript/libraries/api_v2/redux/sharing",["require","exports","typescript/libraries/api_v2/redux/base_action"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.validateFolderPathBatchResultAction=t.validateFolderPathBatchAction=t.validateFolderPathResultAction=t.validateFolderPathAction=t.updateFolderPolicyResultAction=t.updateFolderPolicyAction=t.updateFolderPolicyV2ResultAction=t.updateFolderPolicyV2Action=t.updateFolderMemberResultAction=t.updateFolderMemberAction=t.updateFolderMemberV2ResultAction=t.updateFolderMemberV2Action=t.updateFilePolicyResultAction=t.updateFilePolicyAction=t.updateFileMemberResultAction=t.updateFileMemberAction=t.unshareFolderResultAction=t.unshareFolderAction=t.unshareFileResultAction=t.unshareFileAction=t.unmountFolderResultAction=t.unmountFolderAction=t.transferFolderResultAction=t.transferFolderAction=t.transferFolderV2ResultAction=t.transferFolderV2Action=t.targetsValidateResultAction=t.targetsValidateAction=t.targetsSearchResultAction=t.targetsSearchAction=t.shareFolderInternalResultAction=t.shareFolderInternalAction=t.shareFolderResultAction=t.shareFolderAction=t.setConfidentialityResultAction=t.setConfidentialityAction=t.setAccessInheritanceResultAction=t.setAccessInheritanceAction=t.sentContinueResultAction=t.sentContinueAction=t.sentResultAction=t.sentAction=t.revokeSharedLinkResultAction=t.revokeSharedLinkAction=t.requestAccessResultAction=t.requestAccessAction=t.removeFolderMemberResultAction=t.removeFolderMemberAction=t.removeFolderMemberV2ResultAction=t.removeFolderMemberV2Action=t.removeFileMember2ResultAction=t.removeFileMember2Action=t.removeFileMemberResultAction=t.removeFileMemberAction=t.relinquishFolderMembershipResultAction=t.relinquishFolderMembershipAction=t.relinquishFileMembershipResultAction=t.relinquishFileMembershipAction=t.receivedContinueResultAction=t.receivedContinueAction=t.receivedResultAction=t.receivedAction=t.previewRestoredAclBatchNsidsResultAction=t.previewRestoredAclBatchNsidsAction=t.openLinkActionResultAction=t.openLinkActionAction=t.mountFolderResultAction=t.mountFolderAction=t.modifySharedLinkSettingsResultAction=t.modifySharedLinkSettingsAction=t.listSharedLinksResultAction=t.listSharedLinksAction=t.listSharedContentContinueResultAction=t.listSharedContentContinueAction=t.listSharedContentResultAction=t.listSharedContentAction=t.listReceivedFilesContinueResultAction=t.listReceivedFilesContinueAction=t.listReceivedFilesResultAction=t.listReceivedFilesAction=t.listMountableFoldersContinueResultAction=t.listMountableFoldersContinueAction=t.listMountableFoldersResultAction=t.listMountableFoldersAction=t.listFoldersContinueResultAction=t.listFoldersContinueAction=t.listFoldersResultAction=t.listFoldersAction=t.listFolderMembersContinueResultAction=t.listFolderMembersContinueAction=t.listFolderMembersBatchResultAction=t.listFolderMembersBatchAction=t.listFolderMembersResultAction=t.listFolderMembersAction=t.listFileMembersContinueResultAction=t.listFileMembersContinueAction=t.listFileMembersBatchResultAction=t.listFileMembersBatchAction=t.listFileMembersResultAction=t.listFileMembersAction=t.internalTestOnlyGetFolderSharedContentLinkResultAction=t.internalTestOnlyGetFolderSharedContentLinkAction=t.internalTestOnlyGetFileSharedContentLinkResultAction=t.internalTestOnlyGetFileSharedContentLinkAction=t.hasContentManagerResultAction=t.hasContentManagerAction=t.getSharedLinksResultAction=t.getSharedLinksAction=t.getSharedLinkMetadataResultAction=t.getSharedLinkMetadataAction=t.getSharedLinkFileResultAction=t.getSharedLinkFileAction=t.getParentFolderAccessResultAction=t.getParentFolderAccessAction=t.getGrantAccessActionResultAction=t.getGrantAccessActionAction=t.getFolderMetadata2ResultAction=t.getFolderMetadata2Action=t.getFolderMetadataResultAction=t.getFolderMetadataAction=t.getFolderMemberCountsBatchResultAction=t.getFolderMemberCountsBatchAction=t.getFolderMemberCountsV2ResultAction=t.getFolderMemberCountsV2Action=t.getFolderMemberCountsResultAction=t.getFolderMemberCountsAction=t.getFileMetadataBatchResultAction=t.getFileMetadataBatchAction=t.getFileMetadataResultAction=t.getFileMetadataAction=t.getFileMemberCountsResultAction=t.getFileMemberCountsAction=t.dismissInviteNotificationResultAction=t.dismissInviteNotificationAction=t.createSharedLinkWithSettingsResultAction=t.createSharedLinkWithSettingsAction=t.createSharedLinkResultAction=t.createSharedLinkAction=t.createDirectLinkResultAction=t.createDirectLinkAction=t.confidentialRelocateCheckResultAction=t.confidentialRelocateCheckAction=t.confidentialRelocateResultAction=t.confidentialRelocateAction=t.claimMembershipResultAction=t.claimMembershipAction=t.checkShareJobStatusResultAction=t.checkShareJobStatusAction=t.checkShareInternalJobStatusResultAction=t.checkShareInternalJobStatusAction=t.checkRemoveMemberJobStatusResultAction=t.checkRemoveMemberJobStatusAction=t.checkJobStatusResultAction=t.checkJobStatusAction=t.alphaUpdateFolderPolicyV2ResultAction=t.alphaUpdateFolderPolicyV2Action=t.alphaUpdateFolderPolicyResultAction=t.alphaUpdateFolderPolicyAction=t.alphaUpdateFilePolicyResultAction=t.alphaUpdateFilePolicyAction=t.alphaShareFolderResultAction=t.alphaShareFolderAction=t.alphaModifySharedLinkSettingsResultAction=t.alphaModifySharedLinkSettingsAction=t.alphaListSharedLinksResultAction=t.alphaListSharedLinksAction=t.alphaListReceivedFilesContinueResultAction=t.alphaListReceivedFilesContinueAction=t.alphaListReceivedFilesResultAction=t.alphaListReceivedFilesAction=t.alphaListMountableFoldersContinueResultAction=t.alphaListMountableFoldersContinueAction=t.alphaListMountableFoldersResultAction=t.alphaListMountableFoldersAction=t.alphaListFoldersContinueResultAction=t.alphaListFoldersContinueAction=t.alphaListFoldersResultAction=t.alphaListFoldersAction=t.alphaListFileMembersContinueResultAction=t.alphaListFileMembersContinueAction=t.alphaListFileMembersResultAction=t.alphaListFileMembersAction=t.alphaGetFolderMetadataV2ResultAction=t.alphaGetFolderMetadataV2Action=t.alphaGetFolderMetadataResultAction=t.alphaGetFolderMetadataAction=t.alphaGetFileMetadataBatchResultAction=t.alphaGetFileMetadataBatchAction=t.alphaGetFileMetadataResultAction=t.alphaGetFileMetadataAction=t.alphaCreateSharedLinkWithSettingsResultAction=t.alphaCreateSharedLinkWithSettingsAction=t.addMembersResultAction=t.addMembersAction=t.addFolderMemberResultAction=t.addFolderMemberAction=t.addFolderMemberV2ResultAction=t.addFolderMemberV2Action=t.addFileMemberResultAction=t.addFileMemberAction=t.Action=void 0,t.Action={AddFileMember:"@@apiv2_redux/sharing/add_file_member",AddFileMemberResult:"@@apiv2_redux/sharing/add_file_member_result",AddFolderMemberV2:"@@apiv2_redux/sharing/add_folder_member_v2",AddFolderMemberV2Result:"@@apiv2_redux/sharing/add_folder_member_v2_result",AddFolderMember:"@@apiv2_redux/sharing/add_folder_member",AddFolderMemberResult:"@@apiv2_redux/sharing/add_folder_member_result",AddMembers:"@@apiv2_redux/sharing/add_members",AddMembersResult:"@@apiv2_redux/sharing/add_members_result",AlphaCreateSharedLinkWithSettings:"@@apiv2_redux/sharing/alpha/create_shared_link_with_settings",AlphaCreateSharedLinkWithSettingsResult:"@@apiv2_redux/sharing/alpha/create_shared_link_with_settings_result",AlphaGetFileMetadata:"@@apiv2_redux/sharing/alpha/get_file_metadata",AlphaGetFileMetadataResult:"@@apiv2_redux/sharing/alpha/get_file_metadata_result",AlphaGetFileMetadataBatch:"@@apiv2_redux/sharing/alpha/get_file_metadata/batch",AlphaGetFileMetadataBatchResult:"@@apiv2_redux/sharing/alpha/get_file_metadata/batch_result",AlphaGetFolderMetadata:"@@apiv2_redux/sharing/alpha/get_folder_metadata",AlphaGetFolderMetadataResult:"@@apiv2_redux/sharing/alpha/get_folder_metadata_result",AlphaGetFolderMetadataV2:"@@apiv2_redux/sharing/alpha/get_folder_metadata_v2",AlphaGetFolderMetadataV2Result:"@@apiv2_redux/sharing/alpha/get_folder_metadata_v2_result",AlphaListFileMembers:"@@apiv2_redux/sharing/alpha/list_file_members",AlphaListFileMembersResult:"@@apiv2_redux/sharing/alpha/list_file_members_result",AlphaListFileMembersContinue:"@@apiv2_redux/sharing/alpha/list_file_members/continue",AlphaListFileMembersContinueResult:"@@apiv2_redux/sharing/alpha/list_file_members/continue_result",AlphaListFolders:"@@apiv2_redux/sharing/alpha/list_folders",AlphaListFoldersResult:"@@apiv2_redux/sharing/alpha/list_folders_result",AlphaListFoldersContinue:"@@apiv2_redux/sharing/alpha/list_folders/continue",AlphaListFoldersContinueResult:"@@apiv2_redux/sharing/alpha/list_folders/continue_result",AlphaListMountableFolders:"@@apiv2_redux/sharing/alpha/list_mountable_folders",AlphaListMountableFoldersResult:"@@apiv2_redux/sharing/alpha/list_mountable_folders_result",AlphaListMountableFoldersContinue:"@@apiv2_redux/sharing/alpha/list_mountable_folders/continue",AlphaListMountableFoldersContinueResult:"@@apiv2_redux/sharing/alpha/list_mountable_folders/continue_result",AlphaListReceivedFiles:"@@apiv2_redux/sharing/alpha/list_received_files",AlphaListReceivedFilesResult:"@@apiv2_redux/sharing/alpha/list_received_files_result",AlphaListReceivedFilesContinue:"@@apiv2_redux/sharing/alpha/list_received_files/continue",AlphaListReceivedFilesContinueResult:"@@apiv2_redux/sharing/alpha/list_received_files/continue_result",AlphaListSharedLinks:"@@apiv2_redux/sharing/alpha/list_shared_links",AlphaListSharedLinksResult:"@@apiv2_redux/sharing/alpha/list_shared_links_result",AlphaModifySharedLinkSettings:"@@apiv2_redux/sharing/alpha/modify_shared_link_settings",AlphaModifySharedLinkSettingsResult:"@@apiv2_redux/sharing/alpha/modify_shared_link_settings_result",AlphaShareFolder:"@@apiv2_redux/sharing/alpha/share_folder",AlphaShareFolderResult:"@@apiv2_redux/sharing/alpha/share_folder_result",AlphaUpdateFilePolicy:"@@apiv2_redux/sharing/alpha/update_file_policy",AlphaUpdateFilePolicyResult:"@@apiv2_redux/sharing/alpha/update_file_policy_result",AlphaUpdateFolderPolicy:"@@apiv2_redux/sharing/alpha/update_folder_policy",AlphaUpdateFolderPolicyResult:"@@apiv2_redux/sharing/alpha/update_folder_policy_result",AlphaUpdateFolderPolicyV2:"@@apiv2_redux/sharing/alpha/update_folder_policy_v2",AlphaUpdateFolderPolicyV2Result:"@@apiv2_redux/sharing/alpha/update_folder_policy_v2_result",CheckJobStatus:"@@apiv2_redux/sharing/check_job_status",CheckJobStatusResult:"@@apiv2_redux/sharing/check_job_status_result",CheckRemoveMemberJobStatus:"@@apiv2_redux/sharing/check_remove_member_job_status",CheckRemoveMemberJobStatusResult:"@@apiv2_redux/sharing/check_remove_member_job_status_result",CheckShareInternalJobStatus:"@@apiv2_redux/sharing/check_share_internal_job_status",CheckShareInternalJobStatusResult:"@@apiv2_redux/sharing/check_share_internal_job_status_result",CheckShareJobStatus:"@@apiv2_redux/sharing/check_share_job_status",CheckShareJobStatusResult:"@@apiv2_redux/sharing/check_share_job_status_result",ClaimMembership:"@@apiv2_redux/sharing/claim_membership",ClaimMembershipResult:"@@apiv2_redux/sharing/claim_membership_result",ConfidentialRelocate:"@@apiv2_redux/sharing/confidential_relocate",ConfidentialRelocateResult:"@@apiv2_redux/sharing/confidential_relocate_result",ConfidentialRelocateCheck:"@@apiv2_redux/sharing/confidential_relocate/check",ConfidentialRelocateCheckResult:"@@apiv2_redux/sharing/confidential_relocate/check_result",CreateDirectLink:"@@apiv2_redux/sharing/create_direct_link",CreateDirectLinkResult:"@@apiv2_redux/sharing/create_direct_link_result",CreateSharedLink:"@@apiv2_redux/sharing/create_shared_link",CreateSharedLinkResult:"@@apiv2_redux/sharing/create_shared_link_result",CreateSharedLinkWithSettings:"@@apiv2_redux/sharing/create_shared_link_with_settings",CreateSharedLinkWithSettingsResult:"@@apiv2_redux/sharing/create_shared_link_with_settings_result",DismissInviteNotification:"@@apiv2_redux/sharing/dismiss_invite_notification",DismissInviteNotificationResult:"@@apiv2_redux/sharing/dismiss_invite_notification_result",GetFileMemberCounts:"@@apiv2_redux/sharing/get_file_member_counts",GetFileMemberCountsResult:"@@apiv2_redux/sharing/get_file_member_counts_result",GetFileMetadata:"@@apiv2_redux/sharing/get_file_metadata",GetFileMetadataResult:"@@apiv2_redux/sharing/get_file_metadata_result",GetFileMetadataBatch:"@@apiv2_redux/sharing/get_file_metadata/batch",GetFileMetadataBatchResult:"@@apiv2_redux/sharing/get_file_metadata/batch_result",GetFolderMemberCounts:"@@apiv2_redux/sharing/get_folder_member_counts",GetFolderMemberCountsResult:"@@apiv2_redux/sharing/get_folder_member_counts_result",GetFolderMemberCountsV2:"@@apiv2_redux/sharing/get_folder_member_counts_v2",GetFolderMemberCountsV2Result:"@@apiv2_redux/sharing/get_folder_member_counts_v2_result",GetFolderMemberCountsBatch:"@@apiv2_redux/sharing/get_folder_member_counts/batch",GetFolderMemberCountsBatchResult:"@@apiv2_redux/sharing/get_folder_member_counts/batch_result",GetFolderMetadata:"@@apiv2_redux/sharing/get_folder_metadata",GetFolderMetadataResult:"@@apiv2_redux/sharing/get_folder_metadata_result",GetFolderMetadata2:"@@apiv2_redux/sharing/get_folder_metadata_2",GetFolderMetadata2Result:"@@apiv2_redux/sharing/get_folder_metadata_2_result",GetGrantAccessAction:"@@apiv2_redux/sharing/get_grant_access_action",GetGrantAccessActionResult:"@@apiv2_redux/sharing/get_grant_access_action_result",GetParentFolderAccess:"@@apiv2_redux/sharing/get_parent_folder_access",GetParentFolderAccessResult:"@@apiv2_redux/sharing/get_parent_folder_access_result",GetSharedLinkFile:"@@apiv2_redux/sharing/get_shared_link_file",GetSharedLinkFileResult:"@@apiv2_redux/sharing/get_shared_link_file_result",GetSharedLinkMetadata:"@@apiv2_redux/sharing/get_shared_link_metadata",GetSharedLinkMetadataResult:"@@apiv2_redux/sharing/get_shared_link_metadata_result",GetSharedLinks:"@@apiv2_redux/sharing/get_shared_links",GetSharedLinksResult:"@@apiv2_redux/sharing/get_shared_links_result",HasContentManager:"@@apiv2_redux/sharing/has_content_manager",HasContentManagerResult:"@@apiv2_redux/sharing/has_content_manager_result",InternalTestOnlyGetFileSharedContentLink:"@@apiv2_redux/sharing/internal_test_only/get_file_shared_content_link",InternalTestOnlyGetFileSharedContentLinkResult:"@@apiv2_redux/sharing/internal_test_only/get_file_shared_content_link_result",InternalTestOnlyGetFolderSharedContentLink:"@@apiv2_redux/sharing/internal_test_only/get_folder_shared_content_link",InternalTestOnlyGetFolderSharedContentLinkResult:"@@apiv2_redux/sharing/internal_test_only/get_folder_shared_content_link_result",ListFileMembers:"@@apiv2_redux/sharing/list_file_members",ListFileMembersResult:"@@apiv2_redux/sharing/list_file_members_result",ListFileMembersBatch:"@@apiv2_redux/sharing/list_file_members/batch",ListFileMembersBatchResult:"@@apiv2_redux/sharing/list_file_members/batch_result",ListFileMembersContinue:"@@apiv2_redux/sharing/list_file_members/continue",ListFileMembersContinueResult:"@@apiv2_redux/sharing/list_file_members/continue_result",ListFolderMembers:"@@apiv2_redux/sharing/list_folder_members",ListFolderMembersResult:"@@apiv2_redux/sharing/list_folder_members_result",ListFolderMembersBatch:"@@apiv2_redux/sharing/list_folder_members/batch",ListFolderMembersBatchResult:"@@apiv2_redux/sharing/list_folder_members/batch_result",ListFolderMembersContinue:"@@apiv2_redux/sharing/list_folder_members/continue",ListFolderMembersContinueResult:"@@apiv2_redux/sharing/list_folder_members/continue_result",ListFolders:"@@apiv2_redux/sharing/list_folders",ListFoldersResult:"@@apiv2_redux/sharing/list_folders_result",ListFoldersContinue:"@@apiv2_redux/sharing/list_folders/continue",ListFoldersContinueResult:"@@apiv2_redux/sharing/list_folders/continue_result",ListMountableFolders:"@@apiv2_redux/sharing/list_mountable_folders",ListMountableFoldersResult:"@@apiv2_redux/sharing/list_mountable_folders_result",ListMountableFoldersContinue:"@@apiv2_redux/sharing/list_mountable_folders/continue",ListMountableFoldersContinueResult:"@@apiv2_redux/sharing/list_mountable_folders/continue_result",ListReceivedFiles:"@@apiv2_redux/sharing/list_received_files",ListReceivedFilesResult:"@@apiv2_redux/sharing/list_received_files_result",ListReceivedFilesContinue:"@@apiv2_redux/sharing/list_received_files/continue",ListReceivedFilesContinueResult:"@@apiv2_redux/sharing/list_received_files/continue_result",ListSharedContent:"@@apiv2_redux/sharing/list_shared_content",ListSharedContentResult:"@@apiv2_redux/sharing/list_shared_content_result",ListSharedContentContinue:"@@apiv2_redux/sharing/list_shared_content/continue",ListSharedContentContinueResult:"@@apiv2_redux/sharing/list_shared_content/continue_result",ListSharedLinks:"@@apiv2_redux/sharing/list_shared_links",ListSharedLinksResult:"@@apiv2_redux/sharing/list_shared_links_result",ModifySharedLinkSettings:"@@apiv2_redux/sharing/modify_shared_link_settings",ModifySharedLinkSettingsResult:"@@apiv2_redux/sharing/modify_shared_link_settings_result",MountFolder:"@@apiv2_redux/sharing/mount_folder",MountFolderResult:"@@apiv2_redux/sharing/mount_folder_result",OpenLinkAction:"@@apiv2_redux/sharing/open_link_action",OpenLinkActionResult:"@@apiv2_redux/sharing/open_link_action_result",PreviewRestoredAclBatchNsids:"@@apiv2_redux/sharing/preview_restored_acl/batch_nsids",PreviewRestoredAclBatchNsidsResult:"@@apiv2_redux/sharing/preview_restored_acl/batch_nsids_result",Received:"@@apiv2_redux/sharing/received",ReceivedResult:"@@apiv2_redux/sharing/received_result",ReceivedContinue:"@@apiv2_redux/sharing/received/continue",ReceivedContinueResult:"@@apiv2_redux/sharing/received/continue_result",RelinquishFileMembership:"@@apiv2_redux/sharing/relinquish_file_membership",RelinquishFileMembershipResult:"@@apiv2_redux/sharing/relinquish_file_membership_result",RelinquishFolderMembership:"@@apiv2_redux/sharing/relinquish_folder_membership",RelinquishFolderMembershipResult:"@@apiv2_redux/sharing/relinquish_folder_membership_result",RemoveFileMember:"@@apiv2_redux/sharing/remove_file_member",RemoveFileMemberResult:"@@apiv2_redux/sharing/remove_file_member_result",RemoveFileMember2:"@@apiv2_redux/sharing/remove_file_member_2",RemoveFileMember2Result:"@@apiv2_redux/sharing/remove_file_member_2_result",RemoveFolderMemberV2:"@@apiv2_redux/sharing/remove_folder_member_v2",RemoveFolderMemberV2Result:"@@apiv2_redux/sharing/remove_folder_member_v2_result",RemoveFolderMember:"@@apiv2_redux/sharing/remove_folder_member",RemoveFolderMemberResult:"@@apiv2_redux/sharing/remove_folder_member_result",RequestAccess:"@@apiv2_redux/sharing/request_access",RequestAccessResult:"@@apiv2_redux/sharing/request_access_result",RevokeSharedLink:"@@apiv2_redux/sharing/revoke_shared_link",RevokeSharedLinkResult:"@@apiv2_redux/sharing/revoke_shared_link_result",Sent:"@@apiv2_redux/sharing/sent",SentResult:"@@apiv2_redux/sharing/sent_result",SentContinue:"@@apiv2_redux/sharing/sent/continue",SentContinueResult:"@@apiv2_redux/sharing/sent/continue_result",SetAccessInheritance:"@@apiv2_redux/sharing/set_access_inheritance",SetAccessInheritanceResult:"@@apiv2_redux/sharing/set_access_inheritance_result",SetConfidentiality:"@@apiv2_redux/sharing/set_confidentiality",SetConfidentialityResult:"@@apiv2_redux/sharing/set_confidentiality_result",ShareFolder:"@@apiv2_redux/sharing/share_folder",ShareFolderResult:"@@apiv2_redux/sharing/share_folder_result",ShareFolderInternal:"@@apiv2_redux/sharing/share_folder_internal",ShareFolderInternalResult:"@@apiv2_redux/sharing/share_folder_internal_result",TargetsSearch:"@@apiv2_redux/sharing/targets/search",TargetsSearchResult:"@@apiv2_redux/sharing/targets/search_result",TargetsValidate:"@@apiv2_redux/sharing/targets/validate",TargetsValidateResult:"@@apiv2_redux/sharing/targets/validate_result",TransferFolderV2:"@@apiv2_redux/sharing/transfer_folder_v2",TransferFolderV2Result:"@@apiv2_redux/sharing/transfer_folder_v2_result",TransferFolder:"@@apiv2_redux/sharing/transfer_folder",TransferFolderResult:"@@apiv2_redux/sharing/transfer_folder_result",UnmountFolder:"@@apiv2_redux/sharing/unmount_folder",UnmountFolderResult:"@@apiv2_redux/sharing/unmount_folder_result",UnshareFile:"@@apiv2_redux/sharing/unshare_file",UnshareFileResult:"@@apiv2_redux/sharing/unshare_file_result",UnshareFolder:"@@apiv2_redux/sharing/unshare_folder",UnshareFolderResult:"@@apiv2_redux/sharing/unshare_folder_result",UpdateFileMember:"@@apiv2_redux/sharing/update_file_member",UpdateFileMemberResult:"@@apiv2_redux/sharing/update_file_member_result",UpdateFilePolicy:"@@apiv2_redux/sharing/update_file_policy",UpdateFilePolicyResult:"@@apiv2_redux/sharing/update_file_policy_result",UpdateFolderMemberV2:"@@apiv2_redux/sharing/update_folder_member_v2",UpdateFolderMemberV2Result:"@@apiv2_redux/sharing/update_folder_member_v2_result",UpdateFolderMember:"@@apiv2_redux/sharing/update_folder_member",UpdateFolderMemberResult:"@@apiv2_redux/sharing/update_folder_member_result",UpdateFolderPolicyV2:"@@apiv2_redux/sharing/update_folder_policy_v2",UpdateFolderPolicyV2Result:"@@apiv2_redux/sharing/update_folder_policy_v2_result",UpdateFolderPolicy:"@@apiv2_redux/sharing/update_folder_policy",UpdateFolderPolicyResult:"@@apiv2_redux/sharing/update_folder_policy_result",ValidateFolderPath:"@@apiv2_redux/sharing/validate_folder_path",ValidateFolderPathResult:"@@apiv2_redux/sharing/validate_folder_path_result",ValidateFolderPathBatch:"@@apiv2_redux/sharing/validate_folder_path/batch",ValidateFolderPathBatchResult:"@@apiv2_redux/sharing/validate_folder_path/batch_result"},t.addFileMemberAction=i._createAction(t.Action.AddFileMember),t.addFileMemberResultAction=i._createAction(t.Action.AddFileMemberResult),t.addFolderMemberV2Action=i._createAction(t.Action.AddFolderMemberV2),t.addFolderMemberV2ResultAction=i._createAction(t.Action.AddFolderMemberV2Result),t.addFolderMemberAction=i._createAction(t.Action.AddFolderMember),t.addFolderMemberResultAction=i._createAction(t.Action.AddFolderMemberResult),t.addMembersAction=i._createAction(t.Action.AddMembers),t.addMembersResultAction=i._createAction(t.Action.AddMembersResult),t.alphaCreateSharedLinkWithSettingsAction=i._createAction(t.Action.AlphaCreateSharedLinkWithSettings),t.alphaCreateSharedLinkWithSettingsResultAction=i._createAction(t.Action.AlphaCreateSharedLinkWithSettingsResult),t.alphaGetFileMetadataAction=i._createAction(t.Action.AlphaGetFileMetadata),t.alphaGetFileMetadataResultAction=i._createAction(t.Action.AlphaGetFileMetadataResult),t.alphaGetFileMetadataBatchAction=i._createAction(t.Action.AlphaGetFileMetadataBatch),t.alphaGetFileMetadataBatchResultAction=i._createAction(t.Action.AlphaGetFileMetadataBatchResult),t.alphaGetFolderMetadataAction=i._createAction(t.Action.AlphaGetFolderMetadata),t.alphaGetFolderMetadataResultAction=i._createAction(t.Action.AlphaGetFolderMetadataResult),t.alphaGetFolderMetadataV2Action=i._createAction(t.Action.AlphaGetFolderMetadataV2),t.alphaGetFolderMetadataV2ResultAction=i._createAction(t.Action.AlphaGetFolderMetadataV2Result),t.alphaListFileMembersAction=i._createAction(t.Action.AlphaListFileMembers),t.alphaListFileMembersResultAction=i._createAction(t.Action.AlphaListFileMembersResult),t.alphaListFileMembersContinueAction=i._createAction(t.Action.AlphaListFileMembersContinue),t.alphaListFileMembersContinueResultAction=i._createAction(t.Action.AlphaListFileMembersContinueResult),t.alphaListFoldersAction=i._createAction(t.Action.AlphaListFolders),t.alphaListFoldersResultAction=i._createAction(t.Action.AlphaListFoldersResult),t.alphaListFoldersContinueAction=i._createAction(t.Action.AlphaListFoldersContinue),t.alphaListFoldersContinueResultAction=i._createAction(t.Action.AlphaListFoldersContinueResult),t.alphaListMountableFoldersAction=i._createAction(t.Action.AlphaListMountableFolders),t.alphaListMountableFoldersResultAction=i._createAction(t.Action.AlphaListMountableFoldersResult),t.alphaListMountableFoldersContinueAction=i._createAction(t.Action.AlphaListMountableFoldersContinue),t.alphaListMountableFoldersContinueResultAction=i._createAction(t.Action.AlphaListMountableFoldersContinueResult),t.alphaListReceivedFilesAction=i._createAction(t.Action.AlphaListReceivedFiles),t.alphaListReceivedFilesResultAction=i._createAction(t.Action.AlphaListReceivedFilesResult),t.alphaListReceivedFilesContinueAction=i._createAction(t.Action.AlphaListReceivedFilesContinue),t.alphaListReceivedFilesContinueResultAction=i._createAction(t.Action.AlphaListReceivedFilesContinueResult),t.alphaListSharedLinksAction=i._createAction(t.Action.AlphaListSharedLinks),t.alphaListSharedLinksResultAction=i._createAction(t.Action.AlphaListSharedLinksResult),t.alphaModifySharedLinkSettingsAction=i._createAction(t.Action.AlphaModifySharedLinkSettings),t.alphaModifySharedLinkSettingsResultAction=i._createAction(t.Action.AlphaModifySharedLinkSettingsResult),t.alphaShareFolderAction=i._createAction(t.Action.AlphaShareFolder),t.alphaShareFolderResultAction=i._createAction(t.Action.AlphaShareFolderResult),t.alphaUpdateFilePolicyAction=i._createAction(t.Action.AlphaUpdateFilePolicy),t.alphaUpdateFilePolicyResultAction=i._createAction(t.Action.AlphaUpdateFilePolicyResult),t.alphaUpdateFolderPolicyAction=i._createAction(t.Action.AlphaUpdateFolderPolicy),t.alphaUpdateFolderPolicyResultAction=i._createAction(t.Action.AlphaUpdateFolderPolicyResult),t.alphaUpdateFolderPolicyV2Action=i._createAction(t.Action.AlphaUpdateFolderPolicyV2),t.alphaUpdateFolderPolicyV2ResultAction=i._createAction(t.Action.AlphaUpdateFolderPolicyV2Result),t.checkJobStatusAction=i._createAction(t.Action.CheckJobStatus),t.checkJobStatusResultAction=i._createAction(t.Action.CheckJobStatusResult),t.checkRemoveMemberJobStatusAction=i._createAction(t.Action.CheckRemoveMemberJobStatus),t.checkRemoveMemberJobStatusResultAction=i._createAction(t.Action.CheckRemoveMemberJobStatusResult),t.checkShareInternalJobStatusAction=i._createAction(t.Action.CheckShareInternalJobStatus),t.checkShareInternalJobStatusResultAction=i._createAction(t.Action.CheckShareInternalJobStatusResult),t.checkShareJobStatusAction=i._createAction(t.Action.CheckShareJobStatus),t.checkShareJobStatusResultAction=i._createAction(t.Action.CheckShareJobStatusResult),t.claimMembershipAction=i._createAction(t.Action.ClaimMembership),t.claimMembershipResultAction=i._createAction(t.Action.ClaimMembershipResult),t.confidentialRelocateAction=i._createAction(t.Action.ConfidentialRelocate),t.confidentialRelocateResultAction=i._createAction(t.Action.ConfidentialRelocateResult),t.confidentialRelocateCheckAction=i._createAction(t.Action.ConfidentialRelocateCheck),t.confidentialRelocateCheckResultAction=i._createAction(t.Action.ConfidentialRelocateCheckResult),t.createDirectLinkAction=i._createAction(t.Action.CreateDirectLink),t.createDirectLinkResultAction=i._createAction(t.Action.CreateDirectLinkResult),t.createSharedLinkAction=i._createAction(t.Action.CreateSharedLink),t.createSharedLinkResultAction=i._createAction(t.Action.CreateSharedLinkResult),t.createSharedLinkWithSettingsAction=i._createAction(t.Action.CreateSharedLinkWithSettings),t.createSharedLinkWithSettingsResultAction=i._createAction(t.Action.CreateSharedLinkWithSettingsResult),t.dismissInviteNotificationAction=i._createAction(t.Action.DismissInviteNotification),t.dismissInviteNotificationResultAction=i._createAction(t.Action.DismissInviteNotificationResult),t.getFileMemberCountsAction=i._createAction(t.Action.GetFileMemberCounts),t.getFileMemberCountsResultAction=i._createAction(t.Action.GetFileMemberCountsResult),t.getFileMetadataAction=i._createAction(t.Action.GetFileMetadata),t.getFileMetadataResultAction=i._createAction(t.Action.GetFileMetadataResult),t.getFileMetadataBatchAction=i._createAction(t.Action.GetFileMetadataBatch),t.getFileMetadataBatchResultAction=i._createAction(t.Action.GetFileMetadataBatchResult),t.getFolderMemberCountsAction=i._createAction(t.Action.GetFolderMemberCounts),t.getFolderMemberCountsResultAction=i._createAction(t.Action.GetFolderMemberCountsResult),t.getFolderMemberCountsV2Action=i._createAction(t.Action.GetFolderMemberCountsV2),t.getFolderMemberCountsV2ResultAction=i._createAction(t.Action.GetFolderMemberCountsV2Result),t.getFolderMemberCountsBatchAction=i._createAction(t.Action.GetFolderMemberCountsBatch),t.getFolderMemberCountsBatchResultAction=i._createAction(t.Action.GetFolderMemberCountsBatchResult),t.getFolderMetadataAction=i._createAction(t.Action.GetFolderMetadata),t.getFolderMetadataResultAction=i._createAction(t.Action.GetFolderMetadataResult),t.getFolderMetadata2Action=i._createAction(t.Action.GetFolderMetadata2),t.getFolderMetadata2ResultAction=i._createAction(t.Action.GetFolderMetadata2Result),t.getGrantAccessActionAction=i._createAction(t.Action.GetGrantAccessAction),t.getGrantAccessActionResultAction=i._createAction(t.Action.GetGrantAccessActionResult),t.getParentFolderAccessAction=i._createAction(t.Action.GetParentFolderAccess),t.getParentFolderAccessResultAction=i._createAction(t.Action.GetParentFolderAccessResult),t.getSharedLinkFileAction=i._createAction(t.Action.GetSharedLinkFile),t.getSharedLinkFileResultAction=i._createAction(t.Action.GetSharedLinkFileResult),t.getSharedLinkMetadataAction=i._createAction(t.Action.GetSharedLinkMetadata),t.getSharedLinkMetadataResultAction=i._createAction(t.Action.GetSharedLinkMetadataResult),t.getSharedLinksAction=i._createAction(t.Action.GetSharedLinks),t.getSharedLinksResultAction=i._createAction(t.Action.GetSharedLinksResult),t.hasContentManagerAction=i._createAction(t.Action.HasContentManager),t.hasContentManagerResultAction=i._createAction(t.Action.HasContentManagerResult),t.internalTestOnlyGetFileSharedContentLinkAction=i._createAction(t.Action.InternalTestOnlyGetFileSharedContentLink),t.internalTestOnlyGetFileSharedContentLinkResultAction=i._createAction(t.Action.InternalTestOnlyGetFileSharedContentLinkResult),t.internalTestOnlyGetFolderSharedContentLinkAction=i._createAction(t.Action.InternalTestOnlyGetFolderSharedContentLink),t.internalTestOnlyGetFolderSharedContentLinkResultAction=i._createAction(t.Action.InternalTestOnlyGetFolderSharedContentLinkResult),t.listFileMembersAction=i._createAction(t.Action.ListFileMembers),t.listFileMembersResultAction=i._createAction(t.Action.ListFileMembersResult),t.listFileMembersBatchAction=i._createAction(t.Action.ListFileMembersBatch),t.listFileMembersBatchResultAction=i._createAction(t.Action.ListFileMembersBatchResult),t.listFileMembersContinueAction=i._createAction(t.Action.ListFileMembersContinue),t.listFileMembersContinueResultAction=i._createAction(t.Action.ListFileMembersContinueResult),t.listFolderMembersAction=i._createAction(t.Action.ListFolderMembers),t.listFolderMembersResultAction=i._createAction(t.Action.ListFolderMembersResult),t.listFolderMembersBatchAction=i._createAction(t.Action.ListFolderMembersBatch),t.listFolderMembersBatchResultAction=i._createAction(t.Action.ListFolderMembersBatchResult),t.listFolderMembersContinueAction=i._createAction(t.Action.ListFolderMembersContinue),t.listFolderMembersContinueResultAction=i._createAction(t.Action.ListFolderMembersContinueResult),t.listFoldersAction=i._createAction(t.Action.ListFolders),t.listFoldersResultAction=i._createAction(t.Action.ListFoldersResult),t.listFoldersContinueAction=i._createAction(t.Action.ListFoldersContinue),t.listFoldersContinueResultAction=i._createAction(t.Action.ListFoldersContinueResult),t.listMountableFoldersAction=i._createAction(t.Action.ListMountableFolders),t.listMountableFoldersResultAction=i._createAction(t.Action.ListMountableFoldersResult),t.listMountableFoldersContinueAction=i._createAction(t.Action.ListMountableFoldersContinue),t.listMountableFoldersContinueResultAction=i._createAction(t.Action.ListMountableFoldersContinueResult),t.listReceivedFilesAction=i._createAction(t.Action.ListReceivedFiles),t.listReceivedFilesResultAction=i._createAction(t.Action.ListReceivedFilesResult),t.listReceivedFilesContinueAction=i._createAction(t.Action.ListReceivedFilesContinue),t.listReceivedFilesContinueResultAction=i._createAction(t.Action.ListReceivedFilesContinueResult),t.listSharedContentAction=i._createAction(t.Action.ListSharedContent),t.listSharedContentResultAction=i._createAction(t.Action.ListSharedContentResult),t.listSharedContentContinueAction=i._createAction(t.Action.ListSharedContentContinue),t.listSharedContentContinueResultAction=i._createAction(t.Action.ListSharedContentContinueResult),t.listSharedLinksAction=i._createAction(t.Action.ListSharedLinks),t.listSharedLinksResultAction=i._createAction(t.Action.ListSharedLinksResult),t.modifySharedLinkSettingsAction=i._createAction(t.Action.ModifySharedLinkSettings),t.modifySharedLinkSettingsResultAction=i._createAction(t.Action.ModifySharedLinkSettingsResult),t.mountFolderAction=i._createAction(t.Action.MountFolder),t.mountFolderResultAction=i._createAction(t.Action.MountFolderResult),t.openLinkActionAction=i._createAction(t.Action.OpenLinkAction),t.openLinkActionResultAction=i._createAction(t.Action.OpenLinkActionResult),t.previewRestoredAclBatchNsidsAction=i._createAction(t.Action.PreviewRestoredAclBatchNsids),t.previewRestoredAclBatchNsidsResultAction=i._createAction(t.Action.PreviewRestoredAclBatchNsidsResult),t.receivedAction=i._createAction(t.Action.Received),t.receivedResultAction=i._createAction(t.Action.ReceivedResult),t.receivedContinueAction=i._createAction(t.Action.ReceivedContinue),t.receivedContinueResultAction=i._createAction(t.Action.ReceivedContinueResult),t.relinquishFileMembershipAction=i._createAction(t.Action.RelinquishFileMembership),t.relinquishFileMembershipResultAction=i._createAction(t.Action.RelinquishFileMembershipResult),t.relinquishFolderMembershipAction=i._createAction(t.Action.RelinquishFolderMembership),t.relinquishFolderMembershipResultAction=i._createAction(t.Action.RelinquishFolderMembershipResult),t.removeFileMemberAction=i._createAction(t.Action.RemoveFileMember),t.removeFileMemberResultAction=i._createAction(t.Action.RemoveFileMemberResult),t.removeFileMember2Action=i._createAction(t.Action.RemoveFileMember2),t.removeFileMember2ResultAction=i._createAction(t.Action.RemoveFileMember2Result),t.removeFolderMemberV2Action=i._createAction(t.Action.RemoveFolderMemberV2),t.removeFolderMemberV2ResultAction=i._createAction(t.Action.RemoveFolderMemberV2Result),t.removeFolderMemberAction=i._createAction(t.Action.RemoveFolderMember),t.removeFolderMemberResultAction=i._createAction(t.Action.RemoveFolderMemberResult),t.requestAccessAction=i._createAction(t.Action.RequestAccess),t.requestAccessResultAction=i._createAction(t.Action.RequestAccessResult),t.revokeSharedLinkAction=i._createAction(t.Action.RevokeSharedLink),t.revokeSharedLinkResultAction=i._createAction(t.Action.RevokeSharedLinkResult),t.sentAction=i._createAction(t.Action.Sent),t.sentResultAction=i._createAction(t.Action.SentResult),t.sentContinueAction=i._createAction(t.Action.SentContinue),t.sentContinueResultAction=i._createAction(t.Action.SentContinueResult),t.setAccessInheritanceAction=i._createAction(t.Action.SetAccessInheritance),t.setAccessInheritanceResultAction=i._createAction(t.Action.SetAccessInheritanceResult),t.setConfidentialityAction=i._createAction(t.Action.SetConfidentiality),t.setConfidentialityResultAction=i._createAction(t.Action.SetConfidentialityResult),t.shareFolderAction=i._createAction(t.Action.ShareFolder),t.shareFolderResultAction=i._createAction(t.Action.ShareFolderResult),t.shareFolderInternalAction=i._createAction(t.Action.ShareFolderInternal),t.shareFolderInternalResultAction=i._createAction(t.Action.ShareFolderInternalResult),t.targetsSearchAction=i._createAction(t.Action.TargetsSearch),t.targetsSearchResultAction=i._createAction(t.Action.TargetsSearchResult),t.targetsValidateAction=i._createAction(t.Action.TargetsValidate),t.targetsValidateResultAction=i._createAction(t.Action.TargetsValidateResult),t.transferFolderV2Action=i._createAction(t.Action.TransferFolderV2),t.transferFolderV2ResultAction=i._createAction(t.Action.TransferFolderV2Result),t.transferFolderAction=i._createAction(t.Action.TransferFolder),t.transferFolderResultAction=i._createAction(t.Action.TransferFolderResult),t.unmountFolderAction=i._createAction(t.Action.UnmountFolder),t.unmountFolderResultAction=i._createAction(t.Action.UnmountFolderResult),t.unshareFileAction=i._createAction(t.Action.UnshareFile),t.unshareFileResultAction=i._createAction(t.Action.UnshareFileResult),t.unshareFolderAction=i._createAction(t.Action.UnshareFolder),t.unshareFolderResultAction=i._createAction(t.Action.UnshareFolderResult),t.updateFileMemberAction=i._createAction(t.Action.UpdateFileMember),t.updateFileMemberResultAction=i._createAction(t.Action.UpdateFileMemberResult),t.updateFilePolicyAction=i._createAction(t.Action.UpdateFilePolicy),t.updateFilePolicyResultAction=i._createAction(t.Action.UpdateFilePolicyResult),t.updateFolderMemberV2Action=i._createAction(t.Action.UpdateFolderMemberV2),t.updateFolderMemberV2ResultAction=i._createAction(t.Action.UpdateFolderMemberV2Result),t.updateFolderMemberAction=i._createAction(t.Action.UpdateFolderMember),t.updateFolderMemberResultAction=i._createAction(t.Action.UpdateFolderMemberResult),t.updateFolderPolicyV2Action=i._createAction(t.Action.UpdateFolderPolicyV2),t.updateFolderPolicyV2ResultAction=i._createAction(t.Action.UpdateFolderPolicyV2Result),t.updateFolderPolicyAction=i._createAction(t.Action.UpdateFolderPolicy),t.updateFolderPolicyResultAction=i._createAction(t.Action.UpdateFolderPolicyResult),t.validateFolderPathAction=i._createAction(t.Action.ValidateFolderPath),t.validateFolderPathResultAction=i._createAction(t.Action.ValidateFolderPathResult),t.validateFolderPathBatchAction=i._createAction(t.Action.ValidateFolderPathBatch),t.validateFolderPathBatchResultAction=i._createAction(t.Action.ValidateFolderPathBatchResult);const r={[t.Action.AddFileMember]:{endpoint:"add_file_member",action:t.addFileMemberResultAction},[t.Action.AddFolderMemberV2]:{endpoint:"add_folder_member_v2",action:t.addFolderMemberV2ResultAction},[t.Action.AddFolderMember]:{endpoint:"add_folder_member",action:t.addFolderMemberResultAction},[t.Action.AddMembers]:{endpoint:"add_members",action:t.addMembersResultAction},[t.Action.AlphaCreateSharedLinkWithSettings]:{endpoint:"alpha/create_shared_link_with_settings",action:t.alphaCreateSharedLinkWithSettingsResultAction},[t.Action.AlphaGetFileMetadata]:{endpoint:"alpha/get_file_metadata",action:t.alphaGetFileMetadataResultAction},[t.Action.AlphaGetFileMetadataBatch]:{endpoint:"alpha/get_file_metadata/batch",action:t.alphaGetFileMetadataBatchResultAction},[t.Action.AlphaGetFolderMetadata]:{endpoint:"alpha/get_folder_metadata",action:t.alphaGetFolderMetadataResultAction},[t.Action.AlphaGetFolderMetadataV2]:{endpoint:"alpha/get_folder_metadata_v2",action:t.alphaGetFolderMetadataV2ResultAction},[t.Action.AlphaListFileMembers]:{endpoint:"alpha/list_file_members",action:t.alphaListFileMembersResultAction},[t.Action.AlphaListFileMembersContinue]:{endpoint:"alpha/list_file_members/continue",action:t.alphaListFileMembersContinueResultAction},[t.Action.AlphaListFolders]:{endpoint:"alpha/list_folders",action:t.alphaListFoldersResultAction},[t.Action.AlphaListFoldersContinue]:{endpoint:"alpha/list_folders/continue",action:t.alphaListFoldersContinueResultAction},[t.Action.AlphaListMountableFolders]:{endpoint:"alpha/list_mountable_folders",action:t.alphaListMountableFoldersResultAction},[t.Action.AlphaListMountableFoldersContinue]:{endpoint:"alpha/list_mountable_folders/continue",action:t.alphaListMountableFoldersContinueResultAction},[t.Action.AlphaListReceivedFiles]:{endpoint:"alpha/list_received_files",action:t.alphaListReceivedFilesResultAction},[t.Action.AlphaListReceivedFilesContinue]:{endpoint:"alpha/list_received_files/continue",action:t.alphaListReceivedFilesContinueResultAction},[t.Action.AlphaListSharedLinks]:{endpoint:"alpha/list_shared_links",action:t.alphaListSharedLinksResultAction},[t.Action.AlphaModifySharedLinkSettings]:{endpoint:"alpha/modify_shared_link_settings",action:t.alphaModifySharedLinkSettingsResultAction},[t.Action.AlphaShareFolder]:{endpoint:"alpha/share_folder",action:t.alphaShareFolderResultAction},[t.Action.AlphaUpdateFilePolicy]:{endpoint:"alpha/update_file_policy",action:t.alphaUpdateFilePolicyResultAction},[t.Action.AlphaUpdateFolderPolicy]:{endpoint:"alpha/update_folder_policy",action:t.alphaUpdateFolderPolicyResultAction},[t.Action.AlphaUpdateFolderPolicyV2]:{endpoint:"alpha/update_folder_policy_v2",action:t.alphaUpdateFolderPolicyV2ResultAction},[t.Action.CheckJobStatus]:{endpoint:"check_job_status",action:t.checkJobStatusResultAction},[t.Action.CheckRemoveMemberJobStatus]:{endpoint:"check_remove_member_job_status",action:t.checkRemoveMemberJobStatusResultAction},[t.Action.CheckShareInternalJobStatus]:{endpoint:"check_share_internal_job_status",action:t.checkShareInternalJobStatusResultAction},[t.Action.CheckShareJobStatus]:{endpoint:"check_share_job_status",action:t.checkShareJobStatusResultAction},[t.Action.ClaimMembership]:{endpoint:"claim_membership",action:t.claimMembershipResultAction},[t.Action.ConfidentialRelocate]:{endpoint:"confidential_relocate",action:t.confidentialRelocateResultAction},[t.Action.ConfidentialRelocateCheck]:{endpoint:"confidential_relocate/check",action:t.confidentialRelocateCheckResultAction},[t.Action.CreateDirectLink]:{endpoint:"create_direct_link",action:t.createDirectLinkResultAction},[t.Action.CreateSharedLink]:{endpoint:"create_shared_link",action:t.createSharedLinkResultAction},[t.Action.CreateSharedLinkWithSettings]:{endpoint:"create_shared_link_with_settings",action:t.createSharedLinkWithSettingsResultAction},[t.Action.DismissInviteNotification]:{endpoint:"dismiss_invite_notification",action:t.dismissInviteNotificationResultAction},[t.Action.GetFileMemberCounts]:{endpoint:"get_file_member_counts",action:t.getFileMemberCountsResultAction},[t.Action.GetFileMetadata]:{endpoint:"get_file_metadata",action:t.getFileMetadataResultAction},[t.Action.GetFileMetadataBatch]:{endpoint:"get_file_metadata/batch",action:t.getFileMetadataBatchResultAction},[t.Action.GetFolderMemberCounts]:{endpoint:"get_folder_member_counts",action:t.getFolderMemberCountsResultAction},[t.Action.GetFolderMemberCountsV2]:{endpoint:"get_folder_member_counts_v2",action:t.getFolderMemberCountsV2ResultAction},[t.Action.GetFolderMemberCountsBatch]:{endpoint:"get_folder_member_counts/batch",action:t.getFolderMemberCountsBatchResultAction},[t.Action.GetFolderMetadata]:{endpoint:"get_folder_metadata",action:t.getFolderMetadataResultAction},[t.Action.GetFolderMetadata2]:{endpoint:"get_folder_metadata_2",action:t.getFolderMetadata2ResultAction},[t.Action.GetGrantAccessAction]:{endpoint:"get_grant_access_action",action:t.getGrantAccessActionResultAction},[t.Action.GetParentFolderAccess]:{endpoint:"get_parent_folder_access",action:t.getParentFolderAccessResultAction},[t.Action.GetSharedLinkFile]:{endpoint:"get_shared_link_file",action:t.getSharedLinkFileResultAction},[t.Action.GetSharedLinkMetadata]:{endpoint:"get_shared_link_metadata",action:t.getSharedLinkMetadataResultAction},[t.Action.GetSharedLinks]:{endpoint:"get_shared_links",action:t.getSharedLinksResultAction},[t.Action.HasContentManager]:{endpoint:"has_content_manager",action:t.hasContentManagerResultAction},[t.Action.InternalTestOnlyGetFileSharedContentLink]:{endpoint:"internal_test_only/get_file_shared_content_link",action:t.internalTestOnlyGetFileSharedContentLinkResultAction},[t.Action.InternalTestOnlyGetFolderSharedContentLink]:{endpoint:"internal_test_only/get_folder_shared_content_link",action:t.internalTestOnlyGetFolderSharedContentLinkResultAction},[t.Action.ListFileMembers]:{endpoint:"list_file_members",action:t.listFileMembersResultAction},[t.Action.ListFileMembersBatch]:{endpoint:"list_file_members/batch",action:t.listFileMembersBatchResultAction},[t.Action.ListFileMembersContinue]:{endpoint:"list_file_members/continue",action:t.listFileMembersContinueResultAction},[t.Action.ListFolderMembers]:{endpoint:"list_folder_members",action:t.listFolderMembersResultAction},[t.Action.ListFolderMembersBatch]:{endpoint:"list_folder_members/batch",action:t.listFolderMembersBatchResultAction},[t.Action.ListFolderMembersContinue]:{endpoint:"list_folder_members/continue",action:t.listFolderMembersContinueResultAction},[t.Action.ListFolders]:{endpoint:"list_folders",action:t.listFoldersResultAction},[t.Action.ListFoldersContinue]:{endpoint:"list_folders/continue",action:t.listFoldersContinueResultAction},[t.Action.ListMountableFolders]:{endpoint:"list_mountable_folders",action:t.listMountableFoldersResultAction},[t.Action.ListMountableFoldersContinue]:{endpoint:"list_mountable_folders/continue",action:t.listMountableFoldersContinueResultAction},[t.Action.ListReceivedFiles]:{endpoint:"list_received_files",action:t.listReceivedFilesResultAction},[t.Action.ListReceivedFilesContinue]:{endpoint:"list_received_files/continue",action:t.listReceivedFilesContinueResultAction},[t.Action.ListSharedContent]:{endpoint:"list_shared_content",action:t.listSharedContentResultAction},[t.Action.ListSharedContentContinue]:{endpoint:"list_shared_content/continue",action:t.listSharedContentContinueResultAction},[t.Action.ListSharedLinks]:{endpoint:"list_shared_links",action:t.listSharedLinksResultAction},[t.Action.ModifySharedLinkSettings]:{endpoint:"modify_shared_link_settings",action:t.modifySharedLinkSettingsResultAction},[t.Action.MountFolder]:{endpoint:"mount_folder",action:t.mountFolderResultAction},[t.Action.OpenLinkAction]:{endpoint:"open_link_action",action:t.openLinkActionResultAction},[t.Action.PreviewRestoredAclBatchNsids]:{endpoint:"preview_restored_acl/batch_nsids",action:t.previewRestoredAclBatchNsidsResultAction},[t.Action.Received]:{endpoint:"received",action:t.receivedResultAction},[t.Action.ReceivedContinue]:{endpoint:"received/continue",action:t.receivedContinueResultAction},[t.Action.RelinquishFileMembership]:{endpoint:"relinquish_file_membership",action:t.relinquishFileMembershipResultAction},[t.Action.RelinquishFolderMembership]:{endpoint:"relinquish_folder_membership",action:t.relinquishFolderMembershipResultAction},[t.Action.RemoveFileMember]:{endpoint:"remove_file_member",action:t.removeFileMemberResultAction},[t.Action.RemoveFileMember2]:{endpoint:"remove_file_member_2",action:t.removeFileMember2ResultAction},[t.Action.RemoveFolderMemberV2]:{endpoint:"remove_folder_member_v2",action:t.removeFolderMemberV2ResultAction},[t.Action.RemoveFolderMember]:{endpoint:"remove_folder_member",action:t.removeFolderMemberResultAction},[t.Action.RequestAccess]:{endpoint:"request_access",action:t.requestAccessResultAction},[t.Action.RevokeSharedLink]:{endpoint:"revoke_shared_link",action:t.revokeSharedLinkResultAction},[t.Action.Sent]:{endpoint:"sent",action:t.sentResultAction},[t.Action.SentContinue]:{endpoint:"sent/continue",action:t.sentContinueResultAction},[t.Action.SetAccessInheritance]:{endpoint:"set_access_inheritance",action:t.setAccessInheritanceResultAction},[t.Action.SetConfidentiality]:{endpoint:"set_confidentiality",action:t.setConfidentialityResultAction},[t.Action.ShareFolder]:{endpoint:"share_folder",action:t.shareFolderResultAction},[t.Action.ShareFolderInternal]:{endpoint:"share_folder_internal",action:t.shareFolderInternalResultAction},[t.Action.TargetsSearch]:{endpoint:"targets/search",action:t.targetsSearchResultAction},[t.Action.TargetsValidate]:{endpoint:"targets/validate",action:t.targetsValidateResultAction},[t.Action.TransferFolderV2]:{endpoint:"transfer_folder_v2",action:t.transferFolderV2ResultAction},[t.Action.TransferFolder]:{endpoint:"transfer_folder",action:t.transferFolderResultAction},[t.Action.UnmountFolder]:{endpoint:"unmount_folder",action:t.unmountFolderResultAction},[t.Action.UnshareFile]:{endpoint:"unshare_file",action:t.unshareFileResultAction},[t.Action.UnshareFolder]:{endpoint:"unshare_folder",action:t.unshareFolderResultAction},[t.Action.UpdateFileMember]:{endpoint:"update_file_member",action:t.updateFileMemberResultAction},[t.Action.UpdateFilePolicy]:{endpoint:"update_file_policy",action:t.updateFilePolicyResultAction},[t.Action.UpdateFolderMemberV2]:{endpoint:"update_folder_member_v2",action:t.updateFolderMemberV2ResultAction},[t.Action.UpdateFolderMember]:{endpoint:"update_folder_member",action:t.updateFolderMemberResultAction},[t.Action.UpdateFolderPolicyV2]:{endpoint:"update_folder_policy_v2",action:t.updateFolderPolicyV2ResultAction},[t.Action.UpdateFolderPolicy]:{endpoint:"update_folder_policy",action:t.updateFolderPolicyResultAction},[t.Action.ValidateFolderPath]:{endpoint:"validate_folder_path",action:t.validateFolderPathResultAction},[t.Action.ValidateFolderPathBatch]:{endpoint:"validate_folder_path/batch",action:t.validateFolderPathBatchResultAction}};t.middleware=i._createMiddleware(r)})),define("typescript/libraries/api_v2/redux/flows",["require","exports","typescript/libraries/api_v2/redux/base_action"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.versionUpdateResultAction=t.versionUpdateAction=t.versionGetResultAction=t.versionGetAction=t.updateSolutionInstanceResultAction=t.updateSolutionInstanceAction=t.updateRulesResultAction=t.updateRulesAction=t.updateAdoptionStatusResultAction=t.updateAdoptionStatusAction=t.unzipResultAction=t.unzipAction=t.undoActionsResultAction=t.undoActionsAction=t.submitFileWorkflowResultAction=t.submitFileWorkflowAction=t.setupRuleResultAction=t.setupRuleAction=t.respondToApprovalResultAction=t.respondToApprovalAction=t.removeRulesResultAction=t.removeRulesAction=t.mediaRemuxResultAction=t.mediaRemuxAction=t.logFeedbackResultAction=t.logFeedbackAction=t.listSolutionInstancesResultAction=t.listSolutionInstancesAction=t.getUserAutomationsResultAction=t.getUserAutomationsAction=t.getSubmittedApprovalsCountResultAction=t.getSubmittedApprovalsCountAction=t.getRuleBatchResultAction=t.getRuleBatchAction=t.getRuleResultAction=t.getRuleAction=t.getFolderRulesConfigResultAction=t.getFolderRulesConfigAction=t.getFileStatusResultAction=t.getFileStatusAction=t.getFeedbackStatusResultAction=t.getFeedbackStatusAction=t.getBoltDataResultAction=t.getBoltDataAction=t.generateAuthCodeResultAction=t.generateAuthCodeAction=t.editApprovalResultAction=t.editApprovalAction=t.deleteSolutionInstanceResultAction=t.deleteSolutionInstanceAction=t.deleteRuleResultAction=t.deleteRuleAction=t.deleteApprovalThreadResultAction=t.deleteApprovalThreadAction=t.deleteApprovalResultAction=t.deleteApprovalAction=t.createUserTokenResultAction=t.createUserTokenAction=t.createTrayUserResultAction=t.createTrayUserAction=t.createSolutionInstanceResultAction=t.createSolutionInstanceAction=t.createApprovalResultAction=t.createApprovalAction=t.convertVideoToGifResultAction=t.convertVideoToGifAction=t.convertToPdfResultAction=t.convertToPdfAction=t.convertImageFormatResultAction=t.convertImageFormatAction=t.convertDocToImageResultAction=t.convertDocToImageAction=t.checkAdoptionStatusResultAction=t.checkAdoptionStatusAction=t.archiveResultAction=t.archiveAction=t.Action=void 0,t.Action={Archive:"@@apiv2_redux/flows/archive",ArchiveResult:"@@apiv2_redux/flows/archive_result",CheckAdoptionStatus:"@@apiv2_redux/flows/check_adoption_status",CheckAdoptionStatusResult:"@@apiv2_redux/flows/check_adoption_status_result",ConvertDocToImage:"@@apiv2_redux/flows/convert_doc_to_image",ConvertDocToImageResult:"@@apiv2_redux/flows/convert_doc_to_image_result",ConvertImageFormat:"@@apiv2_redux/flows/convert_image_format",ConvertImageFormatResult:"@@apiv2_redux/flows/convert_image_format_result",ConvertToPdf:"@@apiv2_redux/flows/convert_to_pdf",ConvertToPdfResult:"@@apiv2_redux/flows/convert_to_pdf_result",ConvertVideoToGif:"@@apiv2_redux/flows/convert_video_to_gif",ConvertVideoToGifResult:"@@apiv2_redux/flows/convert_video_to_gif_result",CreateApproval:"@@apiv2_redux/flows/create_approval",CreateApprovalResult:"@@apiv2_redux/flows/create_approval_result",CreateSolutionInstance:"@@apiv2_redux/flows/create_solution_instance",CreateSolutionInstanceResult:"@@apiv2_redux/flows/create_solution_instance_result",CreateTrayUser:"@@apiv2_redux/flows/create_tray_user",CreateTrayUserResult:"@@apiv2_redux/flows/create_tray_user_result",CreateUserToken:"@@apiv2_redux/flows/create_user_token",CreateUserTokenResult:"@@apiv2_redux/flows/create_user_token_result",DeleteApproval:"@@apiv2_redux/flows/delete_approval",DeleteApprovalResult:"@@apiv2_redux/flows/delete_approval_result",DeleteApprovalThread:"@@apiv2_redux/flows/delete_approval_thread",DeleteApprovalThreadResult:"@@apiv2_redux/flows/delete_approval_thread_result",DeleteRule:"@@apiv2_redux/flows/delete_rule",DeleteRuleResult:"@@apiv2_redux/flows/delete_rule_result",DeleteSolutionInstance:"@@apiv2_redux/flows/delete_solution_instance",DeleteSolutionInstanceResult:"@@apiv2_redux/flows/delete_solution_instance_result",EditApproval:"@@apiv2_redux/flows/edit_approval",EditApprovalResult:"@@apiv2_redux/flows/edit_approval_result",GenerateAuthCode:"@@apiv2_redux/flows/generate_auth_code",GenerateAuthCodeResult:"@@apiv2_redux/flows/generate_auth_code_result",GetBoltData:"@@apiv2_redux/flows/get_bolt_data",GetBoltDataResult:"@@apiv2_redux/flows/get_bolt_data_result",GetFeedbackStatus:"@@apiv2_redux/flows/get_feedback_status",GetFeedbackStatusResult:"@@apiv2_redux/flows/get_feedback_status_result",GetFileStatus:"@@apiv2_redux/flows/get_file_status",GetFileStatusResult:"@@apiv2_redux/flows/get_file_status_result",GetFolderRulesConfig:"@@apiv2_redux/flows/get_folder_rules_config",GetFolderRulesConfigResult:"@@apiv2_redux/flows/get_folder_rules_config_result",GetRule:"@@apiv2_redux/flows/get_rule",GetRuleResult:"@@apiv2_redux/flows/get_rule_result",GetRuleBatch:"@@apiv2_redux/flows/get_rule_batch",GetRuleBatchResult:"@@apiv2_redux/flows/get_rule_batch_result",GetSubmittedApprovalsCount:"@@apiv2_redux/flows/get_submitted_approvals_count",GetSubmittedApprovalsCountResult:"@@apiv2_redux/flows/get_submitted_approvals_count_result",GetUserAutomations:"@@apiv2_redux/flows/get_user_automations",GetUserAutomationsResult:"@@apiv2_redux/flows/get_user_automations_result",ListSolutionInstances:"@@apiv2_redux/flows/list_solution_instances",ListSolutionInstancesResult:"@@apiv2_redux/flows/list_solution_instances_result",LogFeedback:"@@apiv2_redux/flows/log_feedback",LogFeedbackResult:"@@apiv2_redux/flows/log_feedback_result",MediaRemux:"@@apiv2_redux/flows/media_remux",MediaRemuxResult:"@@apiv2_redux/flows/media_remux_result",RemoveRules:"@@apiv2_redux/flows/remove_rules",RemoveRulesResult:"@@apiv2_redux/flows/remove_rules_result",RespondToApproval:"@@apiv2_redux/flows/respond_to_approval",RespondToApprovalResult:"@@apiv2_redux/flows/respond_to_approval_result",SetupRule:"@@apiv2_redux/flows/setup_rule",SetupRuleResult:"@@apiv2_redux/flows/setup_rule_result",SubmitFileWorkflow:"@@apiv2_redux/flows/submit_file_workflow",SubmitFileWorkflowResult:"@@apiv2_redux/flows/submit_file_workflow_result",UndoActions:"@@apiv2_redux/flows/undo_actions",UndoActionsResult:"@@apiv2_redux/flows/undo_actions_result",Unzip:"@@apiv2_redux/flows/unzip",UnzipResult:"@@apiv2_redux/flows/unzip_result",UpdateAdoptionStatus:"@@apiv2_redux/flows/update_adoption_status",UpdateAdoptionStatusResult:"@@apiv2_redux/flows/update_adoption_status_result",UpdateRules:"@@apiv2_redux/flows/update_rules",UpdateRulesResult:"@@apiv2_redux/flows/update_rules_result",UpdateSolutionInstance:"@@apiv2_redux/flows/update_solution_instance",UpdateSolutionInstanceResult:"@@apiv2_redux/flows/update_solution_instance_result",VersionGet:"@@apiv2_redux/flows/version/get",VersionGetResult:"@@apiv2_redux/flows/version/get_result",VersionUpdate:"@@apiv2_redux/flows/version/update",VersionUpdateResult:"@@apiv2_redux/flows/version/update_result"},t.archiveAction=i._createAction(t.Action.Archive),t.archiveResultAction=i._createAction(t.Action.ArchiveResult),t.checkAdoptionStatusAction=i._createAction(t.Action.CheckAdoptionStatus),t.checkAdoptionStatusResultAction=i._createAction(t.Action.CheckAdoptionStatusResult),t.convertDocToImageAction=i._createAction(t.Action.ConvertDocToImage),t.convertDocToImageResultAction=i._createAction(t.Action.ConvertDocToImageResult),t.convertImageFormatAction=i._createAction(t.Action.ConvertImageFormat),t.convertImageFormatResultAction=i._createAction(t.Action.ConvertImageFormatResult),t.convertToPdfAction=i._createAction(t.Action.ConvertToPdf),t.convertToPdfResultAction=i._createAction(t.Action.ConvertToPdfResult),t.convertVideoToGifAction=i._createAction(t.Action.ConvertVideoToGif),t.convertVideoToGifResultAction=i._createAction(t.Action.ConvertVideoToGifResult),t.createApprovalAction=i._createAction(t.Action.CreateApproval),t.createApprovalResultAction=i._createAction(t.Action.CreateApprovalResult),t.createSolutionInstanceAction=i._createAction(t.Action.CreateSolutionInstance),t.createSolutionInstanceResultAction=i._createAction(t.Action.CreateSolutionInstanceResult),t.createTrayUserAction=i._createAction(t.Action.CreateTrayUser),t.createTrayUserResultAction=i._createAction(t.Action.CreateTrayUserResult),t.createUserTokenAction=i._createAction(t.Action.CreateUserToken),t.createUserTokenResultAction=i._createAction(t.Action.CreateUserTokenResult),t.deleteApprovalAction=i._createAction(t.Action.DeleteApproval),t.deleteApprovalResultAction=i._createAction(t.Action.DeleteApprovalResult),t.deleteApprovalThreadAction=i._createAction(t.Action.DeleteApprovalThread),t.deleteApprovalThreadResultAction=i._createAction(t.Action.DeleteApprovalThreadResult),t.deleteRuleAction=i._createAction(t.Action.DeleteRule),t.deleteRuleResultAction=i._createAction(t.Action.DeleteRuleResult),t.deleteSolutionInstanceAction=i._createAction(t.Action.DeleteSolutionInstance),t.deleteSolutionInstanceResultAction=i._createAction(t.Action.DeleteSolutionInstanceResult),t.editApprovalAction=i._createAction(t.Action.EditApproval),t.editApprovalResultAction=i._createAction(t.Action.EditApprovalResult),t.generateAuthCodeAction=i._createAction(t.Action.GenerateAuthCode),t.generateAuthCodeResultAction=i._createAction(t.Action.GenerateAuthCodeResult),t.getBoltDataAction=i._createAction(t.Action.GetBoltData),t.getBoltDataResultAction=i._createAction(t.Action.GetBoltDataResult),t.getFeedbackStatusAction=i._createAction(t.Action.GetFeedbackStatus),t.getFeedbackStatusResultAction=i._createAction(t.Action.GetFeedbackStatusResult),t.getFileStatusAction=i._createAction(t.Action.GetFileStatus),t.getFileStatusResultAction=i._createAction(t.Action.GetFileStatusResult),t.getFolderRulesConfigAction=i._createAction(t.Action.GetFolderRulesConfig),t.getFolderRulesConfigResultAction=i._createAction(t.Action.GetFolderRulesConfigResult),t.getRuleAction=i._createAction(t.Action.GetRule),t.getRuleResultAction=i._createAction(t.Action.GetRuleResult),t.getRuleBatchAction=i._createAction(t.Action.GetRuleBatch),t.getRuleBatchResultAction=i._createAction(t.Action.GetRuleBatchResult),t.getSubmittedApprovalsCountAction=i._createAction(t.Action.GetSubmittedApprovalsCount),t.getSubmittedApprovalsCountResultAction=i._createAction(t.Action.GetSubmittedApprovalsCountResult),t.getUserAutomationsAction=i._createAction(t.Action.GetUserAutomations),t.getUserAutomationsResultAction=i._createAction(t.Action.GetUserAutomationsResult),t.listSolutionInstancesAction=i._createAction(t.Action.ListSolutionInstances),t.listSolutionInstancesResultAction=i._createAction(t.Action.ListSolutionInstancesResult),t.logFeedbackAction=i._createAction(t.Action.LogFeedback),t.logFeedbackResultAction=i._createAction(t.Action.LogFeedbackResult),t.mediaRemuxAction=i._createAction(t.Action.MediaRemux),t.mediaRemuxResultAction=i._createAction(t.Action.MediaRemuxResult),t.removeRulesAction=i._createAction(t.Action.RemoveRules),t.removeRulesResultAction=i._createAction(t.Action.RemoveRulesResult),t.respondToApprovalAction=i._createAction(t.Action.RespondToApproval),t.respondToApprovalResultAction=i._createAction(t.Action.RespondToApprovalResult),t.setupRuleAction=i._createAction(t.Action.SetupRule),t.setupRuleResultAction=i._createAction(t.Action.SetupRuleResult),t.submitFileWorkflowAction=i._createAction(t.Action.SubmitFileWorkflow),t.submitFileWorkflowResultAction=i._createAction(t.Action.SubmitFileWorkflowResult),t.undoActionsAction=i._createAction(t.Action.UndoActions),t.undoActionsResultAction=i._createAction(t.Action.UndoActionsResult),t.unzipAction=i._createAction(t.Action.Unzip),t.unzipResultAction=i._createAction(t.Action.UnzipResult),t.updateAdoptionStatusAction=i._createAction(t.Action.UpdateAdoptionStatus),t.updateAdoptionStatusResultAction=i._createAction(t.Action.UpdateAdoptionStatusResult),t.updateRulesAction=i._createAction(t.Action.UpdateRules),t.updateRulesResultAction=i._createAction(t.Action.UpdateRulesResult),t.updateSolutionInstanceAction=i._createAction(t.Action.UpdateSolutionInstance),t.updateSolutionInstanceResultAction=i._createAction(t.Action.UpdateSolutionInstanceResult),t.versionGetAction=i._createAction(t.Action.VersionGet),t.versionGetResultAction=i._createAction(t.Action.VersionGetResult),t.versionUpdateAction=i._createAction(t.Action.VersionUpdate),t.versionUpdateResultAction=i._createAction(t.Action.VersionUpdateResult);const r={[t.Action.Archive]:{endpoint:"archive",action:t.archiveResultAction},[t.Action.CheckAdoptionStatus]:{endpoint:"check_adoption_status",action:t.checkAdoptionStatusResultAction},[t.Action.ConvertDocToImage]:{endpoint:"convert_doc_to_image",action:t.convertDocToImageResultAction},[t.Action.ConvertImageFormat]:{endpoint:"convert_image_format",action:t.convertImageFormatResultAction},[t.Action.ConvertToPdf]:{endpoint:"convert_to_pdf",action:t.convertToPdfResultAction},[t.Action.ConvertVideoToGif]:{endpoint:"convert_video_to_gif",action:t.convertVideoToGifResultAction},[t.Action.CreateApproval]:{endpoint:"create_approval",action:t.createApprovalResultAction},[t.Action.CreateSolutionInstance]:{endpoint:"create_solution_instance",action:t.createSolutionInstanceResultAction},[t.Action.CreateTrayUser]:{endpoint:"create_tray_user",action:t.createTrayUserResultAction},[t.Action.CreateUserToken]:{endpoint:"create_user_token",action:t.createUserTokenResultAction},[t.Action.DeleteApproval]:{endpoint:"delete_approval",action:t.deleteApprovalResultAction},[t.Action.DeleteApprovalThread]:{endpoint:"delete_approval_thread",action:t.deleteApprovalThreadResultAction},[t.Action.DeleteRule]:{endpoint:"delete_rule",action:t.deleteRuleResultAction},[t.Action.DeleteSolutionInstance]:{endpoint:"delete_solution_instance",action:t.deleteSolutionInstanceResultAction},[t.Action.EditApproval]:{endpoint:"edit_approval",action:t.editApprovalResultAction},[t.Action.GenerateAuthCode]:{endpoint:"generate_auth_code",action:t.generateAuthCodeResultAction},[t.Action.GetBoltData]:{endpoint:"get_bolt_data",action:t.getBoltDataResultAction},[t.Action.GetFeedbackStatus]:{endpoint:"get_feedback_status",action:t.getFeedbackStatusResultAction},[t.Action.GetFileStatus]:{endpoint:"get_file_status",action:t.getFileStatusResultAction},[t.Action.GetFolderRulesConfig]:{endpoint:"get_folder_rules_config",action:t.getFolderRulesConfigResultAction},[t.Action.GetRule]:{endpoint:"get_rule",action:t.getRuleResultAction},[t.Action.GetRuleBatch]:{endpoint:"get_rule_batch",action:t.getRuleBatchResultAction},[t.Action.GetSubmittedApprovalsCount]:{endpoint:"get_submitted_approvals_count",action:t.getSubmittedApprovalsCountResultAction},[t.Action.GetUserAutomations]:{endpoint:"get_user_automations",action:t.getUserAutomationsResultAction},[t.Action.ListSolutionInstances]:{endpoint:"list_solution_instances",action:t.listSolutionInstancesResultAction},[t.Action.LogFeedback]:{endpoint:"log_feedback",action:t.logFeedbackResultAction},[t.Action.MediaRemux]:{endpoint:"media_remux",action:t.mediaRemuxResultAction},[t.Action.RemoveRules]:{endpoint:"remove_rules",action:t.removeRulesResultAction},[t.Action.RespondToApproval]:{endpoint:"respond_to_approval",action:t.respondToApprovalResultAction},[t.Action.SetupRule]:{endpoint:"setup_rule",action:t.setupRuleResultAction},[t.Action.SubmitFileWorkflow]:{endpoint:"submit_file_workflow",action:t.submitFileWorkflowResultAction},[t.Action.UndoActions]:{endpoint:"undo_actions",action:t.undoActionsResultAction},[t.Action.Unzip]:{endpoint:"unzip",action:t.unzipResultAction},[t.Action.UpdateAdoptionStatus]:{endpoint:"update_adoption_status",action:t.updateAdoptionStatusResultAction},[t.Action.UpdateRules]:{endpoint:"update_rules",action:t.updateRulesResultAction},[t.Action.UpdateSolutionInstance]:{endpoint:"update_solution_instance",action:t.updateSolutionInstanceResultAction},[t.Action.VersionGet]:{endpoint:"version/get",action:t.versionGetResultAction},[t.Action.VersionUpdate]:{endpoint:"version/update",action:t.versionUpdateResultAction}};t.middleware=i._createMiddleware(r)})),define("typescript/libraries/api_v2/redux/users",["require","exports","typescript/libraries/api_v2/redux/base_action"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.setSharingPrefsResultAction=t.setSharingPrefsAction=t.saveMobileClientSettingsResultAction=t.saveMobileClientSettingsAction=t.pairUserResultAction=t.pairUserAction=t.needsScaleMitigationResultAction=t.needsScaleMitigationAction=t.getUserUiInfoResultAction=t.getUserUiInfoAction=t.getSpaceUsageResultAction=t.getSpaceUsageAction=t.getSharingPrefsResultAction=t.getSharingPrefsAction=t.getRootInfoResultAction=t.getRootInfoAction=t.getPlanInfoV2ResultAction=t.getPlanInfoV2Action=t.getPlanInfoResultAction=t.getPlanInfoAction=t.getMobileClientSettingsResultAction=t.getMobileClientSettingsAction=t.getFileModifierAccountResultAction=t.getFileModifierAccountAction=t.getCurrentAccountResultAction=t.getCurrentAccountAction=t.getAccountBatchResultAction=t.getAccountBatchAction=t.getAccountResultAction=t.getAccountAction=t.generatePairingTokenResultAction=t.generatePairingTokenAction=t.featuresGetValuesResultAction=t.featuresGetValuesAction=t.Action=void 0,t.Action={FeaturesGetValues:"@@apiv2_redux/users/features/get_values",FeaturesGetValuesResult:"@@apiv2_redux/users/features/get_values_result",GeneratePairingToken:"@@apiv2_redux/users/generate_pairing_token",GeneratePairingTokenResult:"@@apiv2_redux/users/generate_pairing_token_result",GetAccount:"@@apiv2_redux/users/get_account",GetAccountResult:"@@apiv2_redux/users/get_account_result",GetAccountBatch:"@@apiv2_redux/users/get_account_batch",GetAccountBatchResult:"@@apiv2_redux/users/get_account_batch_result",GetCurrentAccount:"@@apiv2_redux/users/get_current_account",GetCurrentAccountResult:"@@apiv2_redux/users/get_current_account_result",GetFileModifierAccount:"@@apiv2_redux/users/get_file_modifier_account",GetFileModifierAccountResult:"@@apiv2_redux/users/get_file_modifier_account_result",GetMobileClientSettings:"@@apiv2_redux/users/get_mobile_client_settings",GetMobileClientSettingsResult:"@@apiv2_redux/users/get_mobile_client_settings_result",GetPlanInfo:"@@apiv2_redux/users/get_plan_info",GetPlanInfoResult:"@@apiv2_redux/users/get_plan_info_result",GetPlanInfoV2:"@@apiv2_redux/users/get_plan_info_v2",GetPlanInfoV2Result:"@@apiv2_redux/users/get_plan_info_v2_result",GetRootInfo:"@@apiv2_redux/users/get_root_info",GetRootInfoResult:"@@apiv2_redux/users/get_root_info_result",GetSharingPrefs:"@@apiv2_redux/users/get_sharing_prefs",GetSharingPrefsResult:"@@apiv2_redux/users/get_sharing_prefs_result",GetSpaceUsage:"@@apiv2_redux/users/get_space_usage",GetSpaceUsageResult:"@@apiv2_redux/users/get_space_usage_result",GetUserUiInfo:"@@apiv2_redux/users/get_user_ui_info",GetUserUiInfoResult:"@@apiv2_redux/users/get_user_ui_info_result",NeedsScaleMitigation:"@@apiv2_redux/users/needs_scale_mitigation",NeedsScaleMitigationResult:"@@apiv2_redux/users/needs_scale_mitigation_result",PairUser:"@@apiv2_redux/users/pair_user",PairUserResult:"@@apiv2_redux/users/pair_user_result",SaveMobileClientSettings:"@@apiv2_redux/users/save_mobile_client_settings",SaveMobileClientSettingsResult:"@@apiv2_redux/users/save_mobile_client_settings_result",SetSharingPrefs:"@@apiv2_redux/users/set_sharing_prefs",SetSharingPrefsResult:"@@apiv2_redux/users/set_sharing_prefs_result"},t.featuresGetValuesAction=i._createAction(t.Action.FeaturesGetValues),t.featuresGetValuesResultAction=i._createAction(t.Action.FeaturesGetValuesResult),t.generatePairingTokenAction=i._createAction(t.Action.GeneratePairingToken),t.generatePairingTokenResultAction=i._createAction(t.Action.GeneratePairingTokenResult),t.getAccountAction=i._createAction(t.Action.GetAccount),t.getAccountResultAction=i._createAction(t.Action.GetAccountResult),t.getAccountBatchAction=i._createAction(t.Action.GetAccountBatch),t.getAccountBatchResultAction=i._createAction(t.Action.GetAccountBatchResult),t.getCurrentAccountAction=i._createAction(t.Action.GetCurrentAccount),t.getCurrentAccountResultAction=i._createAction(t.Action.GetCurrentAccountResult),t.getFileModifierAccountAction=i._createAction(t.Action.GetFileModifierAccount),t.getFileModifierAccountResultAction=i._createAction(t.Action.GetFileModifierAccountResult),t.getMobileClientSettingsAction=i._createAction(t.Action.GetMobileClientSettings),t.getMobileClientSettingsResultAction=i._createAction(t.Action.GetMobileClientSettingsResult),t.getPlanInfoAction=i._createAction(t.Action.GetPlanInfo),t.getPlanInfoResultAction=i._createAction(t.Action.GetPlanInfoResult),t.getPlanInfoV2Action=i._createAction(t.Action.GetPlanInfoV2),t.getPlanInfoV2ResultAction=i._createAction(t.Action.GetPlanInfoV2Result),t.getRootInfoAction=i._createAction(t.Action.GetRootInfo),t.getRootInfoResultAction=i._createAction(t.Action.GetRootInfoResult),t.getSharingPrefsAction=i._createAction(t.Action.GetSharingPrefs),t.getSharingPrefsResultAction=i._createAction(t.Action.GetSharingPrefsResult),t.getSpaceUsageAction=i._createAction(t.Action.GetSpaceUsage),t.getSpaceUsageResultAction=i._createAction(t.Action.GetSpaceUsageResult),t.getUserUiInfoAction=i._createAction(t.Action.GetUserUiInfo),t.getUserUiInfoResultAction=i._createAction(t.Action.GetUserUiInfoResult),t.needsScaleMitigationAction=i._createAction(t.Action.NeedsScaleMitigation),t.needsScaleMitigationResultAction=i._createAction(t.Action.NeedsScaleMitigationResult),t.pairUserAction=i._createAction(t.Action.PairUser),t.pairUserResultAction=i._createAction(t.Action.PairUserResult),t.saveMobileClientSettingsAction=i._createAction(t.Action.SaveMobileClientSettings),t.saveMobileClientSettingsResultAction=i._createAction(t.Action.SaveMobileClientSettingsResult),t.setSharingPrefsAction=i._createAction(t.Action.SetSharingPrefs),t.setSharingPrefsResultAction=i._createAction(t.Action.SetSharingPrefsResult);const r={[t.Action.FeaturesGetValues]:{endpoint:"features/get_values",action:t.featuresGetValuesResultAction},[t.Action.GeneratePairingToken]:{endpoint:"generate_pairing_token",action:t.generatePairingTokenResultAction},[t.Action.GetAccount]:{endpoint:"get_account",action:t.getAccountResultAction},[t.Action.GetAccountBatch]:{endpoint:"get_account_batch",action:t.getAccountBatchResultAction},[t.Action.GetCurrentAccount]:{endpoint:"get_current_account",action:t.getCurrentAccountResultAction},[t.Action.GetFileModifierAccount]:{endpoint:"get_file_modifier_account",action:t.getFileModifierAccountResultAction},[t.Action.GetMobileClientSettings]:{endpoint:"get_mobile_client_settings",action:t.getMobileClientSettingsResultAction},[t.Action.GetPlanInfo]:{endpoint:"get_plan_info",action:t.getPlanInfoResultAction},[t.Action.GetPlanInfoV2]:{endpoint:"get_plan_info_v2",action:t.getPlanInfoV2ResultAction},[t.Action.GetRootInfo]:{endpoint:"get_root_info",action:t.getRootInfoResultAction},[t.Action.GetSharingPrefs]:{endpoint:"get_sharing_prefs",action:t.getSharingPrefsResultAction},[t.Action.GetSpaceUsage]:{endpoint:"get_space_usage",action:t.getSpaceUsageResultAction},[t.Action.GetUserUiInfo]:{endpoint:"get_user_ui_info",action:t.getUserUiInfoResultAction},[t.Action.NeedsScaleMitigation]:{endpoint:"needs_scale_mitigation",action:t.needsScaleMitigationResultAction},[t.Action.PairUser]:{endpoint:"pair_user",action:t.pairUserResultAction},[t.Action.SaveMobileClientSettings]:{endpoint:"save_mobile_client_settings",action:t.saveMobileClientSettingsResultAction},[t.Action.SetSharingPrefs]:{endpoint:"set_sharing_prefs",action:t.setSharingPrefsResultAction}};t.middleware=i._createMiddleware(r)})),define("typescript/libraries/api_v2/redux/cloud_docs",["require","exports","typescript/libraries/api_v2/redux/base_action"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=t.userEducationSnackbarSetResultAction=t.userEducationSnackbarSetAction=t.userEducationSnackbarGetResultAction=t.userEducationSnackbarGetAction=t.unlockResultAction=t.unlockAction=t.teamSettingsSetResultAction=t.teamSettingsSetAction=t.teamSettingsGetResultAction=t.teamSettingsGetAction=t.signinSnackbarSetResultAction=t.signinSnackbarSetAction=t.signinSnackbarGetResultAction=t.signinSnackbarGetAction=t.renameResultAction=t.renameAction=t.preferredEditorPromptDisableResultAction=t.preferredEditorPromptDisableAction=t.preferredEditorSetResultAction=t.preferredEditorSetAction=t.preferredEditorGetResultAction=t.preferredEditorGetAction=t.passSnackbarSetResultAction=t.passSnackbarSetAction=t.passSnackbarGetResultAction=t.passSnackbarGetAction=t.loggedOutLogUserActionResultAction=t.loggedOutLogUserActionAction=t.loggedOutGetPointerUrlResultAction=t.loggedOutGetPointerUrlAction=t.loggedOutEncryptEmailResultAction=t.loggedOutEncryptEmailAction=t.logUserActionResultAction=t.logUserActionAction=t.logTokenInUseResultAction=t.logTokenInUseAction=t.logNewPartnerUsersResultAction=t.logNewPartnerUsersAction=t.logClientEventResultAction=t.logClientEventAction=t.lockResultAction=t.lockAction=t.getTokenResultAction=t.getTokenAction=t.getPreferredEditorUrlResultAction=t.getPreferredEditorUrlAction=t.getPointerUrlResultAction=t.getPointerUrlAction=t.getNavigationPropertiesResultAction=t.getNavigationPropertiesAction=t.getMetadataResultAction=t.getMetadataAction=t.getLockProviderResultAction=t.getLockProviderAction=t.getIntegrationsResultAction=t.getIntegrationsAction=t.getFileMetadataResultAction=t.getFileMetadataAction=t.getFileIdResultAction=t.getFileIdAction=t.getDocStateAndActionsLoggedOutResultAction=t.getDocStateAndActionsLoggedOutAction=t.getDocStateAndActionsResultAction=t.getDocStateAndActionsAction=t.getDefaultFolderIdResultAction=t.getDefaultFolderIdAction=t.getCloudEditorUrlResultAction=t.getCloudEditorUrlAction=t.createShortcutResultAction=t.createShortcutAction=t.createResultAction=t.createAction=t.authorizeResultAction=t.authorizeAction=t.alphaDropinMoveResultAction=t.alphaDropinMoveAction=t.adminSettingsSetResultAction=t.adminSettingsSetAction=t.adminSettingsGetResultAction=t.adminSettingsGetAction=t.addImagePreviewToShortcutResultAction=t.addImagePreviewToShortcutAction=t.Action=void 0,t.Action={AddImagePreviewToShortcut:"@@apiv2_redux/cloud_docs/add_image_preview_to_shortcut",AddImagePreviewToShortcutResult:"@@apiv2_redux/cloud_docs/add_image_preview_to_shortcut_result",AdminSettingsGet:"@@apiv2_redux/cloud_docs/admin_settings/get",AdminSettingsGetResult:"@@apiv2_redux/cloud_docs/admin_settings/get_result",AdminSettingsSet:"@@apiv2_redux/cloud_docs/admin_settings/set",AdminSettingsSetResult:"@@apiv2_redux/cloud_docs/admin_settings/set_result",AlphaDropinMove:"@@apiv2_redux/cloud_docs/alpha/dropin_move",AlphaDropinMoveResult:"@@apiv2_redux/cloud_docs/alpha/dropin_move_result",Authorize:"@@apiv2_redux/cloud_docs/authorize",AuthorizeResult:"@@apiv2_redux/cloud_docs/authorize_result",Create:"@@apiv2_redux/cloud_docs/create",CreateResult:"@@apiv2_redux/cloud_docs/create_result",CreateShortcut:"@@apiv2_redux/cloud_docs/create_shortcut",CreateShortcutResult:"@@apiv2_redux/cloud_docs/create_shortcut_result",GetCloudEditorUrl:"@@apiv2_redux/cloud_docs/get_cloud_editor_url",GetCloudEditorUrlResult:"@@apiv2_redux/cloud_docs/get_cloud_editor_url_result",GetDefaultFolderId:"@@apiv2_redux/cloud_docs/get_default_folder_id",GetDefaultFolderIdResult:"@@apiv2_redux/cloud_docs/get_default_folder_id_result",GetDocStateAndActions:"@@apiv2_redux/cloud_docs/get_doc_state_and_actions",GetDocStateAndActionsResult:"@@apiv2_redux/cloud_docs/get_doc_state_and_actions_result",GetDocStateAndActionsLoggedOut:"@@apiv2_redux/cloud_docs/get_doc_state_and_actions_logged_out",GetDocStateAndActionsLoggedOutResult:"@@apiv2_redux/cloud_docs/get_doc_state_and_actions_logged_out_result",GetFileId:"@@apiv2_redux/cloud_docs/get_file_id",GetFileIdResult:"@@apiv2_redux/cloud_docs/get_file_id_result",GetFileMetadata:"@@apiv2_redux/cloud_docs/get_file_metadata",GetFileMetadataResult:"@@apiv2_redux/cloud_docs/get_file_metadata_result",GetIntegrations:"@@apiv2_redux/cloud_docs/get_integrations",GetIntegrationsResult:"@@apiv2_redux/cloud_docs/get_integrations_result",GetLockProvider:"@@apiv2_redux/cloud_docs/get_lock_provider",GetLockProviderResult:"@@apiv2_redux/cloud_docs/get_lock_provider_result",GetMetadata:"@@apiv2_redux/cloud_docs/get_metadata",GetMetadataResult:"@@apiv2_redux/cloud_docs/get_metadata_result",GetNavigationProperties:"@@apiv2_redux/cloud_docs/get_navigation_properties",GetNavigationPropertiesResult:"@@apiv2_redux/cloud_docs/get_navigation_properties_result",GetPointerUrl:"@@apiv2_redux/cloud_docs/get_pointer_url",GetPointerUrlResult:"@@apiv2_redux/cloud_docs/get_pointer_url_result",GetPreferredEditorUrl:"@@apiv2_redux/cloud_docs/get_preferred_editor_url",GetPreferredEditorUrlResult:"@@apiv2_redux/cloud_docs/get_preferred_editor_url_result",GetToken:"@@apiv2_redux/cloud_docs/get_token",GetTokenResult:"@@apiv2_redux/cloud_docs/get_token_result",Lock:"@@apiv2_redux/cloud_docs/lock",LockResult:"@@apiv2_redux/cloud_docs/lock_result",LogClientEvent:"@@apiv2_redux/cloud_docs/log_client_event",LogClientEventResult:"@@apiv2_redux/cloud_docs/log_client_event_result",LogNewPartnerUsers:"@@apiv2_redux/cloud_docs/log_new_partner_users",LogNewPartnerUsersResult:"@@apiv2_redux/cloud_docs/log_new_partner_users_result",LogTokenInUse:"@@apiv2_redux/cloud_docs/log_token_in_use",LogTokenInUseResult:"@@apiv2_redux/cloud_docs/log_token_in_use_result",LogUserAction:"@@apiv2_redux/cloud_docs/log_user_action",LogUserActionResult:"@@apiv2_redux/cloud_docs/log_user_action_result",LoggedOutEncryptEmail:"@@apiv2_redux/cloud_docs/logged_out/encrypt_email",LoggedOutEncryptEmailResult:"@@apiv2_redux/cloud_docs/logged_out/encrypt_email_result",LoggedOutGetPointerUrl:"@@apiv2_redux/cloud_docs/logged_out/get_pointer_url",LoggedOutGetPointerUrlResult:"@@apiv2_redux/cloud_docs/logged_out/get_pointer_url_result",LoggedOutLogUserAction:"@@apiv2_redux/cloud_docs/logged_out/log_user_action",LoggedOutLogUserActionResult:"@@apiv2_redux/cloud_docs/logged_out/log_user_action_result",PassSnackbarGet:"@@apiv2_redux/cloud_docs/pass_snackbar/get",PassSnackbarGetResult:"@@apiv2_redux/cloud_docs/pass_snackbar/get_result",PassSnackbarSet:"@@apiv2_redux/cloud_docs/pass_snackbar/set",PassSnackbarSetResult:"@@apiv2_redux/cloud_docs/pass_snackbar/set_result",PreferredEditorGet:"@@apiv2_redux/cloud_docs/preferred_editor/get",PreferredEditorGetResult:"@@apiv2_redux/cloud_docs/preferred_editor/get_result",PreferredEditorSet:"@@apiv2_redux/cloud_docs/preferred_editor/set",PreferredEditorSetResult:"@@apiv2_redux/cloud_docs/preferred_editor/set_result",PreferredEditorPromptDisable:"@@apiv2_redux/cloud_docs/preferred_editor_prompt/disable",PreferredEditorPromptDisableResult:"@@apiv2_redux/cloud_docs/preferred_editor_prompt/disable_result",Rename:"@@apiv2_redux/cloud_docs/rename",RenameResult:"@@apiv2_redux/cloud_docs/rename_result",SigninSnackbarGet:"@@apiv2_redux/cloud_docs/signin_snackbar/get",SigninSnackbarGetResult:"@@apiv2_redux/cloud_docs/signin_snackbar/get_result",SigninSnackbarSet:"@@apiv2_redux/cloud_docs/signin_snackbar/set",SigninSnackbarSetResult:"@@apiv2_redux/cloud_docs/signin_snackbar/set_result",TeamSettingsGet:"@@apiv2_redux/cloud_docs/team_settings/get",TeamSettingsGetResult:"@@apiv2_redux/cloud_docs/team_settings/get_result",TeamSettingsSet:"@@apiv2_redux/cloud_docs/team_settings/set",TeamSettingsSetResult:"@@apiv2_redux/cloud_docs/team_settings/set_result",Unlock:"@@apiv2_redux/cloud_docs/unlock",UnlockResult:"@@apiv2_redux/cloud_docs/unlock_result",UserEducationSnackbarGet:"@@apiv2_redux/cloud_docs/user_education_snackbar/get",UserEducationSnackbarGetResult:"@@apiv2_redux/cloud_docs/user_education_snackbar/get_result",UserEducationSnackbarSet:"@@apiv2_redux/cloud_docs/user_education_snackbar/set",UserEducationSnackbarSetResult:"@@apiv2_redux/cloud_docs/user_education_snackbar/set_result"},t.addImagePreviewToShortcutAction=i._createAction(t.Action.AddImagePreviewToShortcut),t.addImagePreviewToShortcutResultAction=i._createAction(t.Action.AddImagePreviewToShortcutResult),t.adminSettingsGetAction=i._createAction(t.Action.AdminSettingsGet),t.adminSettingsGetResultAction=i._createAction(t.Action.AdminSettingsGetResult),t.adminSettingsSetAction=i._createAction(t.Action.AdminSettingsSet),t.adminSettingsSetResultAction=i._createAction(t.Action.AdminSettingsSetResult),t.alphaDropinMoveAction=i._createAction(t.Action.AlphaDropinMove),t.alphaDropinMoveResultAction=i._createAction(t.Action.AlphaDropinMoveResult),t.authorizeAction=i._createAction(t.Action.Authorize),t.authorizeResultAction=i._createAction(t.Action.AuthorizeResult),t.createAction=i._createAction(t.Action.Create),t.createResultAction=i._createAction(t.Action.CreateResult),t.createShortcutAction=i._createAction(t.Action.CreateShortcut),t.createShortcutResultAction=i._createAction(t.Action.CreateShortcutResult),t.getCloudEditorUrlAction=i._createAction(t.Action.GetCloudEditorUrl),t.getCloudEditorUrlResultAction=i._createAction(t.Action.GetCloudEditorUrlResult),t.getDefaultFolderIdAction=i._createAction(t.Action.GetDefaultFolderId),t.getDefaultFolderIdResultAction=i._createAction(t.Action.GetDefaultFolderIdResult),t.getDocStateAndActionsAction=i._createAction(t.Action.GetDocStateAndActions),t.getDocStateAndActionsResultAction=i._createAction(t.Action.GetDocStateAndActionsResult),t.getDocStateAndActionsLoggedOutAction=i._createAction(t.Action.GetDocStateAndActionsLoggedOut),t.getDocStateAndActionsLoggedOutResultAction=i._createAction(t.Action.GetDocStateAndActionsLoggedOutResult),t.getFileIdAction=i._createAction(t.Action.GetFileId),t.getFileIdResultAction=i._createAction(t.Action.GetFileIdResult),t.getFileMetadataAction=i._createAction(t.Action.GetFileMetadata),t.getFileMetadataResultAction=i._createAction(t.Action.GetFileMetadataResult),t.getIntegrationsAction=i._createAction(t.Action.GetIntegrations),t.getIntegrationsResultAction=i._createAction(t.Action.GetIntegrationsResult),t.getLockProviderAction=i._createAction(t.Action.GetLockProvider),t.getLockProviderResultAction=i._createAction(t.Action.GetLockProviderResult),t.getMetadataAction=i._createAction(t.Action.GetMetadata),t.getMetadataResultAction=i._createAction(t.Action.GetMetadataResult),t.getNavigationPropertiesAction=i._createAction(t.Action.GetNavigationProperties),t.getNavigationPropertiesResultAction=i._createAction(t.Action.GetNavigationPropertiesResult),t.getPointerUrlAction=i._createAction(t.Action.GetPointerUrl),t.getPointerUrlResultAction=i._createAction(t.Action.GetPointerUrlResult),t.getPreferredEditorUrlAction=i._createAction(t.Action.GetPreferredEditorUrl),t.getPreferredEditorUrlResultAction=i._createAction(t.Action.GetPreferredEditorUrlResult),t.getTokenAction=i._createAction(t.Action.GetToken),t.getTokenResultAction=i._createAction(t.Action.GetTokenResult),t.lockAction=i._createAction(t.Action.Lock),t.lockResultAction=i._createAction(t.Action.LockResult),t.logClientEventAction=i._createAction(t.Action.LogClientEvent),t.logClientEventResultAction=i._createAction(t.Action.LogClientEventResult),t.logNewPartnerUsersAction=i._createAction(t.Action.LogNewPartnerUsers),t.logNewPartnerUsersResultAction=i._createAction(t.Action.LogNewPartnerUsersResult),t.logTokenInUseAction=i._createAction(t.Action.LogTokenInUse),t.logTokenInUseResultAction=i._createAction(t.Action.LogTokenInUseResult),t.logUserActionAction=i._createAction(t.Action.LogUserAction),t.logUserActionResultAction=i._createAction(t.Action.LogUserActionResult),t.loggedOutEncryptEmailAction=i._createAction(t.Action.LoggedOutEncryptEmail),t.loggedOutEncryptEmailResultAction=i._createAction(t.Action.LoggedOutEncryptEmailResult),t.loggedOutGetPointerUrlAction=i._createAction(t.Action.LoggedOutGetPointerUrl),t.loggedOutGetPointerUrlResultAction=i._createAction(t.Action.LoggedOutGetPointerUrlResult),t.loggedOutLogUserActionAction=i._createAction(t.Action.LoggedOutLogUserAction),t.loggedOutLogUserActionResultAction=i._createAction(t.Action.LoggedOutLogUserActionResult),t.passSnackbarGetAction=i._createAction(t.Action.PassSnackbarGet),t.passSnackbarGetResultAction=i._createAction(t.Action.PassSnackbarGetResult),t.passSnackbarSetAction=i._createAction(t.Action.PassSnackbarSet),t.passSnackbarSetResultAction=i._createAction(t.Action.PassSnackbarSetResult),t.preferredEditorGetAction=i._createAction(t.Action.PreferredEditorGet),t.preferredEditorGetResultAction=i._createAction(t.Action.PreferredEditorGetResult),t.preferredEditorSetAction=i._createAction(t.Action.PreferredEditorSet),t.preferredEditorSetResultAction=i._createAction(t.Action.PreferredEditorSetResult),t.preferredEditorPromptDisableAction=i._createAction(t.Action.PreferredEditorPromptDisable),t.preferredEditorPromptDisableResultAction=i._createAction(t.Action.PreferredEditorPromptDisableResult),t.renameAction=i._createAction(t.Action.Rename),t.renameResultAction=i._createAction(t.Action.RenameResult),t.signinSnackbarGetAction=i._createAction(t.Action.SigninSnackbarGet),t.signinSnackbarGetResultAction=i._createAction(t.Action.SigninSnackbarGetResult),t.signinSnackbarSetAction=i._createAction(t.Action.SigninSnackbarSet),t.signinSnackbarSetResultAction=i._createAction(t.Action.SigninSnackbarSetResult),t.teamSettingsGetAction=i._createAction(t.Action.TeamSettingsGet),t.teamSettingsGetResultAction=i._createAction(t.Action.TeamSettingsGetResult),t.teamSettingsSetAction=i._createAction(t.Action.TeamSettingsSet),t.teamSettingsSetResultAction=i._createAction(t.Action.TeamSettingsSetResult),t.unlockAction=i._createAction(t.Action.Unlock),t.unlockResultAction=i._createAction(t.Action.UnlockResult),t.userEducationSnackbarGetAction=i._createAction(t.Action.UserEducationSnackbarGet),t.userEducationSnackbarGetResultAction=i._createAction(t.Action.UserEducationSnackbarGetResult),t.userEducationSnackbarSetAction=i._createAction(t.Action.UserEducationSnackbarSet),t.userEducationSnackbarSetResultAction=i._createAction(t.Action.UserEducationSnackbarSetResult);const r={[t.Action.AddImagePreviewToShortcut]:{endpoint:"add_image_preview_to_shortcut",action:t.addImagePreviewToShortcutResultAction},[t.Action.AdminSettingsGet]:{endpoint:"admin_settings/get",action:t.adminSettingsGetResultAction},[t.Action.AdminSettingsSet]:{endpoint:"admin_settings/set",action:t.adminSettingsSetResultAction},[t.Action.AlphaDropinMove]:{endpoint:"alpha/dropin_move",action:t.alphaDropinMoveResultAction},[t.Action.Authorize]:{endpoint:"authorize",action:t.authorizeResultAction},[t.Action.Create]:{endpoint:"create",action:t.createResultAction},[t.Action.CreateShortcut]:{endpoint:"create_shortcut",action:t.createShortcutResultAction},[t.Action.GetCloudEditorUrl]:{endpoint:"get_cloud_editor_url",action:t.getCloudEditorUrlResultAction},[t.Action.GetDefaultFolderId]:{endpoint:"get_default_folder_id",action:t.getDefaultFolderIdResultAction},[t.Action.GetDocStateAndActions]:{endpoint:"get_doc_state_and_actions",action:t.getDocStateAndActionsResultAction},[t.Action.GetDocStateAndActionsLoggedOut]:{endpoint:"get_doc_state_and_actions_logged_out",action:t.getDocStateAndActionsLoggedOutResultAction},[t.Action.GetFileId]:{endpoint:"get_file_id",action:t.getFileIdResultAction},[t.Action.GetFileMetadata]:{endpoint:"get_file_metadata",action:t.getFileMetadataResultAction},[t.Action.GetIntegrations]:{endpoint:"get_integrations",action:t.getIntegrationsResultAction},[t.Action.GetLockProvider]:{endpoint:"get_lock_provider",action:t.getLockProviderResultAction},[t.Action.GetMetadata]:{endpoint:"get_metadata",action:t.getMetadataResultAction},[t.Action.GetNavigationProperties]:{endpoint:"get_navigation_properties",action:t.getNavigationPropertiesResultAction},[t.Action.GetPointerUrl]:{endpoint:"get_pointer_url",action:t.getPointerUrlResultAction},[t.Action.GetPreferredEditorUrl]:{endpoint:"get_preferred_editor_url",action:t.getPreferredEditorUrlResultAction},[t.Action.GetToken]:{endpoint:"get_token",action:t.getTokenResultAction},[t.Action.Lock]:{endpoint:"lock",action:t.lockResultAction},[t.Action.LogClientEvent]:{endpoint:"log_client_event",action:t.logClientEventResultAction},[t.Action.LogNewPartnerUsers]:{endpoint:"log_new_partner_users",action:t.logNewPartnerUsersResultAction},[t.Action.LogTokenInUse]:{endpoint:"log_token_in_use",action:t.logTokenInUseResultAction},[t.Action.LogUserAction]:{endpoint:"log_user_action",action:t.logUserActionResultAction},[t.Action.LoggedOutEncryptEmail]:{endpoint:"logged_out/encrypt_email",action:t.loggedOutEncryptEmailResultAction},[t.Action.LoggedOutGetPointerUrl]:{endpoint:"logged_out/get_pointer_url",action:t.loggedOutGetPointerUrlResultAction},[t.Action.LoggedOutLogUserAction]:{endpoint:"logged_out/log_user_action",action:t.loggedOutLogUserActionResultAction},[t.Action.PassSnackbarGet]:{endpoint:"pass_snackbar/get",action:t.passSnackbarGetResultAction},[t.Action.PassSnackbarSet]:{endpoint:"pass_snackbar/set",action:t.passSnackbarSetResultAction},[t.Action.PreferredEditorGet]:{endpoint:"preferred_editor/get",action:t.preferredEditorGetResultAction},[t.Action.PreferredEditorSet]:{endpoint:"preferred_editor/set",action:t.preferredEditorSetResultAction},[t.Action.PreferredEditorPromptDisable]:{endpoint:"preferred_editor_prompt/disable",action:t.preferredEditorPromptDisableResultAction},[t.Action.Rename]:{endpoint:"rename",action:t.renameResultAction},[t.Action.SigninSnackbarGet]:{endpoint:"signin_snackbar/get",action:t.signinSnackbarGetResultAction},[t.Action.SigninSnackbarSet]:{endpoint:"signin_snackbar/set",action:t.signinSnackbarSetResultAction},[t.Action.TeamSettingsGet]:{endpoint:"team_settings/get",action:t.teamSettingsGetResultAction},[t.Action.TeamSettingsSet]:{endpoint:"team_settings/set",action:t.teamSettingsSetResultAction},[t.Action.Unlock]:{endpoint:"unlock",action:t.unlockResultAction},[t.Action.UserEducationSnackbarGet]:{endpoint:"user_education_snackbar/get",action:t.userEducationSnackbarGetResultAction},[t.Action.UserEducationSnackbarSet]:{endpoint:"user_education_snackbar/set",action:t.userEducationSnackbarSetResultAction}};t.middleware=i._createMiddleware(r)}));
//# sourceMappingURL=pkg-fvsdk-2.min.js-vflvurlxy.map