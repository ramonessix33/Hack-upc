define("metaserver/static/js/modules/clean/avatar/overflow_count_pill",["require","exports","tslib","react","metaserver/static/js/modules/clean/avatar/style","metaserver/static/js/modules/clean/css/css","metaserver/static/js/modules/core/i18n"],(function(e,a,t,s,n,r,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),s=t.__importDefault(s),r=t.__importStar(r);class o extends s.default.Component{componentDidMount(){return r.require_css("/static/css/scooter/scooter-scoped-vflpl9JSl.css")}render(){const e=` +${this.props.count} `,a=i.intl.formatMessage({id:"kOMHR0",defaultMessage:"{count, plural, one{{count} more member} other{{count} more members}}"},{count:this.props.count});return null!=this.props.onClick?s.default.createElement("button",{className:n.getClassName(this.props.dimension,["overflow-pill c-avatar--meta u-unbutton"]),onClick:this.props.onClick},s.default.createElement("span",{"aria-hidden":!0},e),s.default.createElement("span",{className:"ax-visually-hidden"},a)):s.default.createElement("div",{className:n.getClassName(this.props.dimension,["overflow-pill c-avatar--meta"])},s.default.createElement("span",{"aria-hidden":!0},e),s.default.createElement("span",{className:"ax-visually-hidden"},a))}}o.displayName="OverflowCountPill",a.default=o})),define("metaserver/static/js/modules/clean/sharing/ui_notifications_util",["require","exports","tslib","react","metaserver/static/js/modules/clean/em_string","metaserver/static/js/modules/clean/react/snackbar","spectrum-sharing/utils/sharing_constants","metaserver/static/js/modules/clean/sharing/views/rich_snackbar/api","metaserver/static/js/modules/clean/sharing/views/rich_snackbar/exp_docsend_snackbar","metaserver/static/js/modules/core/exception","metaserver/static/js/modules/core/browser_detection","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/browser"],(function(e,a,t,s,n,r,i,o,c,l,d,u,f){"use strict";function m(e,a){return r.Snackbar.sync(e,a,"sharing-notification")}function g(e){return u.intl.formatMessage({id:"Fbyffs",defaultMessage:"Shared <st>{folder_name}</st>."},{st:e=>s.default.createElement("strong",null,e),folder_name:n.Emstring.em_snippet(e,i.SNIPPET_SIZES.FILENAME)})}function S(e,a){r.Snackbar.complete(g(e),"sharing-notification",void 0,a)}function p(e,a){const t=h(e);return"editor"===a?u.intl.formatMessage({id:"OlZHQn",defaultMessage:"This link allows editing. Now copy and share it.{br}{copiedUrlDisplay}"},{br:s.default.createElement("br",null),copiedUrlDisplay:t}):u.intl.formatMessage({id:"qkmyRi",defaultMessage:"This link allows viewing. Now copy and share it.{br}{copiedUrlDisplay}"},{br:s.default.createElement("br",null),copiedUrlDisplay:t})}function h(e){const a=e=>{e.preventDefault(),e.currentTarget.select()},t=d.is_supported_mobile_browser();return s.default.createElement("span",{className:"snackbar-title__link-url"},s.default.createElement("input",{readOnly:!0,autoFocus:!t,type:"text","aria-label":u.intl.formatMessage({id:"ExhGkl",defaultMessage:"Shared link URL"}),value:e,onClick:a,onFocus:a}),t&&s.default.createElement("input",{autoFocus:!0,className:"auto-focus-placeholder",value:e,readOnly:!0,type:"text","aria-label":u.intl.formatMessage({id:"ExhGkl",defaultMessage:"Shared link URL"})}))}Object.defineProperty(a,"__esModule",{value:!0}),a.failSnackbarWithHelpCenter=a.formatSuccessMessageForFolder=a.formatMessageForCopyCTASnackbar=a.showDeleteLinkSuccessSnackbar=a.showCopyLinkProgressUnsupportedBrowserSnackbar=a.showCopyLinkProgressSupportedBrowserSnackbar=a.showCopyLinkCatchallSnackbar=a.showCopyLinkEmailNotVerifiedSnackbar=a.showCopyLinkNotFoundSnackbar=a.showCopyLinkNoPermissionSnackbar=a.showCopyLinkErrorSnackbar=a.showCopyLinkCTASnackbar=a.showCopyLinkSuccessSnackbar=a.showInBandShareSuccessDocSendSnackbar=a.showInBandShareSuccessSnackbar=a.sharingNotificationInProgress=a.sharingNotificationSuccess=a.sharingNotificationInfo=a.sharingNotificationError=void 0,s=t.__importDefault(s),l=t.__importStar(l),f=t.__importStar(f),a.sharingNotificationError=function(e){return r.Snackbar.fail(e,"sharing-notification")},a.sharingNotificationInfo=function(e){return r.Snackbar.generic(e,"sharing-notification")},a.sharingNotificationInProgress=m,a.sharingNotificationSuccess=function(e){return r.Snackbar.complete(e,"sharing-notification")},a.formatSuccessMessageForFolder=g,a.failSnackbarWithHelpCenter=function(e,a,t){let n;n=t||u.intl.formatMessage({id:"sGKSF8",defaultMessage:"Learn more"}),r.Snackbar.show(s.default.createElement(r.Snackbar,{actionButtonText:n,closeButtonText:u.intl.formatMessage({id:"0NA7+K",defaultMessage:"Close"}),onActionClick:()=>{f.open_tab(a)},title:e,variant:"fail",id:"sharing-notification"}))},a.showInBandShareSuccessSnackbar=S,a.showInBandShareSuccessDocSendSnackbar=function(e,a){o.getHasUserPreviouslyDismissedRichSnackbar(a).then(t=>{if(t)S(e);else{r.Snackbar.close("sharing-notification");const t=g(e);c.showDocSendSnackbar(e,t,a)}}).catch(a=>{l.reportException({err:new Error(`Error fetching DocSend rich snackbar dismiss metadata: ${a}`),severity:l.SEVERITY.NONCRITICAL,tags:["docsend","feature-discovery","onboarding-activation"]}),S(e)})},a.showCopyLinkSuccessSnackbar=function(e,a,t){const n=(function(e,a){const t=h(e);if("editor"===a)return u.intl.formatMessage({id:"YJc3aM",defaultMessage:"Link copied. Allows editing.{br}{copiedUrlDisplay}"},{br:s.default.createElement("br",null),copiedUrlDisplay:t});if("viewer"===a)return u.intl.formatMessage({id:"EK/q5b",defaultMessage:"Link copied. Allows viewing.{br}{copiedUrlDisplay}"},{br:s.default.createElement("br",null),copiedUrlDisplay:t});return u.intl.formatMessage({id:"ejeV4I",defaultMessage:"Link copied.{br}{copiedUrlDisplay}"},{br:s.default.createElement("br",null),copiedUrlDisplay:t})})(e,a);r.Snackbar.complete(n,"sharing-notification",void 0,t)},a.showCopyLinkCTASnackbar=function(e,a,t,n){const i=p(e,n);r.Snackbar.show(s.default.createElement(r.Snackbar,{actionButtonText:u.intl.formatMessage({id:"zD9HBn",defaultMessage:"Copy link"}),onActionClick:a,title:i,variant:"complete",timeoutDelayMs:void 0,id:t}))},a.showDeleteLinkSuccessSnackbar=function(e,a,t){r.Snackbar.show(s.default.createElement(r.Snackbar,{actionButtonText:u.intl.formatMessage({id:"eqpbc5",defaultMessage:"Who still has access?"}),closeButtonText:u.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"}),onActionClick:a,title:e,variant:"complete",timeoutDelayMs:5e3,id:t}))},a.showCopyLinkErrorSnackbar=function(e,a){const t=(function(e,a){const t=h(e);return u.intl.formatMessage({id:"/a2n+f",defaultMessage:"Couldn't copy the link, but we think it was a fluke. Try copying again.{br}{copiedUrlDisplay}"},{br:s.default.createElement("br",null),copiedUrlDisplay:t})})(e);r.Snackbar.failSticky(t,"sharing-notification")},a.showCopyLinkNoPermissionSnackbar=function(){const e=u.intl.formatMessage({id:"Xxcol+",defaultMessage:"Couldn't copy the link. You don't have permission to create a link to this content."});r.Snackbar.failSticky(e,"sharing-notification")},a.showCopyLinkNotFoundSnackbar=function(){const e=u.intl.formatMessage({id:"edHs1X",defaultMessage:"We can't find this file anymore. Try checking activity or folder history to see what happened."});r.Snackbar.failSticky(e,"sharing-notification")},a.showCopyLinkEmailNotVerifiedSnackbar=function(){const e=u.intl.formatMessage({id:"ymi0Ig",defaultMessage:"You can't share until you verify your email address."});r.Snackbar.failSticky(e,"sharing-notification")},a.showCopyLinkCatchallSnackbar=function(){const e=u.intl.formatMessage({id:"Mxewsd",defaultMessage:"Couldn't copy, but it might be a fluke. Try reloading the page or ask us for help."});r.Snackbar.failSticky(e,"sharing-notification")},a.showCopyLinkProgressSupportedBrowserSnackbar=function(){m(u.intl.formatMessage({id:"T1IRKv",defaultMessage:"Getting the link..."}),!0)},a.showCopyLinkProgressUnsupportedBrowserSnackbar=function(){m(u.intl.formatMessage({id:"RZHCuI",defaultMessage:"Getting the link. Copy and share it once itâ€™s ready."}),!0)},a.formatMessageForCopyCTASnackbar=p})),define("metaserver/static/js/modules/clean/sharing/views/rich_snackbar/api",["require","exports","tslib","metaserver/static/js/modules/clean/react/user_metadata/api","metaserver/static/js/api_v2/user_client","metaserver/static/js/modules/core/exception"],(function(e,a,t,s,n,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFileId=a.setUserDismissedRichSnackbar=a.getHasUserPreviouslyDismissedRichSnackbar=void 0;a.getHasUserPreviouslyDismissedRichSnackbar=function(e){return t.__awaiter(this,void 0,void 0,(function*(){return(yield s.getUserMetadata(["DOCSEND_HAS_USER_DISMISSED_RICH_SNACKBAR"],e)).DOCSEND_HAS_USER_DISMISSED_RICH_SNACKBAR||!1}))},a.setUserDismissedRichSnackbar=function(e){return t.__awaiter(this,void 0,void 0,(function*(){const a=yield s.setUserMetadata({DOCSEND_HAS_USER_DISMISSED_RICH_SNACKBAR:!0},e);return Boolean(a.DOCSEND_HAS_USER_DISMISSED_RICH_SNACKBAR)}))},a.getFileId=e=>t.__awaiter(void 0,void 0,void 0,(function*(){const{userId:a,filePath:t}=e,s=new n.UserApiV2Client;try{return(yield s.ns("files").rpc("get_metadata",{path:t},{subjectUserId:a})).id}catch(e){return r.reportException({err:new Error("Failed to get file id"),severity:r.SEVERITY.CRITICAL,exc_extra:{e:e},tags:["rich_snackbar","product-growth","post-sharing-eisgn-rich-snackbar"]}),Promise.reject(e)}}))})),define("metaserver/static/js/modules/clean/sharing/views/rich_snackbar/exp_docsend_snackbar",["require","exports","tslib","react","dig-components/icons/src","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/clean/react/onboarding/logging/events","metaserver/static/js/modules/clean/react/onboarding/logging/logging","metaserver/static/js/modules/clean/sharing/views/rich_snackbar/api","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/core/exception","metaserver/static/js/modules/core/i18n"],(function(e,a,t,s,n,r,i,o,c,l,d,u){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.showDocSendSnackbar=void 0,s=t.__importDefault(s),l=t.__importStar(l),d=t.__importStar(d);a.showDocSendSnackbar=(e,a,t)=>{const{docSendValueProp:c,tryDocSendCTA:d,remindMeLaterCTA:u}=m();r.Snackbar.show(s.default.createElement(r.Snackbar,{title:a,id:"sharing-notification",variant:"complete",onCloseClick:()=>{f(t),o.OALogger.logToProEvents(i.DocSendRichSnackbarEvents.DOCSEND_SNACKBAR_DISMISS_CLICK,{variant:"V1"})},onShown:()=>{o.OALogger.logToProEvents(i.DocSendRichSnackbarEvents.DOCSEND_SNACKBAR_SHOWN,{variant:"V1"})},richSnackbarProps:{actions:[{name:"try_docsend",icon:n.DropboxDocSendLine,text:d,onClick:e=>{l.unsafe_open_tab("https://www.docsend.com/dropbox-integration/?utm_source=Dropbox%20Referral&utm_medium=Referral&utm_campaign=exp-post-share&signup_source=exp-post-share"),f(t),o.OALogger.logToProEvents(i.DocSendRichSnackbarEvents.DOCSEND_SNACKBAR_TRY_CLICK,{variant:"V1"}),r.Snackbar.close("sharing-notification")}},{name:"remind_me_later",icon:n.EmailLine,text:u,onClick:e=>{o.OALogger.logToProEvents(i.DocSendRichSnackbarEvents.DOCSEND_SNACKBAR_REMIND_LATER_CLICK,{variant:"V1"}),r.Snackbar.close("sharing-notification")}}],helperText:c,clickHandlerArgs:{userId:-1,filePath:e}}}))};const f=e=>{c.setUserDismissedRichSnackbar(e).catch(e=>{d.reportException({err:new Error(`Error saving DocSend rich snackbar dismiss metadata: ${e}`),severity:d.SEVERITY.NONCRITICAL,tags:["docsend","feature-discovery","onboarding-activation"]})})},m=()=>({docSendValueProp:u.intl.formatMessage({id:"mhtOln",defaultMessage:"Send and track business-critical files using DocSend, a Dropbox company."}),tryDocSendCTA:u.intl.formatMessage({id:"a7qcDs",defaultMessage:"Try DocSend"}),remindMeLaterCTA:u.intl.formatMessage({id:"QTrM3U",defaultMessage:"Remind me later"})})})),define("metaserver/static/js/modules/clean/sharing/views/rich_snackbar/exp_esign_snackbar",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/analytics","dig-components/icons/src","metaserver/static/js/modules/clean/sharing/views/rich_snackbar/api"],(function(e,a,t,s,n,r,i,o,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.showInBandShareSuccessEsignSnackbar=a.handleSendForSignatureClick=void 0,s=t.__importDefault(s);var l;(function(e){e.ESIGN_SNACKBAR_SHOWN="pg_snackbar_esign_view",e.ESIGN_SNACKBAR_TRY_CLICK="pg_snackbar_esign_click",e.ESIGN_SNACKBAR_DISMISS_CLICK="pg_snackbar_esign_dismiss"})(l||(l={})),a.handleSendForSignatureClick=a=>Promise.all([new Promise((a,t)=>{e(["metaserver/static/js/modules/clean/integrations/hellosign_deep_integration/launcher"],a,t)}).then(t.__importStar),c.getFileId(a)]).then(([{getLauncher:e},t])=>{const{userId:s,filePath:n}=a;i.ProEventsLogger.log(l.ESIGN_SNACKBAR_TRY_CLICK,{user_id:s});const r=e();return r.init({entryPoint:"post_sharing_snackbar",file:{file_id:t,fq_path:n},source:"dropbox-file-hover-overflow-menu-send-for-esign"}),r}).then(e=>(e.launch(),n.Snackbar.close("sharing-notification"),e)),a.showInBandShareSuccessEsignSnackbar=(e,t,c,d,u,f,m)=>{n.Snackbar.close("sharing-notification");const g=f?void 0:r.intl.formatMessage({id:"ACOoAR",defaultMessage:"Did you know you can get this file signed, right in Dropbox?"}),S=r.intl.formatMessage({id:"NAMRb1",defaultMessage:"Send for signature"});n.Snackbar.show(s.default.createElement(n.Snackbar,{title:t,id:"sharing-notification",variant:"complete",onCloseClick:()=>{m(),i.ProEventsLogger.log(l.ESIGN_SNACKBAR_DISMISS_CLICK,{user_id:d})},onShown:()=>{i.ProEventsLogger.log(l.ESIGN_SNACKBAR_SHOWN,{user_id:d})},richSnackbarProps:{actions:[{name:"send_for_signature",icon:o.SignatureLine,text:S,onClick:a.handleSendForSignatureClick}],helperText:g,clickHandlerArgs:{userId:d,filePath:c||e,ns_id:u}},forceDig:!0}))}}));
//# sourceMappingURL=pkg-sharing-sync-and-share-page.min.js-vflX9CqRT.map