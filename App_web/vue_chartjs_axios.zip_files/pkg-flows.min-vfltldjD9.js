define("metaserver/static/js/modules/clean/react/flows/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS=t.CARD_SUBTEXT_M1_VARIANTS=t.UI_EXPERIMENTS=t.AUTOMATED_ADOPTION_VARIANTS=t.SUPPORTED_WATERMARKING_EXTENSIONS=t.SUPPORTED_UNZIP_EXTENSIONS=t.SUPPORTED_AUDIO_OUTPUT_CONTAINERS=t.SUPPORTED_AUDIO_INPUT_EXTENSIONS=t.SUPPORTED_VIDEO_OUTPUT_CONTAINERS=t.SUPPORTED_VIDEO_INPUT_EXTENSIONS=t.SUPPORTED_IMAGE_INPUT_EXTENSIONS=t.SUPPORTED_IMAGE_OUTPUT_EXTENSIONS=t.SUPPORTED_DOC_INPUT_EXTENSIONS=t.SUPPORTED_PDF_EXTENSIONS=t.DOC_TO_PDF_EXTENSIONS=t.EXCLOG_TAG=t.FLOWS_STYLESHEETS=void 0,t.FLOWS_STYLESHEETS=["/static/css/spectrum/index.web-vfliw9181.css","/static/css/dig-components/index.web-vfl0pq0Fh.css","/static/js/dig-experimental/index.web-vfllg4n6e.css","/static/js/typescript/component_libraries/flows/src/index.web-vflL2aLAX.css","/static/css/flows/flows-vfljs1-B2.css"],t.EXCLOG_TAG="dbx-owner:workflow-automation",t.DOC_TO_PDF_EXTENSIONS=["ai","azw4","binder","djvu","doc","docm","docx","dwg","eps","epub","fdr","fdx","gdoc","gslides","mobi","odp","odt","paper","papert","pps","ppsm","ppsx","ppt","pptm","pptx","ps","rtf","wpd"];t.SUPPORTED_PDF_EXTENSIONS=t.DOC_TO_PDF_EXTENSIONS.concat(["bmp","j2c","j2k","jp2","jpc","jpeg","jpf","jpg","jpg2","jpm","jpx","png","ppm","tga","tif","tiff"]),t.SUPPORTED_DOC_INPUT_EXTENSIONS=["ai","azw4","binder","djvu","doc","docm","docx","dwg","eps","epub","gdoc","gslides","mobi","odp","odt","paper","papert","pps","ppsm","ppsx","ppt","pptm","pptx","ps","rtf","wpd","pdf"],t.SUPPORTED_IMAGE_OUTPUT_EXTENSIONS=["jpg","png"],t.SUPPORTED_IMAGE_INPUT_EXTENSIONS=["bmp","gif","heic","j2c","j2k","jp2","jpc","jpeg","jpf","jpg","jpg2","jpm","jpx","png","ppm","psd","svg","tga","tif","tiff","wbmp","webp","3fr","arw","cr2","cr3","crw","dcr","dcs","dng","erf","kdc","mef","mos","mrw","nef","nrw","orf","pef","r3d","raf","rw2","rwl","sr2","x3f"],t.SUPPORTED_VIDEO_INPUT_EXTENSIONS=["mov","mp4","avi","mkv","mpeg"],t.SUPPORTED_VIDEO_OUTPUT_CONTAINERS=["mp4","mov"],t.SUPPORTED_AUDIO_INPUT_EXTENSIONS=["aac","aif","aiff","flac","m4a","m4r","mp3","oga","ogg","wav","wma"],t.SUPPORTED_AUDIO_OUTPUT_CONTAINERS=["mp3","wav","m4a"],t.SUPPORTED_UNZIP_EXTENSIONS=["7z","bz","bz2","cpio","gz","iso","lha","lz","lzh","lzma","rar","tar","taz","tbz","tbz2","tgz","tlz","txz","tz","xar","xz","z","zip"],t.SUPPORTED_WATERMARKING_EXTENSIONS=["jpeg","jpg","bmp","pdf","png"],(function(e){e.ON="ON",e.OFF="OFF",e.V2_IMAGE_VIDEO="V2_IMAGE_VIDEO",e.M2_A="M2_A",e.M2_B="M2_B",e.M2_C="M2_C",e.M2_D="M2_D"})(t.AUTOMATED_ADOPTION_VARIANTS||(t.AUTOMATED_ADOPTION_VARIANTS={})),(function(e){e.DASHBOARD_UI_EXP_M1="flows_dashboard_ui_exp_m1",e.AUTOMATION_PREVIEWS_EXP_M1="flows_adoption_automation_preview",e.CARD_SUBTEXT_M1="flows_automation_card_subtext"})(t.UI_EXPERIMENTS||(t.UI_EXPERIMENTS={})),(function(e){e.CONTROL="CONTROL",e.PERSISTENT="PERSISTENT"})(t.CARD_SUBTEXT_M1_VARIANTS||(t.CARD_SUBTEXT_M1_VARIANTS={})),(function(e){e.CONTROL="CONTROL",e.ON="ON"})(t.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS||(t.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS={}))})),define("metaserver/static/js/modules/clean/react/flows/components/badge",["require","exports","tslib","react","dig-components/badges","react-intl","metaserver/static/js/modules/clean/react/components/css","metaserver/static/js/modules/clean/react/flows/constants","metaserver/static/js/modules/core/i18n","dig-components/tooltips","typescript/component_libraries/flows/src/common/constants"],(function(e,t,o,n,a,r,i,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlowsFolderBadge=t.FlowsFolderBadgeComponent=void 0,n=o.__importDefault(n),t.FlowsFolderBadgeComponent=({type:e,isInUnifiedModal:t,isFolderFocused:o})=>{const{autoPdfBadgeContent:i,autoPdfBadgeTooltip:s,autoUnzipBadgeContent:p,autoUnzipBadgeTooltip:f,unifiedModalContent:m,autoTagBadgeContent:g,autoTagBadgeTooltip:_,autoSmartSubfoldersBadgeContent:v,autoSmartSubfoldersBadgeTooltip:b,autoImageBadgeContent:w,autoImageBadgeTooltip:y,autoVideoBadgeContent:h,autoVideoBadgeTooltip:S,autoNamingConventionsBadgeContent:E,autoNamingConventionsBadgeTooltip:A,autoTidyUpBadgeContent:O,autoTidyUpBadgeTooltip:T,autoAudioBadgeContent:C,autoAudioBadgeTooltip:M,autoWatermarkBadgeTooltip:L,autoWatermarkContent:I}=d();if(!e)return null;const F={pdf_conversion:{tooltip:s,content:i},unzip:{tooltip:f,content:p},tag:{tooltip:_,content:g},smart_subfolders:{tooltip:b,content:v},image_conversion:{tooltip:y,content:w},video_conversion:{tooltip:S,content:h},naming_conventions:{tooltip:A,content:E},tidy_up:{tooltip:T,content:O},audio_conversion:{tooltip:M,content:C},watermarking:{tooltip:L,content:I},email_ingest:{tooltip:void 0,content:void 0},other:{tooltip:void 0,content:void 0}}[e];return n.default.createElement(r.RawIntlProvider,{value:l.intl},F&&n.default.createElement(c.Tooltip,{id:"flows-badge-tooltip","data-testid":u.TestTarget.FLOWS_BADGE_TOOLTIP,title:F.tooltip,maxWidth:400},n.default.createElement("div",{className:"flows-badge","data-testid":u.TestTarget.FLOWS_BADGE,tabIndex:o?0:-1},n.default.createElement(a.AccessoryBadge,null,t?m:F.content))))},t.FlowsFolderBadgeComponent.displayName="FlowsFolderBadgeComponent";const d=()=>{const e=r.useIntl();return{autoPdfBadgeContent:e.formatMessage({id:"J7Q2k7",defaultMessage:"Auto-PDF"}),autoPdfBadgeTooltip:e.formatMessage({id:"fsqHOb",defaultMessage:"Files added to this folder are automatically saved as PDFs."}),unifiedModalContent:e.formatMessage({id:"VWmNRn",defaultMessage:"Automated"}),autoUnzipBadgeContent:e.formatMessage({id:"ZrkK1J",defaultMessage:"Auto-unzip"}),autoUnzipBadgeTooltip:e.formatMessage({id:"7ZScv9",defaultMessage:"Zipped files added to this folder are automatically unzipped."}),autoTagBadgeContent:e.formatMessage({id:"86n5XF",defaultMessage:"Auto-tag"}),autoTagBadgeTooltip:e.formatMessage({id:"1VM5D6",defaultMessage:"Files added to this folder are automatically tagged"}),autoSmartSubfoldersBadgeContent:e.formatMessage({id:"fy7f50",defaultMessage:"Smart Subfolders"}),autoSmartSubfoldersBadgeTooltip:e.formatMessage({id:"apbbra",defaultMessage:"Files added to this folder are automatically sorted and moved to organized subfolders"}),autoImageBadgeContent:e.formatMessage({id:"sxUr1/",defaultMessage:"Auto-Image"}),autoImageBadgeTooltip:e.formatMessage({id:"IXOBFy",defaultMessage:"Files added to this folder are automatically saved as image files."}),autoVideoBadgeContent:e.formatMessage({id:"eomqk8",defaultMessage:"Auto-Video"}),autoVideoBadgeTooltip:e.formatMessage({id:"rAbBlX",defaultMessage:"Files added to this folder are automatically saved as video files."}),autoNamingConventionsBadgeContent:e.formatMessage({id:"Agx16U",defaultMessage:"Auto-Rename"}),autoNamingConventionsBadgeTooltip:e.formatMessage({id:"0fCqTu",defaultMessage:"Files added to this folder are automatically renamed."}),autoTidyUpBadgeContent:e.formatMessage({id:"ilGTr6",defaultMessage:"Auto-Organize"}),autoTidyUpBadgeTooltip:e.formatMessage({id:"eKz+EF",defaultMessage:"Files added to this folder are automatically organized by date."}),autoAudioBadgeContent:e.formatMessage({id:"KosKoB",defaultMessage:"Auto-Audio"}),autoAudioBadgeTooltip:e.formatMessage({id:"uQyruu",defaultMessage:"Files added to this folder are automatically saved as audio files."}),autoWatermarkBadgeTooltip:e.formatMessage({id:"gikJ45",defaultMessage:"Files added to this folder are automatically saved with a preset watermark."}),autoWatermarkContent:e.formatMessage({id:"Ip1jI5",defaultMessage:"Auto-Watermark"})}};t.FlowsFolderBadge=i.requireCssWithComponent(t.FlowsFolderBadgeComponent,s.FLOWS_STYLESHEETS)})),define("metaserver/static/js/modules/clean/react/flows/components/flows_browse_root",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/browse/data/selectors","metaserver/static/js/modules/clean/react/flows/redux/selectors","react-redux","metaserver/static/js/modules/clean/react/browse/data/action_creators/index","metaserver/static/js/modules/clean/react/flows/lib/api","metaserver/static/js/modules/clean/react/hooks/usePrevious","metaserver/static/js/modules/clean/react/browse/models","metaserver/static/js/modules/clean/filetypes","metaserver/static/js/modules/clean/react/flows/types","metaserver/static/js/modules/clean/react/flows/utils/bolt","metaserver/static/js/modules/clean/user_survey/user_survey","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/react/flows/utils/notifications","metaserver/static/js/modules/clean/react/flows/redux/actions","metaserver/static/js/modules/clean/react/flows/redux/store"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f,m,g,_,v,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlowsRoot=t.FlowsRootComponent=void 0,a=o.__importStar(a),r=o.__importStar(r),s=o.__importStar(s),l=o.__importStar(l);const w={getFolderRulesConfig:(v=o.__importStar(v)).getFolderRulesConfig,setFileHasAutomatedRuleMap:s.setFileHasAutomatedRuleMap,getUserExperiments:v.getUserExperiments,setShouldSubscribeToBolt:v.setShouldSubscribeToBolt};t.FlowsRootComponent=({unsortedFiles:e,setFileHasAutomatedRuleMap:t,user:o,path:a,flowsRule:r,getFolderRulesConfig:i,getUserExperiments:s,shouldSubscribeToBolt:v,setShouldSubscribeToBolt:w})=>{const y=c.usePrevious(e),{handlePayload:h}=_.useFlowsNotifications(o),S=e=>{e.valueSeq().some(e=>null!=e)&&w(!0),t({fileHasAutomatedRuleMap:e})};return n.useEffect(()=>{r&&w(!0)},[r,w]),n.useEffect(()=>{const t=[];e.forEach((e,o)=>{if(e.is_dir&&!u.File.isNoAccessSharedFolder(e)&&!e.is_in_vault_folder&&e.type!==d.FileTypes.VAULT_FOLDER)if(y){const n=y.get(o);n&&g.getFileRevisionId(n)===g.getFileRevisionId(e)||t.push(e.fq_path)}else t.push(e.fq_path)}),t.length>0&&l.getFolderRulesBatch(t).then(e=>{var t;if("folder_rule_batch_result"===(null===(t=null==e?void 0:e.get_rule_batch_result)||void 0===t?void 0:t[".tag"])){const t=null==e?void 0:e.get_rule_batch_result;if(t.folder_rule_results){const e=p.FlowsMap(t.folder_rule_results.map(e=>{var t,o,n,a;if(!e.err&&(null===(t=e.folder_rule_set)||void 0===t?void 0:t.rules)){const t=null===(o=e.folder_rule_set)||void 0===o?void 0:o.rules;if(t.length>0){const o=null===(a=null===(n=t[0].action)||void 0===n?void 0:n.action)||void 0===a?void 0:a[".tag"];return[e.fq_path,o]}}return[e.fq_path,void 0]}));S(e)}}})},[e]),n.useEffect(()=>{"/"!==a&&""!==a&&l.getFolderRules(a).then(e=>{var t,o,n,r;if("folder_rule_set"===(null===(t=null==e?void 0:e.get_rule_result)||void 0===t?void 0:t[".tag"])){const t=null===(o=e.get_rule_result)||void 0===o?void 0:o.rules;if(t&&t.length>0){const e=null===(r=null===(n=t[0].action)||void 0===n?void 0:n.action)||void 0===r?void 0:r[".tag"];S(p.FlowsMap({[a]:e}))}}},e=>{})},[a]),n.useEffect(()=>(v&&f.FlowsBoltClient.subscribe(e=>{e.forEach(e=>{null==e||!e.action_type||e.status&&"success"!==e.status||(m.UserSurvey.addAttribute("flows_last_action_type",e.action_type),m.UserSurvey.trackEvent("flows_automation_success","browse")),f.isCompleteFlowsBoltPayload(e)&&h(e)})}),()=>f.FlowsBoltClient.unsubscribe()),[v,h]),n.useEffect(()=>{b.getStoreForAutomations(),i("OFF"),s()},[]),null},t.FlowsRootComponent.displayName="FlowsRootComponent";const y=i.connect((e,t)=>({unsortedFiles:a.unsortedFiles(e),flowsRule:a.flowsFolderRule(e,t.path),shouldSubscribeToBolt:r.shouldSubscribeToBolt(e)}),w);t.FlowsRoot=y(t.FlowsRootComponent)})),define("metaserver/static/js/modules/clean/react/flows/components/modals/automated_adoption_modal",["require","exports","tslib","react","dig-components/modal","dig-components/buttons","dig-components/typography","metaserver/static/js/modules/clean/react/image","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/browse/action_logger","metaserver/static/js/modules/clean/web_user_action_events","metaserver/static/js/modules/clean/react/flows/utils/modal_utils"],(function(e,t,o,n,a,r,i,s,l,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutomatedAdoptionModal=void 0,n=o.__importStar(n),t.AutomatedAdoptionModal=({modalName:e,userId:t,source:o,fileNsId:l})=>{const{closeButton:f,title:m,automationSteps:g,imageUrl1x:_,imageUrl2x:v}=p(e),[b,w]=n.useState(!0),y=n.useRef(d.generateModalSessionId()),h=(new Date).getTime().toString();n.default.useEffect(()=>{b&&S(u.WebUserActionLogEvent.AUTOMATED_FOLDER_ADOPTION_MODAL_OPEN)},[b]);const S=(e,n)=>{c.logAutoFolderEducationModal({user_id:t,action_source:"adoption",event_name:e,file_nsid:l,source:o,modal_session_id:y.current,open_ts:h,close_ts:n})},E=()=>{S(u.WebUserActionLogEvent.AUTOMATED_FOLDER_ADOPTION_MODAL_CLOSE,(new Date).getTime().toString()),w(!1)};return n.default.createElement(a.Modal,{open:b,width:600,onRequestClose:E},n.default.createElement(a.Modal.Body,{style:{padding:"0px"}},n.default.createElement("div",{className:"adoption-modal-image",style:{background:"#F7F5F2",display:"flex",alignItems:"center",justifyContent:"center",height:"338px"}},n.default.createElement(s.Image,{width:328,src:_,srcSet:v})),n.default.createElement("div",{className:"adoption-modal-text",style:{padding:"24px"}},n.default.createElement(i.Title,null,m),n.default.createElement(i.Text,null,g))),n.default.createElement(a.Modal.Footer,null,n.default.createElement(r.Button,{variant:"primary",onClick:E},f)))},t.AutomatedAdoptionModal.displayName="AutomatedAdoptionModal";const p=e=>{const t={closeButton:l.intl.formatMessage({id:"PomlfA",defaultMessage:"Got it"})};switch(e){case"addAutomation":return Object.assign(Object.assign({},t),{title:l.intl.formatMessage({id:"vm4jhB",defaultMessage:"To add an automation to a folder"}),automationSteps:l.intl.formatMessage({id:"QqxD05",defaultMessage:"<ol><li>Find the folder you want to automate </li> <li> Click “...” (ellipsis) </li> <li> Select <b>Add automation</b></li> </ol>"},{ol:e=>n.default.createElement("ol",{style:{paddingLeft:"1.5em"}},e),li:e=>n.default.createElement("li",null,e),b:e=>n.default.createElement("b",null,e)}),imageUrl1x:"https://assets.dropbox.com/prompt/en/workflow-automation/add_automated_folder@1x.png",imageUrl2x:"https://assets.dropbox.com/prompt/en/workflow-automation/add_automated_folder@2x.png"});default:return Object.assign(Object.assign({},t),{title:l.intl.formatMessage({id:"JjROwT",defaultMessage:"To create a new automated folder"}),automationSteps:l.intl.formatMessage({id:"lqFmMv",defaultMessage:"<ol><li> Click <b>Create</b> </li> <li> Click <b>Automated Folder</b> </li> </ol>"},{ol:e=>n.default.createElement("ol",{style:{paddingLeft:"1.5em"}},e),li:e=>n.default.createElement("li",null,e),b:e=>n.default.createElement("b",null,e)}),imageUrl1x:"https://assets.dropbox.com/prompt/en/workflow-automation/create_automated_folder@1x.png",imageUrl2x:"https://assets.dropbox.com/prompt/en/workflow-automation/create_automated_folder@2x.png"})}}})),define("metaserver/static/js/modules/clean/react/flows/conversions/actions/convert_image_format",["require","exports","tslib","metaserver/static/js/modules/clean/react/flows/conversions/convert","metaserver/static/js/modules/clean/react/flows/conversions/api","metaserver/static/js/modules/clean/react/flows/conversions/utils","dig-components/icons/src","metaserver/static/js/modules/clean/react/flows/constants","metaserver/static/js/modules/clean/react/flows/conversions/adoption_utils"],(function(e,t,o,n,a,r,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConvertImageFormatActions=void 0;const c={jpg:s.SUPPORTED_IMAGE_INPUT_EXTENSIONS.filter(e=>"jpg"!==e&&"jpeg"!==e),png:s.SUPPORTED_IMAGE_INPUT_EXTENSIONS.filter(e=>"png"!==e)};t.ConvertImageFormatActions=Object.entries(c).map(([e,t])=>({actionText:e.toUpperCase(),actionIcon:i.ImageLine,selector:r.singleFileWithExtensionSelector(t),convert:(t,i,s)=>{const{isCurrentFolderEligibleForAutomation:c,isSubfolderEligibleForAutomation:u,source:d}=s;let p;return r.isAutomatedAdoptionV2Enabled(i)?p=t=>n.getM1AdoptionSnackbarProps({user:i,conversionType:"image-format",folderRuleAction:"image_conversion",fileType:e,resultPath:t,isCurrentFolderEligibleForAutomation:c,isSubfolderEligibleForAutomation:u,source:d}):r.isAutomatedAdoptionM2Enabled(i)&&(p=o=>l.getM2AdoptionSnackbarProps({user:i,conversionType:"image-format",folderRuleAction:"image_conversion",fileType:e,resultPath:o,source:d,nsId:t[0].ns_id})),n.convertFileAndShowSnackbar(Object.assign(Object.assign({},s),{file:t[0],user:i,conversionType:"image-format",folderRuleAction:"image_conversion",loggingFunctions:r.getConversionLoggingFunctions("image-format"),getStrings:(t,o)=>r.getDefaultConversionStrings(e.toUpperCase(),t,i,o),conversionFn:(t,n,i)=>o.__awaiter(void 0,void 0,void 0,(function*(){return(yield a.convertImageFormat(n.id,r.getFileIdentifier(t,i),e)).path})),getAdoptionSnackbarProps:p}))}}))})),define("metaserver/static/js/modules/clean/react/flows/conversions/actions/convert_doc_to_image",["require","exports","tslib","metaserver/static/js/modules/clean/react/flows/conversions/convert","metaserver/static/js/modules/clean/react/flows/conversions/api","metaserver/static/js/modules/clean/react/flows/conversions/utils","dig-components/icons/src","metaserver/static/js/modules/clean/react/flows/constants","metaserver/static/js/modules/clean/react/flows/conversions/adoption_utils"],(function(e,t,o,n,a,r,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConvertDocToImageActions=void 0;t.ConvertDocToImageActions=s.SUPPORTED_IMAGE_OUTPUT_EXTENSIONS.map(e=>({actionText:e.toUpperCase(),actionIcon:i.ImageLine,selector:r.singleFileWithExtensionSelector(s.SUPPORTED_DOC_INPUT_EXTENSIONS),convert:(t,i,s)=>{const{isCurrentFolderEligibleForAutomation:c,isSubfolderEligibleForAutomation:u,source:d}=s;let p;return r.isAutomatedAdoptionV2Enabled(i)?p=t=>n.getM1AdoptionSnackbarProps({user:i,conversionType:"doc-to-image",folderRuleAction:"image_conversion",fileType:e,resultPath:t,isCurrentFolderEligibleForAutomation:c,isSubfolderEligibleForAutomation:u,source:d}):r.isAutomatedAdoptionM2Enabled(i)&&(p=o=>l.getM2AdoptionSnackbarProps({user:i,conversionType:"doc-to-image",folderRuleAction:"image_conversion",fileType:e,resultPath:o,source:d,nsId:t[0].ns_id})),n.convertFileAndShowSnackbar(Object.assign(Object.assign({},s),{file:t[0],user:i,conversionType:"doc-to-image",folderRuleAction:"image_conversion",loggingFunctions:r.getConversionLoggingFunctions("doc-to-image"),getStrings:(t,o)=>r.getDefaultConversionStrings(e.toUpperCase(),t,i,o),conversionFn:(t,n,i)=>o.__awaiter(void 0,void 0,void 0,(function*(){return(yield a.convertDocToImage(n.id,r.getFileIdentifier(t,i),e)).path})),getAdoptionSnackbarProps:p}))}}))})),define("metaserver/static/js/modules/clean/react/flows/conversions/actions/convert_to_pdf",["require","exports","tslib","metaserver/static/js/modules/clean/react/flows/conversions/convert","metaserver/static/js/modules/clean/react/flows/conversions/convert_batch","metaserver/static/js/modules/clean/react/flows/conversions/api","metaserver/static/js/modules/clean/react/flows/conversions/utils","dig-components/icons/src","metaserver/static/js/modules/clean/react/flows/conversions/adoption_utils","metaserver/static/js/modules/clean/react/flows/constants"],(function(e,t,o,n,a,r,i,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConvertToPdfBatchAction=t.ConvertToPdfAction=void 0;t.ConvertToPdfAction={actionText:"PDF",actionIcon:s.FileLine,selector:i.singleFileWithExtensionSelector(c.SUPPORTED_PDF_EXTENSIONS),convert:(e,t,a)=>{const{isCurrentFolderEligibleForAutomation:s,isSubfolderEligibleForAutomation:c,source:u}=a;let d;return i.isAutomatedAdoptionEnabled(t)||i.isAutomatedAdoptionV2Enabled(t)?d=e=>n.getM1AdoptionSnackbarProps({user:t,conversionType:"pdf",folderRuleAction:"pdf_conversion",fileType:"PDF",resultPath:e,isCurrentFolderEligibleForAutomation:s,isSubfolderEligibleForAutomation:c,source:u}):i.isAutomatedAdoptionM2Enabled(t)&&(d=o=>l.getM2AdoptionSnackbarProps({user:t,conversionType:"pdf",folderRuleAction:"pdf_conversion",fileType:"PDF",resultPath:o,source:u,nsId:e[0].ns_id})),n.convertFileAndShowSnackbar(Object.assign(Object.assign({},a),{file:e[0],user:t,conversionType:"pdf",folderRuleAction:"pdf_conversion",loggingFunctions:i.getConversionLoggingFunctions("pdf"),getStrings:(e,o)=>i.getDefaultConversionStrings("PDF",e,t,o),conversionFn:(e,t,n)=>o.__awaiter(void 0,void 0,void 0,(function*(){return(yield r.convertToPdf(t.id,i.getFileIdentifier(e,n))).path})),getAdoptionSnackbarProps:d}))}},t.ConvertToPdfBatchAction={actionText:"PDF",actionIcon:s.FileLine,selector:i.strictMultiFileWithExtensionSelector(c.SUPPORTED_PDF_EXTENSIONS),convert:(e,t,{source:o})=>a.convertFilesBatch({files:e,template:{sequence:[{workflow_action:{".tag":"pdf_conversion"}}]},conversionType:"pdf",source:o})}})),define("metaserver/static/js/modules/clean/react/flows/conversions/actions/image_conversion_batch",["require","exports","metaserver/static/js/modules/clean/react/flows/conversions/utils","dig-components/icons/src","metaserver/static/js/modules/clean/react/flows/constants","metaserver/static/js/modules/clean/react/flows/conversions/convert_batch"],(function(e,t,o,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageConversionBatchActions=void 0;const i=a.SUPPORTED_DOC_INPUT_EXTENSIONS.concat(a.SUPPORTED_IMAGE_INPUT_EXTENSIONS),s={jpg:i.filter(e=>"jpg"!==e&&"jpeg"!==e),png:i.filter(e=>"png"!==e)};t.ImageConversionBatchActions=Object.entries(s).map(([e,t])=>({actionText:e.toUpperCase(),actionIcon:n.ImageLine,selector:o.strictMultiFileWithExtensionSelector(t),convert:(t,o,{source:n})=>r.convertFilesBatch({files:t,conversionType:"image-batch",template:{sequence:[{workflow_action:{".tag":"image_conversion",format:e}}]},source:n})}))})),define("metaserver/static/js/modules/clean/react/flows/conversions/actions/unzip",["require","exports","tslib","dig-components/icons/src","dig-components/typography","metaserver/static/js/modules/clean/browse_uri_interface","metaserver/static/js/modules/clean/react/flows/constants","metaserver/static/js/modules/clean/react/flows/conversions/adoption_utils","metaserver/static/js/modules/clean/react/flows/conversions/api","metaserver/static/js/modules/clean/react/flows/conversions/convert","metaserver/static/js/modules/clean/react/flows/conversions/utils","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/core/uri","react"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUnzipAdoptionSnackbarProps=t.UnzipAction=void 0,f=o.__importDefault(f);t.UnzipAction={actionText:d.intl.formatMessage({id:"u1R/iY",defaultMessage:"Extract all"}),actionIcon:n.ZipLine,selector:u.singleFileWithExtensionSelector(i.SUPPORTED_UNZIP_EXTENSIONS),convert:(e,t,n)=>{const{isCurrentFolderEligibleForAutomation:a,isSubfolderEligibleForAutomation:r,source:i}=n;let d=e=>g({user:t,conversionType:"unzip",folderRuleAction:"unzip",resultPath:e,isCurrentFolderEligibleForAutomation:a,isSubfolderEligibleForAutomation:r,source:i});return u.isAutomatedAdoptionM2Enabled(t)&&(d=o=>s.getM2AdoptionSnackbarProps({user:t,conversionType:"unzip",folderRuleAction:"unzip",resultPath:o,source:i,nsId:e[0].ns_id})),c.convertFileAndShowSnackbar(Object.assign(Object.assign({},n),{file:e[0],user:t,loggingFunctions:u.getConversionLoggingFunctions("unzip"),conversionType:"unzip",folderRuleAction:"unzip",getStrings:(e,o)=>m(e,t,o),conversionFn:(e,t,n)=>o.__awaiter(void 0,void 0,void 0,(function*(){return(yield l.unzip(t.id,u.getFileIdentifier(e,n))).path})),getAdoptionSnackbarProps:d}))}};const m=(e,t,o)=>{const n=d.intl.formatMessage({id:"gJnC96",defaultMessage:"Couldn't extract files"}),i=u.getSuccessString(e,(n,i)=>d.intl.formatMessage({id:"oxpxVW",defaultMessage:"Files extracted to <a>{folderName}</a> in {parentFolderName} folder"},{folderName:n,parentFolderName:i,a:n=>(null==o?void 0:o.clickableFileName)?f.default.createElement(a.Link,{inverse:!0,href:r.get_browse_root(t)+p.URI.encode_parts(e),onClick:()=>{var e;null===(e=null==o?void 0:o.loggingFunctions)||void 0===e||e.logConvertOpen(null==o?void 0:o.source)}},n):n}),e=>d.intl.formatMessage({id:"TRohxO",defaultMessage:"Files extracted to {folderName} in your main Dropbox folder"},{folderName:e}));return{saving:d.intl.formatMessage({id:"Jk+n/I",defaultMessage:"Extracting files..."}),success:i,successAutomatedAdoption:i,failGeneric:n,failRetryable:n,failOverQuota:d.intl.formatMessage({id:"atcchQ",defaultMessage:"Couldn't extract because your Dropbox account is out of space"}),failTooLarge:d.intl.formatMessage({id:"Hgd1fQ",defaultMessage:"Couldn't extract files. Can only handle files up to {fileSize} MB"},{fileSize:512}),failCorrupt:d.intl.formatMessage({id:"00qMd1",defaultMessage:"Couldn't extract because the file is damaged"}),failPassword:d.intl.formatMessage({id:"xbgxEF",defaultMessage:"Couldn't extract because the file is password protected"}),failPasswordLink:d.intl.formatMessage({id:"UvS9P9",defaultMessage:"Couldn't extract because the file was shared using a password-protected link"})}};function g({user:e,conversionType:t,folderRuleAction:o,resultPath:a,isCurrentFolderEligibleForAutomation:r,isSubfolderEligibleForAutomation:i,source:s}){const p={user:e,conversionType:t,folderRuleAction:o,isCurrentFolderEligibleForAutomation:r,isSubfolderEligibleForAutomation:i,source:s};return u.isAutomatedAdoptionEnabled(e)||u.isAutomatedAdoptionV2Enabled(e)?{actions:[{icon:n.AddFolderLine,name:"create_automated_folder",text:d.intl.formatMessage({id:"AS674M",defaultMessage:"Create automated folder"}),onClick:c.createAutomatedFolderHandler},{icon:n.FolderLine,name:"automated_existing_folder",text:d.intl.formatMessage({id:"n9iAyA",defaultMessage:"Automate existing folder"}),onClick:c.automateExistingFolderHandler},{name:"maybe_later",text:d.intl.formatMessage({id:"/5Lzsh",defaultMessage:"Maybe later"}),onClick:c.remindMeLaterHandler}],helperText:d.intl.formatMessage({id:"tMuSn1",defaultMessage:"Want to unzip files automatically?"}),clickHandlerArgs:{userId:e.id,filePath:a||"",conversionArg:p},onCloseClick:()=>{l.updateAdoptionStatus(p.conversionType,o,e.id)}}:void 0}t.getUnzipAdoptionSnackbarProps=g})),define("metaserver/static/js/modules/clean/react/flows/conversions/api",["require","exports","tslib","metaserver/static/js/api_v2/user_client","metaserver/static/js/modules/clean/react/flows/conversions/utils","metaserver/static/js/modules/clean/downloads"],(function(e,t,o,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAdoptionStatus=t.checkAdoptionStatus=t.convertVideoToGif=t.mediaRemux=t.archive=t.convertDocToImage=t.convertImageFormat=t.unzip=t.convertToPdf=void 0,t.convertToPdf=function(e,t,o){const a={file:t,dest_path:o};return(new n.UserApiV2Client).ns("flows").rpc("convert_to_pdf",a,{subjectUserId:e})},t.unzip=function(e,t,o){const a={file:t,dest_path:o};return(new n.UserApiV2Client).ns("flows").rpc("unzip",a,{subjectUserId:e})},t.convertImageFormat=function(e,t,o,a){const r={file:t,format:o,dest_path:a};return(new n.UserApiV2Client).ns("flows").rpc("convert_image_format",r,{subjectUserId:e})},t.convertDocToImage=function(e,t,o,a){const r={file:t,format:o,dest_path:a};return(new n.UserApiV2Client).ns("flows").rpc("convert_doc_to_image",r,{subjectUserId:e})},t.archive=function(e,t,i,s,l){return o.__awaiter(this,void 0,void 0,(function*(){if(s&&s.blockHash){const o=s.currentFQPath,c=t.map(e=>e.fq_path),u=yield r.getZipDownloadUrl({block_hash:s.blockHash,fq_paths:c,parent_path:o,subjectUserId:e,flat_mode:!1});if(u.isError)return r.showGetZipUrlErrorSnackbar(u.error),Promise.resolve({path:void 0});{const o=t.map(e=>a.getFileIdentifier(e));i=i||"archive.zip";const r={file:o,dest_path:l,zip_url:u.result.url,archive_name:i};return(new n.UserApiV2Client).ns("flows").rpc("archive",r,{subjectUserId:e})}}return Promise.resolve({path:void 0})}))},t.mediaRemux=function(e,t,o,a){const r={file:t,dest_path:a,container:o};return(new n.UserApiV2Client).ns("flows").rpc("media_remux",r,{subjectUserId:e})},t.convertVideoToGif=function(e,t,o,a,r,i){const s={file:t,dest_path:i,start_offset:o,duration:a,resolution:r};return(new n.UserApiV2Client).ns("flows").rpc("convert_video_to_gif",s,{subjectUserId:e})},t.checkAdoptionStatus=function(e,t,o){const a={check_adoption_status_arg:{".tag":"check_automation_adoption_status_arg",conversion_type:e,folder_rule_action:t}};return(new n.UserApiV2Client).ns("flows").rpc("check_adoption_status",a,{subjectUserId:o})},t.updateAdoptionStatus=function(e,t,o){const a={update_adoption_status_arg:{".tag":"update_automated_adoption_status_arg",conversion_type:e,folder_rule_action:t}};return(new n.UserApiV2Client).ns("flows").rpc("update_adoption_status",a,{subjectUserId:o})}})),define("metaserver/static/js/modules/clean/react/flows/conversions/conversion_actions",["require","exports","metaserver/static/js/modules/clean/react/flows/conversions/actions/convert_to_pdf","metaserver/static/js/modules/clean/react/flows/conversions/actions/convert_image_format","metaserver/static/js/modules/clean/react/flows/conversions/actions/convert_doc_to_image","metaserver/static/js/modules/clean/react/flows/conversions/actions/media_remux","metaserver/static/js/modules/clean/react/flows/conversions/actions/convert_video_to_gif","metaserver/static/js/modules/clean/react/flows/conversions/actions/image_conversion_batch"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConversionActionsForFiles=void 0;const l=[o.ConvertToPdfAction,o.ConvertToPdfBatchAction,...n.ConvertImageFormatActions,...a.ConvertDocToImageActions,...s.ImageConversionBatchActions,...r.MediaRemuxActions,...r.MediaRemuxBatchActions,i.ConvertVideoToGifAction];t.getConversionActionsForFiles=(e,t)=>l.filter(o=>o.selector(e,t))})),define("metaserver/static/js/modules/clean/react/flows/conversions/convert",["require","exports","tslib","metaserver/static/js/modules/core/i18n","react","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/clean/browse_uri_interface","metaserver/static/js/modules/core/uri","metaserver/static/js/modules/core/browser","metaserver/static/js/modules/clean/react/flows/lib/api","metaserver/static/js/modules/clean/react/flows/conversions/utils","metaserver/static/js/modules/clean/react/flows/conversions/api","dig-components/icons/src","metaserver/static/js/modules/clean/react/flows/components/modals/automated_adoption_modal","metaserver/static/js/modules/clean/react/components/modal","react-redux","metaserver/static/js/modules/clean/react/browse/data/store","react-intl","metaserver/static/js/modules/clean/react/flows/redux/store","metaserver/static/js/modules/clean/react/flows/redux/actions","metaserver/static/js/modules/clean/react/browse/data/action_creators/index","metaserver/static/js/modules/clean/react/browse/action_logger","metaserver/static/js/modules/clean/web_user_action_events","metaserver/static/js/modules/clean/sharing/async_share_modal_util"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f,m,g,_,v,b,w,y,h,S,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncLaunchAutomatedAdoptionModal=t.remindMeLaterHandler=t.automateExistingFolderHandler=t.createAutomatedFolderHandler=t.getM1AdoptionSnackbarProps=t.convertFileAndShowSnackbar=void 0,a=o.__importDefault(a),l=o.__importStar(l),c=o.__importStar(c),y=o.__importStar(y);function A(e){var t;return o.__awaiter(this,void 0,void 0,(function*(){const{file:o,user:n,shareToken:a,conversionFn:i,loggingFunctions:s,conversionType:l,folderRuleAction:p,getAdoptionSnackbarProps:f,source:m,shouldShareResult:g}=e;s.logConvert(m),O(Object.assign(Object.assign({},e),{state:"saving"}));try{const s=yield i(o,n,a);if(s){if(g){const e=yield c.getFolderMetadata(s);return r.Snackbar.close("flows-conversion-snackbar"),void E.asyncShowShareModal(n,{fqPath:s,isFolder:"folder"===e[".tag"]})}const a=f?f(s):void 0;let i=!1;if(a&&p){const e=yield d.checkAdoptionStatus(l,p,n.id);i="show_automation_adoption_tooltips"===(null===(t=e.check_automation_adoption_status_result)||void 0===t?void 0:t[".tag"])&&e.check_automation_adoption_status_result.show_automation_adoption_tooltips.valueOf()}i?(h.logAutoFolderAdoptionSnackbar({user_id:n.id,action_source:"adoption",event_name:S.WebUserActionLogEvent.AUTOMATED_FOLDER_ADOPTION_SNACKBAR_SHOW,file_nsid:o.ns_id,source:m,trigger_rule:p}),O(Object.assign(Object.assign({},e),{state:"successAutomatedAdoption",resultPath:s,adoptionSnackbarProps:a}))):O(Object.assign(Object.assign({},e),{state:"success",resultPath:s}))}else O(Object.assign(Object.assign({},e),{state:"failGeneric"}))}catch(t){const o=u.getConversionStateFromException(t);O(Object.assign(Object.assign({},e),{state:o}))}}))}function O(e){const{user:t,getStrings:o,state:i,resultPath:s,loggingFunctions:l,adoptionSnackbarProps:c,source:u}=e,d=Object.assign(Object.assign({},o(s||"",{clickableFileName:!!c,loggingFunctions:l,source:u})),{open:n.intl.formatMessage({id:"+JIEsO",defaultMessage:"Open"}),close:n.intl.formatMessage({id:"In8b64",defaultMessage:"Close"}),retry:n.intl.formatMessage({id:"Y/tkCj",defaultMessage:"Try again"})}),p={closeButtonText:d.close,onCloseClick:()=>l.logConvertClose(u)},f={saving:{variant:"sync",syncProgressLoop:!0},failGeneric:Object.assign({variant:"fail"},p),failOverQuota:Object.assign({variant:"fail"},p),failTooLarge:Object.assign({variant:"fail"},p),failCorrupt:Object.assign({variant:"fail"},p),failPassword:Object.assign({variant:"fail"},p),failPasswordLink:Object.assign({variant:"fail"},p),failRetryable:Object.assign({variant:"fail",onActionClick:()=>{l.logConvertRetry(u),A(e)}},p),successAutomatedAdoption:Object.assign({variant:"complete",onActionClick:()=>T(t,s,l,u),richSnackbarProps:c},p),success:Object.assign({variant:"complete",actionButtonText:d.open,onActionClick:()=>T(t,s,l,u)},p)};r.Snackbar.update(a.default.createElement(r.Snackbar,Object.assign({id:"flows-conversion-snackbar",title:d[i]},f[i])))}function T(e,t,o,n){o.logConvertOpen(n);const a=t,r=i.get_browse_root(e)+s.URI.encode_parts(a);l.replace_location(r)}function C(e,t,o,r){m.Modal.showInstance(a.default.createElement(g.Provider,{store:_.getStoreForBrowse()},a.default.createElement(v.RawIntlProvider,{value:n.intl},a.default.createElement(f.AutomatedAdoptionModal,{modalName:e,userId:t,source:o,fileNsId:r}))))}t.convertFileAndShowSnackbar=A,t.getM1AdoptionSnackbarProps=function({user:e,conversionType:o,folderRuleAction:a,fileType:r,resultPath:i,isCurrentFolderEligibleForAutomation:s,isSubfolderEligibleForAutomation:l,source:c}){const u={user:e,conversionType:o,folderRuleAction:a,isCurrentFolderEligibleForAutomation:s,isSubfolderEligibleForAutomation:l,source:c};return{actions:[{icon:p.AddFolderLine,name:"create_automated_folder",text:n.intl.formatMessage({id:"AS674M",defaultMessage:"Create automated folder"}),onClick:t.createAutomatedFolderHandler},{icon:p.FolderLine,name:"automated_existing_folder",text:n.intl.formatMessage({id:"n9iAyA",defaultMessage:"Automate existing folder"}),onClick:t.automateExistingFolderHandler},{name:"maybe_later",text:n.intl.formatMessage({id:"/5Lzsh",defaultMessage:"Maybe later"}),onClick:t.remindMeLaterHandler}],helperText:n.intl.formatMessage({id:"KmBuBt",defaultMessage:"Want to save files as {fileType}s automatically?"},{fileType:r.toUpperCase()}),clickHandlerArgs:{userId:e.id,filePath:i||"",conversionArg:u},onCloseClick:()=>{d.updateAdoptionStatus(u.conversionType,a,e.id)}}},t.createAutomatedFolderHandler=e=>o.__awaiter(void 0,void 0,void 0,(function*(){const{conversionArg:t,userId:o,ns_id:n}=e;if(t){const{conversionType:e,folderRuleAction:a,source:r,isSubfolderEligibleForAutomation:i}=t;if(yield d.updateAdoptionStatus(e,a,o),h.logAutoFolderAdoptionSnackbar({user_id:o,action_source:"adoption",event_name:S.WebUserActionLogEvent.AUTOMATED_FOLDER_ADOPTION_SNACKBAR_CLICK,file_nsid:n,trigger_rule:a,snackbar_click_option:"create",source:r}),i){const e=_.getStoreForBrowse(),t=b.getStoreForAutomations();e.dispatch(y.clearSelection({skipLogging:!0})),e.dispatch(y.setCreateMenuOpenRequest({autoFocus:!1})),t.dispatch(w.setAutoFolderOnboarding({conversionType:a,step:1,totalSteps:2,variant:"create"}))}else C("createAutomation",o,r,n)}r.Snackbar.close("flows-conversion-snackbar")})),t.automateExistingFolderHandler=e=>o.__awaiter(void 0,void 0,void 0,(function*(){const{conversionArg:t,userId:o,ns_id:n}=e;if(t){const{conversionType:e,folderRuleAction:a,source:r,isCurrentFolderEligibleForAutomation:i}=t;if(yield d.updateAdoptionStatus(e,a,o),h.logAutoFolderAdoptionSnackbar({user_id:o,action_source:"adoption",event_name:S.WebUserActionLogEvent.AUTOMATED_FOLDER_ADOPTION_SNACKBAR_CLICK,file_nsid:n,trigger_rule:a,snackbar_click_option:"add",source:r}),i){const e=_.getStoreForBrowse();e.dispatch(y.clearSelection({skipLogging:!0})),e.dispatch(y.setOverflowMenuOpenRequest({autoFocus:!1})),b.getStoreForAutomations().dispatch(w.setAutoFolderOnboarding({conversionType:a,step:1,totalSteps:2,variant:"add"}))}else C("addAutomation",o,r,n)}r.Snackbar.close("flows-conversion-snackbar")})),t.remindMeLaterHandler=e=>{const{conversionArg:t,userId:o,ns_id:n}=e;if(t){const{folderRuleAction:e}=t;h.logAutoFolderAdoptionSnackbar({user_id:o,action_source:"adoption",event_name:S.WebUserActionLogEvent.AUTOMATED_FOLDER_ADOPTION_SNACKBAR_CLICK,file_nsid:n,trigger_rule:e,snackbar_click_option:"later",source:t.source})}r.Snackbar.close("flows-conversion-snackbar")},t.asyncLaunchAutomatedAdoptionModal=C})),define("metaserver/static/js/modules/clean/react/flows/conversions/convert_batch",["require","exports","tslib","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/flows/automations/snackbar","metaserver/static/js/modules/clean/react/flows/lib/api","metaserver/static/js/modules/clean/react/flows/logging/flows_loggers","metaserver/static/js/modules/clean/react/flows/redux/store","metaserver/static/js/modules/clean/react/flows/redux/actions","metaserver/static/js/modules/clean/react/flows/conversions/utils"],(function(e,t,o,n,a,r,i,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertFilesBatch=void 0;t.convertFilesBatch=function({files:e,template:t,conversionType:u,source:d}){return o.__awaiter(this,void 0,void 0,(function*(){const{initLabel:o,failLabel:p}={initLabel:e=>n.intl.formatMessage({id:"YdruIN",defaultMessage:"Your {numFiles, plural, one {file} other {files}} will be saved shortly..."},{numFiles:e}),failLabel:e=>n.intl.formatMessage({id:"j4UjMR",defaultMessage:"There was a problem saving your {numFiles, plural, one {file} other {files}}"},{numFiles:e})};a.updateSnackbar({variant:"sync",title:o(e.length)});const f=c.getConversionLoggingFunctions(u);s.getStoreForAutomations().dispatch(l.setShouldSubscribeToBolt(!0));try{yield r.submitFileWorkflow(t,e.map(e=>e.file_id)),i.PapLogger.logSucceedSubmitManualWorkflow("browse_save_as",t,e.length),f.logConvert(d,e.length)}catch(o){a.updateSnackbar({variant:"fail",title:p(e.length)}),i.PapLogger.logFailSubmitManualWorkflow("browse_save_as",t,e.length,(function(e){var t;return(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t[".tag"])||"other"})(o))}}))}})),define("metaserver/static/js/modules/clean/react/flows/conversions/utils",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/file_store/utils","spectrum-sharing/utils/sharing_constants","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/modules/clean/react/flows/constants","dig-components/typography","metaserver/static/js/modules/clean/browse_uri_interface","metaserver/static/js/modules/core/uri","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/experiments","metaserver/static/js/modules/clean/react/flows/logging/flows_loggers"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonStrings=t.getConversionLoggingFunctions=t.getDefaultConversionStrings=t.getSuccessString=t.withExperimentSelector=t.strictMultiFileWithExtensionSelector=t.singleFileWithExtensionSelector=t.canConvertFile=t.getConversionStateFromException=t.isAutomatedAdoptionM2Enabled=t.isAutomatedAdoptionV2Enabled=t.isAutomatedAdoptionEnabled=t.getFileIdentifier=void 0,n=o.__importDefault(n),l=o.__importStar(l),t.getFileIdentifier=function(e,t){return r.isBrowseFile(e)||(null==t?void 0:t.linkType)===i.SharedLinkType.Content?{identifier:{file_id:e.file_id,".tag":"file_id"}}:{identifier:{shared_link_url:e.href?e.href:"",".tag":"shared_link_url"}}};const g={generic_error:"failGeneric",permission_error:"failGeneric",unsupported_error:"failGeneric",filesystem_error:"failGeneric",filesystem_transient_error:"failRetryable",over_quota_error:"failOverQuota",riviera_permanent_error:"failGeneric",riviera_retryable_error:"failRetryable",riviera_too_large_error:"failTooLarge",riviera_source_corrupt_error:"failCorrupt",riviera_password_protected_error:"failPassword",password_protected_shared_link_error:"failPasswordLink",riviera_invalid_request_error:"failGeneric",other:"failGeneric"};function _(e,t,o){const n=l.filename(e),a=l.parentDirName(e);return a?t(n,a):o(n)}t.isAutomatedAdoptionEnabled=e=>!(!e||!f.fileViewerFlowExperiments.automatedAdoptionByUserId[e.id]),t.isAutomatedAdoptionV2Enabled=e=>!(!e||!f.fileViewerFlowExperiments.automatedAdoptionV2ByUserId[e.id]),t.isAutomatedAdoptionM2Enabled=e=>!(!e||![c.AUTOMATED_ADOPTION_VARIANTS.M2_A,c.AUTOMATED_ADOPTION_VARIANTS.M2_B,c.AUTOMATED_ADOPTION_VARIANTS.M2_C,c.AUTOMATED_ADOPTION_VARIANTS.M2_D].includes(f.fileViewerFlowExperiments.automatedAdoptionVariantByUserId[e.id])),t.getConversionStateFromException=function(e){const t=null==e?void 0:e.error;return(function(e){return e&&e[".tag"]&&e[".tag"]in g})(t)?g[t[".tag"]]:"failGeneric"},t.canConvertFile=function(e,t){return r.isBrowseFile(e)||t&&t.canDownloadRoles.length>0},t.singleFileWithExtensionSelector=function(e){return t=>{if(1!==t.length||t[0].is_dir)return!1;const o=s.getExtension(t[0]);return e.includes(o)}},t.strictMultiFileWithExtensionSelector=function(e){return t=>!(t.length<=1||t.some(e=>e.is_dir))&&t.every(t=>e.includes(s.getExtension(t)))},t.withExperimentSelector=function(e,t){return(o,n)=>!(!n||!n[e])&&t(o,n)},t.getSuccessString=_,t.getDefaultConversionStrings=function(e,t,o,r){const i=a.intl.formatMessage({id:"WthXj+",defaultMessage:"Couldn't save as {fileType}"},{fileType:e}),s=_(t,(e,i)=>a.intl.formatMessage({id:"jyMgWg",defaultMessage:"<a>{fileName}</a> saved to {dirName} folder"},{fileName:e,dirName:i,a:e=>(null==r?void 0:r.clickableFileName)?n.default.createElement(u.Link,{inverse:!0,href:d.get_browse_root(o)+p.URI.encode_parts(t),onClick:()=>{var e;null===(e=null==r?void 0:r.loggingFunctions)||void 0===e||e.logConvertOpen(null==r?void 0:r.source)}},e):e}),e=>a.intl.formatMessage({id:"ukwwi2",defaultMessage:"{fileName} saved to your main Dropbox folder"},{fileName:e}));return{saving:a.intl.formatMessage({id:"Bdb4J5",defaultMessage:"Saving {fileType}..."},{fileType:e}),success:s,successAutomatedAdoption:s,failGeneric:i,failRetryable:i,failOverQuota:a.intl.formatMessage({id:"QP2WHb",defaultMessage:"Couldn't save as {fileType} because your Dropbox account is out of space"},{fileType:e}),failTooLarge:a.intl.formatMessage({id:"cmnQAC",defaultMessage:"Couldn't save as {fileType} because the file is too large"},{fileType:e}),failCorrupt:a.intl.formatMessage({id:"INKSmo",defaultMessage:"Couldn't save as {fileType} because the file is damaged"},{fileType:e}),failPassword:a.intl.formatMessage({id:"dnnNdt",defaultMessage:"Couldn't save as {fileType} because the file is password protected"},{fileType:e}),failPasswordLink:a.intl.formatMessage({id:"qzTamN",defaultMessage:"Couldn't save as {fileType} because the file was shared using a password-protected link"},{fileType:e})}},t.getConversionLoggingFunctions=function(e){return{logConvert:(t,o=1)=>{m.PapLogger.logInitiateFileConversion(e,o,t)},logConvertRetry:(t,o=1)=>{m.PapLogger.logSelectFileConversionRetryButton(e,o,t)},logConvertClose:(t,o=1)=>{m.PapLogger.logDimissFileConversionSnackbar(e,o,t)},logConvertOpen:t=>{m.PapLogger.logSelectFileConversionOpenButton(e,t)}}},t.getCommonStrings=function(){return{open:a.intl.formatMessage({id:"+JIEsO",defaultMessage:"Open"}),close:a.intl.formatMessage({id:"In8b64",defaultMessage:"Close"}),retry:a.intl.formatMessage({id:"Y/tkCj",defaultMessage:"Try again"})}}})),define("metaserver/static/js/modules/clean/react/file_viewer/file_conversion/save_as_button",["require","exports","tslib","react","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/menu","metaserver/static/js/modules/clean/react/flows/conversions/conversion_actions","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/file_viewer/logging","metaserver/static/js/modules/clean/react/file_viewer/constants"],(function(e,t,o,n,a,r,i,s,l,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SaveAsButton=void 0,n=o.__importDefault(n),t.SaveAsButton=({file:e,user:t,shareToken:o,experiments:p})=>{const f=l.getConversionActionsForFiles([e],p);return 0===f.length?null:n.default.createElement(s.Menu.Wrapper,null,({getTriggerProps:l,getContentProps:p})=>n.default.createElement(n.default.Fragment,null,n.default.createElement(a.Button,Object.assign({className:"flows_save_as_button",style:{margin:"12px 25px"},variant:"opacity",withIconLeft:n.default.createElement(r.UIIcon,{src:i.ConvertFileLine}),withDropdownIcon:!0},l()),c.intl.formatMessage({id:"GAZsDK",defaultMessage:"Save as..."})),n.default.createElement(s.Menu.Content,Object.assign({},p()),n.default.createElement(s.Menu.Segment,null,f.map(a=>n.default.createElement(s.Menu.ActionItem,{key:a.actionText,onClick:()=>{u.logUserAction(d.UserAction.ConvertFile,d.UserActionContext.PreviewContentMain,{action:a.actionText}),a.convert([e],t,{shareToken:o,source:"preview"})}},n.default.createElement("div",{style:{display:"flex"}},n.default.createElement(r.UIIcon,{src:a.actionIcon}),a.actionText)))))))}})),define("metaserver/static/js/modules/clean/react/file_viewer/file_conversion/unzip_button",["require","exports","tslib","react","dig-components/buttons","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/file_viewer/logging","metaserver/static/js/modules/clean/react/file_viewer/constants","metaserver/static/js/modules/clean/react/flows/conversions/actions/unzip"],(function(e,t,o,n,a,r,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnzipButton=void 0,n=o.__importStar(n),t.UnzipButton=({file:e,user:t,shareToken:c})=>{const[u,d]=n.useState(!1);return n.default.createElement(a.Button,{className:"decompress-button",variant:"outline",onClick:()=>o.__awaiter(void 0,void 0,void 0,(function*(){d(!0),i.logUserAction(s.UserAction.DecompressFile,s.UserActionContext.PreviewContentMain),yield l.UnzipAction.convert([e],t,{shareToken:c,source:"preview"}),d(!1)})),disabled:u},r.intl.formatMessage({id:"rFpkYN",defaultMessage:"Extract all"}))}})),define("metaserver/static/js/modules/clean/react/file_viewer/file_conversion/utils",["require","exports","tslib","react","metaserver/static/js/modules/clean/file_store/utils","metaserver/static/js/modules/clean/react/file_viewer/file_conversion/save_as_button","metaserver/static/js/modules/clean/react/flows/conversions/utils","metaserver/static/js/modules/clean/react/flows/conversions/actions/unzip","metaserver/static/js/modules/clean/react/file_viewer/file_conversion/unzip_button","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/experiments"],(function(e,t,o,n,a,r,i,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConversionsForPreview=t.isManualAudioConversionEnabled=t.isManualVideoGifEnabled=t.isManualVideoRemuxingEnabled=t.isManualFileConversionEnabled=void 0,n=o.__importDefault(n),t.isManualFileConversionEnabled=e=>!(!e||!c.fileViewerFlowExperiments.manualFileConversionByUserId[e.id]),t.isManualVideoRemuxingEnabled=e=>!(!e||!c.fileViewerFlowExperiments.manualVideoRemuxByUserId[e.id]),t.isManualVideoGifEnabled=e=>!(!e||!c.fileViewerFlowExperiments.manualVideoGifByUserId[e.id]),t.isManualAudioConversionEnabled=e=>!(!e||!c.fileViewerFlowExperiments.manualAudioConversionByUserId[e.id]),t.getConversionsForPreview=function(e,o,c,u){if(!o||a.isArchiveFile(e)||!i.canConvertFile(e,u)||""===window.location.search||-1!==window.location.search.indexOf("xframed=1"))return null;if(s.UnzipAction.selector([e]))return n.default.createElement("div",null,n.default.createElement(l.UnzipButton,{user:o,file:e,shareToken:c}));if(t.isManualFileConversionEnabled(o)){const a={expFlowsManualVideoRemuxUi:t.isManualVideoRemuxingEnabled(o),expFlowsManualVideoGifUi:t.isManualVideoGifEnabled(o)};return n.default.createElement("div",null,n.default.createElement(r.SaveAsButton,{user:o,file:e,shareToken:c,experiments:a}))}return null}})),define("metaserver/static/js/modules/clean/logging/hive/schemas/web-app_actions_telemetry",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppActionsTelemetryRow=void 0;t.AppActionsTelemetryRow=class{constructor(e){this.category="web-app_actions_telemetry",this.user_id=null,this.session_id=null,this.request_id=null,this.url=null,this.telemetry_session_id=e.telemetry_session_id,this.event_name=e.event_name,this.event_start_ts=e.event_start_ts,this.event_extras=e.event_extras,Object.seal(this)}}})),define("metaserver/static/js/modules/clean/react/app_actions/telemetry_client",["require","exports","tslib","metaserver/static/js/modules/clean/logging/telemetry","metaserver/static/js/modules/clean/logging/hive/schemas/web-app_actions_telemetry"],(function(e,t,o,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPiiSafeExtension=t.createTelemetryClient=t.TelemetryClient=t.Session=void 0,n=o.__importStar(n);class r{constructor(e,t){this.logger=e,this.context=t,this.sessionId=r.generateRandomId()}static generateRandomId(){return Math.random().toString(36).substring(2)}static getCurrentTimestamp(){return(new Date).getTime()}event(e,t){const o=r.getCurrentTimestamp(),n=Object.assign(Object.assign({},this.context),t),i=new a.AppActionsTelemetryRow({telemetry_session_id:this.sessionId,event_name:e,event_start_ts:o,event_extras:JSON.stringify(n)});this.logger.log(i)}}t.Session=r;class i{constructor(e,t){this.logger=e,this.context=t||{}}session(e){const t=Object.assign(Object.assign({},this.context),e);return new r(this.logger,t)}}t.TelemetryClient=i;const s=new n.HiveLogger;t.createTelemetryClient=function(e){return new i(s,e)};const l=(function(e){const t={};for(const o of e)t[o]=!0;return t})(["",".doc",".docx",".pdf",".dwg",".png",".jpg",".jpeg",".tiff",".m4v",".wmv",".mpg",".pptx",".xlsx",".pages",".numbers",".key"]);t.getPiiSafeExtension=function(e){return l[e]?e:"__REDACTED__"}})),define("metaserver/static/js/modules/clean/react/flows/conversions/actions/media_remux",["require","exports","tslib","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/flows/conversions/convert","metaserver/static/js/modules/clean/react/flows/conversions/api","metaserver/static/js/modules/clean/react/flows/conversions/utils","dig-components/icons/src","metaserver/static/js/modules/clean/react/flows/constants","metaserver/static/js/modules/clean/react/flows/conversions/adoption_utils","metaserver/static/js/modules/clean/react/flows/conversions/convert_batch"],(function(e,t,o,n,a,r,i,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConversionStrings=t.MediaRemuxBatchActions=t.MediaRemuxActions=void 0;const d=(e,t)=>(n,s,l)=>{const{isCurrentFolderEligibleForAutomation:u,isSubfolderEligibleForAutomation:d,source:p}=l;let f;return t&&(i.isAutomatedAdoptionV2Enabled(s)?f=o=>a.getM1AdoptionSnackbarProps({user:s,conversionType:"media-remux",folderRuleAction:t,fileType:e,resultPath:o,isCurrentFolderEligibleForAutomation:u,isSubfolderEligibleForAutomation:d,source:p}):i.isAutomatedAdoptionM2Enabled(s)&&(f=o=>c.getM2AdoptionSnackbarProps({user:s,conversionType:"media-remux",folderRuleAction:t,fileType:e,resultPath:o,source:p,nsId:n[0].ns_id}))),a.convertFileAndShowSnackbar(Object.assign(Object.assign({},l),{file:n[0],user:s,conversionType:"media-remux",folderRuleAction:t,loggingFunctions:i.getConversionLoggingFunctions("media-remux"),getStrings:(t,o)=>_(e.toUpperCase(),t,s,o),conversionFn:(t,n,a)=>o.__awaiter(void 0,void 0,void 0,(function*(){return(yield r.mediaRemux(n.id,i.getFileIdentifier(t,a),e)).path})),getAdoptionSnackbarProps:f}))},p=l.SUPPORTED_VIDEO_OUTPUT_CONTAINERS.map(e=>({actionText:e.toUpperCase(),actionIcon:s.VideoLine,selector:i.withExperimentSelector("expFlowsManualVideoRemuxUi",i.singleFileWithExtensionSelector(l.SUPPORTED_VIDEO_INPUT_EXTENSIONS.filter(t=>t!==e))),convert:d(e,"video_conversion")})),f=l.SUPPORTED_AUDIO_OUTPUT_CONTAINERS.map(e=>({actionText:e.toUpperCase(),actionIcon:s.AudioLine,selector:i.withExperimentSelector("expFlowsAudioConversionUi",i.singleFileWithExtensionSelector(l.SUPPORTED_AUDIO_INPUT_EXTENSIONS.filter(t=>t!==e))),convert:d(e)}));t.MediaRemuxActions=[...p,...f];const m=l.SUPPORTED_VIDEO_OUTPUT_CONTAINERS.map(e=>({actionText:e.toUpperCase(),actionIcon:s.VideoLine,selector:i.withExperimentSelector("expFlowsManualVideoRemuxUi",i.strictMultiFileWithExtensionSelector(l.SUPPORTED_VIDEO_INPUT_EXTENSIONS.filter(t=>t!==e))),convert:(t,o,{source:n})=>u.convertFilesBatch({files:t,template:{sequence:[{workflow_action:{".tag":"video_conversion",format:e}}]},conversionType:"media-remux",source:n})})),g=l.SUPPORTED_AUDIO_OUTPUT_CONTAINERS.map(e=>({actionText:e.toUpperCase(),actionIcon:s.AudioLine,selector:i.withExperimentSelector("expFlowsManualVideoRemuxUi",i.strictMultiFileWithExtensionSelector(l.SUPPORTED_AUDIO_INPUT_EXTENSIONS.filter(t=>t!==e))),convert:(t,o,{source:n})=>u.convertFilesBatch({files:t,template:{sequence:[{workflow_action:{".tag":"audio_conversion",format:e}}]},conversionType:"media-remux",source:n})}));function _(e,t,o,a){const r=i.getDefaultConversionStrings(e,t,o,a);return Object.assign(Object.assign({},r),{failTooLarge:n.intl.formatMessage({id:"D67i/e",defaultMessage:"Couldn't save as {fileType} because the file is too large. The maximum file size is {maxSize} MB."},{fileType:e,maxSize:512})})}t.MediaRemuxBatchActions=[...m,...g],t.getConversionStrings=_})),define("metaserver/static/js/modules/clean/react/flows/conversions/actions/convert_video_to_gif",["require","exports","metaserver/static/js/modules/clean/react/flows/conversions/utils","dig-components/icons/src","metaserver/static/js/modules/clean/react/flows/conversions/modals"],(function(e,t,o,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConvertVideoToGifAction=void 0;const r=["mov","mp4","avi","mkv","mpeg"];t.ConvertVideoToGifAction={actionText:"GIF",actionIcon:n.VideoLine,selector:(e,t)=>{const n=o.singleFileWithExtensionSelector(r),a=!!t&&t.expFlowsManualVideoGifUi;return n(e)&&a},convert:function(e,t,{shareToken:o}){return a.asyncLaunchVideoToGifSettingsModal(e[0],t,o),Promise.resolve()}}})),define("metaserver/static/js/modules/clean/react/flows/conversions/modals",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/components/modal","react-redux","metaserver/static/js/modules/clean/react/browse/data/store","react-intl","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n,a,r,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncLaunchVideoToGifSettingsModal=void 0,n=o.__importDefault(n),t.asyncLaunchVideoToGifSettingsModal=function(t,c,u){new Promise((t,o)=>{e(["metaserver/static/js/modules/clean/react/flows/components/modals/video_to_gif_settings_modal"],t,o)}).then(o.__importStar).then(({StatefulVideoToGifSettingsModal:e})=>{a.Modal.showInstance(n.default.createElement(r.Provider,{store:i.getStoreForBrowse()},n.default.createElement(s.RawIntlProvider,{value:l.intl},n.default.createElement(e,{file:t,user:c,shareToken:u}))))})}})),define("metaserver/static/js/modules/clean/react/flows/lib/api",["require","exports","metaserver/static/js/api_v2/user_client","metaserver/static/js/modules/clean/active_user","metaserver/static/js/modules/clean/stormcrow/gating_factory","metaserver/static/js/modules/clean/react/flows/logging/flows_loggers"],(function(e,t,o,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitFileWorkflow=t.getUserExperiments=t.undoActions=t.getBoltData=t.getFolderMetadata=t.getUserAutomations=t.getFolderRulesConfig=t.removeFolderRules=t.updateFolderRules=t.getFeedbackStatus=t.logFreeformFeedback=t.createFolder=t.getFolderRulesBatch=t.moveFile=t.setupFolderRules=t.getFolderRules=t.deleteFolderRules=void 0,t.deleteFolderRules=function(e){const t={delete_arg:{".tag":"delete_folder_rule_arg",folder_fq_path:e}};return(new o.UserApiV2Client).ns("flows").rpc("delete_rule",t,{subjectUserId:n.mustGetActiveUserId()})},t.getFolderRules=function(e){const t={get_rule_arg:{".tag":"get_folder_rule_arg",folder_fq_path:e}};return(new o.UserApiV2Client).ns("flows").rpc("get_rule",t,{subjectUserId:n.mustGetActiveUserId()})},t.setupFolderRules=function(e,t){const a={setup_rule_arg:{".tag":"setup_folder_rule_arg",folder_fq_path:e,rule_set:t}};return(new o.UserApiV2Client).ns("flows").rpc("setup_rule",a,{subjectUserId:n.mustGetActiveUserId()})},t.moveFile=function(e,t){const a={from_path:e,to_path:t};return(new o.UserApiV2Client).ns("files").rpc("move_v2",a,{subjectUserId:n.mustGetActiveUserId()})},t.getFolderRulesBatch=function(e){const t={get_rule_batch_arg:{".tag":"get_folder_rule_batch_arg",folder_fq_paths:e}};return(new o.UserApiV2Client).ns("flows").rpc("get_rule_batch",t,{subjectUserId:n.mustGetActiveUserId()})},t.createFolder=function(e){const t={path:e};return r.PapLogger.logInitiateAutoFolderModalFolderCreate(),(new o.UserApiV2Client).ns("files").rpc("create_folder_v2",t,{subjectUserId:n.mustGetActiveUserId()}).then(e=>(r.PapLogger.logSucceedAutoFolderModalFolderCreate(),e),e=>{throw r.PapLogger.logFailAutoFolderModalFolderCreate(),e})},t.logFreeformFeedback=function(e,t,a){const r={log_feedback_arg:{".tag":"log_freeform_feedback_arg",freeform_feedback:e,folder_fq_path:t,feedback_source:a}};return(new o.UserApiV2Client).ns("flows").rpc("log_feedback",r,{subjectUserId:n.mustGetActiveUserId()})},t.getFeedbackStatus=function(e){const t={get_feedback_status_arg:{".tag":"get_freeform_feedback_status_arg",feedback_source:e}};return(new o.UserApiV2Client).ns("flows").rpc("get_feedback_status",t,{subjectUserId:n.mustGetActiveUserId()})},t.updateFolderRules=function(e,t,a){const r={update_rules_arg:{".tag":"update_folder_rules_arg",folder_fq_path:e,rule_set:t,apply_to_existing_files:a}};return(new o.UserApiV2Client).ns("flows").rpc("update_rules",r,{subjectUserId:n.mustGetActiveUserId()})},t.removeFolderRules=function(e,t){const a={remove_rules_arg:{".tag":"remove_folder_rules_arg",folder_fq_path:e,rule_set:t}};return(new o.UserApiV2Client).ns("flows").rpc("remove_rules",a,{subjectUserId:n.mustGetActiveUserId()})},t.getFolderRulesConfig=function(){return(new o.UserApiV2Client).ns("flows").rpc("get_folder_rules_config",void 0,{subjectUserId:n.mustGetActiveUserId()})},t.getUserAutomations=function(){return(new o.UserApiV2Client).ns("flows").rpc("get_user_automations",{folder_limit:1e3},{subjectUserId:n.mustGetActiveUserId()})},t.getFolderMetadata=function(e){const t={path:e};return(new o.UserApiV2Client).ns("files").rpc("get_metadata",t,{subjectUserId:n.mustGetActiveUserId()})},t.getBoltData=function(){return(new o.UserApiV2Client).ns("flows").rpc("get_bolt_data",void 0,{subjectUserId:n.mustGetActiveUserId()})},t.undoActions=function(e,t){const a={creates:e,moves:t};return(new o.UserApiV2Client).ns("flows").rpc("undo_actions",a,{subjectUserId:n.mustGetActiveUserId()})},t.getUserExperiments=function(e){const t={features:e};return a.getGatingClientSingleton().getVariant(t,n.mustGetActiveUserId())},t.submitFileWorkflow=function(e,t){const a={template:e,file_ids:t};return(new o.UserApiV2Client).ns("flows").rpc("submit_file_workflow",a,{subjectUserId:n.mustGetActiveUserId()})}})),define("metaserver/static/js/modules/clean/react/flows/redux/actions",["require","exports","tslib","metaserver/static/js/modules/clean/react/flows/redux/types","metaserver/static/js/modules/clean/react/flows/redux/helpers","metaserver/static/js/modules/clean/react/flows/lib/api","metaserver/static/js/modules/clean/react/flows/tray_io/apis","metaserver/static/js/modules/clean/react/flows/tray_io/constants","metaserver/static/js/modules/clean/react/flows/constants","metaserver/static/js/modules/clean/active_user"],(function(e,t,o,n,a,r,i,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setShouldSubscribeToBolt=t.setAutoFolderOnboarding=t.removeUserAutomation=t.toggleAutomationStatus=t.editUserAutomation=t.addUserAutomation=t.getUserAutomations=t.setUserAutomations=t.getUserExperiments=t.setUserExperiments=t.getFolderRulesConfig=t.setFolderRulesConfig=void 0,r=o.__importStar(r);const u=[l.UI_EXPERIMENTS.DASHBOARD_UI_EXP_M1,l.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1,l.UI_EXPERIMENTS.CARD_SUBTEXT_M1];function d(e){return{type:n.Actions.SetFolderRulesConfig,payload:e}}function p(e){return{type:n.Actions.SetUserExperiments,payload:e}}function f(e){return{type:n.Actions.SetUserAutomations,payload:e}}function m(e){return{type:n.Actions.AddUserAutomation,payload:e}}t.setFolderRulesConfig=d,t.getFolderRulesConfig=function(e){return t=>o.__awaiter(this,void 0,void 0,(function*(){var o,n;t(d({status:"pending"}));try{const a=yield r.getFolderRulesConfig(),i=(null===(o=a.folder_rules_config)||void 0===o?void 0:o.actions)||[],s=(null===(n=a.folder_rules_config)||void 0===n?void 0:n.action_experiments)||[];t(d({status:"completed",data:i,hasDashboardAccess:Boolean(a.exp_flows_dashboard_ui),actionExperiments:s,expFlowsTrayPoC:e}))}catch(e){t(d({status:"errored",error:e.message}))}}))},t.setUserExperiments=p,t.getUserExperiments=function(e=u){return t=>o.__awaiter(this,void 0,void 0,(function*(){if(0!==e.length){t(p({status:"pending"}));try{const o=yield r.getUserExperiments(e),n=(null==o?void 0:o.variantInfos)||[];t(p({status:"completed",data:n}))}catch(e){t(p({status:"errored",error:e.message}))}}else t(p({status:"completed",data:[]}))}))},t.setUserAutomations=f,t.getUserAutomations=function(e){return t=>o.__awaiter(this,void 0,void 0,(function*(){t(f({status:"pending"}));try{const n=(function(e){var t,n,r,i;const s=[];if(e.folder_rule_results)for(const a of e.folder_rule_results)if(!a.err&&(null===(t=a.folder_rule_set)||void 0===t?void 0:t.rules)&&(null===(n=a.folder_rule_set)||void 0===n?void 0:n.rules.length)>0){const e=null===(r=a.folder_rule_set)||void 0===r?void 0:r.rules[0],t=null===(i=e.action)||void 0===i?void 0:i.action;if(!t)continue;const{".tag":n}=t,l=o.__rest(t,[".tag"]);"other"!==n&&a.fq_path&&s.push({action:n,actionArgs:l,fqPath:a.fq_path,isActive:e.enabled||!1,nsId:a.ns_id})}return s.sort(a.compareAutomation),s})(yield r.getUserAutomations());t(f({status:"completed",data:n})),e&&t((function(){return e=>o.__awaiter(this,void 0,void 0,(function*(){i.listSolutionInstances(s.SOLUTION_ID).then(t=>{const o=t.instances;if(o)for(const t of o){let o="",n="";for(const e of t.config_values)if(e.external_id===s.FOLDER_PATH_EXTERNAL_ID){o=e.value;const t=c.mustGetActiveUser();t.home_ns_id!==t.root_ns_id&&(o="/"+t.display_name+"/"+o)}else e.external_id===s.SENDER_EMAIL_EXTERNAL_ID&&(n=e.value);const a={connectedEmailService:"google",senderEmail:n,folderFqPath:o,id:t.id};e(m({fqPath:o,isActive:!0,action:"email_ingest",actionArgs:a,nsId:void 0}))}})}))})())}catch(e){t(f({status:"errored",error:e.message}))}}))},t.addUserAutomation=m,t.editUserAutomation=function(e){return{type:n.Actions.EditUserAutomation,payload:e}},t.toggleAutomationStatus=function(e){return{type:n.Actions.ToggleAutomationStatus,payload:e}},t.removeUserAutomation=function(e){return{type:n.Actions.RemoveUserAutomation,payload:{fqPath:e}}},t.setAutoFolderOnboarding=e=>({type:n.Actions.SetAutoFolderOnboarding,payload:e}),t.setShouldSubscribeToBolt=e=>({type:n.Actions.SetShouldSubscribeToBolt,payload:e})})),define("metaserver/static/js/modules/clean/react/flows/redux/helpers",["require","exports","metaserver/static/js/modules/clean/filepath/filepath"],(function(e,t,o){"use strict";function n(e,t){return e.toLocaleLowerCase().localeCompare(t.toLocaleLowerCase())}function a(e,t){const a=(function(e,t){return o.filename(e.fqPath).toLocaleLowerCase().localeCompare(o.filename(t.fqPath).toLocaleLowerCase())})(e,t);return 0!==a?a:n(e.fqPath,t.fqPath)}Object.defineProperty(t,"__esModule",{value:!0}),t.insertAutomation=t.compareAutomation=t.compareFqPath=void 0,t.compareFqPath=n,t.compareAutomation=a,t.insertAutomation=function(e,t){const o=[];let r=!1;for(const i of e)!r&&a(t,i)<0&&(o.push(Object.assign({},t)),r=!0),0!==n(t.fqPath,i.fqPath)&&o.push(Object.assign({},i));return r||o.push(Object.assign({},t)),o}})),define("metaserver/static/js/modules/clean/react/flows/redux/reducer",["require","exports","metaserver/static/js/modules/clean/react/flows/redux/types","metaserver/static/js/modules/clean/react/flows/redux/helpers"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutomationsReducer=t.defaultAutomationsState=void 0,t.defaultAutomationsState={folderRulesConfig:{status:"initial"},userAutomations:{status:"initial"},autoFolderOnboarding:void 0,userExperiments:{status:"initial"},shouldSubscribeToBolt:!1},t.AutomationsReducer=(e=t.defaultAutomationsState,a)=>{switch(a.type){case o.Actions.SetFolderRulesConfig:return Object.assign(Object.assign({},e),{folderRulesConfig:a.payload});case o.Actions.SetUserAutomations:return Object.assign(Object.assign({},e),{userAutomations:a.payload});case o.Actions.SetAutoFolderOnboarding:return Object.assign(Object.assign({},e),{autoFolderOnboarding:a.payload});case o.Actions.AddUserAutomation:{const t="completed"===e.userAutomations.status?e.userAutomations.data:void 0;if(!t)return e;const o=n.insertAutomation(t,a.payload);return Object.assign(Object.assign({},e),{userAutomations:{status:"completed",data:o}})}case o.Actions.EditUserAutomation:{const t="completed"===e.userAutomations.status?e.userAutomations.data:void 0;if(!t)return e;const o=a.payload,r=t.map(e=>0===n.compareFqPath(e.fqPath,o.fqPath)?Object.assign(Object.assign({},e),o):e);return Object.assign(Object.assign({},e),{userAutomations:{status:"completed",data:r}})}case o.Actions.RemoveUserAutomation:{const t="completed"===e.userAutomations.status?e.userAutomations.data:void 0;if(!t)return e;const o=a.payload,r=t.filter(e=>0!==n.compareFqPath(o.fqPath,e.fqPath));return Object.assign(Object.assign({},e),{userAutomations:{status:"completed",data:r}})}case o.Actions.ToggleAutomationStatus:{const t="completed"===e.userAutomations.status?e.userAutomations.data:void 0;if(!t)return e;const o=a.payload,r=t.map(e=>0===n.compareFqPath(e.fqPath,o.fqPath)?Object.assign(Object.assign({},e),o):e);return Object.assign(Object.assign({},e),{userAutomations:{status:"completed",data:r}})}case o.Actions.SetUserExperiments:return Object.assign(Object.assign({},e),{userExperiments:a.payload});case o.Actions.SetShouldSubscribeToBolt:return Object.assign(Object.assign({},e),{shouldSubscribeToBolt:a.payload});default:return e}}})),define("metaserver/static/js/modules/clean/react/flows/redux/store",["require","exports","tslib","lodash","metaserver/static/js/modules/clean/redux/namespaces","metaserver/static/js/modules/clean/redux/store","metaserver/static/js/modules/clean/react/flows/redux/reducer","metaserver/static/js/modules/clean/tagging/data/store"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStoreForAutomations=void 0,n=o.__importStar(n);const l={[a.AUTOMATIONS_NAMESPACE_KEY]:i.AutomationsReducer};t.getStoreForAutomations=n.once(()=>{const e=r.getStoreAndRegisterReducers(l);return s.getStoreForTagging(),e})})),define("metaserver/static/js/modules/clean/react/flows/redux/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Actions=void 0,(function(e){e.GetFolderRulesConfig="AUTOMATIONS/GET_FOLDER_RULES_CONFIG",e.SetFolderRulesConfig="AUTOMATIONS/SET_FOLDER_RULES_CONFIG",e.GetUserAutomations="AUTOMATIONS/GET_USER_AUTOMATIONS",e.SetUserAutomations="AUTOMATIONS/SET_USER_AUTOMATIONS",e.SetAutoFolderOnboarding="AUTOMATIONS/SetAutoFolderOnboarding",e.AddUserAutomation="AUTOMATIONS/ADD_USER_AUTOMATION",e.EditUserAutomation="AUTOMATIONS/EDIT_USER_AUTOMATION",e.RemoveUserAutomation="AUTOMATIONS/REMOVE_USER_AUTOMATION",e.ToggleAutomationStatus="TOGGLE_AUTOMATION_STATUS",e.SetUserExperiments="AUTOMATIONS/SET_USER_EXPERIMENTS",e.SetShouldSubscribeToBolt="AUTOMATIONS/SET_SHOULD_SUBSCRIBE_TO_BOLT"})(t.Actions||(t.Actions={}))})),define("metaserver/static/js/modules/clean/react/flows/utils/modal_utils",["require","exports","react"],(function(e,t,o){"use strict";function n(){return(new Date).getTime().toString()+Math.random().toString(36).substring(2)}Object.defineProperty(t,"__esModule",{value:!0}),t.setPreviewWidth=t.useModalLogger=t.makeAutoFolderModalLogger=t.generateModalSessionId=void 0,t.generateModalSessionId=n,t.makeAutoFolderModalLogger=function(e,t){return function(o,n,...a){const r=o[n],i=t.includes(n);if(null!=r&&i)return;const s=Date.now();o[n]=s,e(n,...a)}},t.useModalLogger=function(e,t){const a=o.useRef(t||n()),[r]=o.useState({id:a.current});return{logModalEvent:o.useCallback((t,...o)=>{e(r,t,...o)},[r]),modalSessionId:a.current}},t.setPreviewWidth=(e,t,o,n)=>!n||"select"!==o&&"settings"!==o?e.find(e=>e.type===t)&&e.find(e=>e.type===t).supportsPreview&&("settings"===o||"initial"===o)?1200:600:1200})),define("metaserver/static/js/modules/clean/react/flows/tray_io/apis",["require","exports","metaserver/static/js/api_v2/user_client","metaserver/static/js/modules/clean/active_user"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteSolutionInstance=t.listSolutionInstances=t.generateAuthCode=t.updateSolutionInstance=t.createSolutionInstance=t.createUserToken=t.createTrayUser=void 0,t.createTrayUser=function(e){return(new o.UserApiV2Client).ns("flows").rpc("create_tray_user",void 0,{subjectUserId:e})},t.createUserToken=function(e){return(new o.UserApiV2Client).ns("flows").rpc("create_user_token",void 0,{subjectUserId:e})},t.createSolutionInstance=function(e,t,n,a){const r={solution_id:t,instance_name:n,user_token:a};return(new o.UserApiV2Client).ns("flows").rpc("create_solution_instance",r,{subjectUserId:e})},t.updateSolutionInstance=function(e,t,n){const a={instance:t,user_token:n};return(new o.UserApiV2Client).ns("flows").rpc("update_solution_instance",a,{subjectUserId:e})},t.generateAuthCode=function(e){return(new o.UserApiV2Client).ns("flows").rpc("generate_auth_code",void 0,{subjectUserId:e})},t.listSolutionInstances=function(e){const t={solution_id:e};return(new o.UserApiV2Client).ns("flows").rpc("list_solution_instances",t,{subjectUserId:n.mustGetActiveUserId()})},t.deleteSolutionInstance=function(e){const t={instance_id:e};return(new o.UserApiV2Client).ns("flows").rpc("delete_solution_instance",t,{subjectUserId:n.mustGetActiveUserId()})}})),define("metaserver/static/js/modules/clean/react/flows/tray_io/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXP_TRAY_POC_API_ONLY=t.EXP_TRAY_POC_EMBEDDED=t.SENDER_EMAIL_EXTERNAL_ID=t.HISTORICAL_SYNC_TIME_EXTERNAL_ID=t.FOLDER_PATH_EXTERNAL_ID=t.AUTH_IDS=t.GMAIL_AUTH_EXTERNAL_ID=t.DBX_AUTH_EXTERNAL_ID=t.SOLUTION_ID=void 0,t.SOLUTION_ID="fa435765-0441-411c-b0e0-d45e203c23a8",t.DBX_AUTH_EXTERNAL_ID="external_dropbox_authentication",t.GMAIL_AUTH_EXTERNAL_ID="external_gmail_authentication",t.AUTH_IDS=[t.DBX_AUTH_EXTERNAL_ID,t.GMAIL_AUTH_EXTERNAL_ID],t.FOLDER_PATH_EXTERNAL_ID="external_folder_path",t.HISTORICAL_SYNC_TIME_EXTERNAL_ID="external_historical_sync_time",t.SENDER_EMAIL_EXTERNAL_ID="external_sender_email",t.EXP_TRAY_POC_EMBEDDED="EMBEDDED",t.EXP_TRAY_POC_API_ONLY="API_ONLY"})),define("metaserver/static/js/modules/clean/react/flows/automations/auto_audio",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/flows/constants","typescript/component_libraries/flows/src/components/icon-row/index","dig-components/icons","dig-components/icons/src","spectrum/icon_content/index","typescript/component_libraries/flows/src/components/automation-preview/index"],(function(e,t,o,n,a,r,i,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoAudioUiConfig=void 0,n=o.__importDefault(n);t.AutoAudioUiConfig=e=>({action:{description:a.intl.formatMessage({id:"tgJ2Cm",defaultMessage:"Save as"}),rightRailDescription:a.intl.formatMessage({id:"ci35Iy",defaultMessage:"Save as audio"}),icon:n.default.createElement(s.UIIcon,{src:l.AudioLine}),tooltip:a.intl.formatMessage({id:"Zlgoz2",defaultMessage:"Are saved as audio"}),defaultActionData:{format:"mp3",input_filetypes:[]},renderAdditionalControls:({data:e,onDataChange:t,onDataError:o})=>n.default.createElement(i.OutputTypeControls,{allOutputTypes:r.SUPPORTED_AUDIO_OUTPUT_CONTAINERS,selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:o=>t(Object.assign(Object.assign({},e),{format:o})),onError:o}),renderPseudoTriggerControls:({data:e,onDataChange:t,onDataError:o})=>n.default.createElement(i.InputTypeControls,{allInputTypes:r.SUPPORTED_AUDIO_INPUT_EXTENSIONS,selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:o=>t(Object.assign(Object.assign({},e),{input_filetypes:o})),onError:o}),allowApplyToExistingFiles:e=>"add"===e},genericDescription:d(e),shortLabel:a.intl.formatMessage({id:"HYJJOF",defaultMessage:"audio"}),title:a.intl.formatMessage({id:"1+92Ih",defaultMessage:"Choose a file format to convert audio files to"}),trigger:"folder",type:"audio_conversion",notifications:{inProgress:()=>a.intl.formatMessage({id:"Q6KR2n",defaultMessage:"Automatically saving your files as audio..."}),success:e=>a.intl.formatMessage({id:"z22mBM",defaultMessage:"{numSucceeded, plural, one {# file automatically saved as an audio file} other {# files automatically saved as audio files}}."},{numSucceeded:e}),fail:e=>a.intl.formatMessage({id:"HmFt9a",defaultMessage:"{numFailed, plural, one {# file couldn't be automatically saved as an audio file} other {# files couldn't be automatically saved as audio files}}."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>p(e)});const d=e=>{const t=null==e?void 0:e.find(e=>e.feature===r.UI_EXPERIMENTS.CARD_SUBTEXT_M1);switch(null==t?void 0:t.variant){case r.CARD_SUBTEXT_M1_VARIANTS.PERSISTENT:return a.intl.formatMessage({id:"iuqUJ/",defaultMessage:"For example, save copies of wav files as mp3s"});default:return null}},p=e=>{const t=null==e?void 0:e.find(e=>e.feature===r.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1);switch(null==t?void 0:t.variant){case r.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS.ON:return n.default.createElement(f,null);default:return null}},f=()=>n.default.createElement(u.PreviewTemplate,{triggerIcon:n.default.createElement(u.FolderWithFile,{fileIcon:"audio-large",fileOrientation:"horizontal"}),triggerLabel:n.default.createElement(u.LabelChip,{label:a.intl.formatMessage({id:"Rwn2EM",defaultMessage:"MyAudio.{modifier}"},{modifier:n.default.createElement("span",{style:{color:"var(--color__attention__text)"}},n.default.createElement("b",null,"wav"))}),iconLeft:n.default.createElement(s.UIIcon,{src:l.AudioLine})}),actionIcon:n.default.createElement(c.IconContent,{name:"audio-large",className:"flows-automation-preview__icons--neg_margin"}),secondaryActionIcon:n.default.createElement(c.IconContent,{name:"audio-large",className:"flows-automation-preview__icons--neg_margin"}),actionLabel:n.default.createElement(u.LabelChip,{label:a.intl.formatMessage({id:"6r8qk9",defaultMessage:"MyAudio.{modifier}"},{modifier:n.default.createElement("span",{style:{color:"var(--color__attention__text)"}},n.default.createElement("b",null,"wav"))}),iconLeft:n.default.createElement(s.UIIcon,{src:l.AudioLine})}),secondaryActionLabel:n.default.createElement(u.LabelChip,{label:a.intl.formatMessage({id:"6r8qk9",defaultMessage:"MyAudio.{modifier}"},{modifier:n.default.createElement("span",{style:{color:"var(--color__alert__text)"}},n.default.createElement("b",null,"mp3"))}),iconLeft:n.default.createElement(s.UIIcon,{src:l.AudioLine})}),description:a.intl.formatMessage({id:"fH2CH1",defaultMessage:"For example, save copies of wav files as mp3s."})})})),define("metaserver/static/js/modules/clean/react/flows/automations/auto_image",["require","exports","tslib","react","typescript/component_libraries/flows/src/components/icon-row/index","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/flows/constants","dig-components/icons","dig-components/icons/src","spectrum/icon_content/index","typescript/component_libraries/flows/src/components/automation-preview/index"],(function(e,t,o,n,a,r,i,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoImageUiConfig=void 0,n=o.__importDefault(n);t.AutoImageUiConfig=e=>({action:{description:r.intl.formatMessage({id:"Fhu2DC",defaultMessage:"Save as"}),rightRailDescription:r.intl.formatMessage({id:"FtUJcR",defaultMessage:"Save as images"}),icon:n.default.createElement(s.UIIcon,{src:l.ImageLine}),tooltip:r.intl.formatMessage({id:"8r69yc",defaultMessage:"Are saved as images"}),defaultActionData:{format:"png",input_filetypes:[]},renderAdditionalControls:({data:e,onDataChange:t,onDataError:o})=>n.default.createElement(a.OutputTypeControls,{allOutputTypes:i.SUPPORTED_IMAGE_OUTPUT_EXTENSIONS,selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:o=>t(Object.assign(Object.assign({},e),{format:o})),onError:o}),renderPseudoTriggerControls:({data:e,onDataChange:t,onDataError:o})=>n.default.createElement(a.InputTypeControls,{allInputTypes:i.SUPPORTED_DOC_INPUT_EXTENSIONS.concat(i.SUPPORTED_IMAGE_INPUT_EXTENSIONS),selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:o=>t(Object.assign(Object.assign({},e),{input_filetypes:o})),onError:o}),allowApplyToExistingFiles:e=>"add"===e},genericDescription:d(e),shortLabel:r.intl.formatMessage({id:"CpxBZu",defaultMessage:"image"}),title:r.intl.formatMessage({id:"GBDUOC",defaultMessage:"Choose an image format to convert files to"}),trigger:"folder",type:"image_conversion",notifications:{inProgress:()=>r.intl.formatMessage({id:"tpGlkv",defaultMessage:"Automatically saving your files as images..."}),success:e=>r.intl.formatMessage({id:"Umhvnj",defaultMessage:"{numSucceeded, plural, one {# file automatically saved as an image} other {# files automatically saved as images}}."},{numSucceeded:e}),fail:e=>r.intl.formatMessage({id:"opwGp2",defaultMessage:"{numFailed, plural, one {# file couldn't automatically be saved as an image} other {# files couldn't automatically be saved as images}}."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>p(e)});const d=e=>{const t=null==e?void 0:e.find(e=>e.feature===i.UI_EXPERIMENTS.CARD_SUBTEXT_M1);switch(null==t?void 0:t.variant){case i.CARD_SUBTEXT_M1_VARIANTS.PERSISTENT:return r.intl.formatMessage({id:"/pSqCU",defaultMessage:"For example, save copies of png files as jpgs"});default:return null}},p=e=>{const t=null==e?void 0:e.find(e=>e.feature===i.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1);switch(null==t?void 0:t.variant){case i.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS.ON:return n.default.createElement(f,null);default:return null}},f=()=>n.default.createElement(u.PreviewTemplate,{triggerIcon:n.default.createElement(u.FolderWithFile,{fileIcon:"image-large"}),triggerLabel:n.default.createElement(u.LabelChip,{label:r.intl.formatMessage({id:"rUaST7",defaultMessage:"MyImage.{modifier}"},{modifier:n.default.createElement("span",{style:{color:"var(--color__attention__text)"}},n.default.createElement("b",null,"png"))}),iconLeft:n.default.createElement(s.UIIcon,{src:l.ImageLine})}),actionIcon:n.default.createElement(c.IconContent,{name:"image-large",className:"flows-automation-preview__icons--neg_margin"}),secondaryActionIcon:n.default.createElement(c.IconContent,{name:"image-large",className:"flows-automation-preview__icons--neg_margin"}),actionLabel:n.default.createElement(u.LabelChip,{label:r.intl.formatMessage({id:"rUaST7",defaultMessage:"MyImage.{modifier}"},{modifier:n.default.createElement("span",{style:{color:"var(--color__attention__text)"}},n.default.createElement("b",null,"png"))}),iconLeft:n.default.createElement(s.UIIcon,{src:l.ImageLine})}),secondaryActionLabel:n.default.createElement(u.LabelChip,{label:r.intl.formatMessage({id:"rUaST7",defaultMessage:"MyImage.{modifier}"},{modifier:n.default.createElement("span",{style:{color:"var(--color__alert__text)"}},n.default.createElement("b",null,"jpg"))}),iconLeft:n.default.createElement(s.UIIcon,{src:l.ImageLine})}),description:r.intl.formatMessage({id:"fSTowW",defaultMessage:"For example, save copies of png files as jpgs."})})})),define("metaserver/static/js/modules/clean/react/flows/automations/auto_naming_conventions",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","dig-components/icons","dig-components/icons/src","metaserver/static/js/modules/clean/react/hoc","metaserver/static/js/modules/clean/react/flows/constants","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_title_casing_selection_button","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_parent_folder_name_selection_button","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_date_selection_button","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_consistent_separator_selection_button","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_generic_live_preview","metaserver/static/js/modules/clean/react/naming_conventions/generic_live_preview","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_ml_toggle","metaserver/static/js/modules/clean/react/naming_conventions/types","metaserver/static/js/modules/clean/react/naming_conventions/utils","metaserver/static/js/modules/clean/react/naming_conventions/components/naming_conventions_view","spectrum/icon_content/index","typescript/component_libraries/flows/src/components/automation-preview/index"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f,m,g,_,v,b,w,y){"use strict";function h(e){return e.includes("nc_ml_filename_enabled")}function S(e){return e.includes("nc_metadata_enabled")}Object.defineProperty(t,"__esModule",{value:!0}),t.AutoNamingConventionsControls2=t.AutoNamingConventionsControls=t.AutoNamingConventionsUiConfig=void 0,n=o.__importStar(n),t.AutoNamingConventionsUiConfig=e=>({action:{description:a.intl.formatMessage({id:"rT2iTB",defaultMessage:"Rename to match the rules below"}),rightRailDescription:a.intl.formatMessage({id:"It11QI",defaultMessage:"Rename"}),icon:n.default.createElement(r.UIIcon,{src:i.CursorLine}),tooltip:a.intl.formatMessage({id:"3pMd5a",defaultMessage:"Are renamed"}),defaultActionData:{args_json:JSON.stringify(v.NamingConventionConversions.NamingConventionToApiV2(Object.assign(Object.assign({},_.defaultNamingConventionParameters),{mlFilenameParsing:!0})))},renderAdditionalControls:e=>e.actionExperiments.includes("nc_positioning_enabled")?n.default.createElement(t.AutoNamingConventionsControls2,Object.assign({},e)):n.default.createElement(t.AutoNamingConventionsControls,Object.assign({},e)),allowApplyToExistingFiles:e=>"add"===e||"edit"===e},genericDescription:O(e),shortLabel:a.intl.formatMessage({id:"355s7s",defaultMessage:"rename"}),title:a.intl.formatMessage({id:"vOITgb",defaultMessage:"Set a rule that renames files"}),trigger:"folder",type:"naming_conventions",notifications:{inProgress:()=>a.intl.formatMessage({id:"GcgPQq",defaultMessage:"Automatically renaming your files..."}),success:e=>a.intl.formatMessage({id:"xsD6gG",defaultMessage:"{numSucceeded, plural, one {# file} other {# files}} automatically renamed."},{numSucceeded:e}),fail:e=>a.intl.formatMessage({id:"8mMlk3",defaultMessage:"{numFailed, plural, one {# file} other {# files}} couldn't be automatically renamed."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>T(e)});const E=({data:e,onDataChange:t,onDataError:o,actionExperiments:a})=>{const[r,i]=n.default.useState(_.defaultNamingConventionParameters),[s,l]=n.default.useState(""),[b,w]=n.default.useState(!1);n.useEffect(()=>{var t;let n={};if(null==e?void 0:e.args_json)try{n=JSON.parse(e.args_json)}catch(e){}const a=v.NamingConventionConversions.NamingConventionFromApiV2(n);0===(null===(t=null==a?void 0:a.selectedRules)||void 0===t?void 0:t.length)&&o(),i(e=>Object.assign(Object.assign({},e),a)),w(!0)},[e,o]),n.useEffect(()=>{l(m.getGenericLivePreviewText(r))},[r]),n.useEffect(()=>{h(a)||y(Object.assign(Object.assign({},r),{mlFilenameParsing:!1}))},[b]);const y=e=>{const o=v.NamingConventionConversions.NamingConventionToApiV2(e);t({args_json:JSON.stringify(o)})},S=e=>Array.from(new Set([...r.selectedRules,e])),E=e=>{const t=e.target.value,o=[...r.selectedRules],n=o.indexOf(t);n>=0?o.splice(n,1):o.push(t);let a=r.mlFilenameParsing;t===_.NamingConventionType.upload_date&&(a=!A(_.NamingConventionType.upload_date)),y(Object.assign(Object.assign({},r),{selectedRules:o,mlFilenameParsing:a}))},A=e=>r.selectedRules.includes(e);return n.default.createElement("div",null,n.default.createElement("div",null,n.default.createElement(d.NamingConventionsDateSelectionButton,{isSelected:A(_.NamingConventionType.upload_date),onSelect:E,dateFormatSelection:r.dateFormatSelection,setDateFormatSelection:e=>{y(Object.assign(Object.assign({},r),{selectedRules:S(_.NamingConventionType.upload_date),dateFormatSelection:e,mlFilenameParsing:h(a)&&(!A(_.NamingConventionType.upload_date)||r.mlFilenameParsing)}))}}),n.default.createElement(c.NamingConventionsTitleCasingSelectionButton,{isSelected:A(_.NamingConventionType.capitalize_all_initials),onSelect:E}),n.default.createElement(p.NamingConventionsConsistentSeparatorSelectionButton,{isSelected:A(_.NamingConventionType.consistent_separators),onSelect:E,separatorSelection:r.consistentSeparatorSelection,setSeparatorSelection:e=>{y(Object.assign(Object.assign({},r),{selectedRules:S(_.NamingConventionType.consistent_separators),consistentSeparatorSelection:e}))},useSelectComponent:!1}),n.default.createElement(u.NamingConventionsParentFolderNameSelectionButton,{isSelected:A(_.NamingConventionType.parent_folder_name),onSelect:E})),n.default.createElement(f.NamingConventionsGenericLivePreview,{previewText:s}),h(a)?n.default.createElement(g.NamingConventionsMLToggle,{isToggled:r.mlFilenameParsing,onSelect:e=>{const t=e.target.checked;y(Object.assign(Object.assign({},r),{mlFilenameParsing:t}))},value:_.NamingConventionML,disabled:!A(_.NamingConventionType.upload_date)}):null)};E.displayName="UnstyledAutoNamingConventionsControls";const A=({data:e,dataError:t,onDataChange:o,onDataError:a,actionExperiments:r})=>{const[i,s]=n.default.useState({componentList:[],capitalizeAllInitials:!1,changeAllSeparators:!1,data:{dateInfo:[],consistentSeparatorSelection:_.ConsistentSeparatorSelection.spaces,keywords:[]}}),[l,c]=n.default.useState(_.ConsistentSeparatorSelection.spaces),[u,d]=n.default.useState(-1);n.useEffect(()=>{let t={component_list:[]};if(null==e?void 0:e.args_json)try{t=JSON.parse(e.args_json)}catch(e){}if(t.component_list){const e=v.NamingConventionConversions.NamingConventionsParametersFromRuleStruct(t,_.NamingConventionOrigin.from_automation);e.data=Object.assign(Object.assign({},e.data),{consistentSeparatorSelection:l}),-1!==u&&(e.componentList.splice(u,0,_.NamingConventionType.none),e.data.dateInfo.splice(u,0,{mlFilenameParsing:!1,dateFormatSelection:_.DateFormatSelection.yyyy_mm_dd}),e.data.keywords.splice(u,0,"")),e.componentList.includes(_.NamingConventionType.original_snippet)||(e.componentList.unshift(_.NamingConventionType.original_snippet),e.data.dateInfo.unshift({mlFilenameParsing:!1,dateFormatSelection:_.DateFormatSelection.yyyy_mm_dd}),e.data.keywords.unshift("")),s(t=>Object.assign(Object.assign({},t),e))}},[e,a]);return n.default.createElement("div",null,n.default.createElement(b.NamingConventionsView,{namingConventionsParameters:i,onNamingConventionsParametersChange:e=>{(e=>{const t=v.NamingConventionConversions.NamingConventionsParametersToRuleStruct(e);c(e.data.consistentSeparatorSelection),d(e.componentList.indexOf(_.NamingConventionType.none)),o({args_json:JSON.stringify(t)})})(e)},experiments:{expNamingConventionsMLFilename:h(r),expNamingConventionsMetadata:S(r)},onErrorVisible:e=>{const t=e.some(e=>(null==e?void 0:e.whenToShow)===_.WhenToShowError.IMMEDIATELY);for(const o of e)if(o)return void a(o.message,{disableSubmit:t,showErrors:t})},showMissingDataErrors:!!(null==t?void 0:t.showErrors),onInvalidData:e=>{a(void 0,{disableSubmit:e,showErrors:e})}}))};A.displayName="UnstyledAutoNamingConventionsControls2";const O=e=>{const t=null==e?void 0:e.find(e=>e.feature===l.UI_EXPERIMENTS.CARD_SUBTEXT_M1);switch(null==t?void 0:t.variant){case l.CARD_SUBTEXT_M1_VARIANTS.PERSISTENT:return a.intl.formatMessage({id:"Hgrenn",defaultMessage:'For example, add the word "final" to the name of files added to this folder'});default:return null}},T=e=>{const t=null==e?void 0:e.find(e=>e.feature===l.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1);switch(null==t?void 0:t.variant){case l.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS.ON:return n.default.createElement(C,null);default:return null}},C=()=>n.default.createElement(y.PreviewTemplate,{triggerIcon:n.default.createElement(y.FolderWithFile,{fileIcon:"docx-large"}),triggerLabel:n.default.createElement(y.LabelChip,{label:a.intl.formatMessage({id:"RCWy9b",defaultMessage:"MyDocument.docx"}),iconLeft:n.default.createElement(r.UIIcon,{src:i.CursorLine})}),actionIcon:n.default.createElement(w.IconContent,{name:"docx-large"}),actionLabel:n.default.createElement(y.LabelChip,{label:a.intl.formatMessage({id:"dNfmJA",defaultMessage:"MyDocument{modifier}.docx"},{modifier:n.default.createElement("span",{style:{backgroundColor:"var(--color__attention__background)"}},"_final")}),iconLeft:n.default.createElement(r.UIIcon,{src:i.CursorLine})}),description:a.intl.formatMessage({id:"Hgrenn",defaultMessage:'For example, add the word "final" to the name of files added to this folder'})});t.AutoNamingConventionsControls=s.withCSS(["/static/css/naming_conventions/naming_conventions-vflgxyeJd.css"])(E),t.AutoNamingConventionsControls2=s.withCSS(["/static/css/naming_conventions/naming_conventions-vflgxyeJd.css"])(A)})),define("metaserver/static/js/modules/clean/react/flows/automations/auto_pdf",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/flows/constants","typescript/component_libraries/flows/src/components/icon-row/index","dig-components/icons/src","dig-components/icons","spectrum/icon_content/index","typescript/component_libraries/flows/src/components/automation-preview/index"],(function(e,t,o,n,a,r,i,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoPdfUiConfig=void 0,n=o.__importDefault(n),t.AutoPdfUiConfig=e=>({action:{description:a.intl.formatMessage({id:"lUL/WC",defaultMessage:"Save as PDFs"},{b:e=>n.default.createElement("b",null,e)}),icon:n.default.createElement(l.UIIcon,{src:s.PdfLine}),tooltip:a.intl.formatMessage({id:"2c4ZCd",defaultMessage:"Are saved as PDFs"}),defaultActionData:{input_filetypes:[]},renderPseudoTriggerControls:({data:e,onDataChange:t,onDataError:o})=>n.default.createElement(i.InputTypeControls,{allInputTypes:r.SUPPORTED_PDF_EXTENSIONS,selectedInputTypes:null==e?void 0:e.input_filetypes,onSelect:o=>t(Object.assign(Object.assign({},e),{input_filetypes:o})),onError:o}),allowApplyToExistingFiles:e=>"add"===e},genericDescription:d(e),shortLabel:a.intl.formatMessage({id:"PJ39gK",defaultMessage:"PDF"}),title:a.intl.formatMessage({id:"IXfLjH",defaultMessage:"Convert files to PDFs"}),trigger:"folder",type:"pdf_conversion",notifications:{inProgress:()=>a.intl.formatMessage({id:"reapzT",defaultMessage:"Automatically saving your files as PDFs..."}),success:e=>a.intl.formatMessage({id:"VeOt0m",defaultMessage:"{numSucceeded, plural, one {# file automatically saved as a PDF} other {# files automatically saved as PDFs}}."},{numSucceeded:e}),fail:e=>a.intl.formatMessage({id:"HjIGnc",defaultMessage:"{numFailed, plural, one {# file couldn't be automatically saved as a PDF} other {# files couldn't be automatically saved as PDFs}}."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>p(e)});const d=e=>{const t=null==e?void 0:e.find(e=>e.feature===r.UI_EXPERIMENTS.CARD_SUBTEXT_M1);switch(null==t?void 0:t.variant){case r.CARD_SUBTEXT_M1_VARIANTS.PERSISTENT:return a.intl.formatMessage({id:"MJeqQ8",defaultMessage:"Save copies of files added to this folder as PDFs"});default:return null}},p=e=>{const t=null==e?void 0:e.find(e=>e.feature===r.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1);switch(null==t?void 0:t.variant){case r.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS.ON:return n.default.createElement(f,null);default:return null}},f=()=>n.default.createElement(u.PreviewTemplate,{triggerIcon:n.default.createElement(u.FolderWithFile,{fileIcon:"docx-large"}),actionIcon:n.default.createElement(c.IconContent,{name:"docx-large"}),secondaryActionIcon:n.default.createElement(c.IconContent,{name:"pdf-large",className:"flows-automation-preview__icons--neg_margin"}),description:a.intl.formatMessage({id:"MJeqQ8",defaultMessage:"Save copies of files added to this folder as PDFs"})})})),define("metaserver/static/js/modules/clean/react/flows/automations/auto_smart_subfolders",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","dig-components/typography","dig-components/controls","dig-components/icons","dig-components/icons/src"],(function(e,t,o,n,a,r,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSmartSubfoldersUiConfig=void 0,n=o.__importDefault(n);const c=({data:e,onDataChange:t,onDataError:o})=>{var a;const[s,l]=n.default.useState((null===(a=null==e?void 0:e.variant)||void 0===a?void 0:a[".tag"])||"use_existing_folders");return n.default.useEffect(()=>{t({variant:{".tag":"use_existing_folders"===s?"use_existing_folders":"use_premade_categories"}})},[s]),n.default.useEffect(()=>{var t;l((null===(t=null==e?void 0:e.variant)||void 0===t?void 0:t[".tag"])||"use_existing_folders")},[e]),n.default.createElement("div",null,n.default.createElement(r.Text,null,"Select a rule to classify and sort by"),n.default.createElement("div",{className:"classification-radio"},n.default.createElement("div",null,n.default.createElement(i.RadioButton,{"aria-label":"Pre-defined Document Classes",id:"pre-defined",checked:"use_premade_categories"===s,onChange:()=>{l("use_premade_categories")}}),n.default.createElement(r.Text,{tagName:"label",htmlFor:"pre-defined"},"Pre-defined Document Classes")),n.default.createElement("div",null,n.default.createElement(i.RadioButton,{"aria-label":"Your Existing Sub-folders",id:"existing",checked:"use_existing_folders"===s,onChange:()=>{l("use_existing_folders")}}),n.default.createElement(r.Text,{tagName:"label",htmlFor:"existing"},"Your Existing Sub-folders"))))};c.displayName="AutoSmartSubfolderOptions",t.AutoSmartSubfoldersUiConfig={action:{description:a.intl.formatMessage({id:"iqinwH",defaultMessage:"Automatically sort files into organized subfolders"}),icon:n.default.createElement(s.UIIcon,{src:l.MultipleFoldersLine}),tooltip:a.intl.formatMessage({id:"/hC6lR",defaultMessage:"Are sorted into organized subfolders"}),renderAdditionalControls:e=>n.default.createElement(c,Object.assign({},e))},genericDescription:a.intl.formatMessage({id:"a9iSb9",defaultMessage:"Sort files added to this folder into organized subfolders"}),shortLabel:a.intl.formatMessage({id:"y7ZDUa",defaultMessage:"sort files"}),title:a.intl.formatMessage({id:"QY8XR8",defaultMessage:"Files added to a folder are organized by content type"}),trigger:"folder",type:"smart_subfolders"}})),define("metaserver/static/js/modules/clean/react/flows/automations/auto_tagging",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/tagging/components/auto_tagging_typeahead","metaserver/static/js/modules/core/i18n","dig-components/icons","dig-components/icons/src","metaserver/static/js/modules/clean/react/flows/constants","spectrum/icon_content/index","typescript/component_libraries/flows/src/components/automation-preview/index"],(function(e,t,o,n,a,r,i,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoTaggingUiConfig=void 0,n=o.__importDefault(n),t.AutoTaggingUiConfig=(e,t)=>({action:{description:r.intl.formatMessage({id:"iWVH9L",defaultMessage:"Tag as"}),rightRailDescription:r.intl.formatMessage({id:"LRr2Ss",defaultMessage:"Tag"}),icon:n.default.createElement(i.UIIcon,{src:s.TagLine}),tooltip:r.intl.formatMessage({id:"clWHiV",defaultMessage:"Are tagged"}),renderAdditionalControls:t=>n.default.createElement(a.AutoTaggingTypeahead,Object.assign({},t,{user:e})),allowApplyToExistingFiles:e=>"add"===e||"edit"===e},genericDescription:d(t),shortLabel:r.intl.formatMessage({id:"stkmXg",defaultMessage:"tag"}),title:r.intl.formatMessage({id:"LBflBZ",defaultMessage:"Choose a tag to organize and find files"}),trigger:"folder",type:"tag",notifications:{inProgress:()=>r.intl.formatMessage({id:"cjg/6X",defaultMessage:"Automatically tagging your files..."}),success:e=>r.intl.formatMessage({id:"nQKCo3",defaultMessage:"{numSucceeded, plural, one {# file} other {# files}} automatically tagged."},{numSucceeded:e}),fail:e=>r.intl.formatMessage({id:"kj8GOO",defaultMessage:"{numFailed, plural, one {# file} other {# files}} couldn't be automatically tagged."},{numFailed:e})},renderTemplatePreview:()=>p(t)});const d=(e,t)=>{const o=null==e?void 0:e.find(e=>e.feature===l.UI_EXPERIMENTS.CARD_SUBTEXT_M1);switch(null==o?void 0:o.variant){case l.CARD_SUBTEXT_M1_VARIANTS.PERSISTENT:return r.intl.formatMessage({id:"rtKQPF",defaultMessage:'For example, add the tag "logo" to files added to this folder'});default:return null}},p=e=>{const t=null==e?void 0:e.find(e=>e.feature===l.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1);switch(null==t?void 0:t.variant){case l.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS.ON:return n.default.createElement(f,null);default:return null}},f=()=>n.default.createElement(u.PreviewTemplate,{triggerIcon:n.default.createElement(u.FolderWithFile,{fileIcon:"ppt-large",fileOrientation:"horizontal"}),actionIcon:n.default.createElement(n.default.Fragment,null,n.default.createElement(c.IconContent,{name:"ppt-large"}),n.default.createElement("div",{className:"flows-automation-preview__tag-wrapper"},n.default.createElement(u.LabelChip,{label:r.intl.formatMessage({id:"BMise9",defaultMessage:"logo"}),iconLeft:n.default.createElement(i.UIIcon,{src:s.TagLine}),inverted:!0}),n.default.createElement(u.LabelChip,{label:r.intl.formatMessage({id:"AP8cRJ",defaultMessage:"final"}),iconLeft:n.default.createElement(i.UIIcon,{src:s.TagLine}),inverted:!0}))),description:r.intl.formatMessage({id:"qxP2Fd",defaultMessage:'For example, add the tags "logo" and "final" to files added to this folder'})})})),define("metaserver/static/js/modules/clean/react/flows/automations/auto_tidy_up",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/hoc","metaserver/static/js/modules/clean/react/tidy_up/utils","metaserver/static/js/modules/clean/react/tidy_up/modal/types","metaserver/static/js/modules/clean/react/tidy_up/modal/options_view/tidy_radio_selection","dig-components/icons","dig-components/icons/src","metaserver/static/js/modules/clean/react/flows/constants","dig-components/typography","metaserver/static/js/modules/clean/react/flows/automations/util"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoTidyUpControls=t.AutoTidyUpUiConfig=void 0,n=o.__importStar(n);const m={type:s.TidyUpType.by_month,inactiveSelection:s.InactiveSelection.thirty_days,excludeCurrentMonth:!1,excludeCurrentYear:!1,keyphrase:void 0,keyphraseDestination:void 0,previewData:void 0,dateFormatSelection:s.DateFormatSelection.YYYY_MM};t.AutoTidyUpUiConfig=e=>({action:{description:a.intl.formatMessage({id:"K781BL",defaultMessage:"Organize into folders grouped by"}),rightRailDescription:a.intl.formatMessage({id:"hwC5wH",defaultMessage:"Organize by category"}),icon:n.default.createElement(c.UIIcon,{src:u.MultipleFoldersLine}),tooltip:a.intl.formatMessage({id:"u07O3h",defaultMessage:"Are organized by category"}),defaultActionData:{args_json:JSON.stringify(i.TidyConversions.tidyTypeToApiV2(m))},renderAdditionalControls:e=>n.default.createElement(t.AutoTidyUpControls,Object.assign({},e)),allowApplyToExistingFiles:e=>"add"===e},genericDescription:_(e),shortLabel:a.intl.formatMessage({id:"h5nATP",defaultMessage:"organize by category"}),title:a.intl.formatMessage({id:"JTnqVL",defaultMessage:"Choose a category to sort files by"}),trigger:"folder",type:"tidy_up",notifications:{inProgress:()=>a.intl.formatMessage({id:"kOOwLi",defaultMessage:"Automatically organizing your files..."}),success:e=>a.intl.formatMessage({id:"OGrBCr",defaultMessage:"{numSucceeded, plural, one {# file} other {# files}} automatically organized into subfolders."},{numSucceeded:e}),fail:e=>a.intl.formatMessage({id:"z51P9Z",defaultMessage:"{numFailed, plural, one {# file} other {# files}} couldn't be automatically organized"},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>v(e)});const g=({data:e,onDataChange:t})=>{const[o,r]=n.default.useState(m);n.useEffect(()=>{let t={".tag":"other"};if(null==e?void 0:e.args_json)try{t=JSON.parse(e.args_json)}catch(e){}const o=i.TidyConversions.tidyTypeFromApiV2(t);r(e=>Object.assign(Object.assign({},e),o))},[e]);const c=n.useCallback(e=>{const o=i.TidyConversions.tidyTypeToApiV2(e);t({args_json:JSON.stringify(o)})},[t]),u=n.default.useCallback(e=>{c(Object.assign(Object.assign({},o),{type:e.target.value}))},[o,c]);return n.default.createElement("div",null,n.default.createElement(l.TidyUpSelection,{isSelected:o.type===s.TidyUpType.by_month,onSelect:u,value:s.TidyUpType.by_month,label:a.intl.formatMessage({id:"shN5TV",defaultMessage:"Month"}),subtext:a.intl.formatMessage({id:"FyhDVP",defaultMessage:"Month your content was added to Dropbox"})}),n.default.createElement(l.TidyUpSelection,{isSelected:o.type===s.TidyUpType.by_year,onSelect:u,value:s.TidyUpType.by_year,label:a.intl.formatMessage({id:"PWjmB8",defaultMessage:"Year"}),subtext:a.intl.formatMessage({id:"maa3SN",defaultMessage:"Year your content was added to Dropbox"})}))};g.displayName="UnstyledAutoTidyUpControls",t.AutoTidyUpControls=r.withCSS(["/static/css/tidy_up/tidy_up-vfl2SVGLG.css"])(g);const _=(e,t)=>{const o=null==e?void 0:e.find(e=>e.feature===d.UI_EXPERIMENTS.CARD_SUBTEXT_M1);switch(null==o?void 0:o.variant){case d.CARD_SUBTEXT_M1_VARIANTS.PERSISTENT:return a.intl.formatMessage({id:"QUub8a",defaultMessage:"For example, sort files by date created, keyword, or other categories"});default:return null}},v=(e,t)=>{const o=null==e?void 0:e.find(e=>e.feature===d.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1);switch(null==o?void 0:o.variant){case d.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS.ON:return n.default.createElement(b,null);default:return null}},b=()=>{const e=f.getAutoFolderVideoSrc();return n.default.createElement(n.default.Fragment,null,n.default.createElement("video",{height:"350",loop:!0,autoPlay:!0,playsInline:!0,muted:!0,tabIndex:0,src:e.video,poster:e.poster}),n.default.createElement("div",{className:"flows-automation-preview__text"},n.default.createElement(p.Text,{inverse:!0},a.intl.formatMessage({id:"1fuLdq",defaultMessage:"For example, sort files by date created, keyword, or other categories"}))))}})),define("metaserver/static/js/modules/clean/react/flows/automations/auto_unzip",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/flows/constants","typescript/component_libraries/flows/src/components/icon-row/index","dig-components/icons","dig-components/icons/src","metaserver/static/js/modules/clean/react/flows/constants","spectrum/icon_content/index","typescript/component_libraries/flows/src/components/automation-preview/index","dig-components/typography"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoUnzipUiConfig=void 0,n=o.__importDefault(n),t.AutoUnzipUiConfig=e=>({action:{description:a.intl.formatMessage({id:"8bjgn0",defaultMessage:"Unzip"}),icon:n.default.createElement(s.UIIcon,{src:l.ZipLine}),tooltip:a.intl.formatMessage({id:"W2z+/h",defaultMessage:"Are unzipped"}),defaultActionData:{input_filetypes:[]},renderPseudoTriggerControls:({data:e,onDataChange:t,onDataError:o})=>n.default.createElement(i.InputTypeControls,{allInputTypes:r.SUPPORTED_UNZIP_EXTENSIONS,selectedInputTypes:null==e?void 0:e.input_filetypes,onSelect:o=>t(Object.assign(Object.assign({},e),{input_filetypes:o})),onError:o}),allowApplyToExistingFiles:e=>"add"===e},genericDescription:f(e),shortLabel:a.intl.formatMessage({id:"+y6Wz9",defaultMessage:"unzip"}),title:a.intl.formatMessage({id:"RYympZ",defaultMessage:"Unzip files"}),trigger:"folder",type:"unzip",notifications:{inProgress:()=>a.intl.formatMessage({id:"lACYwF",defaultMessage:"Automatically unzipping your files..."}),success:e=>a.intl.formatMessage({id:"9elMjf",defaultMessage:"{numSucceeded, plural, one {# file} other {# files}} automatically unzipped."},{numSucceeded:e}),fail:e=>a.intl.formatMessage({id:"zV9Yhw",defaultMessage:"{numFailed, plural, one {# file} other {# files}} couldn't be automatically unzipped."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>m(e)});const f=e=>{const t=null==e?void 0:e.find(e=>e.feature===c.UI_EXPERIMENTS.CARD_SUBTEXT_M1);switch(null==t?void 0:t.variant){case c.CARD_SUBTEXT_M1_VARIANTS.PERSISTENT:return a.intl.formatMessage({id:"2Yy7KC",defaultMessage:"Unzip and save files added to this folder"});default:return null}},m=e=>{const t=null==e?void 0:e.find(e=>e.feature===c.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1);switch(null==t?void 0:t.variant){case c.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS.ON:return n.default.createElement(g,null);default:return null}},g=()=>n.default.createElement(d.PreviewTemplate,{triggerIcon:n.default.createElement(n.default.Fragment,null,n.default.createElement(p.Text,{inverse:!0,color:"faint"},"filename.zip"),n.default.createElement(d.FolderWithFile,{fileIcon:"zip-large"})),actionIcon:n.default.createElement("div",{className:"flows-automation-preview__unzip-file-container"},n.default.createElement(u.IconContent,{name:"image-large",className:"flows-automation-preview__unzip-file-icons"}),n.default.createElement(u.IconContent,{name:"image-large",className:"flows-automation-preview__unzip-file-icons"}),n.default.createElement(u.IconContent,{name:"image-large",className:"flows-automation-preview__unzip-file-icons"}),n.default.createElement(u.IconContent,{name:"image-large",className:"flows-automation-preview__unzip-file-icons"})),description:a.intl.formatMessage({id:"uePi4a",defaultMessage:"Unzip and save files added to this folder."})})})),define("metaserver/static/js/modules/clean/react/flows/automations/auto_video",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/flows/constants","typescript/component_libraries/flows/src/components/icon-row/index","dig-components/icons","dig-components/icons/src","spectrum/icon_content/index","typescript/component_libraries/flows/src/components/automation-preview/index"],(function(e,t,o,n,a,r,i,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoVideoUiConfig=void 0,n=o.__importDefault(n);t.AutoVideoUiConfig=e=>({action:{description:a.intl.formatMessage({id:"RSERPS",defaultMessage:"Save as"}),rightRailDescription:a.intl.formatMessage({id:"4z/68P",defaultMessage:"Save as videos"}),icon:n.default.createElement(s.UIIcon,{src:l.VideoFileLine}),tooltip:a.intl.formatMessage({id:"+dY8qg",defaultMessage:"Are saved as videos"}),defaultActionData:{format:"mov",input_filetypes:[]},renderAdditionalControls:({data:e,onDataChange:t,onDataError:o})=>n.default.createElement(i.OutputTypeControls,{allOutputTypes:r.SUPPORTED_VIDEO_OUTPUT_CONTAINERS,selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:o=>t(Object.assign(Object.assign({},e),{format:o})),onError:o}),renderPseudoTriggerControls:({data:e,onDataChange:t,onDataError:o})=>n.default.createElement(i.InputTypeControls,{allInputTypes:r.SUPPORTED_VIDEO_INPUT_EXTENSIONS,selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:o=>t(Object.assign(Object.assign({},e),{input_filetypes:o})),onError:o}),allowApplyToExistingFiles:e=>"add"===e},genericDescription:d(e),shortLabel:a.intl.formatMessage({id:"cYek3I",defaultMessage:"video"}),title:a.intl.formatMessage({id:"w0L+S2",defaultMessage:"Choose a file format to convert videos to"}),trigger:"folder",type:"video_conversion",notifications:{inProgress:()=>a.intl.formatMessage({id:"HlZIB6",defaultMessage:"Automatically saving your files as videos..."}),success:e=>a.intl.formatMessage({id:"KBpE7R",defaultMessage:"{numSucceeded, plural, one {# file automatically saved as a video} other {# files automatically saved as videos}}."},{numSucceeded:e}),fail:e=>a.intl.formatMessage({id:"q8gfGn",defaultMessage:"{numFailed, plural, one {# file couldn't be automatically saved as a video} other {# files couldn't be automatically saved as videos}}."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>p(e)});const d=(e,t)=>{const o=null==e?void 0:e.find(e=>e.feature===r.UI_EXPERIMENTS.CARD_SUBTEXT_M1);switch(null==o?void 0:o.variant){case r.CARD_SUBTEXT_M1_VARIANTS.PERSISTENT:return a.intl.formatMessage({id:"jOjemM",defaultMessage:"For example, save copies of mov files as mp4s"});default:return null}},p=e=>{const t=null==e?void 0:e.find(e=>e.feature===r.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1);switch(null==t?void 0:t.variant){case r.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS.ON:return n.default.createElement(f,null);default:return null}},f=()=>n.default.createElement(u.PreviewTemplate,{triggerIcon:n.default.createElement(u.FolderWithFile,{fileIcon:"video-large",fileOrientation:"horizontal"}),triggerLabel:n.default.createElement(u.LabelChip,{label:a.intl.formatMessage({id:"l0eDpo",defaultMessage:"MyVideo.{modifier}"},{modifier:n.default.createElement("span",{style:{color:"var(--color__attention__text)"}},n.default.createElement("b",null,"mov"))}),iconLeft:n.default.createElement(s.UIIcon,{src:l.VideoFileLine})}),actionIcon:n.default.createElement(c.IconContent,{name:"video-large",className:"flows-automation-preview__icons--neg_margin"}),secondaryActionIcon:n.default.createElement(c.IconContent,{name:"video-large",className:"flows-automation-preview__icons--neg_margin"}),actionLabel:n.default.createElement(u.LabelChip,{label:a.intl.formatMessage({id:"fGtzMg",defaultMessage:"MyVideo.{modifier}"},{modifier:n.default.createElement("span",{style:{color:"var(--color__attention__text)"}},n.default.createElement("b",null,"mov"))}),iconLeft:n.default.createElement(s.UIIcon,{src:l.VideoFileLine})}),secondaryActionLabel:n.default.createElement(u.LabelChip,{label:a.intl.formatMessage({id:"fGtzMg",defaultMessage:"MyVideo.{modifier}"},{modifier:n.default.createElement("span",{style:{color:"var(--color__alert__text)"}},n.default.createElement("b",null,"mp4"))}),iconLeft:n.default.createElement(s.UIIcon,{src:l.VideoFileLine})}),description:a.intl.formatMessage({id:"dO0cYf",defaultMessage:"For example, save copies of mov files as mp4s."})})})),define("metaserver/static/js/modules/clean/react/flows/automations/snackbar",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/core/browser"],(function(e,t,o,n,a,r,i){"use strict";function s(){return{createInProgress:e=>a.intl.formatMessage({id:"ixnxFP",defaultMessage:"Creating {folderName} automated folder..."},{folderName:e}),addInProgress:e=>a.intl.formatMessage({id:"XWVzJa",defaultMessage:"Adding automation to {folderName}..."},{folderName:e}),feedbackSuccess:a.intl.formatMessage({id:"lXPwmi",defaultMessage:"Thank you for your feedback!"}),createSuccess:e=>a.intl.formatMessage({id:"eqvXsV",defaultMessage:"{folderName} automated folder created."},{folderName:e}),addSuccess:e=>a.intl.formatMessage({id:"yb+Ei+",defaultMessage:"Automation added to {folderName}."},{folderName:e}),removalSuccess:e=>a.intl.formatMessage({id:"gEPRxb",defaultMessage:"Removed automation from {folderName}."},{folderName:e}),pauseSuccess:e=>a.intl.formatMessage({id:"BJcdth",defaultMessage:"Paused automation for {folderName}."},{folderName:e}),editSuccess:e=>a.intl.formatMessage({id:"PjF0k5",defaultMessage:"Edited automation for {folderName}."},{folderName:e}),reactivateSuccess:e=>a.intl.formatMessage({id:"9CrZQ4",defaultMessage:"Activated automation for {folderName}."},{folderName:e}),defaultError:a.intl.formatMessage({id:"V2wwgQ",defaultMessage:"Something went wrong. Please try again."}),folderRuleGenericCreateError:e=>a.intl.formatMessage({id:"b2vbCw",defaultMessage:"Couldn't create {folderName} automated folder."},{folderName:e}),folderRuleGenericAddError:e=>a.intl.formatMessage({id:"/+u3gq",defaultMessage:"Couldn't add automation to {folderName}."},{folderName:e}),folderRuleNoAccessError:a.intl.formatMessage({id:"7Ke97p",defaultMessage:"You do not have permission to edit this folder."}),conflictPathError:a.intl.formatMessage({id:"X00Q2k",defaultMessage:"A folder with that name already exists."}),closeSnackbarBtn:a.intl.formatMessage({id:"uzUPSw",defaultMessage:"Close"}),tryAgainSnackbarBtn:a.intl.formatMessage({id:"oj8Ras",defaultMessage:"Try again"}),showAutomationDashboardBtn:a.intl.formatMessage({id:"wHJiLw",defaultMessage:"Show all automations"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.showErrorSnackbar=t.showSuccessSnackbar=t.showPendingSnackbar=t.updateSnackbar=t.AUTOMATIONS_SNACKBAR_ID=void 0,n=o.__importDefault(n),i=o.__importStar(i),t.AUTOMATIONS_SNACKBAR_ID="flows-automations-snackbar",t.updateSnackbar=e=>{if("sync"===e.variant)r.Snackbar.update(n.default.createElement(r.Snackbar,Object.assign({id:t.AUTOMATIONS_SNACKBAR_ID},e)));else{const{closeSnackbarBtn:o}=s();r.Snackbar.update(n.default.createElement(r.Snackbar,Object.assign({id:t.AUTOMATIONS_SNACKBAR_ID,closeButtonText:o},e)))}},t.showPendingSnackbar=function(e){const{createInProgress:o,addInProgress:n}=s(),a={create:o(e.folderName),add:n(e.folderName)}[e.type];r.Snackbar.sync(a,!0,t.AUTOMATIONS_SNACKBAR_ID)},t.showSuccessSnackbar=function(e){const{addSuccess:o,createSuccess:a,feedbackSuccess:l,pauseSuccess:c,removalSuccess:u,editSuccess:d,reactivateSuccess:p,showAutomationDashboardBtn:f,closeSnackbarBtn:m}=s(),g={add:o(e.folderName),create:a(e.folderName),feedback:l,pause:c(e.folderName),remove:u(e.folderName),edit:d(e.folderName),reactivate:p(e.folderName)}[e.type];if(e.shouldShowDashboardCta){const o={closeButtonText:m,actionButtonText:f,forceDig:!0,id:t.AUTOMATIONS_SNACKBAR_ID,onActionClick:()=>i.redirect(`/automations?_tk=${e.type}_snackbar`),title:g,timeoutDelayMs:5e3,variant:"complete"};r.Snackbar.show(n.default.createElement(r.Snackbar,Object.assign({},o)))}else r.Snackbar.complete(g,t.AUTOMATIONS_SNACKBAR_ID)},t.showErrorSnackbar=function({folderName:e,onClose:o,onRetry:a,type:i}){const{conflictPathError:l,defaultError:c,folderRuleGenericCreateError:u,folderRuleGenericAddError:d,folderRuleNoAccessError:p,closeSnackbarBtn:f,tryAgainSnackbarBtn:m}=s(),g={conflict:l,default:c,"generic-create":u(e),"generic-add":d(e),"no-access":p}[i];let _={closeButtonText:f,forceDig:!0,id:t.AUTOMATIONS_SNACKBAR_ID,onCloseClick:o,title:g,timeoutDelayMs:5e3,variant:"fail"};if(a){const e=()=>{r.Snackbar.close(t.AUTOMATIONS_SNACKBAR_ID),a()};_=Object.assign(Object.assign({},_),{actionButtonText:m,onActionClick:e})}r.Snackbar.show(n.default.createElement(r.Snackbar,Object.assign({},_)))}})),define("metaserver/static/js/modules/clean/react/flows/automations/ui_config",["require","exports","metaserver/static/js/modules/clean/react/flows/automations/auto_pdf","metaserver/static/js/modules/clean/react/flows/automations/auto_tagging","metaserver/static/js/modules/clean/react/flows/automations/auto_unzip","metaserver/static/js/modules/clean/react/flows/automations/auto_smart_subfolders","metaserver/static/js/modules/clean/react/flows/automations/auto_image","metaserver/static/js/modules/clean/react/flows/automations/auto_video","metaserver/static/js/modules/clean/react/flows/automations/auto_tidy_up","metaserver/static/js/modules/clean/react/flows/automations/auto_naming_conventions","metaserver/static/js/modules/clean/react/flows/automations/auto_audio","metaserver/static/js/modules/clean/react/flows/automations/watermarking"],(function(e,t,o,n,a,r,i,s,l,c,u,d){"use strict";function p(e,{user:t,experiments:p}){switch(e){case"pdf_conversion":return o.AutoPdfUiConfig(p);case"unzip":return a.AutoUnzipUiConfig(p);case"tag":return n.AutoTaggingUiConfig(t,p);case"smart_subfolders":return r.AutoSmartSubfoldersUiConfig;case"image_conversion":return i.AutoImageUiConfig(p);case"video_conversion":return s.AutoVideoUiConfig(p);case"tidy_up":return l.AutoTidyUpUiConfig(p);case"naming_conventions":return c.AutoNamingConventionsUiConfig(p);case"audio_conversion":return u.AutoAudioUiConfig(p);case"watermarking":return d.WatermarkingConfig(p);default:return}}Object.defineProperty(t,"__esModule",{value:!0}),t.getUiConfig=t.loadFolderAutomationUi=void 0,t.loadFolderAutomationUi=p;const f={tidy_up:0,naming_conventions:1,tag:2,pdf_conversion:3,image_conversion:4,video_conversion:5,unzip:6,smart_subfolders:7,audio_conversion:8,watermarking:9,other:10,email_ingest:11},m=(e,t)=>f[e.type]-f[t.type];function g(e){return null!=e}t.getUiConfig=function(e,t,o){const n=e.map(e=>p(e,t)).filter(g);return n.sort(null!=o?o:m),n}})),define("metaserver/static/js/modules/clean/react/flows/components/modals/create_file_name_modal",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/flows/conversions/actions/archive","react-intl","dig-components/modal","dig-components/buttons","dig-components/text_fields","dig-components/typography","typescript/component_libraries/flows/src/components/spacer/index","ts-key-enum"],(function(e,t,o,n,a,r,i,s,l,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateFileNameModal=void 0,n=o.__importStar(n),t.CreateFileNameModal=({action:e,files:t,user:o,context:r})=>{const[f,m]=n.useState(!0),[g,_]=n.useState(""),v=()=>{b()&&(a.ArchiveAction.convert(t,o,{context:r,name:g}),m(!1))},b=()=>0!==g.length&&-1===g.indexOf("/")&&-1===g.indexOf("\\"),{defaultTitle:w,defaultSubtitle:y,primaryAction:h,secondaryAction:S,fileNameLabel:E,defaultFileNamePlaceholder:A}=p(e);return n.default.createElement(i.Modal,{open:f,width:"small"},n.default.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(i.Modal.Title,null,w)),n.default.createElement(i.Modal.Body,{hasVerticalSpacing:!1},n.default.createElement(c.Text,{id:"flows-create-file-name",variant:"paragraph"},y),n.default.createElement(u.Spacer,{multiplier:3}),n.default.createElement(c.Text,{variant:"paragraph",size:"small",isBold:!0},E),n.default.createElement(u.Spacer,{multiplier:1}),n.default.createElement(l.TextInput,{"aria-label":E,value:g,onChange:e=>{_(e.currentTarget.value)},onKeyPress:e=>{e.key===d.Key.Enter&&v()},placeholder:A})),n.default.createElement(i.Modal.Footer,null,n.default.createElement(s.Button,{variant:"opacity",onClick:()=>{m(!1)}},S),n.default.createElement(s.Button,{variant:"primary",onClick:v,disabled:!b()},h)))},t.CreateFileNameModal.displayName="CreateFileNameModal";const p=e=>{const t=r.useIntl(),o={secondaryAction:t.formatMessage({id:"AcQYt9",defaultMessage:"Cancel"}),primaryAction:t.formatMessage({id:"iv8S9b",defaultMessage:"Save"}),fileNameLabel:t.formatMessage({id:"V4Y6/+",defaultMessage:"File name"}),defaultFileNamePlaceholder:t.formatMessage({id:"+KXywp",defaultMessage:"Archive folder"})};return Object.assign(Object.assign({},o),{defaultTitle:t.formatMessage({id:"5gN6rc",defaultMessage:"Zip files"}),defaultSubtitle:t.formatMessage({id:"kTxoco",defaultMessage:'The selected files will be saved as a single file with a "zip" extension.'})})}})),define("metaserver/static/js/modules/clean/react/flows/conversions/actions/archive",["require","exports","tslib","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/flows/conversions/convert","metaserver/static/js/modules/clean/react/flows/conversions/api","metaserver/static/js/modules/clean/react/flows/conversions/utils","dig-components/icons/src"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArchiveAction=void 0;t.ArchiveAction={actionText:n.intl.formatMessage({id:"39qUu3",defaultMessage:"Make an archive"}),actionIcon:s.FileLine,selector:()=>!0,convert:(e,t,{shareToken:n,context:s,name:c})=>a.convertFileAndShowSnackbar({file:e[0],user:t,shareToken:n,conversionType:"archive",loggingFunctions:i.getConversionLoggingFunctions("archive"),getStrings:(t,o)=>l(t,e.length,e[0]),conversionFn:(t,n,a)=>o.__awaiter(void 0,void 0,void 0,(function*(){const t=yield r.archive(n.id,e,c,s);return t?t.path:void 0}))})};const l=(e,t,o)=>{const a=t>1?n.intl.formatMessage({id:"FtOEg9",defaultMessage:"Couldn't zip files"}):n.intl.formatMessage({id:"+GUWwR",defaultMessage:"Couldn't zip file"}),r=i.getSuccessString(e,(e,o)=>t>1?n.intl.formatMessage({id:"8mHKZl",defaultMessage:"{numFiles} files zipped and saved as {fileName} in {dirName} folder"},{numFiles:t,fileName:e,dirName:o}):n.intl.formatMessage({id:"jZTSy9",defaultMessage:"{numFiles} file zipped and saved as {fileName} in {dirName} folder"},{numFiles:t,fileName:e,dirName:o}),e=>t>1?n.intl.formatMessage({id:"oT9Ra2",defaultMessage:"{numFiles} files zipped and saved as {dirName} in your main Dropbox folder"},{numFiles:t,dirName:e}):n.intl.formatMessage({id:"hZllBo",defaultMessage:"{numFiles} file zipped and saved as {dirName} in your main Dropbox folder"},{numFiles:t,dirName:e}));return{saving:t>1?n.intl.formatMessage({id:"f8o64Y",defaultMessage:"Zipping files..."}):n.intl.formatMessage({id:"0pAwi/",defaultMessage:"Zipping file..."}),success:r,successAutomatedAdoption:r,failGeneric:a,failRetryable:a,failOverQuota:n.intl.formatMessage({id:"meIIGB",defaultMessage:"Couldn't zip because your Dropbox account is out of space"}),failTooLarge:t>1?n.intl.formatMessage({id:"JdMBky",defaultMessage:"Couldn't zip files. Can only handle files up to {fileSize} GB"},{fileSize:20}):n.intl.formatMessage({id:"Pi6R58",defaultMessage:"Couldn't zip file. Can only handle files up to {fileSize} GB"},{fileSize:20}),failCorrupt:n.intl.formatMessage({id:"FuOmGz",defaultMessage:"Couldn't zip because the file is damaged"}),failPassword:n.intl.formatMessage({id:"4tVWiT",defaultMessage:"Couldn't zip because the file is password protected"}),failPasswordLink:n.intl.formatMessage({id:"f77DNZ",defaultMessage:"Couldn't zip because the link is password-protected"})}}})),define("metaserver/static/js/modules/clean/react/flows/conversions/adoption_utils",["require","exports","tslib","dig-components/icons/src","metaserver/static/js/modules/clean/filepath/filepath","metaserver/static/js/modules/clean/react/browse/action_logger","metaserver/static/js/modules/clean/react/browse/data/action_creators/index","metaserver/static/js/modules/clean/react/browse/data/selectors","metaserver/static/js/modules/clean/react/browse/data/store","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/experiments","metaserver/static/js/modules/clean/react/flows/automations/snackbar","metaserver/static/js/modules/clean/react/flows/automations/ui_config","metaserver/static/js/modules/clean/react/flows/constants","metaserver/static/js/modules/clean/react/flows/conversions/api","metaserver/static/js/modules/clean/react/flows/redux/actions","metaserver/static/js/modules/clean/react/flows/redux/selectors","metaserver/static/js/modules/clean/react/flows/redux/store","metaserver/static/js/modules/clean/react/flows/types","metaserver/static/js/modules/clean/react/flows/utils/api_helpers","metaserver/static/js/modules/clean/react/flows/utils/browse_logger","metaserver/static/js/modules/clean/react/flows/utils/folder_rules","metaserver/static/js/modules/clean/react/snackbar","metaserver/static/js/modules/clean/web_user_action_events","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f,m,g,_,v,b,w,y,h,S,E){"use strict";function A(e){const t=!!s.isInsideFlowsEligibleFolder(l.getStoreForBrowse().getState()),o=null!=s.flowsFolderRule(l.getStoreForBrowse().getState(),a.parent_dir(e));return t&&!o}function O(e,t){return o=>{const{userId:n,conversionArg:a,ns_id:i}=o;if(!a)return;const{folderRuleAction:s,source:l}=a;r.logAutoFolderAdoptionSnackbar({user_id:n,action_source:"adoption",event_name:S.WebUserActionLogEvent.AUTOMATED_FOLDER_ADOPTION_SNACKBAR_CLICK,file_nsid:i,trigger_rule:s,snackbar_click_option:t,source:l}),e(o)}}function T(e){I();const{filePath:t,conversionArg:o,userId:n,ns_id:r}=e;if(!o)return;const{conversionType:s,folderRuleAction:l}=o;f.updateAdoptionStatus(s,l,n);const c=a.parent_dir(t),d=a.parentDirName(t);u.showPendingSnackbar({folderName:d,type:"add"});const p=_.getStoreForAutomations(),m=p.getState(),y=g.hasFlowsDashboardAccess(m),h=F(o);b.updateFolderRule(c,l,!0,h,!1).then(()=>{w.logAutoFolderEvent(S.WebUserActionLogEvent.CONFIRM_ADD_FOLDER_RULES,{user_id:n,file_nsid:r,extra:{rule_type:l,entry_point:"adoption_snackbar"}}),p.dispatch(i.setFileHasAutomatedRuleMap({fileHasAutomatedRuleMap:v.FlowsMap({[c]:l})})),u.showSuccessSnackbar({folderName:d,shouldShowDashboardCta:y,type:"add"})},t=>{var o;w.logAutoFolderEvent(S.WebUserActionLogEvent.CONFIRM_ADD_FOLDER_RULES,{user_id:n,file_nsid:r,extra:{rule_type:l,error:null===(o=t.error)||void 0===o?void 0:o[".tag"],entry_point:"adoption_snackbar"}}),u.showErrorSnackbar({folderName:d,onRetry:()=>{T(e)},type:"generic-add"})})}function C({userId:e,filePath:t,ns_id:o,conversionArg:n}){if(!n)return;const{conversionType:r,user:i,folderRuleAction:s}=n,l=a.parent_dir(t),c=F(n);f.updateAdoptionStatus(r,s,e),y.asyncLaunchUnifiedAutomationAddModal(l,l,i,o,s,c,"settings","adoption_snackbar"),I()}function M({filePath:e,userId:t,ns_id:o,conversionArg:n}){if(!n)return;const{conversionType:r,folderRuleAction:i,user:s}=n;f.updateAdoptionStatus(r,i,t),I(),_.getStoreForAutomations().dispatch(m.setAutoFolderOnboarding({conversionType:i,step:1,totalSteps:1,variant:"quick-add"}));const l=a.parent_dir(e),c=F(n);y.asyncLaunchUnifiedAutomationAddModal(l,l,s,o,i,c,"select","adoption_snackbar")}function L({userId:e,conversionArg:t}){if(!t)return;const{conversionType:o,folderRuleAction:n}=t;f.updateAdoptionStatus(o,n,e),I()}function I(){h.Snackbar.close("flows-conversion-snackbar")}function F(e){const{user:t,folderRuleAction:o,fileType:n}=e,a=d.loadFolderAutomationUi(o,{user:t}),r=null==a?void 0:a.action.defaultActionData;if(r)switch(o){case"image_conversion":case"video_conversion":r.format=n}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.optOutOfAdoptionFlow=t.showAddAutomationModalWithTooltip=t.showAddAutomationModal=t.addAutomationToCurrentFolder=t.getM2AdoptionSnackbarProps=t.isEligibleForAdoptionSnackbar=t.optOutOfAdoptionFlowAction=t.showAddAutomationModalAction=t.addAutomationToCurrentFolderWithTooltipAction=t.addAutomationToCurrentFolderWithModalAction=t.addAutomationToCurrentFolderAction=void 0,s=o.__importStar(s),g=o.__importStar(g),b=o.__importStar(b),t.addAutomationToCurrentFolderAction={icon:n.AutomationLine,name:"automate_current_folder",text:E.intl.formatMessage({id:"/Z33r/",defaultMessage:"Yes, automate folder"}),onClick:O(T,"automate_folder")},t.addAutomationToCurrentFolderWithModalAction={icon:n.AutomationLine,name:"automate_current_folder_with_modal",text:E.intl.formatMessage({id:"NYrkg8",defaultMessage:"Yes, automate folder"}),onClick:O(C,"automate_folder")},t.addAutomationToCurrentFolderWithTooltipAction={icon:n.AutomationLine,name:"automate_current_folder_with_tooltip",text:E.intl.formatMessage({id:"e6Hyfi",defaultMessage:"Yes, automate folder"}),onClick:O(M,"automate_folder")},t.showAddAutomationModalAction={name:"show_me_how_to_automate",text:E.intl.formatMessage({id:"Y2ppp4",defaultMessage:"Show me"}),onClick:O(C,"show_me")},t.optOutOfAdoptionFlowAction={name:"do_not_show_me_this_again",text:E.intl.formatMessage({id:"g74H0b",defaultMessage:"Skip"}),onClick:O(L,"dont_show_again")},t.isEligibleForAdoptionSnackbar=A,t.getM2AdoptionSnackbarProps=function(e){const{user:o,conversionType:n,folderRuleAction:a,resultPath:r,source:i,nsId:s}=e;if(!A(r))return;const l={user:o,conversionType:n,folderRuleAction:a,fileType:"unzip"===a?void 0:e.fileType,source:i},u={userId:o.id,filePath:r||"",ns_id:s,conversionArg:l},d="unzip"===a?E.intl.formatMessage({id:"+Ath7j",defaultMessage:"Want to automatically unzip files by setting up an automated folder?"}):E.intl.formatMessage({id:"+9Utp7",defaultMessage:"Want to automatically save {fileType} copies by setting up an automated folder?"},{fileType:e.fileType.toUpperCase()});switch(c.fileViewerFlowExperiments.automatedAdoptionVariantByUserId[o.id]){case p.AUTOMATED_ADOPTION_VARIANTS.M2_A:return{actions:[t.addAutomationToCurrentFolderAction,t.optOutOfAdoptionFlowAction],helperText:d,clickHandlerArgs:u};case p.AUTOMATED_ADOPTION_VARIANTS.M2_B:return{actions:[t.addAutomationToCurrentFolderWithModalAction,t.optOutOfAdoptionFlowAction],helperText:d,clickHandlerArgs:u};case p.AUTOMATED_ADOPTION_VARIANTS.M2_C:return{actions:[t.addAutomationToCurrentFolderWithTooltipAction,t.optOutOfAdoptionFlowAction],helperText:d,clickHandlerArgs:u};case p.AUTOMATED_ADOPTION_VARIANTS.M2_D:return{actions:[t.addAutomationToCurrentFolderAction,t.showAddAutomationModalAction,t.optOutOfAdoptionFlowAction],helperText:d,clickHandlerArgs:u};default:return}},t.addAutomationToCurrentFolder=T,t.showAddAutomationModal=C,t.showAddAutomationModalWithTooltip=M,t.optOutOfAdoptionFlow=L})),define("metaserver/static/js/modules/clean/react/flows/redux/selectors",["require","exports","metaserver/static/js/modules/clean/react/flows/constants","metaserver/static/js/modules/clean/react/flows/redux/reducer","metaserver/static/js/modules/clean/redux/namespaces"],(function(e,t,o,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldSubscribeToBolt=t.getAutomationPreviewExpVariant=t.getDashboardUiExpVariant=t.getUserExperiments=t.getAutoFolderOnboarding=t.getUserAutomations=t.getFlowsFolderRulesActionExperiments=t.hasFlowsDashboardAccess=t.getExpFlowsTrayPoC=t.getFolderRulesConfig=t.getAutomationsState=void 0,t.getAutomationsState=e=>e[a.AUTOMATIONS_NAMESPACE_KEY]||n.defaultAutomationsState,t.getFolderRulesConfig=e=>{const{folderRulesConfig:o}=t.getAutomationsState(e);return"completed"===o.status?o.data:[]},t.getExpFlowsTrayPoC=e=>{const{folderRulesConfig:o}=t.getAutomationsState(e);return"completed"===o.status?o.expFlowsTrayPoC:void 0},t.hasFlowsDashboardAccess=e=>{const{folderRulesConfig:o}=t.getAutomationsState(e);return"completed"===o.status&&o.hasDashboardAccess},t.getFlowsFolderRulesActionExperiments=e=>{const{folderRulesConfig:o}=t.getAutomationsState(e);return"completed"===o.status&&o.actionExperiments||[]},t.getUserAutomations=e=>{const{userAutomations:o}=t.getAutomationsState(e);return"completed"===o.status&&o.data?o.data:[]},t.getAutoFolderOnboarding=e=>t.getAutomationsState(e).autoFolderOnboarding,t.getUserExperiments=e=>{const{userExperiments:o}=t.getAutomationsState(e);return"completed"===o.status&&o.data?o.data:[]},t.getDashboardUiExpVariant=e=>{const n=t.getUserExperiments(e).find(e=>e.feature===o.UI_EXPERIMENTS.DASHBOARD_UI_EXP_M1);return null==n?void 0:n.variant},t.getAutomationPreviewExpVariant=e=>{const n=t.getUserExperiments(e).find(e=>e.feature===o.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1);return null==n?void 0:n.variant},t.shouldSubscribeToBolt=e=>t.getAutomationsState(e).shouldSubscribeToBolt})),define("metaserver/static/js/modules/clean/react/flows/utils/api_helpers",["require","exports","tslib","metaserver/static/js/modules/clean/react/flows/lib/api","metaserver/static/js/modules/clean/react/flows/logging/flows_loggers"],(function(e,t,o,n,a){"use strict";function r(e,t){switch(e){case"pdf_conversion":return Object.assign({".tag":"pdf_conversion"},t);case"unzip":return Object.assign({".tag":"unzip"},t);case"tag":return Object.assign({".tag":"tag"},t);case"smart_subfolders":return Object.assign({".tag":"smart_subfolders"},t);case"image_conversion":return Object.assign({".tag":"image_conversion"},t);case"video_conversion":return Object.assign({".tag":"video_conversion"},t);case"tidy_up":return Object.assign({".tag":"tidy_up"},t);case"naming_conventions":return Object.assign({".tag":"naming_conventions"},t);case"audio_conversion":return Object.assign({".tag":"audio_conversion"},t);case"watermarking":return Object.assign({".tag":"watermarking"},t);default:throw new Error(`Undefined .tag ${e}`)}}function i(e,t,o){return{enabled:t,action:{action:r(e,o)}}}function s(e,t,o){return{rules:[i(e,t,o)]}}Object.defineProperty(t,"__esModule",{value:!0}),t.removeFolderRule=t.updateFolderRule=t.makeFolderRuleSet=t.makeFolderRule=t.getFolderActionTag=void 0,n=o.__importStar(n),t.getFolderActionTag=r,t.makeFolderRule=i,t.makeFolderRuleSet=s,t.updateFolderRule=function(e,t,r,i,l,c){return o.__awaiter(this,void 0,void 0,(function*(){switch(t){case"pdf_conversion":case"tag":case"unzip":case"smart_subfolders":case"image_conversion":case"video_conversion":case"tidy_up":case"naming_conventions":case"audio_conversion":case"watermarking":return a.PapLogger.logInitiateAutoFolderModalUpdateAutomation(Object.assign({actionTag:t},c)),n.updateFolderRules(e,s(t,r,i),l).then(e=>(a.PapLogger.logSucceedAutoFolderModalUpdateAutomation(Object.assign({actionTag:t},c)),e),e=>{throw a.PapLogger.logFailAutoFolderModalUpdateAutomation(Object.assign({actionTag:t},c)),e});default:throw new Error(`Undefined .tag ${t}`)}}))},t.removeFolderRule=function(e,t){return o.__awaiter(this,void 0,void 0,(function*(){switch(t){case"pdf_conversion":case"tag":case"unzip":case"smart_subfolders":case"image_conversion":case"video_conversion":case"tidy_up":case"naming_conventions":case"audio_conversion":case"watermarking":return a.PapLogger.logInitiateAutoFolderModalRemove(),n.removeFolderRules(e,s(t,!1,void 0)).then(e=>(a.PapLogger.logSucceedAutoFolderModalRemove(),e),e=>{throw a.PapLogger.logFailAutoFolderModalRemove(),e});default:throw new Error(`Undefined .tag ${t}`)}}))}})),define("metaserver/static/js/modules/clean/react/flows/utils/folder_rules",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/components/modal","metaserver/static/js/modules/core/i18n","react-intl","metaserver/static/js/modules/clean/react/flows/redux/actions","metaserver/static/js/modules/clean/react/browse/data/store","react-redux","metaserver/static/js/modules/clean/react/flows/components/modals/create_file_name_modal","metaserver/static/js/modules/clean/react/flows/redux/store"],(function(e,t,o,n,a,r,i,s,l,c,u,d){"use strict";function p(e,t){a.Modal.showInstance(n.default.createElement(c.Provider,{store:l.getStoreForBrowse()},n.default.createElement(i.RawIntlProvider,{value:r.intl},n.default.createElement(e,Object.assign({},t)))))}Object.defineProperty(t,"__esModule",{value:!0}),t.asyncLaunchAddOrEditAutoFolderModal=t.asyncLaunchUnifiedAutomationEditModal=t.asyncLaunchUnifiedAutomationAddModal=t.asyncLaunchCreateAutoFolderModalFromHome=t.asyncLaunchUnifiedAutomationCreateModal=t.launchArchiveNameModal=void 0,n=o.__importDefault(n),t.launchArchiveNameModal=function(e,t,o,s){a.Modal.showInstance(n.default.createElement(c.Provider,{store:l.getStoreForBrowse()},n.default.createElement(i.RawIntlProvider,{value:r.intl},n.default.createElement(u.CreateFileNameModal,{action:e,files:t,user:o,context:s}))))},t.asyncLaunchUnifiedAutomationCreateModal=function(t,n){new Promise((t,o)=>{e(["metaserver/static/js/modules/clean/react/flows/components/modals/browse_adapter"],t,o)}).then(o.__importStar).then(({BrowseCreateAutoFolderModal:e})=>{const o={parentFqPath:t,surface:"browse",user:n};p(e,Object.assign(Object.assign({},o),{onRetry:function(){p(e,Object.assign(Object.assign({},o),{entryPoint:"error_snackbar"}))}}))})},t.asyncLaunchCreateAutoFolderModalFromHome=function(t){const n=d.getStoreForAutomations();new Promise((t,o)=>{e(["metaserver/static/js/modules/clean/react/flows/components/modals/browse_adapter"],t,o)}).then(o.__importStar).then(({BrowseCreateAutoFolderModal:e})=>{n.dispatch(s.getFolderRulesConfig("OFF")),n.dispatch(s.getUserExperiments()),p(e,Object.assign(Object.assign({},t),{onRetry:function(){p(e,Object.assign(Object.assign({},t),{entryPoint:"error_snackbar",surface:"home"}))},surface:"home"}))})},t.asyncLaunchUnifiedAutomationAddModal=function(t,n,a,r,i,s,l,c){new Promise((t,o)=>{e(["metaserver/static/js/modules/clean/react/flows/components/modals/browse_adapter"],t,o)}).then(o.__importStar).then(({BrowseAddAutoFolderModal:e})=>{const o={automation:i,actionData:s,currentFqPath:t,entryPoint:c,folderFqPath:n,initialScreen:l,nsId:r,user:a};p(e,Object.assign(Object.assign({},o),{onRetry:function(){p(e,Object.assign(Object.assign({},o),{entryPoint:"error_snackbar"}))}}))})},t.asyncLaunchUnifiedAutomationEditModal=function(t,n,a){return o.__awaiter(this,void 0,void 0,(function*(){const{getFolderRuleForFqPath:r,BrowseEditAutoFolderModal:i}=yield new Promise((t,o)=>{e(["metaserver/static/js/modules/clean/react/flows/components/modals/browse_adapter"],t,o)}).then(o.__importStar),s=yield r(t);if(null!=(null==s?void 0:s.folderRule)&&null!=(null==s?void 0:s.actionTag)){const{folderRule:e,actionTag:o}=s,r={automation:o,folderRule:e,fqPath:t,user:n,nsId:a};p(i,Object.assign(Object.assign({},r),{onRetry:function(){p(i,Object.assign(Object.assign({},r),{entryPoint:"error_snackbar"}))}}))}}))},t.asyncLaunchAddOrEditAutoFolderModal=function({fqPath:t,nsId:n,user:a,entryPoint:r}){return o.__awaiter(this,void 0,void 0,(function*(){const{getFolderRuleForFqPath:i,BrowseAddAutoFolderModal:s,BrowseEditAutoFolderModal:l}=yield new Promise((t,o)=>{e(["metaserver/static/js/modules/clean/react/flows/components/modals/browse_adapter"],t,o)}).then(o.__importStar),c=yield i(t);if(null!=(null==c?void 0:c.folderRule)&&null!=(null==c?void 0:c.actionTag)){const{folderRule:e,actionTag:o}=c,i={automation:o,entryPoint:r,folderRule:e,fqPath:t,nsId:n,user:a};function u(){p(l,Object.assign(Object.assign({},i),{entryPoint:"error_snackbar"}))}p(l,Object.assign(Object.assign({},i),{onRetry:u}))}else{const e={currentFqPath:t,entryPoint:r,folderFqPath:t,nsId:n,user:a};function u(){p(s,Object.assign(Object.assign({},e),{entryPoint:"error_snackbar"}))}p(s,Object.assign(Object.assign({},e),{onRetry:u}))}}))}})),define("metaserver/static/js/modules/clean/react/flows/utils/undo",["require","exports","tslib","metaserver/static/js/modules/clean/react/flows/automations/snackbar","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/flows/lib/api"],(function(e,t,o,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undo=void 0,r=o.__importStar(r);t.undo=function({creates:e,moves:t}){return o.__awaiter(this,void 0,void 0,(function*(){const{closeLabel:o,undoProgressLabel:i,undoSuccessLabel:s,undoFailLabel:l}={closeLabel:a.intl.formatMessage({id:"xB3cXP",defaultMessage:"Close"}),undoProgressLabel:e=>a.intl.formatMessage({id:"CdBI55",defaultMessage:"Undoing {count, plural, one {# change} other {# changes}}..."},{count:e}),undoSuccessLabel:e=>a.intl.formatMessage({id:"k+8Dk9",defaultMessage:"{count, plural, one {# change} other {# changes}} undone."},{count:e}),undoFailLabel:a.intl.formatMessage({id:"026V5B",defaultMessage:"Couldn't undo some changes."})},c=e.length+t.length;n.updateSnackbar({variant:"sync",title:i(c)});try{for(let o=0;o<c;o+=32){const n=o+32,a=t.slice(o,n),i=e.slice(Math.max(0,o-t.length),Math.max(0,n-t.length));yield r.undoActions(i,a)}n.updateSnackbar({variant:"complete",title:s(c),closeButtonText:o})}catch(e){n.updateSnackbar({variant:"fail",title:l,closeButtonText:o})}}))}})),define("metaserver/static/js/modules/clean/react/naming_conventions/api_v2",["require","exports","tslib","metaserver/static/js/api_v2/user_client","metaserver/static/js/modules/clean/react/polling_util"],(function(e,t,o,n,a){"use strict";function r(e,t,n,r,i,s){return o.__awaiter(this,void 0,void 0,(function*(){const o=yield e.ns("naming_conventions").rpc("apply",{source_path:n,filename_suggestions:r,rules_struct:i,automation_toggled:s},{subjectUserId:t});return"complete"===o[".tag"]?{status:a.PollingStatus.COMPLETE,result:o}:"other"===o[".tag"]?{status:a.PollingStatus.ERROR,result:o}:{status:a.PollingStatus.IN_PROGRESS,result:o.async_job_id}}))}function i(e,t,n){return o.__awaiter(this,void 0,void 0,(function*(){const o=yield e.ns("naming_conventions").rpc("apply/check",{async_job_id:n},{subjectUserId:t});if("in_progress"===o[".tag"])return{status:a.PollingStatus.IN_PROGRESS,result:n};if("complete"===o[".tag"])return{status:a.PollingStatus.COMPLETE,result:o};if("failed"===o[".tag"])return{status:a.PollingStatus.ERROR,result:o.failed};throw new a.PollingUtilError("Unexpected Result")}))}function s(e,t,n,r,i,s){return o.__awaiter(this,void 0,void 0,(function*(){const o=yield e.ns("naming_conventions").rpc("set",{source_path:n,rules_struct:r,automation_toggled:i,origin:s},{subjectUserId:t});return"complete"===o[".tag"]?{status:a.PollingStatus.COMPLETE,result:o}:"other"===o[".tag"]?{status:a.PollingStatus.ERROR,result:o}:{status:a.PollingStatus.IN_PROGRESS,result:o.async_job_id}}))}function l(e,t,n){return o.__awaiter(this,void 0,void 0,(function*(){const o=yield e.ns("naming_conventions").rpc("set/check",{async_job_id:n},{subjectUserId:t});if("in_progress"===o[".tag"])return{status:a.PollingStatus.IN_PROGRESS,result:n};if("complete"===o[".tag"])return{status:a.PollingStatus.COMPLETE,result:o};if("failed"===o[".tag"])return{status:a.PollingStatus.ERROR,result:o.failed};throw new a.PollingUtilError("Unexpected Result")}))}Object.defineProperty(t,"__esModule",{value:!0}),t.undo=t.snackbarDismissed=t.shouldShowSnackbar=t.previewWithRetries=t.getRules=t.preview=t._setTimeout=t.setNamingConventions=t.pollForNamingConventionsSetResponse=t.initialNamingConventionsSetRequest=t.applyNamingConventions=t.pollForNamingConventionsApplyResponse=t.initialNamingConventionsApplyRequest=void 0,t.initialNamingConventionsApplyRequest=r,t.pollForNamingConventionsApplyResponse=i,t.applyNamingConventions=function(e,t,s,l,c){return o.__awaiter(this,void 0,void 0,(function*(){t=u(t);const d=new n.UserApiV2Client;return yield a.makePollingRequest(()=>o.__awaiter(this,void 0,void 0,(function*(){return r(d,e,t,s,l,c)})),t=>o.__awaiter(this,void 0,void 0,(function*(){return i(d,e,t)})))}))},t.initialNamingConventionsSetRequest=s,t.pollForNamingConventionsSetResponse=l,t.setNamingConventions=function(e,t,r,i,c){return o.__awaiter(this,void 0,void 0,(function*(){t=u(t);const d=new n.UserApiV2Client;return yield a.makePollingRequest(()=>o.__awaiter(this,void 0,void 0,(function*(){return s(d,e,t,r,i,c)})),t=>o.__awaiter(this,void 0,void 0,(function*(){return l(d,e,t)})))}))};t._setTimeout=window.setTimeout.bind(window);t.preview=(e,t,a)=>o.__awaiter(void 0,void 0,void 0,(function*(){return t=u(t),(new n.UserApiV2Client).ns("naming_conventions").rpc("preview",{rules_struct:a,source_path:t},{subjectUserId:e})})),t.getRules=(e,t)=>o.__awaiter(void 0,void 0,void 0,(function*(){return t=u(t),(new n.UserApiV2Client).ns("naming_conventions").rpc("get_rules",{source_path:t},{subjectUserId:e})})),t.previewWithRetries=(e,n,a)=>o.__awaiter(void 0,void 0,void 0,(function*(){return c(()=>t.preview(e,n,a)).catch(e=>e)}));const c=(e,n=2,a)=>o.__awaiter(void 0,void 0,void 0,(function*(){return 0===n?Promise.reject(a):e().catch(o=>{return(a=1e3,new Promise(e=>t._setTimeout(e,a))).then(()=>c(e,n-1,o));var a})}));t.shouldShowSnackbar=(e,t)=>o.__awaiter(void 0,void 0,void 0,(function*(){return(new n.UserApiV2Client).ns("naming_conventions").rpc("feature_discovery/should_show_snackbar",{snackbar_type:t},{subjectUserId:e})})),t.snackbarDismissed=e=>o.__awaiter(void 0,void 0,void 0,(function*(){return(new n.UserApiV2Client).ns("naming_conventions").rpc("feature_discovery/snackbar_dismissed",{reset_criteria:!1},{subjectUserId:e})})),t.undo=(e,t,a,r,i)=>o.__awaiter(void 0,void 0,void 0,(function*(){return t=u(t),(new n.UserApiV2Client).ns("naming_conventions").rpc("undo",{source_path:t,entries:a,rules_struct:r,rules_struct_v2:i},{subjectUserId:e})}));const u=e=>"/"===e?"":e})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/naming_conventions_view",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_generic_live_preview","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_title_casing_selection_button","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_consistent_separator_selection_button","metaserver/static/js/modules/clean/react/naming_conventions/types","metaserver/static/js/modules/clean/react/naming_conventions/generic_live_preview_2","dig-components/icons/src","dig-components/icons","dig-components/typography","react-intl","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_draggable_rule_list","react-beautiful-dnd","dig-components/buttons"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f,m,g,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsView=void 0,n=o.__importStar(n);const v=p.defineMessage({id:"qKiRrI",defaultMessage:"Not all rules or metadata may be applicable or available to each file or file type."}),b=p.defineMessage({id:"rLh5z9",defaultMessage:"Add rule"}),w=p.defineMessage({id:"r18HiD",defaultMessage:"Please use only letters (a-z), numbers (0-9), and underscores (_)"}),y=p.defineMessage({id:"NPApVr",defaultMessage:"Please limit the keyword to 15 characters"}),h=p.defineMessage({id:"zU0Cdo",defaultMessage:"Please enter a keyword"}),S=p.defineMessage({id:"LFx6oQ",defaultMessage:"Please select a rule or delete the row"});t.NamingConventionsView=({namingConventionsParameters:e,onNamingConventionsParametersChange:t,experiments:o,onErrorVisible:p,showMissingDataErrors:E,onInvalidData:A})=>{const[O,T]=n.default.useState(e),[C,M]=n.default.useState(""),[L,I]=n.default.useState(!1),{componentList:F,capitalizeAllInitials:N,changeAllSeparators:P,data:x}=e,[R,D]=n.default.useState(Array(O.componentList.length).fill(null));n.useEffect(()=>{t(O)},[O]),n.useEffect(()=>{p(R)},[R]),n.useEffect(()=>{const e=Array.from(R);e.find(e=>(null==e?void 0:e.type)===s.ErrorType.RULE_ERROR)&&!F.includes(s.NamingConventionType.none)&&(e[e.findIndex(e=>(null==e?void 0:e.type)===s.ErrorType.RULE_ERROR)]=null),F.forEach((t,o)=>{if(t===s.NamingConventionType.keyword){if(0===x.keywords[o].length){const t={message:f.intl.formatMessage(h),type:s.ErrorType.TEXT_ERROR,whenToShow:s.WhenToShowError.WHEN_BUTTON_CLICKED};e[o]=t}}else if(t===s.NamingConventionType.none){const t={message:f.intl.formatMessage(S),type:s.ErrorType.RULE_ERROR,whenToShow:s.WhenToShowError.WHEN_BUTTON_CLICKED};e[o]=t}}),D(e)},[F,x]),n.useEffect(()=>{M(l.getGenericLivePreviewText(e))},[e]);const k=n.useCallback(t=>{const o=t.target.value;o===s.NamingConventionType.capitalize_all_initials?T(()=>Object.assign(Object.assign({},e),{capitalizeAllInitials:!e.capitalizeAllInitials})):o===s.NamingConventionType.consistent_separators&&T(()=>Object.assign(Object.assign({},e),{changeAllSeparators:!e.changeAllSeparators}))},[e]),j=n.useCallback(t=>{var o;e.changeAllSeparators&&e.data.consistentSeparatorSelection===t||((o=s.NamingConventionType.consistent_separators)===s.NamingConventionType.capitalize_all_initials?T(()=>Object.assign(Object.assign({},e),{capitalizeAllInitials:!0})):o===s.NamingConventionType.consistent_separators&&T(()=>Object.assign(Object.assign({},e),{changeAllSeparators:!0})),T(()=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},x),{consistentSeparatorSelection:t})})))},[e]),U=n.useCallback((t,o)=>{const n=[...e.data.dateInfo];n[t]={dateFormatSelection:o,mlFilenameParsing:!1},T(()=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{dateInfo:n})}))},[e]),B=n.useCallback((t,o)=>{const n=[...e.data.keywords];n[t]=o,T(()=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{keywords:n})}));const a=new RegExp(/^[a-zA-Z0-9_]{0,15}$/);let r=null;r=o.length>15?{message:f.intl.formatMessage(y),type:s.ErrorType.TEXT_ERROR,whenToShow:s.WhenToShowError.IMMEDIATELY}:a.test(o)?null:{message:f.intl.formatMessage(w),type:s.ErrorType.TEXT_ERROR,whenToShow:s.WhenToShowError.IMMEDIATELY};const i=Array.from(R);i[t]=r,D(i),A(!!r)},[e,R]),W=n.useCallback((t,o)=>{const n=Array.from(R);n[t]=null,D(n),A(!1);const a=Array.from(e.componentList),r=Array.from(e.data.dateInfo);a.includes(s.NamingConventionType.upload_date)||a.includes(s.NamingConventionType.capture_date)||o!==s.NamingConventionType.upload_date&&o!==s.NamingConventionType.capture_date||(r[t].mlFilenameParsing=!0),a[t]=o,T(()=>Object.assign(Object.assign({},e),{componentList:a,data:Object.assign(Object.assign({},e.data),{dateInfo:r})}))},[e,R]),G=n.useCallback(t=>{t.destination&&(((t,o)=>{const n=Array.from(e.componentList),[a]=n.splice(t,1);n.splice(o,0,a);const r=Array.from(e.data.dateInfo),[i]=r.splice(t,1);r.splice(o,0,i);const s=Array.from(e.data.keywords),[l]=s.splice(t,1);s.splice(o,0,l),T(()=>Object.assign(Object.assign({},e),{componentList:n,data:Object.assign(Object.assign({},e.data),{dateInfo:r,keywords:s})}));const c=Array.from(R),[u]=c.splice(t,1);c.splice(o,0,u),D(()=>[...c])})(t.source.index,t.destination.index),I(!0))},[e,R]),V=n.useCallback(t=>{const o=Array.from(e.componentList);o.splice(t,1);const n=Array.from(e.data.dateInfo);n.splice(t,1);const a=Array.from(e.data.keywords);a.splice(t,1),T(()=>Object.assign(Object.assign({},e),{componentList:o,data:Object.assign(Object.assign({},e.data),{dateInfo:n,keywords:a})}));const r=Array.from(R);r.splice(t,1),D(r),A(!1)},[e,R]),q=n.useCallback(()=>{I(!1)},[I]),z=n.useCallback(()=>{if(-1!==F.indexOf(s.NamingConventionType.none))return void A(!0);D([...R,null]);const t=Array.from(e.componentList);t.push(s.NamingConventionType.none);const o=Array.from(e.data.dateInfo);o.push({mlFilenameParsing:!1,dateFormatSelection:s.DateFormatSelection.yyyy_mm_dd});const n=Array.from(e.data.keywords);n.push(""),T(()=>Object.assign(Object.assign({},e),{componentList:t,data:Object.assign(Object.assign({},e.data),{dateInfo:o,keywords:n})}))},[e,R]),Y=n.useCallback((t,o)=>{const n=Array.from(e.data.dateInfo);o&&n.forEach(e=>e.mlFilenameParsing=!1),n[t].mlFilenameParsing=o,T(()=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{dateInfo:n})}))},[e]);return n.default.createElement(n.default.Fragment,null,n.default.createElement(a.NamingConventionsGenericLivePreview,{previewText:C,forModal2:!0}),n.default.createElement("div",{className:"naming-conventions__info-message-container"},n.default.createElement(u.UIIcon,{className:"naming-conventions__info-message-icon",src:c.InfoSmallLine}),n.default.createElement(d.Text,{size:"small",color:"faint"},f.intl.formatMessage(v))),n.default.createElement("hr",{className:"naming-conventions__horizontal-line-rule-section"}),n.default.createElement("div",{className:"naming-conventions__drag-and-drop-area-container"},n.default.createElement(g.DragDropContext,{onDragEnd:G},n.default.createElement(m.NamingConventionsDraggableRuleList,{rules:F,onRuleChange:W,dateFormats:e.data.dateInfo,onMLSelection:Y,onDateFormatSelection:U,keywords:e.data.keywords,onKeywordChange:B,onRuleRemove:V,experiments:o,errorState:R,showMissingDataErrors:E}))),n.default.createElement("hr",{className:"naming-conventions__horizontal-line-rule-section"}),n.default.createElement("div",{className:"naming-conventions__add-rule-button-container"},n.default.createElement(_.Button,{variant:"transparent",hasNoUnderline:!0,withIconLeft:n.default.createElement(u.UIIcon,{src:c.AddCircleLine,role:"presentation",className:"naming-conventions__add-rule-button"}),onClick:z,disabled:E&&R.some(e=>!!e&&e.type===s.ErrorType.RULE_ERROR)},n.default.createElement(d.Text,{color:"faint"},f.intl.formatMessage(b)))),n.default.createElement(r.NamingConventionsTitleCasingSelectionButton,{isSelected:N,onSelect:k,shouldFocus:L,onShouldFocusToggle:q}),n.default.createElement(i.NamingConventionsConsistentSeparatorSelectionButton,{isSelected:P,onSelect:k,separatorSelection:e.data.consistentSeparatorSelection,setSeparatorSelection:j,useSelectComponent:!0}))},t.NamingConventionsView.displayName="NamingConventionsView"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_consistent_separator_selection_button",["require","exports","tslib","react","react-intl","metaserver/static/js/modules/clean/react/naming_conventions/types","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_selection_button_with_selection","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsConsistentSeparatorSelectionButton=void 0,n=o.__importStar(n);const l=a.defineMessage({id:"U595M8",defaultMessage:"Change separators to"}),c=a.defineMessage({id:"jyN4iF",defaultMessage:"Separate words with"}),u=a.defineMessage({id:"fNMZat",defaultMessage:"Spaces"}),d=a.defineMessage({id:"WlQ6fB",defaultMessage:"Underscores"}),p=a.defineMessage({id:"dxmlqa",defaultMessage:"Dashes"});t.NamingConventionsConsistentSeparatorSelectionButton=n.default.memo(({isSelected:e,onSelect:t,separatorSelection:o,setSeparatorSelection:a,useSelectComponent:f})=>{const m=n.useMemo(()=>new Map([[r.ConsistentSeparatorSelection.spaces,s.intl.formatMessage(u)],[r.ConsistentSeparatorSelection.underscores,s.intl.formatMessage(d)],[r.ConsistentSeparatorSelection.dashes,s.intl.formatMessage(p)]]),[]);return n.default.createElement(i.NamingConventionsSelectionButtonWithSelection,{isSelected:e,onSelect:t,value:r.NamingConventionType.consistent_separators,label:f?s.intl.formatMessage(c):s.intl.formatMessage(l),optionsMapping:m,optionSelection:o,setOptionSelection:a,useSelectComponent:f})}),t.NamingConventionsConsistentSeparatorSelectionButton.displayName="NamingConventionsConsistentSeparatorSelectionButton"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_date_selection_button",["require","exports","tslib","react","react-intl","metaserver/static/js/modules/clean/react/naming_conventions/types","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_selection_button_with_selection","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsDateSelectionButton=void 0,n=o.__importStar(n);const l=a.defineMessage({id:"Op7+fy",defaultMessage:"Start filenames with date"}),c=a.defineMessage({id:"kuIfCl",defaultMessage:"YYYY-MM"}),u=a.defineMessage({id:"Wo8t/x",defaultMessage:"YYYY-MM-DD"}),d=a.defineMessage({id:"dq2xhP",defaultMessage:"YYYYMMDD"}),p=a.defineMessage({id:"ASIht1",defaultMessage:"YYYY-Mon-DD"});t.NamingConventionsDateSelectionButton=({isSelected:e,onSelect:t,dateFormatSelection:o,setDateFormatSelection:a})=>{const f=n.useMemo(()=>new Map([[r.DateFormatSelection.yyyy_mm,s.intl.formatMessage(c)],[r.DateFormatSelection.yyyy_mm_dd,s.intl.formatMessage(u)],[r.DateFormatSelection.yyyy_abbr_dd,s.intl.formatMessage(p)],[r.DateFormatSelection.yyyymmdd,s.intl.formatMessage(d)]]),[]);return n.default.createElement(i.NamingConventionsSelectionButtonWithSelection,{isSelected:e,onSelect:t,value:r.NamingConventionType.upload_date,label:s.intl.formatMessage(l),optionsMapping:f,optionSelection:o,setOptionSelection:a,useSelectComponent:!1})},t.NamingConventionsDateSelectionButton.displayName="NamingConventionsDateSelectionButton"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_draggable_rule_list",["require","exports","tslib","react","react-beautiful-dnd","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_rule_row"],(function(e,t,o,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsDraggableRuleList=void 0,n=o.__importDefault(n);t.NamingConventionsDraggableRuleList=n.default.memo(({rules:e,dateFormats:t,keywords:o,onRuleChange:i,onDateFormatSelection:s,onKeywordChange:l,onRuleRemove:c,onMLSelection:u,experiments:d,errorState:p,showMissingDataErrors:f})=>{const m=((e,t,o,a,i,s,l,c,u,d,p)=>(f,m,g)=>n.default.createElement(r.NamingConventionsRuleRow,{position:g.source.index,rule:e[g.source.index],onRuleChange:a,dateInfo:t[g.source.index],onDateFormatChange:i,keyword:o[g.source.index],onKeywordChange:s,provided:f,snapshot:m,onRuleRemove:l,onMLSelection:c,experiments:u,error:d[g.source.index],showMissingDataErrors:p}))(e,t,o,i,s,l,c,u,d,p,f);return n.default.createElement(a.Droppable,{droppableId:"rule_list",renderClone:m},t=>n.default.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps,{style:{zIndex:2e4}}),e.map((e,t)=>n.default.createElement(a.Draggable,{key:`${e}-${t}`,draggableId:`${e}-${t}`,index:t},m)),t.placeholder))}),t.NamingConventionsDraggableRuleList.displayName="NamingConventionsDraggableRuleList"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_generic_live_preview",["require","exports","tslib","react","dig-components/typography","react-intl","dig-components/icons/src","dig-components/icons","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n,a,r,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsGenericLivePreview=void 0,n=o.__importDefault(n);const c=r.defineMessage({id:"/f9BQ2",defaultMessage:"This is how your filenames will look"});t.NamingConventionsGenericLivePreview=n.default.memo(({previewText:e,forModal2:t})=>t?n.default.createElement("div",{id:e,className:"naming-conventions__live-preview-container-2","data-testid":"generic-live-preview"},n.default.createElement("div",{className:"naming-conventions__live-preview-icon"},n.default.createElement(s.UIIcon,{src:i.FileLine})),n.default.createElement("div",{className:"naming-conventions__live-preview-text",tabIndex:0},n.default.createElement(a.Text,{monospace:!0},e))):n.default.createElement("div",{className:"naming-conventions__live-preview-section"},n.default.createElement(a.Text,{tagName:"label",htmlFor:e},l.intl.formatMessage(c)),n.default.createElement("div",{id:e,className:"naming-conventions__live-preview-container"},n.default.createElement(s.UIIcon,{className:"naming-conventions__live-preview-icon",src:i.FileLine}),n.default.createElement(a.Text,{monospace:!0},e)))),t.NamingConventionsGenericLivePreview.displayName="NamingConventionsGenericLivePreview"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_ml_toggle",["require","exports","tslib","react","react-intl","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_toggle_button","dig-components/controls","dig-components/typography","dig-components/tooltips"],(function(e,t,o,n,a,r,i,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsMLCheckbox=t.NamingConventionsMLToggle=void 0,n=o.__importDefault(n);const u=a.defineMessage({id:"yqIarH",defaultMessage:"Intelligent file renaming"});t.NamingConventionsMLToggle=({isToggled:e,onSelect:t,value:o,disabled:a})=>n.default.createElement(i.NamingConventionsToggleButton,{isToggled:e,onSelect:t,value:o,disabled:a,label:r.intl.formatMessage(u)}),t.NamingConventionsMLToggle.displayName="NamingConventionsMLToggle";const d=a.defineMessage({id:"Ya3WDl",defaultMessage:"Replace with existing dates detected in filenames"}),p=a.defineMessage({id:"xD1Q24",defaultMessage:"Can only be active on one rule at a time"}),f=a.defineMessage({id:"bK/FO8",defaultMessage:"This option cannot be enabled when a date format with time is selected"});t.NamingConventionsMLCheckbox=n.default.memo(({isSelected:e,onSelect:t,position:o,value:a,disabled:i})=>n.default.createElement("div",{className:"naming-conventions__ml-checkbox-row",key:a},n.default.createElement(s.Checkbox,{id:a+o,checked:e,onChange:e=>{const n=e.target.checked;t(o,n)},className:"naming-conventions__ml-checkbox",disabled:i}),n.default.createElement(c.Tooltip,{title:i?r.intl.formatMessage(f):r.intl.formatMessage(p)},n.default.createElement("span",{className:"naming-conventions__ml-checkbox-label"},n.default.createElement(l.Text,{tagName:"label",htmlFor:a+o,size:"small",color:i?"disabled":"standard"},r.intl.formatMessage(d)))))),t.NamingConventionsMLCheckbox.displayName="NamingConventionsMLCheckbox"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_parent_folder_name_selection_button",["require","exports","tslib","react","react-intl","metaserver/static/js/modules/clean/react/naming_conventions/types","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_selection_button","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsParentFolderNameSelectionButton=void 0,n=o.__importDefault(n);const l=a.defineMessage({id:"JNB+YZ",defaultMessage:"Add parent folder name"});t.NamingConventionsParentFolderNameSelectionButton=({isSelected:e,onSelect:t})=>n.default.createElement(i.NamingConventionsSelectionButton,{isSelected:e,onSelect:t,value:r.NamingConventionType.parent_folder_name,label:s.intl.formatMessage(l)}),t.NamingConventionsParentFolderNameSelectionButton.displayName="NamingConventionsParentFolderNameSelectionButton"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_rule_row",["require","exports","tslib","react","dig-components/text_fields","metaserver/static/js/modules/clean/react/naming_conventions/types","metaserver/static/js/modules/core/i18n","react-intl","dig-components/icons","dig-components/icons/src","dig-components/text_fields","dig-components/buttons","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_ml_toggle","dig-components/typography"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsRuleRow=void 0,n=o.__importDefault(n);const m=s.defineMessage({id:"LnSULt",defaultMessage:"Include date"}),g=s.defineMessage({id:"+X+HOK",defaultMessage:"Date uploaded"}),_=s.defineMessage({id:"aIMXCV",defaultMessage:"Date captured"}),v=s.defineMessage({id:"tQhGF4",defaultMessage:"Add keyword"}),b=s.defineMessage({id:"hvMtJg",defaultMessage:"Keyword"}),w=s.defineMessage({id:"Kjqg7T",defaultMessage:"Include parent folder"}),y=s.defineMessage({id:"N0rNFR",defaultMessage:"Parent folder"}),h=s.defineMessage({id:"Ev/BMV",defaultMessage:"Add media metadata"}),S=s.defineMessage({id:"gSjlZj",defaultMessage:"Camera make"}),E=s.defineMessage({id:"9yy5+6",defaultMessage:"Camera model"}),A=s.defineMessage({id:"OmDsJV",defaultMessage:"Lens model"}),O=s.defineMessage({id:"x8hiOw",defaultMessage:"Dimensions"}),T=s.defineMessage({id:"rB8RaG",defaultMessage:"Dots per inch (DPI)"}),C=s.defineMessage({id:"PXnFLy",defaultMessage:"Dots per centimeter (DPCM)"}),M=s.defineMessage({id:"1BKAPH",defaultMessage:"YYYY-MM"}),L=s.defineMessage({id:"aU2hMp",defaultMessage:"YYYY-MM-DD"}),I=s.defineMessage({id:"Lcdy8q",defaultMessage:"YYYYMMDD"}),F=s.defineMessage({id:"twjMx7",defaultMessage:"YYYY-Mon-DD"}),N=s.defineMessage({id:"dEoeba",defaultMessage:"YYYY-MM-HH:MM"}),P=s.defineMessage({id:"hrWv11",defaultMessage:"YYYY-MM-DD-HH:MM"}),x=s.defineMessage({id:"fNKOoY",defaultMessage:"YYYYMMDD-HH:MM"}),R=s.defineMessage({id:"4lpf3L",defaultMessage:"YYYY-Mon-DD-HH:MM"}),D=s.defineMessage({id:"+pAgX+",defaultMessage:"Select rule"}),k=s.defineMessage({id:"RCnu3K",defaultMessage:"Filename"}),j=s.defineMessage({id:"Nzzj63",defaultMessage:"Sender's name"}),U=s.defineMessage({id:"GPKgbS",defaultMessage:"Enter keyword"});t.NamingConventionsRuleRow=n.default.memo(({position:e,rule:t,onRuleChange:o,dateInfo:s,onDateFormatChange:u,keyword:M,onKeywordChange:L,provided:I,snapshot:F,onRuleRemove:N,onMLSelection:P,experiments:x,error:R,showMissingDataErrors:U})=>{let V=n.default.createElement(n.default.Fragment,null);t===r.NamingConventionType.upload_date||t===r.NamingConventionType.capture_date?V=n.default.createElement(B,{position:e,dateFormat:s.dateFormatSelection,onDateFormatChange:u}):t===r.NamingConventionType.keyword&&(V=n.default.createElement(W,{position:e,keyword:M,onKeywordChange:L,error:R,showMissingInfoErrors:U}));let q=!1,z=n.default.createElement(n.default.Fragment,null);t===r.NamingConventionType.original_snippet?(q=!0,z=n.default.createElement(G,{position:e,value:i.intl.formatMessage(k)})):t===r.NamingConventionType.sender_name&&(q=!0,z=n.default.createElement(G,{position:e,value:i.intl.formatMessage(j)}));let Y=null;if(x.expNamingConventionsMLFilename&&(t===r.NamingConventionType.upload_date||t===r.NamingConventionType.capture_date)){let t=!1;s.dateFormatSelection!==r.DateFormatSelection.yyyy_mm_hh_mm&&s.dateFormatSelection!==r.DateFormatSelection.yyyy_mm_dd_hh_mm&&s.dateFormatSelection!==r.DateFormatSelection.yyyy_abbr_dd_hh_mm&&s.dateFormatSelection!==r.DateFormatSelection.yyyymmdd_hh_mm||(t=!0),Y=n.default.createElement(p.NamingConventionsMLCheckbox,{isSelected:!0===s.mlFilenameParsing,onSelect:P,position:e,value:r.NamingConventionML,disabled:t})}return n.default.createElement("div",Object.assign({ref:I.innerRef},I.draggableProps,I.dragHandleProps,{style:Object.assign(Object.assign({},I.draggableProps.style),{zIndex:2e4,backgroundColor:F.isDragging?"#d6e8fa":"inherit",borderLeft:F.isDragging?"4px solid var(--color__core__accent)":""}),className:"naming-conventions__rule-row-container"}),n.default.createElement("div",{className:"naming-conventions__rule-row",key:e},n.default.createElement("div",{className:"naming-conventions__select-container"},q?z:n.default.createElement("div",{className:"naming-conventions__rule-row-bg-style"},n.default.createElement(a.Select,{id:"rule-selection"+e,placeholder:i.intl.formatMessage(D),value:t,onChange:t=>{const n=r.ruleStrToEnum.get(t);n&&o(e,n)},isInvalid:!!R&&R.type===r.ErrorType.RULE_ERROR&&U},n.default.createElement(a.Select.OptGroup,{withLabel:i.intl.formatMessage(m)},n.default.createElement(a.Select.Option,{value:r.NamingConventionType.upload_date},i.intl.formatMessage(g))),n.default.createElement(a.Select.OptGroup,{withLabel:i.intl.formatMessage(v)},n.default.createElement(a.Select.Option,{value:r.NamingConventionType.keyword},i.intl.formatMessage(b))),n.default.createElement(a.Select.OptGroup,{withLabel:i.intl.formatMessage(w)},n.default.createElement(a.Select.Option,{value:r.NamingConventionType.parent_folder_name},i.intl.formatMessage(y))),x.expNamingConventionsMetadata?n.default.createElement(a.Select.OptGroup,{withLabel:i.intl.formatMessage(h)},n.default.createElement(a.Select.Option,{value:r.NamingConventionType.capture_date},i.intl.formatMessage(_)),n.default.createElement(a.Select.Option,{value:r.NamingConventionType.camera_make},i.intl.formatMessage(S)),n.default.createElement(a.Select.Option,{value:r.NamingConventionType.camera_model},i.intl.formatMessage(E)),n.default.createElement(a.Select.Option,{value:r.NamingConventionType.lens_model},i.intl.formatMessage(A)),n.default.createElement(a.Select.Option,{value:r.NamingConventionType.dimensions},i.intl.formatMessage(O)),n.default.createElement(a.Select.Option,{value:r.NamingConventionType.dots_per_inch},i.intl.formatMessage(T)),n.default.createElement(a.Select.Option,{value:r.NamingConventionType.dots_per_cm},i.intl.formatMessage(C))):null))),n.default.createElement("div",{className:"naming-conventions__select-container"},V),q?n.default.createElement("div",{className:"naming-conventions__empty-icon"}):n.default.createElement(d.IconButton,{variant:"transparent"},n.default.createElement(l.UIIcon,{src:c.DeleteLine,onClick:()=>{N(e)},"data-testid":"delete-button"})),n.default.createElement("div",{className:"naming-conventions__move-icon"},n.default.createElement(l.UIIcon,{src:c.MoveLine}))),n.default.createElement("div",null,Y),R&&R.type===r.ErrorType.RULE_ERROR&&U&&n.default.createElement("div",{className:"naming-conventions__rule-row-error-message"},n.default.createElement(f.Text,{size:"small",color:"error"},R.message)),n.default.createElement("hr",{className:"naming-conventions__horizontal-line-rule-row"}))}),t.NamingConventionsRuleRow.displayName="NamingConventionsRuleRow";const B=n.default.memo(({position:e,dateFormat:t,onDateFormatChange:o})=>n.default.createElement("div",{className:"naming-conventions__rule-row-bg-style"},n.default.createElement(a.Select,{id:"date-selection"+e,value:t,onChange:t=>{const n=r.dateFormatStrToEnum.get(t);n&&o(e,n)}},n.default.createElement(a.Select.Option,{value:r.DateFormatSelection.yyyy_mm},i.intl.formatMessage(M)),n.default.createElement(a.Select.Option,{value:r.DateFormatSelection.yyyy_mm_dd},i.intl.formatMessage(L)),n.default.createElement(a.Select.Option,{value:r.DateFormatSelection.yyyymmdd},i.intl.formatMessage(I)),n.default.createElement(a.Select.Option,{value:r.DateFormatSelection.yyyy_abbr_dd},i.intl.formatMessage(F)),n.default.createElement(a.Select.Option,{value:r.DateFormatSelection.yyyy_mm_hh_mm},i.intl.formatMessage(N)),n.default.createElement(a.Select.Option,{value:r.DateFormatSelection.yyyy_mm_dd_hh_mm},i.intl.formatMessage(P)),n.default.createElement(a.Select.Option,{value:r.DateFormatSelection.yyyymmdd_hh_mm},i.intl.formatMessage(x)),n.default.createElement(a.Select.Option,{value:r.DateFormatSelection.yyyy_abbr_dd_hh_mm},i.intl.formatMessage(R)))));B.displayName="NamingConventionsDateSelectComponent";const W=n.default.memo(({position:e,keyword:t,onKeywordChange:o,error:a,showMissingInfoErrors:s})=>{const[l,c]=n.default.useState(!1);return n.default.useEffect(()=>{const e=(null==a?void 0:a.type)===r.ErrorType.TEXT_ERROR&&((null==a?void 0:a.whenToShow)===r.WhenToShowError.IMMEDIATELY||s&&(null==a?void 0:a.whenToShow)===r.WhenToShowError.WHEN_BUTTON_CLICKED);c(e)},[a,s]),n.default.createElement("div",{id:"keyword-field"+e,className:"naming-conventions__rule-row-bg-style"},n.default.createElement(u.TextInput,{id:"keyword-field"+e,placeholder:i.intl.formatMessage(U),defaultValue:t,onChange:t=>{o(e,t.target.value)},isInvalid:l}),l&&n.default.createElement(f.Text,{size:"small",color:"error"},null==a?void 0:a.message))});W.displayName="NamingConventionsKeywordTextInputComponent";const G=n.default.memo(({position:e,value:t})=>(void 0===t&&(t=""),n.default.createElement("div",{className:"naming-conventions__rule-row-bg-style"},n.default.createElement(u.TextInput,{id:"locked-field"+e,value:t,disabled:!0,"aria-label":t}))));G.displayName="NamingConventionsLockedTextFieldComponent"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_selection_button_with_selection",["require","exports","tslib","react","dig-components/controls","dig-components/typography","dig-components/chips","dig-components/menu","dig-components/text_fields","metaserver/static/js/modules/clean/react/naming_conventions/types"],(function(e,t,o,n,a,r,i,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsSelectionButtonWithSelection=void 0,n=o.__importDefault(n),t.NamingConventionsSelectionButtonWithSelection=({isSelected:e,onSelect:t,value:o,label:u,optionsMapping:d,optionSelection:p,setOptionSelection:f,useSelectComponent:m})=>{const g=[];return d.forEach((e,t)=>{m?g.push(n.default.createElement(l.Select.Option,{value:t},e)):g.push(n.default.createElement(s.Menu.SelectItem,{key:t,value:t,selected:t===p},e))}),n.default.createElement("div",{className:"naming-conventions__checkbox-row",key:o},n.default.createElement(a.Checkbox,{id:o,value:o,checked:e,onChange:t,className:"naming-conventions__checkbox"}),n.default.createElement("span",{className:"naming-conventions__checkbox-label"},n.default.createElement(r.Text,{tagName:"label",htmlFor:o},u)),m?n.default.createElement("div",{className:"naming-conventions__separators-select-container"},n.default.createElement(l.Select,{id:o+"-select",value:p,onChange:e=>{f("underscores"===e?c.ConsistentSeparatorSelection.underscores:"dashes"===e?c.ConsistentSeparatorSelection.dashes:c.ConsistentSeparatorSelection.spaces)}},g)):n.default.createElement(s.Menu.Wrapper,{onSelection:e=>{f(e)},className:"naming-conventions__drop-down-container"},({getTriggerProps:e,getContentProps:t})=>n.default.createElement(n.default.Fragment,null,n.default.createElement(i.FilterChip,Object.assign({withDropdownIcon:!0},e()),d.get(p)),n.default.createElement(s.Menu.Content,Object.assign({},t()),n.default.createElement(s.Menu.Segment,null,g)))))},t.NamingConventionsSelectionButtonWithSelection.displayName="NamingConventionsSelectionButtonWithSelection"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_selection_button",["require","exports","tslib","react","dig-components/controls","dig-components/typography"],(function(e,t,o,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsSelectionButton=void 0,n=o.__importDefault(n),t.NamingConventionsSelectionButton=({isSelected:e,onSelect:t,value:o,label:i,shouldFocus:s,onShouldFocusToggle:l})=>{const c=n.default.useRef(null);return n.default.useEffect(()=>{c.current&&s&&l&&(c.current.focus(),l())}),n.default.createElement("div",{className:"naming-conventions__checkbox-row",key:o},n.default.createElement(a.Checkbox,{id:o,value:o,checked:e,onChange:t,className:"naming-conventions__checkbox",ref:c}),n.default.createElement("span",{className:"naming-conventions__checkbox-label"},n.default.createElement(r.Text,{tagName:"label",htmlFor:o},i)))},t.NamingConventionsSelectionButton.displayName="NamingConventionsSelectionButton"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_title_casing_selection_button",["require","exports","tslib","react","react-intl","metaserver/static/js/modules/clean/react/naming_conventions/types","metaserver/static/js/modules/clean/react/naming_conventions/components/nc_selection_button","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsTitleCasingSelectionButton=void 0,n=o.__importDefault(n);const l=a.defineMessage({id:"vkhtzi",defaultMessage:"Capitalize initials"});t.NamingConventionsTitleCasingSelectionButton=n.default.memo(({isSelected:e,onSelect:t,shouldFocus:o,onShouldFocusToggle:a})=>n.default.createElement(i.NamingConventionsSelectionButton,{isSelected:e,onSelect:t,value:r.NamingConventionType.capitalize_all_initials,label:s.intl.formatMessage(l),shouldFocus:o,onShouldFocusToggle:a})),t.NamingConventionsTitleCasingSelectionButton.displayName="NamingConventionsTitleCasingSelectionButton"})),define("metaserver/static/js/modules/clean/react/naming_conventions/components/nc_toggle_button",["require","exports","tslib","react","dig-components/controls","dig-components/typography","react-intl","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsToggleButton=void 0,n=o.__importDefault(n);const l=i.defineMessage({id:"ncTZKN",defaultMessage:"Learn More"});t.NamingConventionsToggleButton=({isToggled:e,onSelect:t,value:o,disabled:i,label:c,learnMoreLink:u})=>n.default.createElement("div",{className:"naming-conventions__toggle-row",key:o},n.default.createElement(a.Toggle,{id:o,isToggled:e,onChange:t,className:"naming-conventions__toggle-button",disabled:i}),n.default.createElement("span",{className:"naming-conventions__toggle-label"},n.default.createElement(r.Text,{tagName:"label",htmlFor:o},c),u?n.default.createElement(r.Link,{className:"naming-conventions__toggle-learn-more",href:u,target:"_blank",variant:"monochromatic",rel:"noreferrer"},s.intl.formatMessage(l)):null)),t.NamingConventionsToggleButton.displayName="NamingConventionsToggleButton"})),define("metaserver/static/js/modules/clean/react/naming_conventions/generic_live_preview",["require","exports","metaserver/static/js/modules/clean/react/naming_conventions/types","react-intl","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGenericLivePreviewText=void 0;const r=n.defineMessage({id:"pXtmWv",defaultMessage:"Example Folder"}),i=n.defineMessage({id:"VsyQFb",defaultMessage:"Example Filename.pdf"}),s=n.defineMessage({id:"2Dzzt5",defaultMessage:"example filename.pdf"}),l=n.defineMessage({id:"Twdm0+",defaultMessage:"keyword"}),c=new Map([[o.DateFormatSelection.yyyy_mm,"2021-11"],[o.DateFormatSelection.yyyy_mm_dd,"2021-11-02"],[o.DateFormatSelection.yyyy_abbr_dd,"2021-Nov-02"],[o.DateFormatSelection.yyyymmdd,"20211102"]]),u=new Map([[o.ConsistentSeparatorSelection.spaces," "],[o.ConsistentSeparatorSelection.underscores,"_"],[o.ConsistentSeparatorSelection.dashes,"-"]]);t.getGenericLivePreviewText=e=>{const{selectedRules:t,dateFormatSelection:n}=e;let i=d(e);return t.includes(o.NamingConventionType.parent_folder_name)&&(i=a.intl.formatMessage(r)+" - "+i),t.includes(o.NamingConventionType.upload_date)&&(i=c.get(n)+" - "+i),i};const d=e=>{const{selectedRules:t,consistentSeparatorSelection:n}=e;let r;if(r=t.includes(o.NamingConventionType.capitalize_all_initials)?a.intl.formatMessage(i):a.intl.formatMessage(s),t.includes(o.NamingConventionType.keyword)){const e=r.split(".");r=e[0]+" "+a.intl.formatMessage(l)+"."+e[1]}if(t.includes(o.NamingConventionType.consistent_separators)){const e=u.get(n);r=r.replace(/\s/g,e)}return r}})),define("metaserver/static/js/modules/clean/react/naming_conventions/generic_live_preview_2",["require","exports","metaserver/static/js/modules/clean/react/naming_conventions/types","react-intl","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGenericLivePreviewText=void 0;const r=n.defineMessage({id:"OuFH1I",defaultMessage:"example parent folder"}),i=n.defineMessage({id:"wv++Sh",defaultMessage:"Sender's name"}),s=n.defineMessage({id:"3CWP/N",defaultMessage:"Example Filename"}),l=n.defineMessage({id:"F6REWU",defaultMessage:"example filename"}),c=n.defineMessage({id:"UoQzii",defaultMessage:"keyword"}),u=n.defineMessage({id:"m4Kz4W",defaultMessage:"camera make"}),d=n.defineMessage({id:"y1H4sc",defaultMessage:"camera model"}),p=n.defineMessage({id:"I6nYxI",defaultMessage:"lens model"}),f=n.defineMessage({id:"nAsbFH",defaultMessage:"W x H"}),m=n.defineMessage({id:"GDIqj4",defaultMessage:"100 x 100"}),g=n.defineMessage({id:"GBWDKJ",defaultMessage:"254 x 254"}),_=new Map([[o.DateFormatSelection.yyyy_mm,"2021-11"],[o.DateFormatSelection.yyyy_mm_dd,"2021-11-02"],[o.DateFormatSelection.yyyy_abbr_dd,"2021-Nov-02"],[o.DateFormatSelection.yyyymmdd,"20211102"],[o.DateFormatSelection.yyyy_mm_hh_mm,"2021-11-14:35"],[o.DateFormatSelection.yyyy_mm_dd_hh_mm,"2021-11-02-14:35"],[o.DateFormatSelection.yyyy_abbr_dd_hh_mm,"2021-Nov-02-14:35"],[o.DateFormatSelection.yyyymmdd_hh_mm,"20211102-14:35"]]),v=new Map([[o.DateFormatSelection.yyyy_mm,"2021-10"],[o.DateFormatSelection.yyyy_mm_dd,"2021-10-13"],[o.DateFormatSelection.yyyy_abbr_dd,"2021-Oct-13"],[o.DateFormatSelection.yyyymmdd,"20211013"],[o.DateFormatSelection.yyyy_mm_hh_mm,"2021-10-14:35"],[o.DateFormatSelection.yyyy_mm_dd_hh_mm,"2021-10-13-14:35"],[o.DateFormatSelection.yyyy_abbr_dd_hh_mm,"2021-Oct-13-14:35"],[o.DateFormatSelection.yyyymmdd_hh_mm,"20211013-14:35"]]),b=new Map([[o.ConsistentSeparatorSelection.spaces," "],[o.ConsistentSeparatorSelection.underscores,"_"],[o.ConsistentSeparatorSelection.dashes,"-"]]),w=new Map([[o.NamingConventionType.sender_name,i],[o.NamingConventionType.parent_folder_name,r],[o.NamingConventionType.keyword,c],[o.NamingConventionType.camera_make,u],[o.NamingConventionType.camera_model,d],[o.NamingConventionType.lens_model,p],[o.NamingConventionType.dimensions,f],[o.NamingConventionType.dots_per_inch,m],[o.NamingConventionType.dots_per_cm,g]]);t.getGenericLivePreviewText=e=>{const{componentList:t,capitalizeAllInitials:n,changeAllSeparators:r,data:i}=e,s=b.get(i.consistentSeparatorSelection);let l="";const c=y(n,r,s);return t.forEach((e,n)=>{let u;e!==o.NamingConventionType.none&&(u=e===o.NamingConventionType.upload_date?_.get(i.dateInfo[n].dateFormatSelection):e===o.NamingConventionType.capture_date?v.get(i.dateInfo[n].dateFormatSelection):e===o.NamingConventionType.original_snippet?c:a.intl.formatMessage(w.get(e)),0===n?l=u:1!==n||t[0]!==o.NamingConventionType.upload_date&&t[0]!==o.NamingConventionType.capture_date?l+=r?s+u:" "+u:l+=" - "+u)}),l+".pdf"};const y=(e,t,o)=>{let n=e?a.intl.formatMessage(s):a.intl.formatMessage(l);return t&&(n=n.replace(/\s/g,o)),n}})),define("metaserver/static/js/modules/clean/react/naming_conventions/utils",["require","exports","metaserver/static/js/modules/clean/react/naming_conventions/types","lodash"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.namingConventionsParametersEqual2=t.namingConventionsParametersEqual=t.NamingConventionConversions=void 0,t.NamingConventionConversions={NamingConventionToApiV2(e){const{selectedRules:n,dateFormatSelection:a,consistentSeparatorSelection:r,data:i}=e,s={};for(const e of n)switch(e){case o.NamingConventionType.upload_date:s.start_with_date=t.NamingConventionConversions.dateFormatToApiV2(a);break;case o.NamingConventionType.capitalize_all_initials:s.capitalize_all_initials={".tag":"capitalize_initials"};break;case o.NamingConventionType.consistent_separators:s.change_all_separators=t.NamingConventionConversions.consistentSeparatorToApiV2(r);break;case o.NamingConventionType.parent_folder_name:s.include_parent_folder_name={".tag":"prepend_parent_folder_name"};break;case o.NamingConventionType.keyword:s.end_with_keyword={".tag":"end_with_keyword"},i&&i.keyword&&(s.data||(s.data={}),s.data.keyword=i.keyword);break;default:throw new Error(`Invalid type for NamingConventionType selection! (value=${e})`)}return e.mlFilenameParsing&&(s.ml_filename={".tag":"ml_filename_parsing"}),s},NamingConventionsParametersToRuleStruct(e){const{componentList:n,capitalizeAllInitials:a,changeAllSeparators:r,data:i}=e,s={component_list:[]},l=[];for(const[e,a]of n.entries())switch(a){case o.NamingConventionType.upload_date:const n=i.dateInfo[e];l.push({".tag":"upload_date",ml_identification:n.mlFilenameParsing,date_format:t.NamingConventionConversions.dateFormatToApiV2(n.dateFormatSelection)});break;case o.NamingConventionType.parent_folder_name:l.push({".tag":"parent_folder_name",parent_folder_name:{".tag":"parent_folder_name"}});break;case o.NamingConventionType.keyword:l.push({".tag":"keyword",keyword:i.keywords[e]});break;case o.NamingConventionType.original_snippet:l.push({".tag":"original_snippet",original_snippet:{".tag":"original_snippet"}});break;case o.NamingConventionType.capture_date:const r=i.dateInfo[e];l.push({".tag":"metadata",metadata:{".tag":"capture_date",ml_identification:r.mlFilenameParsing,date_format:t.NamingConventionConversions.dateFormatToApiV2(r.dateFormatSelection)}});break;case o.NamingConventionType.camera_make:l.push({".tag":"metadata",metadata:{".tag":"camera_make"}});break;case o.NamingConventionType.camera_model:l.push({".tag":"metadata",metadata:{".tag":"camera_model"}});break;case o.NamingConventionType.dimensions:l.push({".tag":"metadata",metadata:{".tag":"dimensions"}});break;case o.NamingConventionType.dots_per_inch:l.push({".tag":"metadata",metadata:{".tag":"dots_per_inch"}});break;case o.NamingConventionType.dots_per_cm:l.push({".tag":"metadata",metadata:{".tag":"dots_per_cm"}});break;case o.NamingConventionType.lens_model:l.push({".tag":"metadata",metadata:{".tag":"lens_model"}});break;case o.NamingConventionType.sender_name:l.push({".tag":"sender_name",sender_name:{".tag":"sender_name"}});break;case o.NamingConventionType.none:break;default:throw new Error(`Invalid type for NamingConventionType selection! (value=${a})`)}return a&&(s.capitalize_all_initials={".tag":"capitalize_all_initials"}),r&&(s.change_all_separators=t.NamingConventionConversions.consistentSeparatorToApiV2(i.consistentSeparatorSelection)),s.component_list=l,s},dateFormatToApiV2(e){switch(e){case o.DateFormatSelection.yyyy_mm:return{".tag":"yyyy_mm"};case o.DateFormatSelection.yyyy_mm_dd:return{".tag":"yyyy_mm_dd"};case o.DateFormatSelection.yyyy_abbr_dd:return{".tag":"yyyy_abbr_dd"};case o.DateFormatSelection.yyyymmdd:return{".tag":"yyyymmdd"};case o.DateFormatSelection.yyyy_mm_hh_mm:return{".tag":"yyyy_mm_hh_mm"};case o.DateFormatSelection.yyyy_mm_dd_hh_mm:return{".tag":"yyyy_mm_dd_hh_mm"};case o.DateFormatSelection.yyyy_abbr_dd_hh_mm:return{".tag":"yyyy_abbr_dd_hh_mm"};case o.DateFormatSelection.yyyymmdd_hh_mm:return{".tag":"yyyymmdd_hh_mm"};default:return{".tag":"other"}}},consistentSeparatorToApiV2(e){switch(e){case o.ConsistentSeparatorSelection.spaces:return{".tag":"spaces"};case o.ConsistentSeparatorSelection.underscores:return{".tag":"underscores"};case o.ConsistentSeparatorSelection.dashes:return{".tag":"dashes"};default:return{".tag":"other"}}},NamingConventionFromApiV2(e){const n={},a=[];if(e.start_with_date&&(a.push(o.NamingConventionType.upload_date),n.dateFormatSelection=t.NamingConventionConversions.dateFormatFromApiv2(e.start_with_date)),e.capitalize_all_initials&&"capitalize_initials"===e.capitalize_all_initials[".tag"]&&a.push(o.NamingConventionType.capitalize_all_initials),e.change_all_separators&&(a.push(o.NamingConventionType.consistent_separators),n.consistentSeparatorSelection=t.NamingConventionConversions.consistentSeparatorFromApiV2(e.change_all_separators)),e.include_parent_folder_name&&"prepend_parent_folder_name"===e.include_parent_folder_name[".tag"]&&a.push(o.NamingConventionType.parent_folder_name),n.mlFilenameParsing=!(!e.ml_filename||"ml_filename_parsing"!==e.ml_filename[".tag"]),e.end_with_keyword&&"end_with_keyword"===e.end_with_keyword[".tag"]&&(a.push(o.NamingConventionType.keyword),e.data&&e.data.keyword)){const t={keyword:e.data.keyword};n.data=t}return n.selectedRules=a,n},NamingConventionsParametersFromRuleStruct(e,n){const a=[],r={componentList:[],capitalizeAllInitials:!1,changeAllSeparators:!1,data:{dateInfo:[],consistentSeparatorSelection:o.ConsistentSeparatorSelection.spaces,keywords:[]}};let i=r.data,s=!1;return e.component_list.forEach((e,n)=>{switch(i.dateInfo[n]={dateFormatSelection:o.DateFormatSelection.yyyy_mm_dd,mlFilenameParsing:!1},i.keywords[n]="",e[".tag"]){case"upload_date":a.push(o.NamingConventionType.upload_date),i.dateInfo[n]={dateFormatSelection:t.NamingConventionConversions.dateFormatFromApiv2(e.date_format),mlFilenameParsing:e.ml_identification};break;case"parent_folder_name":a.push(o.NamingConventionType.parent_folder_name);break;case"keyword":a.push(o.NamingConventionType.keyword),i.keywords[n]=e.keyword;break;case"original_snippet":a.push(o.NamingConventionType.original_snippet);break;case"metadata":const r=e.metadata;switch(r[".tag"]){case"capture_date":a.push(o.NamingConventionType.capture_date),i.dateInfo[n]={dateFormatSelection:t.NamingConventionConversions.dateFormatFromApiv2(r.date_format),mlFilenameParsing:r.ml_identification};break;case"camera_make":a.push(o.NamingConventionType.camera_make);break;case"camera_model":a.push(o.NamingConventionType.camera_model);break;case"dimensions":a.push(o.NamingConventionType.dimensions);break;case"dots_per_inch":a.push(o.NamingConventionType.dots_per_inch);break;case"dots_per_cm":a.push(o.NamingConventionType.dots_per_cm);break;case"lens_model":a.push(o.NamingConventionType.lens_model)}break;case"sender_name":s=!0,a.push(o.NamingConventionType.sender_name)}}),s||n!==o.NamingConventionOrigin.from_file_request||(a.push(o.NamingConventionType.sender_name),i.dateInfo.push({mlFilenameParsing:!1,dateFormatSelection:o.DateFormatSelection.yyyy_mm_dd}),i.keywords.push("")),r.capitalizeAllInitials=!(!e.capitalize_all_initials||"capitalize_all_initials"!==e.capitalize_all_initials[".tag"]),e.change_all_separators?(r.changeAllSeparators=!0,i=Object.assign(Object.assign({},i),{consistentSeparatorSelection:t.NamingConventionConversions.consistentSeparatorFromApiV2(e.change_all_separators)})):r.changeAllSeparators=!1,r.componentList=a,r.data=i,r},dateFormatFromApiv2(e){switch(e[".tag"]){case"yyyy_mm":return o.DateFormatSelection.yyyy_mm;case"yyyy_mm_dd":return o.DateFormatSelection.yyyy_mm_dd;case"yyyy_abbr_dd":return o.DateFormatSelection.yyyy_abbr_dd;case"yyyymmdd":return o.DateFormatSelection.yyyymmdd;case"yyyy_mm_hh_mm":return o.DateFormatSelection.yyyy_mm_hh_mm;case"yyyy_mm_dd_hh_mm":return o.DateFormatSelection.yyyy_mm_dd_hh_mm;case"yyyy_abbr_dd_hh_mm":return o.DateFormatSelection.yyyy_abbr_dd_hh_mm;case"yyyymmdd_hh_mm":return o.DateFormatSelection.yyyymmdd_hh_mm;default:return o.DateFormatSelection.yyyy_mm_dd}},consistentSeparatorFromApiV2(e){switch(e[".tag"]){case"spaces":return o.ConsistentSeparatorSelection.spaces;case"underscores":return o.ConsistentSeparatorSelection.underscores;case"dashes":return o.ConsistentSeparatorSelection.dashes;default:return o.ConsistentSeparatorSelection.spaces}}},t.namingConventionsParametersEqual=(e,t)=>n.isEqual(e.selectedRules,t.selectedRules)&&n.isEqual(e.data,t.data)&&e.dateFormatSelection===t.dateFormatSelection&&e.consistentSeparatorSelection===t.consistentSeparatorSelection&&e.mlFilenameParsing===t.mlFilenameParsing,t.namingConventionsParametersEqual2=(e,t)=>n.isEqual(e.componentList,t.componentList)&&e.capitalizeAllInitials===t.capitalizeAllInitials&&e.changeAllSeparators===t.changeAllSeparators&&n.isEqual(e.data,t.data)})),define("metaserver/static/js/modules/clean/react/polling_util",["require","exports","tslib"],(function(e,t,o){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.makePollingRequest=t.PollingUtilError=t.PollingStatus=void 0,(function(e){e[e.IN_PROGRESS=0]="IN_PROGRESS",e[e.COMPLETE=1]="COMPLETE",e[e.ERROR=2]="ERROR"})(n=t.PollingStatus||(t.PollingStatus={}));class a extends Error{constructor(e){super(e),this.name="PollingUtilError"}}t.PollingUtilError=a;t.makePollingRequest=function(e,t,a=1e3){var r;return o.__awaiter(this,void 0,void 0,(function*(){try{const o=yield e();if(o.status===n.COMPLETE)return{isError:!1,result:o.result};if(o.status===n.ERROR)return{isError:!0,error:o.result,error_summary:"default_error"};let r=1,i=void 0;do{r=r>=8?1:2*r,yield new Promise(e=>setTimeout(e,a*r)),i=yield t(o.result)}while(i.status===n.IN_PROGRESS);return i.status===n.COMPLETE?{isError:!1,result:i.result}:{isError:!0,error:i.result,error_summary:"default_error"}}catch(e){return(null===(r=null==e?void 0:e.error)||void 0===r?void 0:r[".tag"])?{isError:!0,error:e.error,error_summary:e.summary}:{isError:!0,error:{".tag":"undefined_error"},error_summary:"undefined_error"}}}))}})),define("metaserver/static/js/modules/clean/react/tagging/components/auto_tagging_typeahead",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/tagging/components/tags_container","metaserver/static/js/modules/clean/tagging/components/tags_search","metaserver/static/js/modules/clean/react/components/css","metaserver/static/js/modules/clean/tagging/utils","react-redux","metaserver/static/js/modules/clean/tagging/data/selectors/index","metaserver/static/js/modules/clean/tagging/data/action_creators"],(function(e,t,o,n,a,r,i,s,l,c,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoTaggingTypeahead=void 0,n=o.__importStar(n);const p=({user:e,data:t,onDataChange:o,onDataError:a})=>{const[s,p]=n.useState((null==t?void 0:t.tags)||[]),m=c.useDispatch(),g=c.useSelector(u.selectAllTagsSuggestions);n.useEffect(()=>{o({tags:s}),0===s.length&&a()},[s]),n.useEffect(()=>{(null==t?void 0:t.tags)&&p(t.tags)},[t]);return n.createElement(n.Fragment,null,n.createElement(i.TagsSearch,{user:e,maxTagsReached:s.length>=5,getStrings:f,excludeResults:s,onSelection:e=>{s.includes(e)||p([e,...s])},allTagsSuggestions:g,fetchAllTagsSuggestions:({user:e})=>{m(d.fetchAllTagsSuggestions({user:e}))}}),n.createElement(r.TagsContainer,{tags:l.textTagsToUserGeneratedTags(s),onTagDelete:e=>{p(s.filter(t=>t!==e.tag_text))},containerClassName:"tags-container",chipClassName:"tag-chip",showMoreClassName:"tag-chip"}))};function f(){return{addTypeaheadEmptyState:a.intl.formatMessage({id:"tOzwXq",defaultMessage:"Use words that will help you or teammates find the files in this folder"}),maxTagsReachedError:a.intl.formatMessage({id:"umQAUu",defaultMessage:"5 tags is the maximum per automation. Remove existing tags to add new tags."}),addTag:a.intl.formatMessage({id:"m6+B0R",defaultMessage:"Add a tag"}),tagsInfo:a.intl.formatMessage({id:"coaiAD",defaultMessage:"Choose carefully! Anyone on your team can see tags. People who can edit the file can edit tags, too."}),alreadyExistsError:a.intl.formatMessage({id:"370uDs",defaultMessage:"That tag’s already selected"}),invalidCharsError:a.intl.formatMessage({id:"USd6JI",defaultMessage:"Use letters (a-z), numbers (0-9), and underscores ( _ )"}),tooLongError:a.intl.formatMessage({id:"l83VsE",defaultMessage:"32 characters is the maximum"})}}p.displayName="AutoTaggingTypeaheadWithoutCss",t.AutoTaggingTypeahead=s.requireCssWithComponent(p,["/static/js/organized-content/index.web-vfly_JRjx.css"])})),define("metaserver/static/js/modules/clean/tagging/components/tags_search",["require","exports","tslib","react","ts-key-enum","dig-components/icons","dig-components/icons/src","dig-components/text_fields","dig-components/tooltips","dig-components/typeahead","dig-components/typography","metaserver/static/js/modules/clean/react/components/css","metaserver/static/js/modules/clean/tagging/utils","metaserver/static/js/modules/clean/tagging/utils"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagsSearch=t.TagsSearchWithoutCss=void 0,n=o.__importStar(n),p=o.__importStar(p);const m=({placeholderText:e})=>n.createElement("div",{className:"tg-empty-state"},n.createElement(u.Text,{variant:"label",size:"small",color:"faint",tagName:"p"},e));m.displayName="EmptyState";const g=e=>{var{disabled:t,children:a}=e,r=o.__rest(e,["disabled","children"]);return t?n.createElement(n.Fragment,null,a):n.createElement(l.Tooltip,Object.assign({},r),a)};g.displayName="Tooltip";const _=({hasFocus:e})=>n.createElement(u.Text,{size:"small",color:e?"standard":"faint",className:"tg-input-hashtag-accessory"},"#");_.displayName="LeftAccessory",t.TagsSearchWithoutCss=({user:e,maxTagsReached:t,readOnly:o=!1,excludeResults:l,onSelection:d,onInputFocus:v,onStartTyping:b,onInputBlur:w,getStrings:y,allTagsSuggestions:h,fetchAllTagsSuggestions:S})=>{const[E,A]=n.useState(""),[O,T]=n.useState([]),[C,M]=n.useState(!1),{addTypeaheadEmptyState:L,createTagPrefix:I,addTag:F,invalidCharsError:N,maxTagsReachedError:P,tooLongError:x,alreadyExistsError:R,readOnlyError:D}=y();n.useEffect(()=>{S({user:e})},[]),n.useEffect(()=>{const e=E.toLowerCase();if(U(e)||void 0===h)return void T([]);const t=p.trimHashtags(e),o=p.getTagsSuggestions(t,h).filter(f.isUserGeneratedTag).map(e=>e.tag_text).filter(e=>!l.includes(e));T(o)},[E,h,l]);const k=e=>n.createElement(c.Typeahead.Row,{key:`@${e}`,id:`@${e}`,value:e,withTitle:n.createElement(u.Text,{size:"small"},p.formatTag(e))}),j=e=>n.createElement(c.Typeahead.Row,{key:e,value:e,withTitle:I?n.createElement(u.Text,{size:"small"},I+" ",n.createElement(u.Text,{size:"small",isBold:!0},p.formatTag(e))):n.createElement(u.Text,{size:"small"},p.formatTag(e)),id:e}),U=e=>!(/^\#*[_a-zA-Z0-9]+$/i.test(e)&&e.length<=32||/^\#*$/i.test(e)),B=({currentTarget:{value:e}})=>{0===E.length&&1===e.length&&(null==b||b()),A(e)},W=t?P:o?D:void 0,G=E.toLowerCase(),V=p.trimHashtags(G),q=""!==V&&0===O.length&&l.includes(V),z=U(G)||q,Y=z||l.includes(V)||O.includes(V)||""===V?[]:[G],K=o||t;return n.createElement(c.Typeahead.Wrapper,{onSelection:e=>{A(""),d(e)},onFocus:()=>{null==v||v(),M(!0)},onBlur:()=>{null==w||w(E),M(!1)},className:"tg-search"},({getTriggerProps:e,getContentProps:t,closeMenu:o})=>n.createElement(n.Fragment,null,n.createElement(g,{disabled:!K,id:"more-button-tooltip",title:W},n.createElement(s.TextInput,Object.assign({id:"trigger"},e({onChange:B}),{value:E,"aria-label":F,placeholder:F,disabled:K,withLeftAccessory:n.createElement(_,{hasFocus:C||E.length>0}),autoComplete:"off",isInvalid:z,className:"tg-input tg-input-small-font-override",onKeyDown:e=>((e,t)=>{if(e.key===a.Key.Enter&&""!==E){if(U(E)||l.includes(V))return;const e=p.trimHashtags(E).toLowerCase();d(e),A(""),t({})}})(e,o)}))),z&&n.createElement(s.FormHelperText,{isInvalid:!0,id:"bad-parms-input-helper"},n.createElement(r.UIIcon,{src:i.FailLine,size:"small"}),E.length>=32?x:q?R:N),n.createElement(c.Typeahead.Container,Object.assign({},t(),{auto:!1,isEmptyQuery:0===E.length,placement:"bottom-start",emptyState:n.createElement(m,{placeholderText:L})}),n.createElement(c.Typeahead.Results,{results:O.slice(0,3),renderRow:k}),n.createElement(c.Typeahead.Results,{results:Y,renderRow:j}))))},t.TagsSearchWithoutCss.displayName="TagsSearchWithoutCss",t.TagsSearch=d.requireCssWithComponent(t.TagsSearchWithoutCss,["/static/css/tagging/manual_tagging-vflO195yx.css"])})),define("typescript/component_libraries/flows/src/common/constants",["require","exports"],(function(e,t){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FOLDER_NAME_MAX_LENGTH=t.FEEDBACK_FORM_MAX_COMMENT_LENGTH=t.LINK=t.LEARN_MORE_LINKS=t.TestTarget=void 0,(o=t.TestTarget||(t.TestTarget={})).ADD_FOLDER_RULES_MODAL="flows-add-folder-rules-modal",o.ADD_FOLDER_RULES_MODAL_CANCEL="flows-add-folder-rules-modal-cancel",o.ADD_FOLDER_RULES_MODAL_CONFIRM="flows-add-folder-rules-modal-confirm",o.ADD_FOLDER_RULES_MODAL_FOLDER_NAME_INPUT="flows-add-folder-rules-modal-folder-name-input",o.ADD_FOLDER_RULES_MODAL_SUGGESTION_LINK="flows-add-folder-rules-modal-suggestion-link",o.AUTOMATED_FOLDER_MODAL="flows-folder-automation-modal",o.AUTOMATED_FOLDER_MODAL_CANCEL="flows-folder-automation-modal-cancel",o.AUTOMATED_FOLDER_MODAL_INVALID_NAME="flows-folder-automation-modal-invalid-name",o.AUTOMATED_FOLDER_MODAL_NEXT="flows-folder-automation-modal-next",o.AUTOMATED_FOLDER_MODAL_TOOLTIP_CONTAINER="flows-folder-automation-modal-tooltip_container",o.AUTOMATED_FOLDER_MODAL_BACK="flows-folder-automation-modal-back",o.AUTOMATED_FOLDER_MODAL_SUBMIT="flows-folder-automation-modal-submit",o.FILE_CONVERSION_INPUT_TYPE_SELECT="flows-file-conversion-input-type-select",o.FILE_CONVERSION_FORMAT_SELECT="flows-file-conversion-format-select",o.FOLDER_RULES_SETTINGS_MODAL="flows-folder-rules-settings-modal",o.FOLDER_RULES_SETTINGS_MODAL_CANCEL="flows-folder-rules-settings-modal-cancel",o.FOLDER_RULES_SETTINGS_MODAL_MENU="flows-folder-rules-settings-modal-menu",o.FOLDER_RULES_SETTINGS_MODAL_CHANGE_TO_BASIC="flows-folder-rules-settings-modal-change-to-basic",o.FOLDER_RULES_SETTINGS_MODAL_TOGGLE_RULE="flows-folder-rules-settings-modal-toggle-rule",o.FOLDER_RULES_SETTINGS_MODAL_TOGGLE_PDF="flows-folder-rules-settings-modal-toggle-pdf",o.FREEFORM_FEEDBACK_MODAL="freeform-feedback-modal",o.FREEFORM_FEEDBACK_MODAL_SUBMIT="freeform-feedback-modal-submit",o.FREEFORM_FEEDBACK_MODAL_CLOSE="freeform-feedback-modal-close",o.FREEFORM_FEEDBACK_MODAL_FEEDBACK_INPUT="freeform-feedback-modal-feedback-input",o.FLOWS_BADGE_TOOLTIP="flows-badge-tooltip",o.FLOWS_BADGE="flows-badge",o.AUTOMATED_FOLDER_TOGGLE_TEXT="flows-folder-automation-toggle-text",o.DASHBOARD_OVERVIEW_VIDEO_THUMBNAIL="flows-dashboard-overview-video-thumbnail",o.DASHBOARD_OVERVIEW_VIDEO_LIGHTBOX="flows-dashboard-overview-video-lightbox",o.VIDEO_TO_GIF_MODAL_CLOSE="flows-video-to-gif-modal-close",o.VIDEO_TO_GIF_MODAL_SUBMIT="flows-video-to-gif-modal-submit",o.VIDEO_TO_GIF_TITLE="flows-video-to-gif-modal-title",o.AUTOMATION_PREVIEW_PORTAL="flows-automation-preview-portal",(t.LEARN_MORE_LINKS||(t.LEARN_MORE_LINKS={})).ABOUT_FOLDER_RULES="https://help.dropbox.com",(t.LINK||(t.LINK={})).SUPPORT="/support",t.FEEDBACK_FORM_MAX_COMMENT_LENGTH=5e3,t.FOLDER_NAME_MAX_LENGTH=255})),define("typescript/component_libraries/flows/src/components/icon-row/index",["require","exports","tslib","classnames","dig-components/icons","dig-components/icons/src","dig-components/typography","react","react-intl","typescript/component_libraries/flows/src/components/select-menu/index","typescript/component_libraries/flows/src/common/constants","dig-components/controls","dig-components/icons/src"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p){"use strict";function f(){const e=l.useIntl();return{supportedFileTypesLabel:e.formatMessage({id:"JgIvka",defaultMessage:"Supported file types"}),fileTypesLabel:e.formatMessage({id:"Y6lIn/",defaultMessage:"File types"}),allSupportedTypesLabel:e.formatMessage({id:"5j9iTj",defaultMessage:"All supported file types"}),noTypesSelectedLabel:e.formatMessage({id:"F+DhKQ",defaultMessage:"Select at least one file type"}),fewTypesSelectedLabel:t=>e.formatList(t,{style:"narrow"}),manyTypesSelectedLabel:t=>e.formatMessage({id:"uSeDCB",defaultMessage:"{type1}, {type2}, {type3}, and {count, plural, one {# other} other {# others}}"},{type1:t[0],type2:t[1],type3:t[2],count:t.length-3}),applyToExistingFilesLabel:e.formatMessage({id:"tV6YXS",defaultMessage:"Apply to current files"}),filetypeErrorTooltipLabel:e.formatMessage({id:"lbcHxV",defaultMessage:"Select a different input or output file type"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionRow=t.ApplyToExistingFilesCheckbox=t.SupportedFileTypes=t.OutputTypeControls=t.InputTypeControls=t.TriggerRow=t.Connector=t.IconRow=void 0,n=o.__importDefault(n),s=o.__importDefault(s),t.IconRow=({children:e,className:t,icon:o})=>s.default.createElement("div",{className:n.default("flows-icon-row",t)},s.default.createElement("div",{className:"flows-icon-row__icon"},o),s.default.createElement("div",{className:"flows-icon-row__content"},e)),t.IconRow.displayName="IconRow",t.Connector=()=>s.default.createElement("div",{className:"flows-icon-row flows-icon-row--connector"},s.default.createElement(a.UIIcon,{src:r.ArrowDownLine})),t.Connector.displayName="Connector",t.TriggerRow=({action:e,actionControlProps:o,shouldRenderPseudoTriggerControls:n=!0,triggerComponent:r})=>{const{renderPseudoTriggerControls:i,allowApplyToExistingFiles:l}=e;return s.default.createElement(t.IconRow,{icon:s.default.createElement(a.UIIcon,{src:p.FolderLine})},r,n&&s.default.createElement(s.default.Fragment,null,i&&i(o),(null==l?void 0:l(o.source))&&s.default.createElement(t.ApplyToExistingFilesCheckbox,{checked:o.applyToExistingFiles,onToggle:o.setApplyToExistingFiles})))},t.TriggerRow.displayName="TriggerRow",t.InputTypeControls=({allInputTypes:e,selectedInputTypes:t,selectedOutputType:o,onSelect:n,onError:a})=>{const{fileTypesLabel:r,noTypesSelectedLabel:l,fewTypesSelectedLabel:d,manyTypesSelectedLabel:p,allSupportedTypesLabel:m,filetypeErrorTooltipLabel:g}=f();let _=null!=t?t:[];return 0===(null==t?void 0:t.length)&&(_=e),s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{"data-testid":u.TestTarget.FILE_CONVERSION_INPUT_TYPE_SELECT},s.default.createElement(i.Text,null,r),s.default.createElement(c.MultiSelectMenu,{options:e.sort(),selected:_,onSelect:t=>{0===t.length?(n(void 0),a(l)):t.length===e.length?n([]):1===t.length&&o&&t.includes(o)?(n(t),a(g)):n(t)},getLabel:t=>t.length===e.length?m:t.length>4?p(t):t.length>0?d(t):l})))},t.InputTypeControls.displayName="InputTypeControls",t.OutputTypeControls=e=>{const{allOutputTypes:t,selectedInputTypes:o,selectedOutputType:n,onSelect:a,onError:r}=e,{filetypeErrorTooltipLabel:i,noTypesSelectedLabel:l}=f();return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"flows-icon-row__file-conversion-format-select","data-testid":u.TestTarget.FILE_CONVERSION_FORMAT_SELECT},s.default.createElement(c.SingleSelectMenu,{options:t,selected:null!=n?n:t[0],onSelect:e=>{a(e),o?1===o.length&&o.includes(e)&&r(i):r(l)},getLabel:e=>e})))},t.OutputTypeControls.displayName="OutputTypeControls",t.SupportedFileTypes=({content:e})=>{const{supportedFileTypesLabel:t}=f(),[o,n]=s.default.useState(!1);return s.default.createElement("div",{className:"flows-icon-row__file-types"},s.default.createElement("button",{"aria-controls":"supported-file-types","aria-expanded":o,className:"flows-icon-row__accordion",id:"supported-file-types-trigger",onClick:()=>{n(!o)}},s.default.createElement(i.Text,{isBold:!0,color:"faint",className:"flows-icon-row__accordion-content"},t,s.default.createElement(a.UIIcon,{src:o?r.ChevronUpLine:r.ChevronDownLine,size:"small"}))),s.default.createElement("div",{"aria-labelledby":"supported-file-types-trigger",id:"supported-file-types",role:"region"},o&&s.default.createElement(i.Text,{variant:"paragraph",tagName:"p",size:"small",color:"faint"},e)))},t.SupportedFileTypes.displayName="SupportedFileTypes",t.ApplyToExistingFilesCheckbox=({checked:e,onToggle:t})=>{const{applyToExistingFilesLabel:o}=f();return s.default.createElement("div",{className:"flows-icon-row__checkbox-row"},s.default.createElement(d.Checkbox,{"aria-label":o,id:"flows-apply-to-existing-files",checked:e,onClick:()=>t(!e)}),s.default.createElement("span",{className:"flows-icon-row__checkbox-label"},s.default.createElement(i.Text,{tagName:"label",htmlFor:"flows-apply-to-existing-files"},o)))},t.ApplyToExistingFilesCheckbox.displayName="ApplyToExistingFilesCheckbox",t.ActionRow=({action:e,actionControlProps:o})=>{const{description:n,icon:a,renderAdditionalControls:r}=e;return s.default.createElement(t.IconRow,{icon:a},n,r?r(o):null)},t.ActionRow.displayName="ActionRow"})),define("typescript/component_libraries/flows/src/components/select-menu/index",["require","exports","tslib","react","react-intl","dig-components/menu","dig-components/buttons","dig-components/controls"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleSelectMenu=t.MultiSelectMenu=void 0,n=o.__importDefault(n),t.MultiSelectMenu=e=>{const{options:t,selected:o,onSelect:l,getLabel:c}=e,{selectAllLabel:u,deselectAllLabel:d}=(function(){const e=a.useIntl();return{selectAllLabel:e.formatMessage({id:"1/cL7w",defaultMessage:"Select all"}),deselectAllLabel:e.formatMessage({id:"VwtAk4",defaultMessage:"Deselect all"})}})(),p=o.length===t.length,f=()=>{l(p?[]:t)};return n.default.createElement(r.Menu.Wrapper,{closeOnSelection:!1,matchContainingWidth:!0,onSelection:e=>{const t=-1===o.indexOf(e)?o.concat(e):o.filter(t=>t!==e);l(t)},className:"flows-select-menu__wrapper"},({getContentProps:e,getTriggerProps:a})=>n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Button,Object.assign({},a(),{variant:"outline",className:"flows-select-menu__trigger",withDropdownIcon:!0}),c(o)),n.default.createElement(r.Menu.Content,Object.assign({className:"flows-select-menu__content"},e()),n.default.createElement(r.Menu.Segment,{withLabel:n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Button,{size:"small",variant:"transparent",onClick:f},p?d:u))},t.map(e=>n.default.createElement(r.Menu.ActionItem,{key:e,value:e,role:"menuitemcheckbox","aria-checked":-1!==o.indexOf(e),withLeftAccessory:n.default.createElement(s.Checkbox,{checked:-1!==o.indexOf(e),readOnly:!0,tabIndex:-1})},e))))))},t.MultiSelectMenu.displayName="MultiSelectMenu",t.SingleSelectMenu=e=>{const{options:t,selected:o,onSelect:a,getLabel:s}=e;return n.default.createElement(r.Menu.Wrapper,{className:"flows-select-menu__wrapper",matchContainingWidth:!0,onSelection:a},({getContentProps:e,getTriggerProps:a})=>n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Button,Object.assign({},a(),{className:"flows-select-menu__trigger",variant:"outline",withDropdownIcon:!0}),s(o)),n.default.createElement(r.Menu.Content,Object.assign({className:"flows-select-menu__content"},e(),{placement:"bottom-end"}),n.default.createElement(r.Menu.Segment,null,t.map(e=>n.default.createElement(r.Menu.SelectItem,{key:e,value:e,selected:o===e},e))))))},t.SingleSelectMenu.displayName="SingleSelectMenu"})),define("typescript/component_libraries/flows/src/components/spacer/index",["require","exports","tslib","react"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spacer=void 0,n=o.__importDefault(n);t.Spacer=({multiplier:e=1})=>n.default.createElement("div",{style:{height:8*e,width:8*e}})})),define("metaserver/static/js/modules/clean/react/flows/automations/watermarking",["require","exports","tslib","react","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/flows/components/automated_watermarking/async_auto_watermarking","dig-components/icons/src","dig-components/icons","metaserver/static/js/modules/clean/react/flows/constants","spectrum/icon_content/index","typescript/component_libraries/flows/src/components/automation-preview/index"],(function(e,t,o,n,a,r,i,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatermarkingConfig=void 0,n=o.__importDefault(n),t.WatermarkingConfig=e=>({action:{description:a.intl.formatMessage({id:"FjZDKY",defaultMessage:"Add a watermark"}),icon:n.default.createElement(s.UIIcon,{src:i.StampLine}),tooltip:a.intl.formatMessage({id:"9XOJtt",defaultMessage:"Are saved with a watermark"}),renderAdditionalControls:e=>n.default.createElement(r.AsyncAutoWatermarkingControls,Object.assign({},e))},shortLabel:a.intl.formatMessage({id:"bbQT+Y",defaultMessage:"Watermark"}),genericDescription:d(e),title:a.intl.formatMessage({id:"z6B/6w",defaultMessage:"Files added to a folder are saved with a watermark"}),trigger:"folder",type:"watermarking",supportsPreview:!0,renderTemplatePreview:()=>p(e)});const d=e=>{const t=null==e?void 0:e.find(e=>e.feature===l.UI_EXPERIMENTS.CARD_SUBTEXT_M1);switch(null==t?void 0:t.variant){case l.CARD_SUBTEXT_M1_VARIANTS.PERSISTENT:return a.intl.formatMessage({id:"udWmkb",defaultMessage:"Files saved to this folder have a watermark burned into them"});default:return null}},p=(e,t)=>{const o=null==e?void 0:e.find(e=>e.feature===l.UI_EXPERIMENTS.AUTOMATION_PREVIEWS_EXP_M1);switch(null==o?void 0:o.variant){case l.AUTOMATION_PREVIEWS_EXP_M1_VARIANTS.ON:return n.default.createElement(f,null);default:return null}},f=()=>n.default.createElement(u.PreviewTemplate,{triggerIcon:n.default.createElement(u.FolderWithFile,{fileIcon:"blank-large"}),actionIcon:n.default.createElement(c.IconContent,{name:"blank-large"}),secondaryActionIcon:n.default.createElement(u.WatermarkedFileIcon,{className:"flows-automation-preview__icons--neg_margin"}),description:a.intl.formatMessage({id:"9PXlnG",defaultMessage:"Save copies of files added to this folder with a custom watermark"})})})),define("metaserver/static/js/modules/clean/react/flows/components/automated_watermarking/async_auto_watermarking",["require","exports","tslib","react"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAutoWatermarkingControls=void 0;const a=(n=o.__importDefault(n)).default.lazy(()=>o.__awaiter(void 0,void 0,void 0,(function*(){const{AutoWatermarkingWithoutCss:t}=yield new Promise((t,o)=>{e(["metaserver/static/js/modules/clean/react/flows/components/automated_watermarking/auto_watermarking"],t,o)}).then(o.__importStar);return{default:t}})));t.AsyncAutoWatermarkingControls=e=>n.default.createElement(n.default.Suspense,{fallback:n.default.createElement("div",null)},n.default.createElement(a,Object.assign({},e))),t.AsyncAutoWatermarkingControls.displayName="AsyncAutoWatermarkingControls"})),define("metaserver/static/js/modules/clean/react/flows/utils/browse_logger",["require","exports","tslib","metaserver/static/js/modules/clean/web_user_action_events","metaserver/static/js/modules/clean/react/browse/action_logger","metaserver/static/js/modules/clean/react/flows/utils/modal_utils"],(function(e,t,o,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logAutoFolderModalEvent=t.logAutoFolderEvent=void 0;const i=[n.WebUserActionLogEvent.AUTOMATED_FOLDER_MODAL_OPEN,n.WebUserActionLogEvent.CONFIRM_CREATE_AUTOMATED_FOLDER,n.WebUserActionLogEvent.CANCEL_ADD_FOLDER_RULES,n.WebUserActionLogEvent.FOLDER_RULES_SETTING_MODAL_TOGGLE_CHANGE,n.WebUserActionLogEvent.CANCEL_FOLDER_RULES_SETTING];function s(e,t){const{extra:n}=t,r=o.__rest(t,["extra"]);a.logWebUserAction(Object.assign(Object.assign({},r),{extra:Object.assign({entry_point:null,source:null},n),event_name:e}))}t.logAutoFolderEvent=s,t.logAutoFolderModalEvent=r.makeAutoFolderModalLogger(s,i)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/fail_auto_folder_modal_folder_create",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Fail_AutoFolderModalFolderCreate=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Fail_AutoFolderModalFolderCreate;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Fail_AutoFolderModalFolderCreate"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e})(l.Fail_AutoFolderModalFolderCreate||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/fail_auto_folder_modal_remove",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Fail_AutoFolderModalRemove=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.workflowActionType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.workflowActionType&&Object.hasOwnProperty.call(e,"workflowActionType")&&t.uint32(16).int32(e.workflowActionType),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Fail_AutoFolderModalRemove;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.workflowActionType=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Fail_AutoFolderModalRemove"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e.WorkflowActionType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_ACTION_TYPE"]=0,t[e[1]="UNSPECIFIED_WORKFLOW_ACTION_TYPE"]=1,t[e[2]="PDF_CONVERSION_WORKFLOW_ACTION_TYPE"]=2,t[e[3]="UNZIP_WORKFLOW_ACTION_TYPE"]=3,t[e[4]="IMAGE_CONVERSION_WORKFLOW_ACTION_TYPE"]=4,t[e[5]="VIDEO_CONVERSION_WORKFLOW_ACTION_TYPE"]=5,t[e[6]="TIDY_UP_WORKFLOW_ACTION_TYPE"]=6,t[e[7]="NAMING_CONVENTIONS_WORKFLOW_ACTION_TYPE"]=7,t[e[8]="AUDIO_CONVERSION_WORKFLOW_ACTION_TYPE"]=8,t[e[9]="EMAIL_INGEST_WORKFLOW_ACTION_TYPE"]=9,t[e[10]="SMART_SUBFOLDERS_WORKFLOW_ACTION_TYPE"]=10,t[e[11]="TAG_WORKFLOW_ACTION_TYPE"]=11,t})(),e})(l.Fail_AutoFolderModalRemove||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/fail_auto_folder_modal_update_automation",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Fail_AutoFolderModalUpdateAutomation=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.workflowModalType=0,e.prototype.workflowActionType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.workflowModalType&&Object.hasOwnProperty.call(e,"workflowModalType")&&t.uint32(16).int32(e.workflowModalType),null!=e.workflowActionType&&Object.hasOwnProperty.call(e,"workflowActionType")&&t.uint32(24).int32(e.workflowActionType),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Fail_AutoFolderModalUpdateAutomation;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.workflowModalType=e.int32();break;case 3:n.workflowActionType=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Fail_AutoFolderModalUpdateAutomation"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e.WorkflowActionType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_ACTION_TYPE"]=0,t[e[1]="UNSPECIFIED_WORKFLOW_ACTION_TYPE"]=1,t[e[2]="PDF_CONVERSION_WORKFLOW_ACTION_TYPE"]=2,t[e[3]="UNZIP_WORKFLOW_ACTION_TYPE"]=3,t[e[4]="IMAGE_CONVERSION_WORKFLOW_ACTION_TYPE"]=4,t[e[5]="VIDEO_CONVERSION_WORKFLOW_ACTION_TYPE"]=5,t[e[6]="TIDY_UP_WORKFLOW_ACTION_TYPE"]=6,t[e[7]="NAMING_CONVENTIONS_WORKFLOW_ACTION_TYPE"]=7,t[e[8]="AUDIO_CONVERSION_WORKFLOW_ACTION_TYPE"]=8,t[e[9]="EMAIL_INGEST_WORKFLOW_ACTION_TYPE"]=9,t[e[10]="SMART_SUBFOLDERS_WORKFLOW_ACTION_TYPE"]=10,t[e[11]="TAG_WORKFLOW_ACTION_TYPE"]=11,t})(),e.WorkflowModalType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_MODAL_TYPE"]=0,t[e[1]="CREATE_WORKFLOW_MODAL_TYPE"]=1,t[e[2]="ADD_WORKFLOW_MODAL_TYPE"]=2,t[e[3]="EDIT_WORKFLOW_MODAL_TYPE"]=3,t[e[4]="REMOVE_WORKFLOW_MODAL_TYPE"]=4,t})(),e})(l.Fail_AutoFolderModalUpdateAutomation||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/fail_submit_manual_workflow",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Fail_SubmitManualWorkflow=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.entryPoint="",e.prototype.workflowTemplate="",e.prototype.operatingSetSize=0,e.prototype.errorReason="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.entryPoint&&Object.hasOwnProperty.call(e,"entryPoint")&&t.uint32(18).string(e.entryPoint),null!=e.workflowTemplate&&Object.hasOwnProperty.call(e,"workflowTemplate")&&t.uint32(26).string(e.workflowTemplate),null!=e.operatingSetSize&&Object.hasOwnProperty.call(e,"operatingSetSize")&&t.uint32(32).int32(e.operatingSetSize),null!=e.errorReason&&Object.hasOwnProperty.call(e,"errorReason")&&t.uint32(42).string(e.errorReason),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Fail_SubmitManualWorkflow;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.entryPoint=e.string();break;case 3:n.workflowTemplate=e.string();break;case 4:n.operatingSetSize=e.int32();break;case 5:n.errorReason=e.string();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Fail_SubmitManualWorkflow"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e})(l.Fail_SubmitManualWorkflow||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/initiate_auto_folder_modal_folder_create",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Initiate_AutoFolderModalFolderCreate=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Initiate_AutoFolderModalFolderCreate;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Initiate_AutoFolderModalFolderCreate"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e})(l.Initiate_AutoFolderModalFolderCreate||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/initiate_auto_folder_modal_remove",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Initiate_AutoFolderModalRemove=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.workflowActionType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.workflowActionType&&Object.hasOwnProperty.call(e,"workflowActionType")&&t.uint32(16).int32(e.workflowActionType),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Initiate_AutoFolderModalRemove;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.workflowActionType=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Initiate_AutoFolderModalRemove"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e.WorkflowActionType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_ACTION_TYPE"]=0,t[e[1]="UNSPECIFIED_WORKFLOW_ACTION_TYPE"]=1,t[e[2]="PDF_CONVERSION_WORKFLOW_ACTION_TYPE"]=2,t[e[3]="UNZIP_WORKFLOW_ACTION_TYPE"]=3,t[e[4]="IMAGE_CONVERSION_WORKFLOW_ACTION_TYPE"]=4,t[e[5]="VIDEO_CONVERSION_WORKFLOW_ACTION_TYPE"]=5,t[e[6]="TIDY_UP_WORKFLOW_ACTION_TYPE"]=6,t[e[7]="NAMING_CONVENTIONS_WORKFLOW_ACTION_TYPE"]=7,t[e[8]="AUDIO_CONVERSION_WORKFLOW_ACTION_TYPE"]=8,t[e[9]="EMAIL_INGEST_WORKFLOW_ACTION_TYPE"]=9,t[e[10]="SMART_SUBFOLDERS_WORKFLOW_ACTION_TYPE"]=10,t[e[11]="TAG_WORKFLOW_ACTION_TYPE"]=11,t})(),e})(l.Initiate_AutoFolderModalRemove||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/initiate_auto_folder_modal_update_automation",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Initiate_AutoFolderModalUpdateAutomation=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.workflowModalType=0,e.prototype.workflowActionType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.workflowModalType&&Object.hasOwnProperty.call(e,"workflowModalType")&&t.uint32(16).int32(e.workflowModalType),null!=e.workflowActionType&&Object.hasOwnProperty.call(e,"workflowActionType")&&t.uint32(24).int32(e.workflowActionType),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Initiate_AutoFolderModalUpdateAutomation;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.workflowModalType=e.int32();break;case 3:n.workflowActionType=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Initiate_AutoFolderModalUpdateAutomation"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e.WorkflowActionType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_ACTION_TYPE"]=0,t[e[1]="UNSPECIFIED_WORKFLOW_ACTION_TYPE"]=1,t[e[2]="PDF_CONVERSION_WORKFLOW_ACTION_TYPE"]=2,t[e[3]="UNZIP_WORKFLOW_ACTION_TYPE"]=3,t[e[4]="IMAGE_CONVERSION_WORKFLOW_ACTION_TYPE"]=4,t[e[5]="VIDEO_CONVERSION_WORKFLOW_ACTION_TYPE"]=5,t[e[6]="TIDY_UP_WORKFLOW_ACTION_TYPE"]=6,t[e[7]="NAMING_CONVENTIONS_WORKFLOW_ACTION_TYPE"]=7,t[e[8]="AUDIO_CONVERSION_WORKFLOW_ACTION_TYPE"]=8,t[e[9]="EMAIL_INGEST_WORKFLOW_ACTION_TYPE"]=9,t[e[10]="SMART_SUBFOLDERS_WORKFLOW_ACTION_TYPE"]=10,t[e[11]="TAG_WORKFLOW_ACTION_TYPE"]=11,t})(),e.WorkflowModalType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_MODAL_TYPE"]=0,t[e[1]="CREATE_WORKFLOW_MODAL_TYPE"]=1,t[e[2]="ADD_WORKFLOW_MODAL_TYPE"]=2,t[e[3]="EDIT_WORKFLOW_MODAL_TYPE"]=3,t[e[4]="REMOVE_WORKFLOW_MODAL_TYPE"]=4,t})(),e})(l.Initiate_AutoFolderModalUpdateAutomation||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/succeed_auto_folder_modal_folder_create",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Succeed_AutoFolderModalFolderCreate=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Succeed_AutoFolderModalFolderCreate;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Succeed_AutoFolderModalFolderCreate"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e})(l.Succeed_AutoFolderModalFolderCreate||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/succeed_auto_folder_modal_remove",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Succeed_AutoFolderModalRemove=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.workflowActionType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.workflowActionType&&Object.hasOwnProperty.call(e,"workflowActionType")&&t.uint32(16).int32(e.workflowActionType),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Succeed_AutoFolderModalRemove;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.workflowActionType=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Succeed_AutoFolderModalRemove"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e.WorkflowActionType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_ACTION_TYPE"]=0,t[e[1]="UNSPECIFIED_WORKFLOW_ACTION_TYPE"]=1,t[e[2]="PDF_CONVERSION_WORKFLOW_ACTION_TYPE"]=2,t[e[3]="UNZIP_WORKFLOW_ACTION_TYPE"]=3,t[e[4]="IMAGE_CONVERSION_WORKFLOW_ACTION_TYPE"]=4,t[e[5]="VIDEO_CONVERSION_WORKFLOW_ACTION_TYPE"]=5,t[e[6]="TIDY_UP_WORKFLOW_ACTION_TYPE"]=6,t[e[7]="NAMING_CONVENTIONS_WORKFLOW_ACTION_TYPE"]=7,t[e[8]="AUDIO_CONVERSION_WORKFLOW_ACTION_TYPE"]=8,t[e[9]="EMAIL_INGEST_WORKFLOW_ACTION_TYPE"]=9,t[e[10]="SMART_SUBFOLDERS_WORKFLOW_ACTION_TYPE"]=10,t[e[11]="TAG_WORKFLOW_ACTION_TYPE"]=11,t})(),e})(l.Succeed_AutoFolderModalRemove||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/succeed_auto_folder_modal_update_automation",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Succeed_AutoFolderModalUpdateAutomation=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.workflowModalType=0,e.prototype.workflowActionType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.workflowModalType&&Object.hasOwnProperty.call(e,"workflowModalType")&&t.uint32(16).int32(e.workflowModalType),null!=e.workflowActionType&&Object.hasOwnProperty.call(e,"workflowActionType")&&t.uint32(24).int32(e.workflowActionType),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Succeed_AutoFolderModalUpdateAutomation;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.workflowModalType=e.int32();break;case 3:n.workflowActionType=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Succeed_AutoFolderModalUpdateAutomation"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e.WorkflowActionType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_ACTION_TYPE"]=0,t[e[1]="UNSPECIFIED_WORKFLOW_ACTION_TYPE"]=1,t[e[2]="PDF_CONVERSION_WORKFLOW_ACTION_TYPE"]=2,t[e[3]="UNZIP_WORKFLOW_ACTION_TYPE"]=3,t[e[4]="IMAGE_CONVERSION_WORKFLOW_ACTION_TYPE"]=4,t[e[5]="VIDEO_CONVERSION_WORKFLOW_ACTION_TYPE"]=5,t[e[6]="TIDY_UP_WORKFLOW_ACTION_TYPE"]=6,t[e[7]="NAMING_CONVENTIONS_WORKFLOW_ACTION_TYPE"]=7,t[e[8]="AUDIO_CONVERSION_WORKFLOW_ACTION_TYPE"]=8,t[e[9]="EMAIL_INGEST_WORKFLOW_ACTION_TYPE"]=9,t[e[10]="SMART_SUBFOLDERS_WORKFLOW_ACTION_TYPE"]=10,t[e[11]="TAG_WORKFLOW_ACTION_TYPE"]=11,t})(),e.WorkflowModalType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_MODAL_TYPE"]=0,t[e[1]="CREATE_WORKFLOW_MODAL_TYPE"]=1,t[e[2]="ADD_WORKFLOW_MODAL_TYPE"]=2,t[e[3]="EDIT_WORKFLOW_MODAL_TYPE"]=3,t[e[4]="REMOVE_WORKFLOW_MODAL_TYPE"]=4,t})(),e})(l.Succeed_AutoFolderModalUpdateAutomation||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/succeed_submit_manual_workflow",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_api=((l=s.workflow_automation_api||{}).Succeed_SubmitManualWorkflow=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.entryPoint="",e.prototype.workflowTemplate="",e.prototype.operatingSetSize=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.entryPoint&&Object.hasOwnProperty.call(e,"entryPoint")&&t.uint32(18).string(e.entryPoint),null!=e.workflowTemplate&&Object.hasOwnProperty.call(e,"workflowTemplate")&&t.uint32(26).string(e.workflowTemplate),null!=e.operatingSetSize&&Object.hasOwnProperty.call(e,"operatingSetSize")&&t.uint32(32).int32(e.operatingSetSize),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_api.Succeed_SubmitManualWorkflow;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.entryPoint=e.string();break;case 3:n.workflowTemplate=e.string();break;case 4:n.operatingSetSize=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_api.Succeed_SubmitManualWorkflow"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_API"]=0,t})(),e})(l.Succeed_SubmitManualWorkflow||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_conversions/initiate_file_conversion",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_conversions=((l=s.workflow_automation_conversions||{}).Initiate_FileConversion=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.entryPoint="",e.prototype.conversionType="",e.prototype.numFiles=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.entryPoint&&Object.hasOwnProperty.call(e,"entryPoint")&&t.uint32(18).string(e.entryPoint),null!=e.conversionType&&Object.hasOwnProperty.call(e,"conversionType")&&t.uint32(26).string(e.conversionType),null!=e.numFiles&&Object.hasOwnProperty.call(e,"numFiles")&&t.uint32(32).int32(e.numFiles),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_conversions.Initiate_FileConversion;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.entryPoint=e.string();break;case 3:n.conversionType=e.string();break;case 4:n.numFiles=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_conversions.Initiate_FileConversion"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_CONVERSIONS"]=0,t})(),e})(l.Initiate_FileConversion||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_conversions/select_file_conversion_retry_button",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_conversions=((l=s.workflow_automation_conversions||{}).Select_FileConversionRetryButton=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.entryPoint="",e.prototype.conversionType="",e.prototype.numFiles=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.entryPoint&&Object.hasOwnProperty.call(e,"entryPoint")&&t.uint32(18).string(e.entryPoint),null!=e.conversionType&&Object.hasOwnProperty.call(e,"conversionType")&&t.uint32(26).string(e.conversionType),null!=e.numFiles&&Object.hasOwnProperty.call(e,"numFiles")&&t.uint32(32).int32(e.numFiles),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_conversions.Select_FileConversionRetryButton;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.entryPoint=e.string();break;case 3:n.conversionType=e.string();break;case 4:n.numFiles=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_conversions.Select_FileConversionRetryButton"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_CONVERSIONS"]=0,t})(),e})(l.Select_FileConversionRetryButton||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_conversions/dismiss_file_conversion_snackbar",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_conversions=((l=s.workflow_automation_conversions||{}).Dismiss_FileConversionSnackbar=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.entryPoint="",e.prototype.conversionType="",e.prototype.numFiles=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.entryPoint&&Object.hasOwnProperty.call(e,"entryPoint")&&t.uint32(18).string(e.entryPoint),null!=e.conversionType&&Object.hasOwnProperty.call(e,"conversionType")&&t.uint32(26).string(e.conversionType),null!=e.numFiles&&Object.hasOwnProperty.call(e,"numFiles")&&t.uint32(32).int32(e.numFiles),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_conversions.Dismiss_FileConversionSnackbar;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.entryPoint=e.string();break;case 3:n.conversionType=e.string();break;case 4:n.numFiles=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_conversions.Dismiss_FileConversionSnackbar"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_CONVERSIONS"]=0,t})(),e})(l.Dismiss_FileConversionSnackbar||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_conversions/select_file_conversion_open_button",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_conversions=((l=s.workflow_automation_conversions||{}).Select_FileConversionOpenButton=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.entryPoint="",e.prototype.conversionType="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.entryPoint&&Object.hasOwnProperty.call(e,"entryPoint")&&t.uint32(18).string(e.entryPoint),null!=e.conversionType&&Object.hasOwnProperty.call(e,"conversionType")&&t.uint32(26).string(e.conversionType),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_conversions.Select_FileConversionOpenButton;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.entryPoint=e.string();break;case 3:n.conversionType=e.string();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_conversions.Select_FileConversionOpenButton"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_CONVERSIONS"]=0,t})(),e})(l.Select_FileConversionOpenButton||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_browse/select_auto_folder_add_button",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_browse=((l=s.workflow_automation_browse||{}).Select_AutoFolderAddButton=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_browse.Select_AutoFolderAddButton;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_browse.Select_AutoFolderAddButton"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_BROWSE"]=0,t})(),e})(l.Select_AutoFolderAddButton||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_browse/select_auto_folder_create_button",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_browse=((l=s.workflow_automation_browse||{}).Select_AutoFolderCreateButton=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_browse.Select_AutoFolderCreateButton;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_browse.Select_AutoFolderCreateButton"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_BROWSE"]=0,t})(),e})(l.Select_AutoFolderCreateButton||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_browse/select_auto_folder_edit_automation_button",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_browse=((l=s.workflow_automation_browse||{}).Select_AutoFolderEditAutomationButton=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_browse.Select_AutoFolderEditAutomationButton;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_browse.Select_AutoFolderEditAutomationButton"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_BROWSE"]=0,t})(),e})(l.Select_AutoFolderEditAutomationButton||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/create_auto_folder_modal_folder_create",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_modal=((l=s.workflow_automation_modal||{}).Create_AutoFolderModalFolderCreate=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_modal.Create_AutoFolderModalFolderCreate;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_modal.Create_AutoFolderModalFolderCreate"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_MODAL"]=0,t})(),e})(l.Create_AutoFolderModalFolderCreate||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/dismiss_auto_folder_modal_cancel_button",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_modal=((l=s.workflow_automation_modal||{}).Dismiss_AutoFolderModalCancelButton=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_modal.Dismiss_AutoFolderModalCancelButton;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_modal.Dismiss_AutoFolderModalCancelButton"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_MODAL"]=0,t})(),e})(l.Dismiss_AutoFolderModalCancelButton||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/select_auto_folder_modal_action_select",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_modal=((l=s.workflow_automation_modal||{}).Select_AutoFolderModalActionSelect=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_modal.Select_AutoFolderModalActionSelect;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_modal.Select_AutoFolderModalActionSelect"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_MODAL"]=0,t})(),e})(l.Select_AutoFolderModalActionSelect||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/select_auto_folder_modal_next_step_button",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_modal=((l=s.workflow_automation_modal||{}).Select_AutoFolderModalNextStepButton=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_modal.Select_AutoFolderModalNextStepButton;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_modal.Select_AutoFolderModalNextStepButton"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_MODAL"]=0,t})(),e})(l.Select_AutoFolderModalNextStepButton||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/select_auto_folder_modal_previous_step_button",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_modal=((l=s.workflow_automation_modal||{}).Select_AutoFolderModalPreviousStepButton=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_modal.Select_AutoFolderModalPreviousStepButton;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_modal.Select_AutoFolderModalPreviousStepButton"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_MODAL"]=0,t})(),e})(l.Select_AutoFolderModalPreviousStepButton||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/select_auto_folder_modal_submit_button",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_modal=((l=s.workflow_automation_modal||{}).Select_AutoFolderModalSubmitButton=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.workflowModalType=0,e.prototype.workflowActionType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.workflowModalType&&Object.hasOwnProperty.call(e,"workflowModalType")&&t.uint32(16).int32(e.workflowModalType),null!=e.workflowActionType&&Object.hasOwnProperty.call(e,"workflowActionType")&&t.uint32(24).int32(e.workflowActionType),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_modal.Select_AutoFolderModalSubmitButton;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;case 2:n.workflowModalType=e.int32();break;case 3:n.workflowActionType=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_modal.Select_AutoFolderModalSubmitButton"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_MODAL"]=0,t})(),e.WorkflowActionType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_ACTION_TYPE"]=0,t[e[1]="UNSPECIFIED_WORKFLOW_ACTION_TYPE"]=1,t[e[2]="PDF_CONVERSION_WORKFLOW_ACTION_TYPE"]=2,t[e[3]="UNZIP_WORKFLOW_ACTION_TYPE"]=3,t[e[4]="IMAGE_CONVERSION_WORKFLOW_ACTION_TYPE"]=4,t[e[5]="VIDEO_CONVERSION_WORKFLOW_ACTION_TYPE"]=5,t[e[6]="TIDY_UP_WORKFLOW_ACTION_TYPE"]=6,t[e[7]="NAMING_CONVENTIONS_WORKFLOW_ACTION_TYPE"]=7,t[e[8]="AUDIO_CONVERSION_WORKFLOW_ACTION_TYPE"]=8,t[e[9]="EMAIL_INGEST_WORKFLOW_ACTION_TYPE"]=9,t[e[10]="SMART_SUBFOLDERS_WORKFLOW_ACTION_TYPE"]=10,t[e[11]="TAG_WORKFLOW_ACTION_TYPE"]=11,t})(),e.WorkflowModalType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_WORKFLOW_MODAL_TYPE"]=0,t[e[1]="CREATE_WORKFLOW_MODAL_TYPE"]=1,t[e[2]="ADD_WORKFLOW_MODAL_TYPE"]=2,t[e[3]="EDIT_WORKFLOW_MODAL_TYPE"]=3,t[e[4]="REMOVE_WORKFLOW_MODAL_TYPE"]=4,t})(),e})(l.Select_AutoFolderModalSubmitButton||{}),l),s)})),define("metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/shown_auto_folder_modal",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;const a=(n=o.__importStar(n)).Reader,r=n.Writer,i=(n.util,n.roots.default||(n.roots.default={}));var s,l;t.default=i,t.pap_events=i.pap_events=((s=i.pap_events||{}).workflow_automation_modal=((l=s.workflow_automation_modal||{}).Shown_AutoFolderModal=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=r.create()),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(10).string(e.actionSurface),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&t.uint32(8808).int32(e.eventClass),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));let o=void 0===t?e.len:e.pos+t,n=new i.pap_events.workflow_automation_modal.Shown_AutoFolderModal;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:n.actionSurface=e.string();break;case 1101:n.eventClass=e.int32();break;default:e.skipType(7&t)}}return n},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.workflow_automation_modal.Shown_AutoFolderModal"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="WORKFLOW_AUTOMATION_MODAL"]=0,t})(),e})(l.Shown_AutoFolderModal||{}),l),s)})),define("metaserver/static/js/modules/clean/react/flows/logging/flows_loggers",["require","exports","tslib","metaserver/static/js/modules/clean/pap/analytics_client","metaserver/static/js/modules/clean/react/flows/logging/flows_logging_events","metaserver/static/js/modules/clean/pap/util"],(function(e,t,o,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PapLogger=void 0,a=o.__importStar(a);const i={actionTagToPapType(e,t){let o=void 0;switch(t){case"pdf_conversion":o=r.getEnumValueForString("PDF_CONVERSION_WORKFLOW_ACTION_TYPE",e);break;case"tag":o=r.getEnumValueForString("TAG_WORKFLOW_ACTION_TYPE",e);break;case"unzip":o=r.getEnumValueForString("UNZIP_WORKFLOW_ACTION_TYPE",e);break;case"smart_subfolders":o=r.getEnumValueForString("SMART_SUBFOLDERS_WORKFLOW_ACTION_TYPE",e);break;case"image_conversion":o=r.getEnumValueForString("IMAGE_CONVERSION_WORKFLOW_ACTION_TYPE",e);break;case"video_conversion":o=r.getEnumValueForString("VIDEO_CONVERSION_WORKFLOW_ACTION_TYPE",e);break;case"tidy_up":o=r.getEnumValueForString("TIDY_UP_WORKFLOW_ACTION_TYPE",e);break;case"naming_conventions":o=r.getEnumValueForString("NAMING_CONVENTIONS_WORKFLOW_ACTION_TYPE",e);break;case"audio_conversion":o=r.getEnumValueForString("AUDIO_CONVERSION_WORKFLOW_ACTION_TYPE",e)}return o},modalTypeToPapType(e,t){let o=void 0;switch(t){case"add":o=r.getEnumValueForString("ADD_WORKFLOW_MODAL_TYPE",e);break;case"create":o=r.getEnumValueForString("CREATE_WORKFLOW_MODAL_TYPE",e);break;case"edit":o=r.getEnumValueForString("EDIT_WORKFLOW_MODAL_TYPE",e);break;case"remove":o=r.getEnumValueForString("REMOVE_WORKFLOW_MODAL_TYPE",e)}return o},workflowTemplateToString(e){var t;return(null===(t=e.sequence)||void 0===t?void 0:t.every(e=>!!e.workflow_action))?e.sequence.map(e=>e.workflow_action[".tag"]).join(","):null}};t.PapLogger={logInitiateAutoFolderModalUpdateAutomation({modalType:e,actionTag:t}){n.logEvent(a.Initiate_AutoFolderModalUpdateAutomation.create({workflowActionType:i.actionTagToPapType(a.Initiate_AutoFolderModalUpdateAutomation.WorkflowActionType,t),workflowModalType:i.modalTypeToPapType(a.Initiate_AutoFolderModalUpdateAutomation.WorkflowModalType,e)}))},logSucceedAutoFolderModalUpdateAutomation({modalType:e,actionTag:t}){n.logEvent(a.Succeed_AutoFolderModalUpdateAutomation.create({workflowActionType:i.actionTagToPapType(a.Succeed_AutoFolderModalUpdateAutomation.WorkflowActionType,t),workflowModalType:i.modalTypeToPapType(a.Initiate_AutoFolderModalUpdateAutomation.WorkflowModalType,e)}))},logFailAutoFolderModalUpdateAutomation({modalType:e,actionTag:t}){n.logEvent(a.Fail_AutoFolderModalUpdateAutomation.create({workflowActionType:i.actionTagToPapType(a.Fail_AutoFolderModalUpdateAutomation.WorkflowActionType,t),workflowModalType:i.modalTypeToPapType(a.Initiate_AutoFolderModalUpdateAutomation.WorkflowModalType,e)}))},logSucceedSubmitManualWorkflow(e,t,o){n.logEvent(a.Succeed_SubmitManualWorkflow.create({entryPoint:e,workflowTemplate:i.workflowTemplateToString(t),operatingSetSize:o}))},logFailSubmitManualWorkflow(e,t,o,r){n.logEvent(a.Fail_SubmitManualWorkflow.create({entryPoint:e,workflowTemplate:i.workflowTemplateToString(t),operatingSetSize:o,errorReason:r}))},logInitiateFileConversion(e,t,o){n.logEvent(a.Initiate_FileConversion.create({entryPoint:o,conversionType:e,numFiles:t}))},logSelectFileConversionRetryButton(e,t,o){n.logEvent(a.Select_FileConversionRetryButton.create({entryPoint:o,conversionType:e,numFiles:t}))},logDimissFileConversionSnackbar(e,t,o){n.logEvent(a.Dismiss_FileConversionSnackbar.create({entryPoint:o,conversionType:e,numFiles:t}))},logSelectFileConversionOpenButton(e,t){n.logEvent(a.Select_FileConversionOpenButton.create({entryPoint:t,conversionType:e}))},logInitiateAutoFolderModalFolderCreate(){n.logEvent(a.Initiate_AutoFolderModalFolderCreate.create({}))},logSucceedAutoFolderModalFolderCreate(){n.logEvent(a.Succeed_AutoFolderModalFolderCreate.create({}))},logFailAutoFolderModalFolderCreate(){n.logEvent(a.Fail_AutoFolderModalFolderCreate.create({}))},logInitiateAutoFolderModalRemove(){n.logEvent(a.Initiate_AutoFolderModalRemove.create())},logSucceedAutoFolderModalRemove(){n.logEvent(a.Succeed_AutoFolderModalRemove.create())},logFailAutoFolderModalRemove(){n.logEvent(a.Fail_AutoFolderModalRemove.create())},logSelectAutoFolderCreateButton({actionSurface:e}){n.logEvent(a.Select_AutoFolderCreateButton.create({actionSurface:e}))},logSelectAutoFolderAddButton({actionSurface:e}){n.logEvent(a.Select_AutoFolderAddButton.create({actionSurface:e}))},logSelectAutoFolderEditAutomationButton({actionSurface:e}){n.logEvent(a.Select_AutoFolderEditAutomationButton.create({actionSurface:e}))},logShownAutoFolderModal({actionSurface:e,modalType:t}){n.logEvent(a.Shown_AutoFolderModal.create({actionSurface:e}))},logSelectAutoFolderModalActionSelect({actionSurface:e,modalType:t,actionTag:o}){n.logEvent(a.Select_AutoFolderModalActionSelect.create({actionSurface:e}))},logSelectAutoFolderModalNextStepButton({actionSurface:e,modalType:t}){n.logEvent(a.Select_AutoFolderModalNextStepButton.create({actionSurface:e}))},logSelectAutoFolderModalPreviousStepButton({actionSurface:e,modalType:t}){n.logEvent(a.Select_AutoFolderModalPreviousStepButton.create({actionSurface:e}))},logCreateAutoFolderModalFolderCreate({actionSurface:e,modalType:t}){n.logEvent(a.Create_AutoFolderModalFolderCreate.create({actionSurface:e}))},logDismissAutoFolderModalCancelButton({actionSurface:e,modalType:t}){n.logEvent(a.Dismiss_AutoFolderModalCancelButton.create({actionSurface:e}))},logSelectAutoFolderModalSubmitButton({actionSurface:e,actionTag:t,modalType:o}){n.logEvent(a.Select_AutoFolderModalSubmitButton.create({actionSurface:e,workflowActionType:i.actionTagToPapType(a.Initiate_AutoFolderModalUpdateAutomation.WorkflowActionType,t),workflowModalType:i.modalTypeToPapType(a.Select_AutoFolderModalSubmitButton.WorkflowModalType,o)}))}}})),define("metaserver/static/js/modules/clean/react/flows/logging/flows_logging_events",["require","exports","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/initiate_auto_folder_modal_update_automation","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/succeed_auto_folder_modal_update_automation","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/fail_auto_folder_modal_update_automation","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/succeed_submit_manual_workflow","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/fail_submit_manual_workflow","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_conversions/initiate_file_conversion","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_conversions/select_file_conversion_retry_button","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_conversions/dismiss_file_conversion_snackbar","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_conversions/select_file_conversion_open_button","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/initiate_auto_folder_modal_folder_create","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/succeed_auto_folder_modal_folder_create","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/fail_auto_folder_modal_folder_create","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/initiate_auto_folder_modal_remove","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/succeed_auto_folder_modal_remove","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_api/fail_auto_folder_modal_remove","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_browse/select_auto_folder_create_button","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_browse/select_auto_folder_add_button","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_browse/select_auto_folder_edit_automation_button","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/shown_auto_folder_modal","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/select_auto_folder_modal_action_select","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/select_auto_folder_modal_next_step_button","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/select_auto_folder_modal_previous_step_button","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/create_auto_folder_modal_folder_create","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/dismiss_auto_folder_modal_cancel_button","metaserver/static/js/dropbox/proto/pap_events/workflow_automation_modal/select_auto_folder_modal_submit_button"],(function(e,t,o,n,a,r,i,s,l,c,u,d,p,f,m,g,_,v,b,w,y,h,S,E,A,O,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Select_AutoFolderModalSubmitButton=t.Dismiss_AutoFolderModalCancelButton=t.Create_AutoFolderModalFolderCreate=t.Select_AutoFolderModalPreviousStepButton=t.Select_AutoFolderModalNextStepButton=t.Select_AutoFolderModalActionSelect=t.Shown_AutoFolderModal=t.Select_AutoFolderEditAutomationButton=t.Select_AutoFolderAddButton=t.Select_AutoFolderCreateButton=t.Fail_AutoFolderModalRemove=t.Succeed_AutoFolderModalRemove=t.Initiate_AutoFolderModalRemove=t.Fail_AutoFolderModalFolderCreate=t.Succeed_AutoFolderModalFolderCreate=t.Initiate_AutoFolderModalFolderCreate=t.Select_FileConversionOpenButton=t.Dismiss_FileConversionSnackbar=t.Select_FileConversionRetryButton=t.Initiate_FileConversion=t.Fail_SubmitManualWorkflow=t.Succeed_SubmitManualWorkflow=t.Fail_AutoFolderModalUpdateAutomation=t.Succeed_AutoFolderModalUpdateAutomation=t.Initiate_AutoFolderModalUpdateAutomation=void 0;const C=o.pap_events.workflow_automation_api.Initiate_AutoFolderModalUpdateAutomation;t.Initiate_AutoFolderModalUpdateAutomation=C;const M=n.pap_events.workflow_automation_api.Succeed_AutoFolderModalUpdateAutomation;t.Succeed_AutoFolderModalUpdateAutomation=M;const L=a.pap_events.workflow_automation_api.Fail_AutoFolderModalUpdateAutomation;t.Fail_AutoFolderModalUpdateAutomation=L;const I=r.pap_events.workflow_automation_api.Succeed_SubmitManualWorkflow;t.Succeed_SubmitManualWorkflow=I;const F=i.pap_events.workflow_automation_api.Fail_SubmitManualWorkflow;t.Fail_SubmitManualWorkflow=F;const N=d.pap_events.workflow_automation_api.Initiate_AutoFolderModalFolderCreate;t.Initiate_AutoFolderModalFolderCreate=N;const P=p.pap_events.workflow_automation_api.Succeed_AutoFolderModalFolderCreate;t.Succeed_AutoFolderModalFolderCreate=P;const x=f.pap_events.workflow_automation_api.Fail_AutoFolderModalFolderCreate;t.Fail_AutoFolderModalFolderCreate=x;const R=m.pap_events.workflow_automation_api.Initiate_AutoFolderModalRemove;t.Initiate_AutoFolderModalRemove=R;const D=g.pap_events.workflow_automation_api.Succeed_AutoFolderModalRemove;t.Succeed_AutoFolderModalRemove=D;const k=_.pap_events.workflow_automation_api.Fail_AutoFolderModalRemove;t.Fail_AutoFolderModalRemove=k;const j=v.pap_events.workflow_automation_browse.Select_AutoFolderCreateButton;t.Select_AutoFolderCreateButton=j;const U=b.pap_events.workflow_automation_browse.Select_AutoFolderAddButton;t.Select_AutoFolderAddButton=U;const B=w.pap_events.workflow_automation_browse.Select_AutoFolderEditAutomationButton;t.Select_AutoFolderEditAutomationButton=B;const W=y.pap_events.workflow_automation_modal.Shown_AutoFolderModal;t.Shown_AutoFolderModal=W;const G=h.pap_events.workflow_automation_modal.Select_AutoFolderModalActionSelect;t.Select_AutoFolderModalActionSelect=G;const V=S.pap_events.workflow_automation_modal.Select_AutoFolderModalNextStepButton;t.Select_AutoFolderModalNextStepButton=V;const q=E.pap_events.workflow_automation_modal.Select_AutoFolderModalPreviousStepButton;t.Select_AutoFolderModalPreviousStepButton=q;const z=A.pap_events.workflow_automation_modal.Create_AutoFolderModalFolderCreate;t.Create_AutoFolderModalFolderCreate=z;const Y=O.pap_events.workflow_automation_modal.Dismiss_AutoFolderModalCancelButton;t.Dismiss_AutoFolderModalCancelButton=Y;const K=T.pap_events.workflow_automation_modal.Select_AutoFolderModalSubmitButton;t.Select_AutoFolderModalSubmitButton=K;const Z=s.pap_events.workflow_automation_conversions.Initiate_FileConversion;t.Initiate_FileConversion=Z;const X=l.pap_events.workflow_automation_conversions.Select_FileConversionRetryButton;t.Select_FileConversionRetryButton=X;const H=c.pap_events.workflow_automation_conversions.Dismiss_FileConversionSnackbar;t.Dismiss_FileConversionSnackbar=H;const $=u.pap_events.workflow_automation_conversions.Select_FileConversionOpenButton;t.Select_FileConversionOpenButton=$})),define("typescript/component_libraries/flows/src/components/approval-forms/approval_metadata",["require","exports","tslib","react","react-intl","dig-components/typography","dig-components/breadcrumb","typescript/component_libraries/flows/src/components/approval-forms/url_utils"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApprovalMetadata=void 0,n=o.__importStar(n),t.ApprovalMetadata=n.default.memo(({fileId:e,getApprovalStatus:t,InfoBladeRowComponent:o,onClick:l,logger:c})=>{const[u,d]=n.useState(null),[p,f]=n.useState(null),m=a.useIntl(),g={pending:m.formatMessage({id:"bxXd24",defaultMessage:"Pending approval"}),approved:m.formatMessage({id:"wtrJLn",defaultMessage:"Approved"}),no_status:null,other:null};if(n.useEffect(()=>{let o=!0;return d(null),t(e).then(e=>{var t;const n=null===(t=e.status)||void 0===t?void 0:t[".tag"];if(!n||"pending"!==n&&"approved"!=n)return;const a=e.comment_id;if(a&&o){d(g[n]),f(a)}}),()=>{o=!1}},[e]),!u||!p)return null;return n.default.createElement(o,{title:m.formatMessage({id:"vautul",defaultMessage:"Status"}),data:n.default.createElement(i.Breadcrumb,{size:"small"},n.default.createElement(i.Breadcrumb.Link,{onClick:()=>{c&&c(u),s.setApprovalCommentId(p),l()}},n.default.createElement(r.Text,{variant:"paragraph",size:"small"},u)))})}),t.ApprovalMetadata.displayName="ApprovalMetadata"})),define("typescript/component_libraries/flows/src/components/approval-forms/url_utils",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isApprovalEnabled=t.getApprovalCommentId=t.setApprovalCommentId=t.isRequestApproval=void 0;const o=e=>{const t=new URLSearchParams(window.location.search);if(0==t.toString().length)return null;const o=t.get(e);return o&&(t.delete(e),t.toString().length>0?window.history.replaceState(null,"","?"+t.toString()+window.location.hash):window.history.replaceState(null,"",window.location.href.split("?")[0]+window.location.hash)),o};t.isRequestApproval=()=>{const e={key:"request_approval",value:"1"};return o("request_approval")===e.value},t.setApprovalCommentId=e=>{const t=new URLSearchParams(window.location.search),o=(e=>({key:"approval_comment",value:e}))(e);t.set(o.key,o.value),window.history.replaceState(null,"","?"+t.toString()+window.location.hash)},t.getApprovalCommentId=()=>o("approval_comment"),t.isApprovalEnabled=e=>"MULTI_APPROVER"===e})),define("typescript/component_libraries/flows/src/components/automation-preview/index",["require","exports","tslib","typescript/component_libraries/flows/src/components/automation-preview/automation-preview","typescript/component_libraries/flows/src/components/automation-preview/folder-with-file","typescript/component_libraries/flows/src/components/automation-preview/label-chip","typescript/component_libraries/flows/src/components/automation-preview/preview-template","typescript/component_libraries/flows/src/components/automation-preview/watermarked-file-icon"],(function(e,t,o,n,a,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.__exportStar(n,t),o.__exportStar(a,t),o.__exportStar(r,t),o.__exportStar(i,t),o.__exportStar(s,t)})),define("typescript/component_libraries/flows/src/components/automation-preview/automation-preview",["require","exports","tslib","react","react-dom","typescript/component_libraries/flows/src/common/constants"],(function(e,t,o,n,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutomationPreview=void 0,n=o.__importStar(n),a=o.__importDefault(a);const i=({children:e,selector:t})=>{const o=n.useRef(),[r,i]=n.useState(!1);return n.useEffect(()=>{const e=document.getElementById(t);null!==e&&(o.current=e,i(!0))},[t]),r?a.default.createPortal(e,o.current):null};i.displayName="AutomationPreviewPortal",t.AutomationPreview=({children:e})=>n.default.createElement(i,{selector:"flows-modal-preview-window"},n.default.createElement("div",{className:"flows-modal-preview-container","data-testid":r.TestTarget.AUTOMATION_PREVIEW_PORTAL},e)),t.AutomationPreview.displayName="AutomationPreview"})),define("typescript/component_libraries/flows/src/components/automation-preview/folder-with-file",["require","exports","tslib","react","spectrum/icon_content/index"],(function(e,t,o,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderWithFile=void 0,n=o.__importDefault(n),t.FolderWithFile=({fileIcon:e,fileOrientation:t="vertical"})=>{const o="vertical"===t?160:130;return n.default.createElement("div",{className:"flows-automation-preview__trigger-icon-container"},n.default.createElement("div",{className:"flows-automation-preview__trigger-icon-folder--"+t},n.default.createElement(a.IconContent,{name:"folder-large"})),n.default.createElement("div",{className:"flows-automation-preview__trigger-icon-file--"+t},n.default.createElement(a.IconContent,{name:e,width:o})))},t.FolderWithFile.displayName="FolderWithFile"})),define("typescript/component_libraries/flows/src/components/automation-preview/label-chip",["require","exports","tslib","react","classnames"],(function(e,t,o,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelChip=void 0,n=o.__importDefault(n),a=o.__importDefault(a),t.LabelChip=({label:e,iconLeft:t,inverted:o})=>n.default.createElement("div",{className:a.default("flows-automation-preview__label-chip",{"flows-automation-preview__label-chip--inverted":o})},n.default.createElement("span",{className:"flows-automation-preview__label-chip-icon"},t),e),t.LabelChip.displayName="LabelChip"})),define("typescript/component_libraries/flows/src/components/automation-preview/preview-template",["require","exports","tslib","react","dig-components/icons/src","dig-components/icons","dig-components/typography"],(function(e,t,o,n,a,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewTemplate=void 0,n=o.__importDefault(n),t.PreviewTemplate=({triggerIcon:e,triggerLabel:t,actionIcon:o,actionLabel:s,secondaryActionIcon:l,secondaryActionLabel:c,description:u})=>n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"flows-automation-preview-wrapper"},t&&n.default.createElement("div",{className:"flows-automation-preview__trigger-label"},t),n.default.createElement("div",{className:"flows-automation-preview__trigger-icon"},e),n.default.createElement("div",{className:"flows-automation-preview__connector"},n.default.createElement("span",{className:"flows-automation-preview__arrow-icon"},n.default.createElement(r.PictogramIcon,{src:a.ArrowRightLine}))),s&&n.default.createElement("div",{className:"flows-automation-preview__action-label"},s),n.default.createElement("div",{className:"flows-automation-preview__action-icon"},o),c&&n.default.createElement("div",{className:"flows-automation-preview__secondary-action-label"},c),l&&n.default.createElement("div",{className:"flows-automation-preview__secondary-action-icon"},l)),u&&n.default.createElement("div",{className:"flows-automation-preview__text"},n.default.createElement(i.Text,{inverse:!0},u))),t.PreviewTemplate.displayName="PreviewTemplate"})),define("typescript/component_libraries/flows/src/components/automation-preview/watermarked-file-icon",["require","exports","tslib","react"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatermarkedFileIcon=void 0,n=o.__importStar(n),t.WatermarkedFileIcon=e=>n.createElement("svg",Object.assign({width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("g",{"clip-path":"url(#clip0_5473_169160)"},n.createElement("g",{"clip-path":"url(#clip1_5473_169160)"},n.createElement("g",{filter:"url(#filter0_d_5473_169160)"},n.createElement("rect",{x:"43",y:"30",width:"74",height:"100",rx:"4",fill:"#F7F9FA"})),n.createElement("g",{filter:"url(#filter1_d_5473_169160)"},n.createElement("rect",{x:"43",y:"30",width:"74",height:"100",rx:"4",fill:"#F7F9FA"})),n.createElement("g",{opacity:"0.4"},n.createElement("path",{d:"M38.2217 52.9162L39.5538 51.5841C40.6802 50.4577 40.814 49.0176 39.451 47.6546C38.088 46.2916 36.7148 46.5539 35.5884 47.6803L34.2871 48.9816L38.2217 52.9162ZM38.3863 51.6407L35.5575 48.8118L36.1387 48.2307C36.8382 47.5312 37.6971 47.4129 38.7103 48.4261C39.7802 49.4959 39.6721 50.3548 38.9367 51.0903L38.3863 51.6407ZM40.8318 46.1401L39.4945 44.8028L40.2043 44.0931C40.5694 43.7279 41.1043 43.553 41.5775 44.0262C42.0764 44.5251 41.9273 45.0446 41.5261 45.4458L40.8318 46.1401ZM44.3806 46.7573L45.1676 45.9704L42.5856 45.1474L42.5753 45.1372C42.8171 44.6485 42.9508 43.9285 42.2822 43.2599C41.773 42.7507 41.2175 42.6992 40.6929 42.8844C40.3483 43.013 40.0243 43.2444 39.762 43.5067L38.2601 45.0086L42.1947 48.9432L42.9148 48.2231L41.3564 46.6647L42.0559 45.9652L44.3806 46.7573ZM43.99 40.5542L44.0003 40.5439C44.0003 40.5439 44.2883 40.7394 44.6946 40.94L46.3405 41.7629L45.2038 42.8995L44.3809 41.2537C44.1906 40.8679 44.0054 40.5799 43.99 40.5542ZM48.367 42.771L49.1179 42.02L43.7843 39.4844L42.9716 40.297L45.5227 45.6152L46.2119 44.926L45.5639 43.6196L47.0606 42.1229L48.367 42.771ZM48.8399 39.1503L50.4395 37.5508L49.884 36.9953L48.2844 38.5949L47.0449 37.3553L48.7576 35.6426L48.1918 35.0768L45.7591 37.5096L49.6937 41.4442L50.4137 40.7242L48.8399 39.1503ZM51.8028 31.4659L48.6191 34.6496L49.1952 35.2256L50.4295 33.9912L53.7881 37.3498L54.503 36.6349L51.1445 33.2763L52.3788 32.0419L51.8028 31.4659Z",fill:"black"}),n.createElement("path",{d:"M59.5294 31.6086L60.8615 30.2765C61.9878 29.1501 62.1216 27.71 60.7586 26.347C59.3956 24.984 58.0224 25.2463 56.896 26.3727L55.5947 27.674L59.5294 31.6086ZM59.6939 30.333L56.8651 27.5042L57.4463 26.923C58.1458 26.2235 59.0047 26.1053 60.018 27.1185C61.0878 28.1883 60.9798 29.0472 60.2443 29.7827L59.6939 30.333ZM62.1394 24.8325L60.8021 23.4952L61.5119 22.7855C61.8771 22.4203 62.412 22.2454 62.8851 22.7186C63.384 23.2175 63.2349 23.737 62.8337 24.1381L62.1394 24.8325ZM65.6882 25.4497L66.4752 24.6628L63.8932 23.8398L63.8829 23.8295C64.1247 23.3409 64.2584 22.6209 63.5898 21.9522C63.0806 21.4431 62.5251 21.3916 62.0005 21.5768C61.6559 21.7054 61.3319 21.9368 61.0696 22.1991L59.5677 23.701L63.5023 27.6356L64.2224 26.9155L62.664 25.3571L63.3635 24.6576L65.6882 25.4497ZM65.2976 19.2466L65.3079 19.2363C65.3079 19.2363 65.5959 19.4317 66.0023 19.6323L67.6481 20.4553L66.5115 21.5919L65.6885 19.9461C65.4982 19.5603 65.3131 19.2723 65.2976 19.2466ZM69.6746 21.4633L70.4255 20.7124L65.0919 18.1768L64.2793 18.9894L66.8303 24.3076L67.5195 23.6184L66.8715 22.312L68.3682 20.8153L69.6746 21.4633ZM70.1475 17.8427L71.7471 16.2431L71.1916 15.6877L69.592 17.2872L68.3525 16.0477L70.0652 14.335L69.4995 13.7692L67.0667 16.202L71.0013 20.1366L71.7214 19.4166L70.1475 17.8427ZM73.1104 10.1583L69.9267 13.342L70.5028 13.918L71.7372 12.6836L75.0957 16.0422L75.8106 15.3273L72.4521 11.9687L73.6865 10.7343L73.1104 10.1583Z",fill:"black"}),n.createElement("path",{d:"M30.8741 88.1847L32.2062 86.8526C33.3326 85.7263 33.4663 84.2861 32.1033 82.9232C30.7404 81.5602 29.3671 81.8225 28.2407 82.9489L26.9395 84.2501L30.8741 88.1847ZM31.0387 86.9092L28.2099 84.0804L28.791 83.4992C29.4905 82.7997 30.3495 82.6814 31.3627 83.6947C32.4325 84.7645 32.3245 85.6234 31.589 86.3589L31.0387 86.9092ZM33.4841 81.4087L32.1468 80.0714L32.8566 79.3616C33.2218 78.9965 33.7567 78.8216 34.2299 79.2948C34.7288 79.7937 34.5796 80.3131 34.1784 80.7143L33.4841 81.4087ZM37.033 82.0259L37.8199 81.2389L35.238 80.416L35.2277 80.4057C35.4694 79.9171 35.6031 79.197 34.9345 78.5284C34.4253 78.0192 33.8698 77.9678 33.3452 78.153C33.0006 78.2815 32.6766 78.513 32.4143 78.7753L30.9125 80.2771L34.8471 84.2118L35.5671 83.4917L34.0087 81.9333L34.7082 81.2338L37.033 82.0259ZM36.6424 75.8228L36.6526 75.8125C36.6526 75.8125 36.9407 76.0079 37.347 76.2085L38.9928 77.0314L37.8562 78.1681L37.0333 76.5223C36.843 76.1365 36.6578 75.8485 36.6424 75.8228ZM41.0193 78.0395L41.7702 77.2886L36.4366 74.753L35.624 75.5656L38.1751 80.8838L38.8643 80.1946L38.2162 78.8882L39.7129 77.3915L41.0193 78.0395ZM41.4922 74.4189L43.0918 72.8193L42.5363 72.2638L40.9368 73.8634L39.6972 72.6239L41.41 70.9112L40.8442 70.3454L38.4114 72.7782L42.346 76.7128L43.0661 75.9927L41.4922 74.4189ZM44.4551 66.7344L41.2714 69.9181L41.8475 70.4942L43.0819 69.2598L46.4405 72.6184L47.1554 71.9035L43.7968 68.5449L45.0312 67.3105L44.4551 66.7344Z",fill:"black"}),n.createElement("path",{d:"M52.1817 66.8766L53.5138 65.5445C54.6402 64.4181 54.7739 62.978 53.4109 61.6151C52.048 60.2521 50.6747 60.5144 49.5483 61.6408L48.2471 62.942L52.1817 66.8766ZM52.3463 65.6011L49.5175 62.7723L50.0987 62.1911C50.7982 61.4916 51.6571 61.3733 52.6703 62.3865C53.7401 63.4564 53.6321 64.3153 52.8966 65.0508L52.3463 65.6011ZM54.7917 60.1006L53.4545 58.7633L54.1642 58.0535C54.5294 57.6883 55.0643 57.5135 55.5375 57.9867C56.0364 58.4856 55.8872 59.005 55.4861 59.4062L54.7917 60.1006ZM58.3406 60.7177L59.1275 59.9308L56.5456 59.1079L56.5353 59.0976C56.777 58.609 56.9108 57.8889 56.2421 57.2203C55.7329 56.7111 55.1775 56.6597 54.6528 56.8448C54.3082 56.9734 53.9842 57.2049 53.7219 57.4672L52.2201 58.969L56.1547 62.9036L56.8747 62.1836L55.3163 60.6252L56.0158 59.9257L58.3406 60.7177ZM57.95 54.5147L57.9603 54.5044C57.9603 54.5044 58.2483 54.6998 58.6546 54.9004L60.3005 55.7233L59.1638 56.86L58.3409 55.2141C58.1506 54.8284 57.9654 54.5404 57.95 54.5147ZM62.3269 56.7314L63.0778 55.9805L57.7442 53.4449L56.9316 54.2575L59.4827 59.5757L60.1719 58.8865L59.5238 57.5801L61.0205 56.0834L62.3269 56.7314ZM62.7999 53.1108L64.3994 51.5112L63.844 50.9557L62.2444 52.5553L61.0049 51.3158L62.7176 49.6031L62.1518 49.0373L59.719 51.4701L63.6536 55.4047L64.3737 54.6846L62.7999 53.1108ZM65.7628 45.4263L62.5791 48.61L63.1551 49.1861L64.3895 47.9517L67.7481 51.3103L68.463 50.5953L65.1044 47.2368L66.3388 46.0024L65.7628 45.4263Z",fill:"black"}),n.createElement("path",{d:"M73.4898 45.569L74.8219 44.2369C75.9483 43.1105 76.082 41.6704 74.719 40.3074C73.3561 38.9445 71.9828 39.2068 70.8564 40.3332L69.5552 41.6344L73.4898 45.569ZM73.6544 44.2935L70.8256 41.4647L71.4068 40.8835C72.1063 40.184 72.9652 40.0657 73.9784 41.0789C75.0482 42.1487 74.9402 43.0077 74.2047 43.7432L73.6544 44.2935ZM76.0998 38.7929L74.7626 37.4557L75.4723 36.7459C75.8375 36.3807 76.3724 36.2059 76.8456 36.679C77.3445 37.1779 77.1953 37.6974 76.7942 38.0986L76.0998 38.7929ZM79.6487 39.4101L80.4356 38.6232L77.8537 37.8003L77.8434 37.79C78.0851 37.3014 78.2189 36.5813 77.5502 35.9127C77.041 35.4035 76.4856 35.3521 75.961 35.5372C75.6164 35.6658 75.2923 35.8973 75.03 36.1596L73.5282 37.6614L77.4628 41.596L78.1829 40.876L76.6244 39.3176L77.3239 38.6181L79.6487 39.4101ZM79.2581 33.207L79.2684 33.1968C79.2684 33.1968 79.5564 33.3922 79.9627 33.5928L81.6086 34.4157L80.4719 35.5524L79.649 33.9065C79.4587 33.5208 79.2735 33.2328 79.2581 33.207ZM83.635 35.4238L84.3859 34.6729L79.0524 32.1372L78.2397 32.9499L80.7908 38.268L81.48 37.5788L80.8319 36.2724L82.3286 34.7757L83.635 35.4238ZM84.108 31.8032L85.7075 30.2036L85.1521 29.6481L83.5525 31.2477L82.313 30.0082L84.0257 28.2954L83.4599 27.7297L81.0271 30.1625L84.9618 34.0971L85.6818 33.377L84.108 31.8032ZM87.0709 24.1187L83.8872 27.3024L84.4632 27.8785L85.6976 26.6441L89.0562 30.0026L89.7711 29.2877L86.4125 25.9292L87.6469 24.6948L87.0709 24.1187Z",fill:"black"}),n.createElement("path",{d:"M44.8345 102.145L46.1666 100.813C47.293 99.6862 47.4267 98.2461 46.0638 96.8831C44.7008 95.5201 43.3275 95.7825 42.2012 96.9088L40.8999 98.2101L44.8345 102.145ZM44.9991 100.869L42.1703 98.0404L42.7515 97.4592C43.451 96.7597 44.3099 96.6414 45.3231 97.6546C46.3929 98.7244 46.2849 99.5833 45.5494 100.319L44.9991 100.869ZM47.4445 95.3686L46.1073 94.0314L46.8171 93.3216C47.1822 92.9564 47.7171 92.7815 48.1903 93.2547C48.6892 93.7536 48.5401 94.2731 48.1389 94.6743L47.4445 95.3686ZM50.9934 95.9858L51.7803 95.1989L49.1984 94.376L49.1881 94.3657C49.4299 93.8771 49.5636 93.157 48.895 92.4884C48.3858 91.9792 47.8303 91.9278 47.3057 92.1129C46.9611 92.2415 46.6371 92.4729 46.3747 92.7353L44.8729 94.2371L48.8075 98.1717L49.5276 97.4517L47.9692 95.8932L48.6687 95.1937L50.9934 95.9858ZM50.6028 89.7827L50.6131 89.7724C50.6131 89.7724 50.9011 89.9679 51.3074 90.1685L52.9533 90.9914L51.8166 92.1281L50.9937 90.4822C50.8034 90.0965 50.6182 89.8084 50.6028 89.7827ZM54.9798 91.9995L55.7307 91.2486L50.3971 88.7129L49.5844 89.5256L52.1355 94.8437L52.8247 94.1545L52.1767 92.8481L53.6734 91.3514L54.9798 91.9995ZM55.4527 88.3788L57.0523 86.7793L56.4968 86.2238L54.8972 87.8234L53.6577 86.5838L55.3704 84.8711L54.8046 84.3054L52.3719 86.7381L56.3065 90.6728L57.0265 89.9527L55.4527 88.3788ZM58.4156 80.6944L55.2319 83.8781L55.8079 84.4542L57.0423 83.2198L60.4009 86.5783L61.1158 85.8634L57.7573 82.5048L58.9916 81.2705L58.4156 80.6944Z",fill:"black"}),n.createElement("path",{d:"M66.1421 80.8371L67.4743 79.505C68.6006 78.3786 68.7344 76.9385 67.3714 75.5755C66.0084 74.2125 64.6352 74.4748 63.5088 75.6012L62.2075 76.9025L66.1421 80.8371ZM66.3067 79.5616L63.4779 76.7327L64.0591 76.1516C64.7586 75.4521 65.6175 75.3338 66.6308 76.347C67.7006 77.4168 67.5926 78.2757 66.8571 79.0112L66.3067 79.5616ZM68.7522 74.061L67.4149 72.7237L68.1247 72.014C68.4899 71.6488 69.0248 71.4739 69.4979 71.9471C69.9968 72.446 69.8477 72.9655 69.4465 73.3667L68.7522 74.061ZM72.301 74.6782L73.088 73.8913L70.506 73.0683L70.4957 73.0581C70.7375 72.5694 70.8712 71.8494 70.2026 71.1808C69.6934 70.6716 69.1379 70.6201 68.6133 70.8053C68.2687 70.9339 67.9447 71.1653 67.6824 71.4276L66.1805 72.9295L70.1151 76.8641L70.8352 76.144L69.2768 74.5856L69.9763 73.8861L72.301 74.6782ZM71.9104 68.4751L71.9207 68.4648C71.9207 68.4648 72.2087 68.6603 72.6151 68.8609L74.2609 69.6838L73.1242 70.8204L72.3013 69.1746C72.111 68.7888 71.9259 68.5008 71.9104 68.4751ZM76.2874 70.6919L77.0383 69.9409L71.7047 67.4053L70.8921 68.2179L73.4431 73.5361L74.1323 72.8469L73.4843 71.5405L74.981 70.0438L76.2874 70.6919ZM76.7603 67.0712L78.3599 65.4717L77.8044 64.9162L76.2048 66.5158L74.9653 65.2762L76.678 63.5635L76.1123 62.9977L73.6795 65.4305L77.6141 69.3651L78.3342 68.6451L76.7603 67.0712ZM79.7232 59.3868L76.5395 62.5705L77.1156 63.1465L78.35 61.9121L81.7085 65.2707L82.4234 64.5558L79.0649 61.1972L80.2993 59.9628L79.7232 59.3868Z",fill:"black"}),n.createElement("path",{d:"M87.4503 59.5295L88.7824 58.1974C89.9087 57.071 90.0425 55.6309 88.6795 54.2679C87.3165 52.9049 85.9433 53.1672 84.8169 54.2936L83.5156 55.5949L87.4503 59.5295ZM87.6148 58.2539L84.786 55.4251L85.3672 54.8439C86.0667 54.1444 86.9256 54.0261 87.9389 55.0394C89.0087 56.1092 88.9007 56.9681 88.1652 57.7036L87.6148 58.2539ZM90.0603 52.7534L88.723 51.4161L89.4328 50.7064C89.798 50.3412 90.3329 50.1663 90.806 50.6395C91.3049 51.1384 91.1558 51.6579 90.7546 52.059L90.0603 52.7534ZM93.6091 53.3706L94.3961 52.5837L91.8141 51.7607L91.8038 51.7504C92.0456 51.2618 92.1793 50.5418 91.5107 49.8731C91.0015 49.364 90.446 49.3125 89.9214 49.4977C89.5768 49.6263 89.2528 49.8577 88.9905 50.12L87.4886 51.6219L91.4232 55.5565L92.1433 54.8364L90.5849 53.278L91.2844 52.5785L93.6091 53.3706ZM93.2185 47.1675L93.2288 47.1572C93.2288 47.1572 93.5168 47.3526 93.9232 47.5532L95.569 48.3762L94.4324 49.5128L93.6094 47.867C93.4191 47.4812 93.234 47.1932 93.2185 47.1675ZM97.5955 49.3842L98.3464 48.6333L93.0128 46.0977L92.2002 46.9103L94.7512 52.2285L95.4404 51.5393L94.7924 50.2329L96.2891 48.7362L97.5955 49.3842ZM98.0684 45.7636L99.668 44.164L99.1125 43.6086L97.5129 45.2081L96.2734 43.9686L97.9861 42.2559L97.4204 41.6901L94.9876 44.1229L98.9222 48.0575L99.6423 47.3375L98.0684 45.7636ZM101.031 38.0792L97.8476 41.2629L98.4237 41.8389L99.6581 40.6045L103.017 43.9631L103.732 43.2482L100.373 39.8896L101.607 38.6552L101.031 38.0792Z",fill:"black"}),n.createElement("path",{d:"M108.758 38.2209L110.09 36.8888C111.217 35.7624 111.351 34.3223 109.988 32.9593C108.625 31.5963 107.251 31.8586 106.125 32.985L104.824 34.2863L108.758 38.2209ZM108.923 36.9453L106.094 34.1165L106.675 33.5353C107.375 32.8359 108.234 32.7176 109.247 33.7308C110.317 34.8006 110.209 35.6595 109.473 36.395L108.923 36.9453ZM111.368 31.4448L110.031 30.1075L110.741 29.3978C111.106 29.0326 111.641 28.8577 112.114 29.3309C112.613 29.8298 112.464 30.3493 112.063 30.7504L111.368 31.4448ZM114.917 32.062L115.704 31.2751L113.122 30.4521L113.112 30.4419C113.354 29.9532 113.487 29.2332 112.819 28.5645C112.31 28.0554 111.754 28.0039 111.23 28.1891C110.885 28.3177 110.561 28.5491 110.299 28.8114L108.797 30.3133L112.731 34.2479L113.451 33.5278L111.893 31.9694L112.592 31.2699L114.917 32.062ZM114.527 25.8589L114.537 25.8486C114.537 25.8486 114.825 26.0441 115.231 26.2446L116.877 27.0676L115.74 28.2042L114.918 26.5584C114.727 26.1726 114.542 25.8846 114.527 25.8589ZM118.904 28.0757L119.655 27.3247L114.321 24.7891L113.508 25.6017L116.059 30.9199L116.749 30.2307L116.1 28.9243L117.597 27.4276L118.904 28.0757ZM119.377 24.455L120.976 22.8555L120.421 22.3L118.821 23.8995L117.582 22.66L119.294 20.9473L118.728 20.3815L116.296 22.8143L120.23 26.7489L120.95 26.0289L119.377 24.455ZM122.339 16.7706L119.156 19.9543L119.732 20.5303L120.966 19.2959L124.325 22.6545L125.04 21.9396L121.681 18.581L122.915 17.3466L122.339 16.7706Z",fill:"black"}),n.createElement("path",{d:"M37.4874 137.414L38.8195 136.082C39.9459 134.955 40.0796 133.515 38.7166 132.152C37.3536 130.789 35.9804 131.051 34.854 132.178L33.5527 133.479L37.4874 137.414ZM37.6519 136.138L34.8231 133.309L35.4043 132.728C36.1038 132.029 36.9627 131.91 37.976 132.924C39.0458 133.993 38.9378 134.852 38.2023 135.588L37.6519 136.138ZM40.0974 130.638L38.7601 129.3L39.4699 128.591C39.8351 128.225 40.37 128.051 40.8432 128.524C41.3421 129.023 41.1929 129.542 40.7917 129.943L40.0974 130.638ZM43.6463 131.255L44.4332 130.468L41.8512 129.645L41.841 129.635C42.0827 129.146 42.2164 128.426 41.5478 127.757C41.0386 127.248 40.4831 127.197 39.9585 127.382C39.6139 127.511 39.2899 127.742 39.0276 128.004L37.5257 129.506L41.4604 133.441L42.1804 132.721L40.622 131.162L41.3215 130.463L43.6463 131.255ZM43.2556 125.052L43.2659 125.041C43.2659 125.041 43.554 125.237 43.9603 125.438L45.6061 126.26L44.4695 127.397L43.6465 125.751C43.4562 125.366 43.2711 125.077 43.2556 125.052ZM47.6326 127.269L48.3835 126.518L43.0499 123.982L42.2373 124.795L44.7883 130.113L45.4775 129.424L44.8295 128.117L46.3262 126.62L47.6326 127.269ZM48.1055 123.648L49.7051 122.048L49.1496 121.493L47.5501 123.092L46.3105 121.853L48.0232 120.14L47.4575 119.574L45.0247 122.007L48.9593 125.942L49.6794 125.222L48.1055 123.648ZM51.0684 115.963L47.8847 119.147L48.4608 119.723L49.6952 118.489L53.0537 121.847L53.7687 121.132L50.4101 117.774L51.6445 116.539L51.0684 115.963Z",fill:"black"}),n.createElement("path",{d:"M58.795 116.106L60.1271 114.774C61.2535 113.647 61.3872 112.207 60.0242 110.844C58.6613 109.481 57.288 109.743 56.1616 110.87L54.8604 112.171L58.795 116.106ZM58.9596 114.83L56.1308 112.001L56.7119 111.42C57.4114 110.721 58.2704 110.602 59.2836 111.616C60.3534 112.685 60.2454 113.544 59.5099 114.28L58.9596 114.83ZM61.405 109.33L60.0677 107.992L60.7775 107.283C61.1427 106.917 61.6776 106.742 62.1508 107.216C62.6497 107.715 62.5005 108.234 62.0993 108.635L61.405 109.33ZM64.9539 109.947L65.7408 109.16L63.1589 108.337L63.1486 108.327C63.3903 107.838 63.524 107.118 62.8554 106.449C62.3462 105.94 61.7907 105.889 61.2661 106.074C60.9215 106.202 60.5975 106.434 60.3352 106.696L58.8334 108.198L62.768 112.133L63.488 111.413L61.9296 109.854L62.6291 109.155L64.9539 109.947ZM64.5633 103.744L64.5735 103.733C64.5735 103.733 64.8616 103.929 65.2679 104.129L66.9137 104.952L65.7771 106.089L64.9542 104.443C64.7638 104.057 64.5787 103.769 64.5633 103.744ZM68.9402 105.96L69.6911 105.209L64.3575 102.674L63.5449 103.486L66.096 108.805L66.7852 108.115L66.1371 106.809L67.6338 105.312L68.9402 105.96ZM69.4131 102.34L71.0127 100.74L70.4572 100.185L68.8577 101.784L67.6181 100.545L69.3309 98.8321L68.7651 98.2663L66.3323 100.699L70.2669 104.634L70.987 103.914L69.4131 102.34ZM72.376 94.6553L69.1923 97.839L69.7684 98.4151L71.0028 97.1807L74.3614 100.539L75.0763 99.8244L71.7177 96.4658L72.9521 95.2314L72.376 94.6553Z",fill:"black"}),n.createElement("path",{d:"M80.1031 94.7975L81.4352 93.4654C82.5616 92.339 82.6953 90.8989 81.3323 89.536C79.9694 88.173 78.5961 88.4353 77.4697 89.5617L76.1685 90.8629L80.1031 94.7975ZM80.2677 93.522L77.4389 90.6932L78.0201 90.112C78.7195 89.4125 79.5785 89.2942 80.5917 90.3074C81.6615 91.3772 81.5535 92.2362 80.818 92.9717L80.2677 93.522ZM82.7131 88.0215L81.3758 86.6842L82.0856 85.9744C82.4508 85.6092 82.9857 85.4344 83.4589 85.9076C83.9578 86.4065 83.8086 86.9259 83.4074 87.3271L82.7131 88.0215ZM86.262 88.6386L87.0489 87.8517L84.467 87.0288L84.4567 87.0185C84.6984 86.5299 84.8321 85.8098 84.1635 85.1412C83.6543 84.632 83.0989 84.5806 82.5742 84.7657C82.2296 84.8943 81.9056 85.1258 81.6433 85.3881L80.1415 86.8899L84.0761 90.8245L84.7961 90.1045L83.2377 88.5461L83.9372 87.8466L86.262 88.6386ZM85.8714 82.4356L85.8817 82.4253C85.8817 82.4253 86.1697 82.6207 86.576 82.8213L88.2219 83.6442L87.0852 84.7809L86.2623 83.135C86.072 82.7493 85.8868 82.4613 85.8714 82.4356ZM90.2483 84.6523L90.9992 83.9014L85.6656 81.3658L84.853 82.1784L87.4041 87.4966L88.0933 86.8074L87.4452 85.501L88.9419 84.0043L90.2483 84.6523ZM90.7212 81.0317L92.3208 79.4321L91.7653 78.8766L90.1658 80.4762L88.9262 79.2367L90.639 77.524L90.0732 76.9582L87.6404 79.391L91.575 83.3256L92.2951 82.6055L90.7212 81.0317ZM93.6841 73.3472L90.5004 76.5309L91.0765 77.107L92.3109 75.8726L95.6695 79.2312L96.3844 78.5162L93.0258 75.1577L94.2602 73.9233L93.6841 73.3472Z",fill:"black"}),n.createElement("path",{d:"M101.411 73.4899L102.743 72.1578C103.869 71.0314 104.003 69.5913 102.64 68.2283C101.277 66.8654 99.9037 67.1277 98.7773 68.254L97.4761 69.5553L101.411 73.4899ZM101.575 72.2144L98.7465 69.3856L99.3277 68.8044C100.027 68.1049 100.886 67.9866 101.899 68.9998C102.969 70.0696 102.861 70.9286 102.126 71.6641L101.575 72.2144ZM104.021 66.7138L102.683 65.3766L103.393 64.6668C103.758 64.3016 104.293 64.1268 104.766 64.5999C105.265 65.0988 105.116 65.6183 104.715 66.0195L104.021 66.7138ZM107.57 67.331L108.357 66.5441L105.775 65.7212L105.764 65.7109C106.006 65.2223 106.14 64.5022 105.471 63.8336C104.962 63.3244 104.406 63.273 103.882 63.4581C103.537 63.5867 103.213 63.8182 102.951 64.0805L101.449 65.5823L105.384 69.5169L106.104 68.7969L104.545 67.2385L105.245 66.539L107.57 67.331ZM107.179 61.1279L107.189 61.1177C107.189 61.1177 107.477 61.3131 107.884 61.5137L109.529 62.3366L108.393 63.4733L107.57 61.8274C107.38 61.4417 107.194 61.1537 107.179 61.1279ZM111.556 63.3447L112.307 62.5938L106.973 60.0581L106.161 60.8708L108.712 66.1889L109.401 65.4997L108.753 64.1933L110.25 62.6966L111.556 63.3447ZM112.029 59.7241L113.628 58.1245L113.073 57.569L111.473 59.1686L110.234 57.9291L111.947 56.2163L111.381 55.6506L108.948 58.0834L112.883 62.018L113.603 61.2979L112.029 59.7241ZM114.992 52.0396L111.808 55.2233L112.384 55.7994L113.619 54.565L116.977 57.9235L117.692 57.2086L114.333 53.8501L115.568 52.6157L114.992 52.0396Z",fill:"black"}),n.createElement("path",{d:"M51.4478 151.374L52.7799 150.042C53.9063 148.916 54.04 147.476 52.6771 146.113C51.3141 144.75 49.9408 145.012 48.8144 146.138L47.5132 147.44L51.4478 151.374ZM51.6124 150.099L48.7836 147.27L49.3648 146.689C50.0643 145.989 50.9232 145.871 51.9364 146.884C53.0062 147.954 52.8982 148.813 52.1627 149.548L51.6124 150.099ZM54.0578 144.598L52.7206 143.261L53.4303 142.551C53.7955 142.186 54.3304 142.011 54.8036 142.484C55.3025 142.983 55.1534 143.503 54.7522 143.904L54.0578 144.598ZM57.6067 145.215L58.3936 144.428L55.8117 143.605L55.8014 143.595C56.0431 143.107 56.1769 142.386 55.5082 141.718C54.9991 141.209 54.4436 141.157 53.919 141.342C53.5744 141.471 53.2503 141.702 52.988 141.965L51.4862 143.467L55.4208 147.401L56.1409 146.681L54.5824 145.123L55.2819 144.423L57.6067 145.215ZM57.2161 139.012L57.2264 139.002C57.2264 139.002 57.5144 139.197 57.9207 139.398L59.5666 140.221L58.4299 141.358L57.607 139.712C57.4167 139.326 57.2315 139.038 57.2161 139.012ZM61.593 141.229L62.344 140.478L57.0104 137.942L56.1977 138.755L58.7488 144.073L59.438 143.384L58.7899 142.078L60.2866 140.581L61.593 141.229ZM62.066 137.608L63.6655 136.009L63.1101 135.453L61.5105 137.053L60.271 135.813L61.9837 134.101L61.4179 133.535L58.9851 135.968L62.9198 139.902L63.6398 139.182L62.066 137.608ZM65.0289 129.924L61.8452 133.108L62.4212 133.684L63.6556 132.449L67.0142 135.808L67.7291 135.093L64.3705 131.734L65.6049 130.5L65.0289 129.924Z",fill:"black"}),n.createElement("path",{d:"M72.7549 130.066L74.0871 128.734C75.2134 127.608 75.3472 126.167 73.9842 124.805C72.6212 123.442 71.248 123.704 70.1216 124.83L68.8203 126.131L72.7549 130.066ZM72.9195 128.791L70.0907 125.962L70.6719 125.381C71.3714 124.681 72.2303 124.563 73.2436 125.576C74.3134 126.646 74.2053 127.505 73.4699 128.24L72.9195 128.791ZM75.365 123.29L74.0277 121.953L74.7375 121.243C75.1027 120.878 75.6376 120.703 76.1107 121.176C76.6096 121.675 76.4605 122.194 76.0593 122.596L75.365 123.29ZM78.9138 123.907L79.7008 123.12L77.1188 122.297L77.1085 122.287C77.3503 121.798 77.484 121.078 76.8154 120.41C76.3062 119.901 75.7507 119.849 75.2261 120.034C74.8815 120.163 74.5575 120.394 74.2952 120.657L72.7933 122.158L76.7279 126.093L77.448 125.373L75.8896 123.815L76.5891 123.115L78.9138 123.907ZM78.5232 117.704L78.5335 117.694C78.5335 117.694 78.8215 117.889 79.2279 118.09L80.8737 118.913L79.737 120.049L78.9141 118.404C78.7238 118.018 78.5387 117.73 78.5232 117.704ZM82.9002 119.921L83.6511 119.17L78.3175 116.634L77.5048 117.447L80.0559 122.765L80.7451 122.076L80.0971 120.77L81.5938 119.273L82.9002 119.921ZM83.3731 116.3L84.9727 114.701L84.4172 114.145L82.8176 115.745L81.5781 114.505L83.2908 112.793L82.7251 112.227L80.2923 114.66L84.2269 118.594L84.947 117.874L83.3731 116.3ZM86.336 108.616L83.1523 111.799L83.7284 112.376L84.9627 111.141L88.3213 114.5L89.0362 113.785L85.6777 110.426L86.9121 109.192L86.336 108.616Z",fill:"black"}),n.createElement("path",{d:"M94.0635 108.758L95.3956 107.426C96.522 106.299 96.6558 104.859 95.2928 103.496C93.9298 102.133 92.5565 102.396 91.4302 103.522L90.1289 104.823L94.0635 108.758ZM94.2281 107.482L91.3993 104.654L91.9805 104.072C92.68 103.373 93.5389 103.255 94.5521 104.268C95.622 105.338 95.5139 106.197 94.7785 106.932L94.2281 107.482ZM96.6736 101.982L95.3363 100.645L96.0461 99.9349C96.4112 99.5697 96.9461 99.3948 97.4193 99.868C97.9182 100.367 97.7691 100.886 97.3679 101.288L96.6736 101.982ZM100.222 102.599L101.009 101.812L98.4274 100.989L98.4171 100.979C98.6589 100.49 98.7926 99.7703 98.124 99.1017C97.6148 98.5925 97.0593 98.541 96.5347 98.7262C96.1901 98.8548 95.8661 99.0862 95.6037 99.3485L94.1019 100.85L98.0365 104.785L98.7566 104.065L97.1982 102.507L97.8977 101.807L100.222 102.599ZM99.8318 96.396L99.8421 96.3857C99.8421 96.3857 100.13 96.5812 100.536 96.7818L102.182 97.6047L101.046 98.7413L100.223 97.0955C100.032 96.7097 99.8472 96.4217 99.8318 96.396ZM104.209 98.6128L104.96 97.8618L99.6261 95.3262L98.8134 96.1388L101.365 101.457L102.054 100.768L101.406 99.4614L102.902 97.9647L104.209 98.6128ZM104.682 94.9921L106.281 93.3926L105.726 92.8371L104.126 94.4367L102.887 93.1971L104.599 91.4844L104.034 90.9186L101.601 93.3514L105.535 97.286L106.256 96.566L104.682 94.9921ZM107.645 87.3077L104.461 90.4914L105.037 91.0674L106.271 89.833L109.63 93.1916L110.345 92.4767L106.986 89.1181L108.221 87.8837L107.645 87.3077Z",fill:"black"}),n.createElement("path",{d:"M115.371 87.4504L116.703 86.1183C117.83 84.9919 117.963 83.5518 116.6 82.1888C115.237 80.8258 113.864 81.0881 112.738 82.2145L111.437 83.5158L115.371 87.4504ZM115.536 86.1748L112.707 83.346L113.288 82.7648C113.988 82.0653 114.847 81.947 115.86 82.9603C116.93 84.0301 116.822 84.889 116.086 85.6245L115.536 86.1748ZM117.981 80.6743L116.644 79.337L117.354 78.6273C117.719 78.2621 118.254 78.0872 118.727 78.5604C119.226 79.0593 119.077 79.5788 118.676 79.9799L117.981 80.6743ZM121.53 81.2915L122.317 80.5046L119.735 79.6816L119.725 79.6713C119.966 79.1827 120.1 78.4627 119.432 77.794C118.922 77.2849 118.367 77.2334 117.842 77.4186C117.498 77.5472 117.174 77.7786 116.911 78.0409L115.41 79.5428L119.344 83.4774L120.064 82.7573L118.506 81.1989L119.205 80.4994L121.53 81.2915ZM121.139 75.0884L121.15 75.0781C121.15 75.0781 121.438 75.2735 121.844 75.4741L123.49 76.2971L122.353 77.4337L121.53 75.7879C121.34 75.4021 121.155 75.1141 121.139 75.0884ZM125.516 77.3051L126.267 76.5542L120.934 74.0186L120.121 74.8312L122.672 80.1494L123.361 79.4602L122.713 78.1538L124.21 76.6571L125.516 77.3051ZM125.989 73.6845L127.589 72.0849L127.033 71.5295L125.434 73.129L124.194 71.8895L125.907 70.1768L125.341 69.611L122.908 72.0438L126.843 75.9784L127.563 75.2584L125.989 73.6845ZM128.952 66.0001L125.769 69.1838L126.345 69.7598L127.579 68.5254L130.938 71.884L131.652 71.1691L128.294 67.8105L129.528 66.5761L128.952 66.0001Z",fill:"black"}),n.createElement("path",{d:"M86.7149 144.026L88.047 142.694C89.1734 141.568 89.3071 140.127 87.9441 138.764C86.5812 137.401 85.2079 137.664 84.0815 138.79L82.7803 140.091L86.7149 144.026ZM86.8795 142.751L84.0507 139.922L84.6319 139.341C85.3314 138.641 86.1903 138.523 87.2035 139.536C88.2733 140.606 88.1653 141.465 87.4298 142.2L86.8795 142.751ZM89.3249 137.25L87.9877 135.913L88.6974 135.203C89.0626 134.838 89.5975 134.663 90.0707 135.136C90.5696 135.635 90.4204 136.154 90.0193 136.556L89.3249 137.25ZM92.8738 137.867L93.6607 137.08L91.0788 136.257L91.0685 136.247C91.3102 135.758 91.444 135.038 90.7753 134.37C90.2661 133.861 89.7107 133.809 89.1861 133.994C88.8415 134.123 88.5174 134.354 88.2551 134.617L86.7533 136.118L90.6879 140.053L91.408 139.333L89.8495 137.775L90.549 137.075L92.8738 137.867ZM92.4832 131.664L92.4935 131.654C92.4935 131.654 92.7815 131.849 93.1878 132.05L94.8337 132.873L93.697 134.009L92.8741 132.364C92.6838 131.978 92.4986 131.69 92.4832 131.664ZM96.8601 133.881L97.611 133.13L92.2775 130.594L91.4648 131.407L94.0159 136.725L94.7051 136.036L94.057 134.729L95.5537 133.233L96.8601 133.881ZM97.3331 130.26L98.9326 128.661L98.3772 128.105L96.7776 129.705L95.5381 128.465L97.2508 126.752L96.685 126.187L94.2522 128.619L98.1869 132.554L98.9069 131.834L97.3331 130.26ZM100.296 122.576L97.1123 125.759L97.6883 126.335L98.9227 125.101L102.281 128.46L102.996 127.745L99.6376 124.386L100.872 123.152L100.296 122.576Z",fill:"black"}),n.createElement("path",{d:"M108.023 122.717L109.356 121.385C110.482 120.259 110.616 118.819 109.253 117.456C107.89 116.093 106.517 116.355 105.39 117.482L104.089 118.783L108.023 122.717ZM108.188 121.442L105.359 118.613L105.94 118.032C106.64 117.332 107.499 117.214 108.512 118.227C109.582 119.297 109.474 120.156 108.738 120.892L108.188 121.442ZM110.634 115.941L109.296 114.604L110.006 113.894C110.371 113.529 110.906 113.354 111.379 113.827C111.878 114.326 111.729 114.846 111.328 115.247L110.634 115.941ZM114.182 116.559L114.969 115.772L112.387 114.949L112.377 114.938C112.619 114.45 112.753 113.73 112.084 113.061C111.575 112.552 111.019 112.501 110.495 112.686C110.15 112.814 109.826 113.046 109.564 113.308L108.062 114.81L111.996 118.744L112.717 118.024L111.158 116.466L111.858 115.767L114.182 116.559ZM113.792 110.355L113.802 110.345C113.802 110.345 114.09 110.541 114.496 110.741L116.142 111.564L115.006 112.701L114.183 111.055C113.992 110.669 113.807 110.381 113.792 110.355ZM118.169 112.572L118.92 111.821L113.586 109.286L112.773 110.098L115.324 115.416L116.014 114.727L115.366 113.421L116.862 111.924L118.169 112.572ZM118.642 108.952L120.241 107.352L119.686 106.797L118.086 108.396L116.847 107.157L118.559 105.444L117.994 104.878L115.561 107.311L119.495 111.246L120.216 110.525L118.642 108.952ZM121.605 101.267L118.421 104.451L118.997 105.027L120.231 103.793L123.59 107.151L124.305 106.436L120.946 103.078L122.181 101.843L121.605 101.267Z",fill:"black"})))),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_5473_169160",x:"43",y:"30",width:"74",height:"101",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},n.createElement("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.858824 0 0 0 0 0.870588 0 0 0 0 0.886275 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_5473_169160"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_5473_169160",result:"shape"})),n.createElement("filter",{id:"filter1_d_5473_169160",x:"43",y:"30",width:"74",height:"101",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},n.createElement("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.858824 0 0 0 0 0.870588 0 0 0 0 0.886275 0 0 0 1 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_5473_169160"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_5473_169160",result:"shape"})),n.createElement("clipPath",{id:"clip0_5473_169160"},n.createElement("rect",{width:"74",height:"100",fill:"white",transform:"translate(43 30)"})),n.createElement("clipPath",{id:"clip1_5473_169160"},n.createElement("rect",{width:"160",height:"160",fill:"white"}))))})),define("metaserver/static/js/modules/clean/react/flows/automations/util",["require","exports","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/core/i18n"],(function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAutoFolderVideoSrc=void 0,t.getAutoFolderVideoSrc=function(){return a[n.localeToBcp47LangTag(o.USER_LOCALE)]||a.en};const a={en:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_en_US@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_en_US@2x.png"},"da-DK":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_da_DK@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_da_DK@2x.png"},de:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_de@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_de@2x.png"},"en-GB":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_en_GB@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_en_GB@2x.png"},"es-419":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_es@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_es@2x.png"},es:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_es_ES@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_es_ES@2x.png"},fr:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_fr@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_fr@2x.png"},id:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_id@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_id@2x.png"},it:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_it@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_it@2x.png"},ja:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_ja@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_ja@2x.png"},ko:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_ko@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_ko@2x.png"},ms:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_ms@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_ms@2x.png"},"nb-NO":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_nb_NO@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_nb_NO@2x.png"},"nl-NL":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_nl_NL@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_nl_NL@2x.png"},pl:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_pl@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_pl@2x.png"},"pt-BR":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_pt_BR@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_pt_BR@2x.png"},ru:{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_ru@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_ru@2x.png"},"sv-SE":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_sv_SE@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_sv_SE@2x.png"},"th-TH":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_th_TH@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_th_TH@2x.png"},"uk-UA":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_uk_UA@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_uk_UA@2x.png"},"zh-Hans-CN":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_zh_CN@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_zh_CN@2x.png"},"zh-Hant-TW":{video:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_zh_TW@2x.mp4",poster:"https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/automation_dashboard_overview_animation_zh_TW@2x.png"}}})),define("metaserver/static/js/modules/clean/react/flows/conversions/conversion_plugin",["require","exports","tslib","react","metaserver/static/js/modules/clean/react/flows/conversions/conversion_actions","dig-components/menu","dig-components/icons/src","dig-components/icons","metaserver/static/js/modules/core/i18n","metaserver/static/js/modules/clean/react/file_viewer/file_conversion/utils"],(function(e,t,o,n,a,r,i,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeFileConversionsLoader=t.getOverflowItem=t.SaveAsOverflowItem=void 0,n=o.__importDefault(n);t.SaveAsOverflowItem=({file:e,user:t,shareToken:o,conversionActions:a,logUserAction:c})=>n.default.createElement(r.Menu.Submenu,{withLeftAccessory:n.default.createElement(s.UIIcon,{src:i.ConvertFileLine}),withTriggerContent:l.intl.formatMessage({id:"N4qajY",defaultMessage:"Save as..."})},n.default.createElement(r.Menu.Segment,null,a.map(a=>n.default.createElement(r.Menu.ActionItem,{key:a.actionText,onClick:()=>((e,t,o,n)=>{c({action:"convert_file",context:"preview_workflows_button",conversion_type:o.actionText}),o.convert([e],t,{shareToken:n,source:"preview"})})(e,t,a,o),onKeyPress:n=>((e,t,o,n,a)=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),c({action:"convert_file",context:"preview_workflows_button",conversion_type:n.actionText}),n.convert([t],o,{shareToken:a,source:"preview"}))})(n,e,t,a,o),withLeftAccessory:n.default.createElement(s.UIIcon,{src:a.actionIcon})},a.actionText)))),t.SaveAsOverflowItem.displayName="SaveAsOverflowItem",t.getOverflowItem=(e,o,r,i)=>{const s={expFlowsManualVideoRemuxUi:c.isManualVideoRemuxingEnabled(o),expFlowsManualVideoGifUi:c.isManualVideoGifEnabled(o),expFlowsAudioConversionUi:c.isManualAudioConversionEnabled(o)},l=a.getConversionActionsForFiles([e],s);if(l.length)return n.default.createElement(t.SaveAsOverflowItem,{file:e,user:o,shareToken:i,conversionActions:l,logUserAction:r,key:"saveAsOverflowItem"})},t.makeFileConversionsLoader=(e,o)=>({pluginId:"CONVERSION_ACTION",load:(n,a)=>Promise.resolve(new class{constructor(t){this.lifecycle={previewDidRender:()=>{this.actionDefinitions=this.conversionsDefinition(e())}},this.actionDefinitions=this.conversionsDefinition(e()),this.context=t}conversionsDefinition(e){return{categories:{workflows:[{overflowItem:t.getOverflowItem(e.file,o,e=>this.context.logUserAction(e),e.shareToken),id:"CONVERSION_ACTION"}]}}}}(a))})})),define("metaserver/static/js/prod_assets_web_modules/react-beautiful-dnd",["exports","react","react-dom"],(function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=n(t),r=n(o);function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){c(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function p(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var f="function"==typeof Symbol&&Symbol.observable||"@@observable",m=function(){return Math.random().toString(36).substring(7).split("").join(".")},g={INIT:"@@redux/INIT"+m(),REPLACE:"@@redux/REPLACE"+m(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+m()}};function _(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function v(e,t,o){var n;if("function"==typeof t&&"function"==typeof o||"function"==typeof o&&"function"==typeof arguments[3])throw new Error(p(0));if("function"==typeof t&&void 0===o&&(o=t,t=void 0),void 0!==o){if("function"!=typeof o)throw new Error(p(1));return o(v)(e,t)}if("function"!=typeof e)throw new Error(p(2));var a=e,r=t,i=[],s=i,l=!1;function c(){s===i&&(s=i.slice())}function u(){if(l)throw new Error(p(3));return r}function d(e){if("function"!=typeof e)throw new Error(p(4));if(l)throw new Error(p(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(p(6));t=!1,c();var o=s.indexOf(e);s.splice(o,1),i=null}}}function m(e){if(!_(e))throw new Error(p(7));if(void 0===e.type)throw new Error(p(8));if(l)throw new Error(p(9));try{l=!0,r=a(r,e)}finally{l=!1}for(var t=i=s,o=0;o<t.length;o++)(0,t[o])();return e}function b(e){if("function"!=typeof e)throw new Error(p(10));a=e,m({type:g.REPLACE})}function w(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(p(11));function o(){e.next&&e.next(u())}return o(),{unsubscribe:t(o)}}})[f]=function(){return this},e}return m({type:g.INIT}),(n={dispatch:m,subscribe:d,getState:u,replaceReducer:b})[f]=w,n}function b(e,t){return function(){return t(e.apply(this,arguments))}}function w(e,t){if("function"==typeof e)return b(e,t);if("object"!=typeof e||null===e)throw new Error(p(16));var o={};for(var n in e){var a=e[n];"function"==typeof a&&(o[n]=b(a,t))}return o}function y(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){}function S(){}S.resetWarningCache=h,(function(){function e(e,t,o,n,a,r){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:S,resetWarningCache:h};o.PropTypes=o})();var E=a.default.createContext(null),A=function(e){e()},O={notify:function(){},get:function(){return[]}};function T(e,t){var o,n=O;function a(){i.onStateChange&&i.onStateChange()}function r(){o||(o=t?t.addNestedSub(a):e.subscribe(a),n=(function(){var e=A,t=null,o=null;return{clear:function(){t=null,o=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],o=t;o;)e.push(o),o=o.next;return e},subscribe:function(e){var n=!0,a=o={callback:e,next:null,prev:o};return a.prev?a.prev.next=a:t=a,function(){n&&null!==t&&(n=!1,a.next?a.next.prev=a.prev:o=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}})())}var i={addNestedSub:function(e){return r(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(o)},trySubscribe:r,tryUnsubscribe:function(){o&&(o(),o=void 0,n.clear(),n=O)},getListeners:function(){return n}};return i}var C="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function M(e){var o=e.store,n=e.context,r=e.children,i=t.useMemo((function(){var e=T(o);return e.onStateChange=e.notifyNestedSubs,{store:o,subscription:e}}),[o]),s=t.useMemo((function(){return o.getState()}),[o]);C((function(){var e=i.subscription;return e.trySubscribe(),s!==o.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,s]);var l=n||E;return a.default.createElement(l.Provider,{value:i},r)}function L(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}var I={exports:{}},F={},N="function"==typeof Symbol&&Symbol.for,P=N?Symbol.for("react.element"):60103,x=N?Symbol.for("react.portal"):60106,R=N?Symbol.for("react.fragment"):60107,D=N?Symbol.for("react.strict_mode"):60108,k=N?Symbol.for("react.profiler"):60114,j=N?Symbol.for("react.provider"):60109,U=N?Symbol.for("react.context"):60110,B=N?Symbol.for("react.async_mode"):60111,W=N?Symbol.for("react.concurrent_mode"):60111,G=N?Symbol.for("react.forward_ref"):60112,V=N?Symbol.for("react.suspense"):60113,q=N?Symbol.for("react.suspense_list"):60120,z=N?Symbol.for("react.memo"):60115,Y=N?Symbol.for("react.lazy"):60116,K=N?Symbol.for("react.block"):60121,Z=N?Symbol.for("react.fundamental"):60117,X=N?Symbol.for("react.responder"):60118,H=N?Symbol.for("react.scope"):60119;function $(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case P:switch(e=e.type){case B:case W:case R:case k:case D:case V:return e;default:switch(e=e&&e.$$typeof){case U:case G:case Y:case z:case j:return e;default:return t}}case x:return t}}}function J(e){return $(e)===W}F.AsyncMode=B,F.ConcurrentMode=W,F.ContextConsumer=U,F.ContextProvider=j,F.Element=P,F.ForwardRef=G,F.Fragment=R,F.Lazy=Y,F.Memo=z,F.Portal=x,F.Profiler=k,F.StrictMode=D,F.Suspense=V,F.isAsyncMode=function(e){return J(e)||$(e)===B},F.isConcurrentMode=J,F.isContextConsumer=function(e){return $(e)===U},F.isContextProvider=function(e){return $(e)===j},F.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===P},F.isForwardRef=function(e){return $(e)===G},F.isFragment=function(e){return $(e)===R},F.isLazy=function(e){return $(e)===Y},F.isMemo=function(e){return $(e)===z},F.isPortal=function(e){return $(e)===x},F.isProfiler=function(e){return $(e)===k},F.isStrictMode=function(e){return $(e)===D},F.isSuspense=function(e){return $(e)===V},F.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===R||e===W||e===k||e===D||e===V||e===q||"object"==typeof e&&null!==e&&(e.$$typeof===Y||e.$$typeof===z||e.$$typeof===j||e.$$typeof===U||e.$$typeof===G||e.$$typeof===Z||e.$$typeof===X||e.$$typeof===H||e.$$typeof===K)},F.typeOf=$,I.exports=F;var Q=I.exports,ee={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},te={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},oe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ne={};function ae(e){return Q.isMemo(e)?oe:ne[e.$$typeof]||ee}ne[Q.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ne[Q.Memo]=oe;var re=Object.defineProperty,ie=Object.getOwnPropertyNames,se=Object.getOwnPropertySymbols,le=Object.getOwnPropertyDescriptor,ce=Object.getPrototypeOf,ue=Object.prototype,de=function e(t,o,n){if("string"!=typeof o){if(ue){var a=ce(o);a&&a!==ue&&e(t,a,n)}var r=ie(o);se&&(r=r.concat(se(o)));for(var i=ae(t),s=ae(o),l=0;l<r.length;++l){var c=r[l];if(!(te[c]||n&&n[c]||s&&s[c]||i&&i[c])){var u=le(o,c);try{re(t,c,u)}catch(e){}}}}return t},pe={exports:{}},fe={},me=60103,ge=60106,_e=60107,ve=60108,be=60114,we=60109,ye=60110,he=60112,Se=60113,Ee=60120,Ae=60115,Oe=60116,Te=60121,Ce=60122,Me=60117,Le=60129,Ie=60131;if("function"==typeof Symbol&&Symbol.for){var Fe=Symbol.for;me=Fe("react.element"),ge=Fe("react.portal"),_e=Fe("react.fragment"),ve=Fe("react.strict_mode"),be=Fe("react.profiler"),we=Fe("react.provider"),ye=Fe("react.context"),he=Fe("react.forward_ref"),Se=Fe("react.suspense"),Ee=Fe("react.suspense_list"),Ae=Fe("react.memo"),Oe=Fe("react.lazy"),Te=Fe("react.block"),Ce=Fe("react.server.block"),Me=Fe("react.fundamental"),Le=Fe("react.debug_trace_mode"),Ie=Fe("react.legacy_hidden")}function Ne(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case me:switch(e=e.type){case _e:case be:case ve:case Se:case Ee:return e;default:switch(e=e&&e.$$typeof){case ye:case he:case Oe:case Ae:case we:return e;default:return t}}case ge:return t}}}var Pe=we,xe=me,Re=he,De=_e,ke=Oe,je=Ae,Ue=ge,Be=be,We=ve,Ge=Se;fe.ContextConsumer=ye,fe.ContextProvider=Pe,fe.Element=xe,fe.ForwardRef=Re,fe.Fragment=De,fe.Lazy=ke,fe.Memo=je,fe.Portal=Ue,fe.Profiler=Be,fe.StrictMode=We,fe.Suspense=Ge,fe.isAsyncMode=function(){return!1},fe.isConcurrentMode=function(){return!1},fe.isContextConsumer=function(e){return Ne(e)===ye},fe.isContextProvider=function(e){return Ne(e)===we},fe.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===me},fe.isForwardRef=function(e){return Ne(e)===he},fe.isFragment=function(e){return Ne(e)===_e},fe.isLazy=function(e){return Ne(e)===Oe},fe.isMemo=function(e){return Ne(e)===Ae},fe.isPortal=function(e){return Ne(e)===ge},fe.isProfiler=function(e){return Ne(e)===be},fe.isStrictMode=function(e){return Ne(e)===ve},fe.isSuspense=function(e){return Ne(e)===Se},fe.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===_e||e===be||e===Le||e===ve||e===Se||e===Ee||e===Ie||"object"==typeof e&&null!==e&&(e.$$typeof===Oe||e.$$typeof===Ae||e.$$typeof===we||e.$$typeof===ye||e.$$typeof===he||e.$$typeof===Me||e.$$typeof===Te||e[0]===Ce)},fe.typeOf=Ne,pe.exports=fe;var Ve=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],qe=["reactReduxForwardedRef"],ze=[],Ye=[null,null];function Ke(e,t){var o=e[1];return[t.payload,o+1]}function Ze(e,t,o){C((function(){return e.apply(void 0,t)}),o)}function Xe(e,t,o,n,a,r,i){e.current=n,t.current=a,o.current=!1,r.current&&(r.current=null,i())}function He(e,t,o,n,a,r,i,s,l,c){if(e){var u=!1,d=null,p=function(){if(!u){var e,o,p=t.getState();try{e=n(p,a.current)}catch(e){o=e,d=e}o||(d=null),e===r.current?i.current||l():(r.current=e,s.current=e,i.current=!0,c({type:"STORE_UPDATED",payload:{error:o}}))}};return o.onStateChange=p,o.trySubscribe(),p(),function(){if(u=!0,o.tryUnsubscribe(),o.onStateChange=null,d)throw d}}}var $e=function(){return[null,0]};function Je(e,o){void 0===o&&(o={});var n=o,r=n.getDisplayName,i=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,s=n.methodName,c=void 0===s?"connectAdvanced":s,u=n.renderCountProp,d=void 0===u?void 0:u,p=n.shouldHandleStateChanges,f=void 0===p||p,m=n.storeKey,g=void 0===m?"store":m;n.withRef;var _=n.forwardRef,v=void 0!==_&&_,b=n.context,w=void 0===b?E:b,y=L(n,Ve),h=w;return function(o){var n=o.displayName||o.name||"Component",r=i(n),s=l({},y,{getDisplayName:i,methodName:c,renderCountProp:d,shouldHandleStateChanges:f,storeKey:g,displayName:r,wrappedComponentName:n,WrappedComponent:o}),u=y.pure,p=u?t.useMemo:function(e){return e()};function m(n){var r=t.useMemo((function(){var e=n.reactReduxForwardedRef,t=L(n,qe);return[n.context,e,t]}),[n]),i=r[0],c=r[1],u=r[2],d=t.useMemo((function(){return i&&i.Consumer&&pe.exports.isContextConsumer(a.default.createElement(i.Consumer,null))?i:h}),[i,h]),m=t.useContext(d),g=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(m)&&Boolean(m.store);var _=g?n.store:m.store,v=t.useMemo((function(){return(function(t){return e(t.dispatch,s)})(_)}),[_]),b=t.useMemo((function(){if(!f)return Ye;var e=T(_,g?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[_,g,m]),w=b[0],y=b[1],S=t.useMemo((function(){return g?m:l({},m,{subscription:w})}),[g,m,w]),E=t.useReducer(Ke,ze,$e),A=E[0][0],O=E[1];if(A&&A.error)throw A.error;var C=t.useRef(),M=t.useRef(u),I=t.useRef(),F=t.useRef(!1),N=p((function(){return I.current&&u===M.current?I.current:v(_.getState(),u)}),[_,A,u]);Ze(Xe,[M,C,F,u,N,I,y]),Ze(He,[f,_,w,v,M,C,F,I,y,O],[_,w,v]);var P=t.useMemo((function(){return a.default.createElement(o,l({},N,{ref:c}))}),[c,o,N]);return t.useMemo((function(){return f?a.default.createElement(d.Provider,{value:S},P):P}),[d,P,S])}var _=u?a.default.memo(m):m;if(_.WrappedComponent=o,_.displayName=m.displayName=r,v){var b=a.default.forwardRef((function(e,t){return a.default.createElement(_,l({},e,{reactReduxForwardedRef:t}))}));return b.displayName=r,b.WrappedComponent=o,de(b,o)}return de(_,o)}}function Qe(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function et(e,t){if(Qe(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(var a=0;a<o.length;a++)if(!Object.prototype.hasOwnProperty.call(t,o[a])||!Qe(e[o[a]],t[o[a]]))return!1;return!0}function tt(e){return function(t,o){var n=e(t,o);function a(){return n}return a.dependsOnOwnProps=!1,a}}function ot(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function nt(e,t){return function(t,o){o.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,o){n.mapToProps=e,n.dependsOnOwnProps=ot(e);var a=n(t,o);return"function"==typeof a&&(n.mapToProps=a,n.dependsOnOwnProps=ot(a),a=n(t,o)),a},n}}var at=[function(e){return"function"==typeof e?nt(e):void 0},function(e){return e?void 0:tt((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?tt((function(t){return(function(e,t){var o={},n=function(n){var a=e[n];"function"==typeof a&&(o[n]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)n(a);return o})(e,t)})):void 0}],rt=[function(e){return"function"==typeof e?nt(e):void 0},function(e){return e?void 0:tt((function(){return{}}))}];function it(e,t,o){return l({},o,e,t)}var st=[function(e){return"function"==typeof e?(function(e){return function(t,o){o.displayName;var n,a=o.pure,r=o.areMergedPropsEqual,i=!1;return function(t,o,s){var l=e(t,o,s);return i?a&&r(l,n)||(n=l):(i=!0,n=l),n}}})(e):void 0},function(e){return e?void 0:function(){return it}}],lt=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function ct(e,t,o,n){return function(a,r){return o(e(a,r),t(n,r),r)}}function ut(e,t,o,n,a){var r,i,s,l,c,u=a.areStatesEqual,d=a.areOwnPropsEqual,p=a.areStatePropsEqual,f=!1;function m(a,f){var m,g,_=!d(f,i),v=!u(a,r);return r=a,i=f,_&&v?(s=e(r,i),t.dependsOnOwnProps&&(l=t(n,i)),c=o(s,l,i)):_?(e.dependsOnOwnProps&&(s=e(r,i)),t.dependsOnOwnProps&&(l=t(n,i)),c=o(s,l,i)):v?(m=e(r,i),g=!p(m,s),s=m,g&&(c=o(s,l,i)),c):c}return function(a,u){return f?m(a,u):(s=e(r=a,i=u),l=t(n,i),c=o(s,l,i),f=!0,c)}}function dt(e,t){var o=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,r=L(t,lt),i=o(e,r),s=n(e,r),l=a(e,r);return(r.pure?ut:ct)(i,s,l,e,r)}var pt=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ft(e,t,o){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+o+" argument when connecting component "+n.wrappedComponentName+".")}}function mt(e,t){return e===t}var gt,_t=(function(e){var t=void 0===e?{}:e,o=t.connectHOC,n=void 0===o?Je:o,a=t.mapStateToPropsFactories,r=void 0===a?rt:a,i=t.mapDispatchToPropsFactories,s=void 0===i?at:i,c=t.mergePropsFactories,u=void 0===c?st:c,d=t.selectorFactory,p=void 0===d?dt:d;return function(e,t,o,a){void 0===a&&(a={});var i=a,c=i.pure,d=void 0===c||c,f=i.areStatesEqual,m=void 0===f?mt:f,g=i.areOwnPropsEqual,_=void 0===g?et:g,v=i.areStatePropsEqual,b=void 0===v?et:v,w=i.areMergedPropsEqual,y=void 0===w?et:w,h=L(i,pt),S=ft(e,r,"mapStateToProps"),E=ft(t,s,"mapDispatchToProps"),A=ft(o,u,"mergeProps");return n(p,l({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:E,initMergeProps:A,pure:d,areStatesEqual:m,areOwnPropsEqual:_,areStatePropsEqual:b,areMergedPropsEqual:y},h))}})();function vt(e,o){var n=t.useState((function(){return{inputs:o,result:e()}}))[0],a=t.useRef(!0),r=t.useRef(n),i=a.current||Boolean(o&&r.current.inputs&&(function(e,t){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0})(o,r.current.inputs))?r.current:{inputs:o,result:e()};return t.useEffect((function(){a.current=!1,r.current=i}),[i]),i.result}gt=o.unstable_batchedUpdates,A=gt;var bt=vt,wt=function(e,t){return vt((function(){return e}),t)},yt=function(e){var t=e.top,o=e.right,n=e.bottom,a=e.left;return{top:t,right:o,bottom:n,left:a,width:o-a,height:n-t,x:a,y:t,center:{x:(o+a)/2,y:(n+t)/2}}},ht=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},St=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Et={top:0,right:0,bottom:0,left:0},At=function(e){var t=e.borderBox,o=e.margin,n=void 0===o?Et:o,a=e.border,r=void 0===a?Et:a,i=e.padding,s=void 0===i?Et:i,l=yt(ht(t,n)),c=yt(St(t,r)),u=yt(St(c,s));return{marginBox:l,borderBox:yt(t),paddingBox:c,contentBox:u,margin:n,border:r,padding:s}},Ot=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var o=Number(t);return isNaN(o)&&(function(e,t){throw new Error("Invariant failed")})(),o},Tt=function(e,t){var o,n,a=e.borderBox,r=e.border,i=e.margin,s=e.padding,l=(n=t,{top:(o=a).top+n.y,left:o.left+n.x,bottom:o.bottom+n.y,right:o.right+n.x});return At({borderBox:l,border:r,margin:i,padding:s})},Ct=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Tt(e,t)},Mt=function(e,t){var o={top:Ot(t.marginTop),right:Ot(t.marginRight),bottom:Ot(t.marginBottom),left:Ot(t.marginLeft)},n={top:Ot(t.paddingTop),right:Ot(t.paddingRight),bottom:Ot(t.paddingBottom),left:Ot(t.paddingLeft)},a={top:Ot(t.borderTopWidth),right:Ot(t.borderRightWidth),bottom:Ot(t.borderBottomWidth),left:Ot(t.borderLeftWidth)};return At({borderBox:e,margin:o,padding:n,border:a})},Lt=function(e){var t=e.getBoundingClientRect(),o=window.getComputedStyle(e);return Mt(t,o)},It=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Ft(e,t){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(!((n=e[o])===(a=t[o])||It(n)&&It(a)))return!1;var n,a;return!0}function Nt(e,t){var o;void 0===t&&(t=Ft);var n,a=[],r=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return r&&o===this&&t(i,a)||(n=e.apply(this,i),r=!0,o=this,a=i),n}}var Pt=function(e){var t=[],o=null,n=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];t=a,o||(o=requestAnimationFrame((function(){o=null,e.apply(void 0,t)})))};return n.cancel=function(){o&&(cancelAnimationFrame(o),o=null)},n};function xt(e,t){}function Rt(){}function Dt(e,t,o){var n=t.map((function(t){var n=l({},o,{},t.options);return e.addEventListener(t.eventName,t.fn,n),function(){e.removeEventListener(t.eventName,t.fn,n)}}));return function(){n.forEach((function(e){e()}))}}function kt(e){this.message=e}function jt(e,t){if(!e)throw new kt("Invariant failed")}xt.bind(null,"warn"),xt.bind(null,"error"),kt.prototype.toString=function(){return this.message};var Ut=(function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).callbacks=null,t.unbind=Rt,t.onWindowError=function(e){var o=t.getCallbacks();o.isDragging()&&o.tryAbort(),e.error instanceof kt&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}s(t,e);var o=t.prototype;return o.componentDidMount=function(){this.unbind=Dt(window,[{eventName:"error",fn:this.onWindowError}])},o.componentDidCatch=function(e){if(!(e instanceof kt))throw e;this.setState({})},o.componentWillUnmount=function(){this.unbind()},o.render=function(){return this.props.children(this.setCallbacks)},t})(a.default.Component),Bt=function(e){return e+1},Wt=function(e,t){var o=e.droppableId===t.droppableId,n=Bt(e.index),a=Bt(t.index);return o?"\n      You have moved the item from position "+n+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+n+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},Gt=function(e,t,o){return t.droppableId===o.droppableId?"\n      The item "+e+"\n      has been combined with "+o.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+o.draggableId+"\n      in list "+o.droppableId+"\n    "},Vt=function(e){return"\n  The item has returned to its starting position\n  of "+Bt(e.index)+"\n"},qt=function(e){return"\n  You have lifted an item in position "+Bt(e.source.index)+"\n"},zt=function(e){var t=e.destination;if(t)return Wt(e.source,t);var o=e.combine;return o?Gt(e.draggableId,e.source,o):"You are over an area that cannot be dropped on"},Yt=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Vt(e.source)+"\n    ";var t=e.destination,o=e.combine;return t?"\n      You have dropped the item.\n      "+Wt(e.source,t)+"\n    ":o?"\n      You have dropped the item.\n      "+Gt(e.draggableId,e.source,o)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Vt(e.source)+"\n  "},Kt={x:0,y:0},Zt=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Xt=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Ht=function(e,t){return e.x===t.x&&e.y===t.y},$t=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Jt=function(e,t,o){var n;return void 0===o&&(o=0),(n={})[e]=t,n["x"===e?"y":"x"]=o,n},Qt=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},eo=function(e,t){return Math.min.apply(Math,t.map((function(t){return Qt(e,t)})))},to=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},oo=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},no=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},ao=function(e,t){return t&&t.shouldClipSubject?(function(e,t){var o=yt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return o.width<=0||o.height<=0?null:o})(t.pageMarginBox,e):yt(e)},ro=function(e){var t=e.page,o=e.withPlaceholder,n=e.axis,a=e.frame,r=(function(e,t,o){var n;return o&&o.increasedBy?l({},e,((n={})[t.end]=e[t.end]+o.increasedBy[t.line],n)):e})((function(e,t){return t?oo(e,t.scroll.diff.displacement):e})(t.marginBox,a),n,o);return{page:t,withPlaceholder:o,active:ao(r,a)}},io=function(e,t){e.frame||jt(!1);var o=e.frame,n=Xt(t,o.scroll.initial),a=$t(n),r=l({},o,{scroll:{initial:o.scroll.initial,current:t,diff:{value:n,displacement:a},max:o.scroll.max}});return l({},e,{frame:r,subject:ro({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:r})})};function so(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function lo(e,t){if(e.findIndex)return e.findIndex(t);for(var o=0;o<e.length;o++)if(t(e[o]))return o;return-1}function co(e,t){if(e.find)return e.find(t);var o=lo(e,t);return-1!==o?e[o]:void 0}function uo(e){return Array.prototype.slice.call(e)}var po=Nt((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),fo=Nt((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),mo=Nt((function(e){return so(e)})),go=Nt((function(e){return so(e)})),_o=Nt((function(e,t){return go(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function vo(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function bo(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var wo=Nt((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),yo=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ho={point:Kt,value:0},So={invisible:{},visible:{},all:[]},Eo={displaced:So,displacedBy:ho,at:null},Ao=function(e,t){return function(o){return e<=o&&o<=t}},Oo=function(e){var t=Ao(e.top,e.bottom),o=Ao(e.left,e.right);return function(n){if(t(n.top)&&t(n.bottom)&&o(n.left)&&o(n.right))return!0;var a=t(n.top)||t(n.bottom),r=o(n.left)||o(n.right);if(a&&r)return!0;var i=n.top<e.top&&n.bottom>e.bottom,s=n.left<e.left&&n.right>e.right;return!(!i||!s)||i&&r||s&&a}},To=function(e){var t=Ao(e.top,e.bottom),o=Ao(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&o(e.left)&&o(e.right)}},Co={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Mo={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Lo=function(e){var t=e.target,o=e.destination,n=e.viewport,a=e.withDroppableDisplacement,r=e.isVisibleThroughFrameFn,i=a?(function(e,t){var o=t.frame?t.frame.scroll.diff.displacement:Kt;return oo(e,o)})(t,o):t;return(function(e,t,o){return!!t.subject.active&&o(t.subject.active)(e)})(i,o,r)&&(function(e,t,o){return o(t)(e)})(i,n,r)},Io=function(e){return Lo(l({},e,{isVisibleThroughFrameFn:Oo}))},Fo=function(e){return Lo(l({},e,{isVisibleThroughFrameFn:To}))};function No(e){var t=e.afterDragging,o=e.destination,n=e.displacedBy,a=e.viewport,r=e.forceShouldAnimate,i=e.last;return t.reduce((function(e,t){var s=(function(e,t){var o=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return yt(ht(o,n))})(t,n),l=t.descriptor.id;if(e.all.push(l),!Io({target:s,destination:o,viewport:a,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c={draggableId:l,shouldAnimate:(function(e,t,o){if("boolean"==typeof o)return o;if(!t)return!0;var n=t.invisible,a=t.visible;if(n[e])return!1;var r=a[e];return!r||r.shouldAnimate})(l,i,r)};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function Po(e){var t=e.insideDestination,o=e.inHomeList,n=e.displacedBy,a=e.destination,r=(function(e,t){if(!e.length)return 0;var o=e[e.length-1].descriptor.index;return t.inHomeList?o:o+1})(t,{inHomeList:o});return{displaced:So,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:r}}}}function xo(e){var t=e.draggable,o=e.insideDestination,n=e.destination,a=e.viewport,r=e.displacedBy,i=e.last,s=e.index,l=e.forceShouldAnimate,c=yo(t,n);if(null==s)return Po({insideDestination:o,inHomeList:c,displacedBy:r,destination:n});var u=co(o,(function(e){return e.descriptor.index===s}));if(!u)return Po({insideDestination:o,inHomeList:c,displacedBy:r,destination:n});var d=wo(t,o),p=o.indexOf(u);return{displaced:No({afterDragging:d.slice(p),destination:n,displacedBy:r,last:i,viewport:a.frame,forceShouldAnimate:l}),displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Ro(e,t){return Boolean(t.effected[e])}var Do=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},ko=function(e,t,o){return t[e.crossAxisStart]+o.margin[e.crossAxisStart]+o.borderBox[e.crossAxisSize]/2},jo=function(e){var t=e.axis,o=e.moveRelativeTo,n=e.isMoving;return Jt(t.line,o.marginBox[t.end]+Do(t,n),ko(t,o.marginBox,n))},Uo=function(e){var t=e.axis,o=e.moveRelativeTo,n=e.isMoving;return Jt(t.line,o.marginBox[t.start]-(function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2})(t,n),ko(t,o.marginBox,n))},Bo=function(e,t){var o=e.frame;return o?Zt(t,o.scroll.diff.displacement):t},Wo=function(e){var t=(function(e){var t=e.impact,o=e.draggable,n=e.droppable,a=e.draggables,r=e.afterCritical,i=o.page.borderBox.center,s=t.at;return n&&s?"REORDER"===s.type?(function(e){var t=e.impact,o=e.draggable,n=e.draggables,a=e.droppable,r=e.afterCritical,i=_o(a.descriptor.id,n),s=o.page,l=a.axis;if(!i.length)return(function(e){var t=e.axis,o=e.moveInto,n=e.isMoving;return Jt(t.line,o.contentBox[t.start]+Do(t,n),ko(t,o.contentBox,n))})({axis:l,moveInto:a.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var p=n[d];if(Ro(d,r))return Uo({axis:l,moveRelativeTo:p.page,isMoving:s});var f=Tt(p.page,u.point);return Uo({axis:l,moveRelativeTo:f,isMoving:s})}var m=i[i.length-1];if(m.descriptor.id===o.descriptor.id)return s.borderBox.center;if(Ro(m.descriptor.id,r)){var g=Tt(m.page,$t(r.displacedBy.point));return jo({axis:l,moveRelativeTo:g,isMoving:s})}return jo({axis:l,moveRelativeTo:m.page,isMoving:s})})({impact:t,draggable:o,draggables:a,droppable:n,afterCritical:r}):(function(e){var t=e.afterCritical,o=e.impact,n=e.draggables,a=bo(o);a||jt(!1);var r=a.draggableId,i=n[r].page.borderBox.center,s=(function(e){var t=e.displaced,o=e.afterCritical,n=e.combineWith,a=e.displacedBy,r=Boolean(t.visible[n]||t.invisible[n]);return Ro(n,o)?r?Kt:$t(a.point):r?a.point:Kt})({displaced:o.displaced,afterCritical:t,combineWith:r,displacedBy:o.displacedBy});return Zt(i,s)})({impact:t,draggables:a,afterCritical:r}):i})(e),o=e.droppable;return o?Bo(o,t):t},Go=function(e,t){var o=Xt(t,e.scroll.initial),n=$t(o);return{frame:yt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:o,displacement:n}}}};function Vo(e,t){return e.map((function(e){return t[e]}))}var qo=function(e){var t=e.pageBorderBoxCenter,o=e.draggable,n=(function(e,t){return Zt(e.scroll.diff.displacement,t)})(e.viewport,t),a=Xt(n,o.page.borderBox.center);return Zt(o.client.borderBox.center,a)},zo=function(e){var t=e.draggable,o=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,r=e.withDroppableDisplacement,i=e.onlyOnMainAxis,s=void 0!==i&&i,c=Xt(n,t.page.borderBox.center),u={target:oo(t.page.borderBox,c),destination:o,withDroppableDisplacement:r,viewport:a};return s?(function(e){return Lo(l({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var o=Ao(e.top,e.bottom),n=Ao(e.left,e.right);return function(e){return t===Co?o(e.top)&&o(e.bottom):n(e.left)&&n(e.right)}})}));var t})(u):Fo(u)},Yo=function(e){var t=e.isMovingForward,o=e.draggable,n=e.destination,a=e.draggables,r=e.previousImpact,i=e.viewport,s=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var d=_o(n.descriptor.id,a),p=yo(o,n),f=(function(e){var t=e.isMovingForward,o=e.draggable,n=e.destination,a=e.insideDestination,r=e.previousImpact;if(!n.isCombineEnabled)return null;if(!vo(r))return null;function i(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return l({},r,{at:t})}var s=r.displaced.all,c=s.length?s[0]:null;if(t)return c?i(c):null;var u=wo(o,a);if(!c)return u.length?i(u[u.length-1].descriptor.id):null;var d=lo(u,(function(e){return e.descriptor.id===c}));-1===d&&jt(!1);var p=d-1;return p<0?null:i(u[p].descriptor.id)})({isMovingForward:t,draggable:o,destination:n,insideDestination:d,previousImpact:r})||(function(e){var t=e.isMovingForward,o=e.isInHomeList,n=e.draggable,a=e.draggables,r=e.destination,i=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||jt(!1),"REORDER"===u.type){var d=(function(e){var t=e.isMovingForward,o=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var r=a.index,i=t?r+1:r-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return i<s||i>(o?l:l+1)?null:i})({isMovingForward:t,isInHomeList:o,location:u.destination,insideDestination:i});return null==d?null:xo({draggable:n,insideDestination:i,destination:r,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=(function(e){var t=e.isMovingForward,o=e.draggables,n=e.combine,a=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var r=n.draggableId,i=o[r].descriptor.index;return Ro(r,a)?t?i:i-1:t?i+1:i})({isMovingForward:t,destination:r,displaced:s.displaced,draggables:a,combine:u.combine,afterCritical:c});return null==p?null:xo({draggable:n,insideDestination:i,destination:r,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})})({isMovingForward:t,isInHomeList:p,draggable:o,draggables:a,destination:n,insideDestination:d,previousImpact:r,viewport:i,afterCritical:u});if(!f)return null;var m=Wo({impact:f,draggable:o,droppable:n,draggables:a,afterCritical:u});if(zo({draggable:o,destination:n,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:qo({pageBorderBoxCenter:m,draggable:o,viewport:i}),impact:f,scrollJumpRequest:null};var g=Xt(m,s),_=(function(e){var t=e.impact,o=e.viewport,n=e.destination,a=e.draggables,r=e.maxScrollChange,i=Go(o,Zt(o.scroll.current,r)),s=n.frame?io(n,Zt(n.frame.scroll.current,r)):n,c=t.displaced,u=No({afterDragging:Vo(c.all,a),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:c,forceShouldAnimate:!1}),d=No({afterDragging:Vo(c.all,a),destination:s,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),p={},f={},m=[c,u,d];return c.all.forEach((function(e){var t=(function(e,t){for(var o=0;o<t.length;o++){var n=t[o].visible[e];if(n)return n}return null})(e,m);t?f[e]=t:p[e]=!0})),l({},t,{displaced:{all:c.all,invisible:p,visible:f}})})({impact:f,viewport:i,destination:n,draggables:a,maxScrollChange:g});return{clientSelection:c,impact:_,scrollJumpRequest:g}},Ko=function(e){var t=e.subject.active;return t||jt(!1),t},Zo=function(e,t){var o=e.page.borderBox.center;return Ro(e.descriptor.id,t)?Xt(o,t.displacedBy.point):o},Xo=function(e,t){var o=e.page.borderBox;return Ro(e.descriptor.id,t)?oo(o,$t(t.displacedBy.point)):o},Ho=Nt((function(e,t){var o=t[e.line];return{value:o,point:Jt(e.line,o)}})),$o=function(e,t){return l({},e,{scroll:l({},e.scroll,{max:t})})},Jo=function(e,t,o){var n=e.frame;yo(t,e)&&jt(!1),e.subject.withPlaceholder&&jt(!1);var a=Ho(e.axis,t.displaceBy).point,r=(function(e,t,o){var n=e.axis;if("virtual"===e.descriptor.mode)return Jt(n.line,t[n.line]);var a=e.subject.page.contentBox[n.size],r=_o(e.descriptor.id,o).reduce((function(e,t){return e+t.client.marginBox[n.size]}),0)+t[n.line]-a;return r<=0?null:Jt(n.line,r)})(e,a,o),i={placeholderSize:a,increasedBy:r,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n)return l({},e,{subject:ro({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame})});var s=r?Zt(n.scroll.max,r):n.scroll.max,c=$o(n,s);return l({},e,{subject:ro({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:c}),frame:c})},Qo=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},en=function(e){var t=e.state,o=e.type,n=(function(e,t){var o=Qo(e);return o?t[o]:null})(t.impact,t.dimensions.droppables),a=Boolean(n),r=t.dimensions.droppables[t.critical.droppable.id],i=n||r,s=i.axis.direction,l="vertical"===s&&("MOVE_UP"===o||"MOVE_DOWN"===o)||"horizontal"===s&&("MOVE_LEFT"===o||"MOVE_RIGHT"===o);if(l&&!a)return null;var c="MOVE_DOWN"===o||"MOVE_RIGHT"===o,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,m=p.droppables;return l?Yo({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:i,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):(function(e){var t=e.isMovingForward,o=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,r=e.draggables,i=e.droppables,s=e.viewport,l=e.afterCritical,c=(function(e){var t=e.isMovingForward,o=e.pageBorderBoxCenter,n=e.source,a=e.droppables,r=e.viewport,i=n.subject.active;if(!i)return null;var s=n.axis,l=Ao(i[s.start],i[s.end]),c=mo(a).filter((function(e){return e!==n})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return Oo(r.frame)(Ko(e))})).filter((function(e){var o=Ko(e);return t?i[s.crossAxisEnd]<o[s.crossAxisEnd]:o[s.crossAxisStart]<i[s.crossAxisStart]})).filter((function(e){var t=Ko(e),o=Ao(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||o(i[s.start])||o(i[s.end])})).sort((function(e,o){var n=Ko(e)[s.crossAxisStart],a=Ko(o)[s.crossAxisStart];return t?n-a:a-n})).filter((function(e,t,o){return Ko(e)[s.crossAxisStart]===Ko(o[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return Ao(Ko(e)[s.start],Ko(e)[s.end])(o[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return Ko(e)[s.start]-Ko(t)[s.start]}))[0]:c.sort((function(e,t){var n=eo(o,no(Ko(e))),a=eo(o,no(Ko(t)));return n!==a?n-a:Ko(e)[s.start]-Ko(t)[s.start]}))[0]})({isMovingForward:t,pageBorderBoxCenter:o,source:a,droppables:i,viewport:s});if(!c)return null;var u=_o(c.descriptor.id,r),d=(function(e){var t=e.previousPageBorderBoxCenter,o=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,r=e.draggables,i=e.destination,s=e.viewport,l=e.afterCritical;if(!o){if(n.length)return null;var c={displaced:So,displacedBy:ho,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},u=Wo({impact:c,draggable:a,droppable:i,draggables:r,afterCritical:l}),d=yo(a,i)?i:Jo(i,a,r);return zo({draggable:a,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p,f=Boolean(t[i.axis.line]<=o.page.borderBox.center[i.axis.line]),m=(p=o.descriptor.index,o.descriptor.id===a.descriptor.id||f?p:p+1);return xo({draggable:a,insideDestination:n,destination:i,viewport:s,displacedBy:Ho(i.axis,a.displaceBy),last:So,index:m})})({previousPageBorderBoxCenter:o,destination:c,draggable:n,draggables:r,moveRelativeTo:(function(e){var t=e.pageBorderBoxCenter,o=e.viewport,n=e.destination,a=e.afterCritical;return e.insideDestination.filter((function(e){return Fo({target:Xo(e,a),destination:n,viewport:o.frame,withDroppableDisplacement:!0})})).sort((function(e,o){var r=Qt(t,Bo(n,Zo(e,a))),i=Qt(t,Bo(n,Zo(o,a)));return r<i?-1:i<r?1:e.descriptor.index-o.descriptor.index}))[0]||null})({pageBorderBoxCenter:o,viewport:s,destination:c,insideDestination:u,afterCritical:l}),insideDestination:u,viewport:s,afterCritical:l});if(!d)return null;var p=Wo({impact:d,draggable:n,droppable:c,draggables:r,afterCritical:l});return{clientSelection:qo({pageBorderBoxCenter:p,draggable:n,viewport:s}),impact:d,scrollJumpRequest:null}})({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:i,draggables:f,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function tn(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function on(e){var t=Ao(e.top,e.bottom),o=Ao(e.left,e.right);return function(e){return t(e.y)&&o(e.x)}}var nn=function(e,t){return yt(oo(e,t))};function an(e){var t=e.displaced,o=e.id;return Boolean(t.visible[o]||t.invisible[o])}var rn=function(e){var t=e.pageOffset,o=e.draggable,n=e.draggables,a=e.droppables,r=e.previousImpact,i=e.viewport,s=e.afterCritical,l=nn(o.page.borderBox,t),c=(function(e){var t=e.pageBorderBox,o=e.draggable,n=e.droppables,a=mo(n).filter((function(e){if(!e.isEnabled)return!1;var o,n,a=e.subject.active;if(!a)return!1;if(n=a,!((o=t).left<n.right&&o.right>n.left&&o.top<n.bottom&&o.bottom>n.top))return!1;if(on(a)(t.center))return!0;var r=e.axis,i=a.center[r.crossAxisLine],s=t[r.crossAxisStart],l=t[r.crossAxisEnd],c=Ao(a[r.crossAxisStart],a[r.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<i:l>i)}));return a.length?1===a.length?a[0].descriptor.id:(function(e){var t=e.pageBorderBox,o=e.candidates,n=e.draggable.page.borderBox.center,a=o.map((function(e){var o=e.axis,a=Jt(e.axis.line,t.center[o.line],e.page.borderBox.center[o.crossAxisLine]);return{id:e.descriptor.id,distance:Qt(n,a)}})).sort((function(e,t){return t.distance-e.distance}));return a[0]?a[0].id:null})({pageBorderBox:t,draggable:o,candidates:a}):null})({pageBorderBox:l,draggable:o,droppables:a});if(!c)return Eo;var u=a[c],d=_o(u.descriptor.id,n),p=(function(e,t){var o=e.frame;return o?nn(t,o.scroll.diff.value):t})(u,l);return(function(e){var t=e.draggable,o=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,r=e.insideDestination,i=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,l=Ho(a.axis,t.displaceBy),c=l.value,u=o[s.start],d=o[s.end],p=co(wo(t,r),(function(e){var t=e.descriptor.id,o=e.page.borderBox,a=o[s.size]/4,r=Ro(t,i),l=an({displaced:n.displaced,id:t});return r?l?d>o[s.start]+a&&d<o[s.end]-a:u>o[s.start]-c+a&&u<o[s.end]-c-a:l?d>o[s.start]+c+a&&d<o[s.end]+c-a:u>o[s.start]+a&&u<o[s.end]-a}));return p?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:a.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:p,draggable:o,previousImpact:r,destination:u,insideDestination:d,afterCritical:s})||(function(e){var t=e.pageBorderBoxWithDroppableScroll,o=e.draggable,n=e.destination,a=e.insideDestination,r=e.last,i=e.viewport,s=e.afterCritical,l=n.axis,c=Ho(n.axis,o.displaceBy),u=c.value,d=t[l.start],p=t[l.end],f=(function(e){var t=e.draggable,o=e.closest;return o?e.inHomeList&&o.descriptor.index>t.descriptor.index?o.descriptor.index-1:o.descriptor.index:null})({draggable:o,closest:co(wo(o,a),(function(e){var t=e.descriptor.id,o=e.page.borderBox.center[l.line],n=Ro(t,s),a=an({displaced:r,id:t});return n?a?p<=o:d<o-u:a?p<=o+u:d<o})),inHomeList:yo(o,n)});return xo({draggable:o,insideDestination:a,destination:n,viewport:i,last:r,displacedBy:c,index:f})})({pageBorderBoxWithDroppableScroll:p,draggable:o,destination:u,insideDestination:d,last:r.displaced,viewport:i,afterCritical:s})},sn=function(e,t){var o;return l({},e,((o={})[t.descriptor.id]=t,o))},ln=function(e){var t=e.previousImpact,o=e.impact,n=e.droppables,a=Qo(t),r=Qo(o);if(!a)return n;if(a===r)return n;var i=n[a];if(!i.subject.withPlaceholder)return n;var s=(function(e){var t=e.subject.withPlaceholder;t||jt(!1);var o=e.frame;if(!o)return l({},e,{subject:ro({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var n=t.oldFrameMaxScroll;n||jt(!1);var a=$o(o,n);return l({},e,{subject:ro({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null}),frame:a})})(i);return sn(n,s)},cn=function(e){var t=e.state,o=e.clientSelection,n=e.dimensions,a=e.viewport,r=e.impact,i=e.scrollJumpRequest,s=a||t.viewport,c=n||t.dimensions,u=o||t.current.client.selection,d=Xt(u,t.initial.client.selection),p={offset:d,selection:u,borderBoxCenter:Zt(t.initial.client.borderBoxCenter,d)},f={selection:Zt(p.selection,s.scroll.current),borderBoxCenter:Zt(p.borderBoxCenter,s.scroll.current),offset:Zt(p.offset,s.scroll.diff.value)},m={client:p,page:f};if("COLLECTING"===t.phase)return l({phase:"COLLECTING"},t,{dimensions:c,viewport:s,current:m});var g=c.draggables[t.critical.draggable.id],_=r||rn({pageOffset:f.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),v=(function(e){var t=e.draggable,o=e.draggables,n=e.droppables,a=e.impact,r=ln({previousImpact:e.previousImpact,impact:a,droppables:n}),i=Qo(a);if(!i)return r;var s=n[i];if(yo(t,s))return r;if(s.subject.withPlaceholder)return r;var l=Jo(s,t,o);return sn(r,l)})({draggable:g,impact:_,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return l({},t,{current:m,dimensions:{draggables:c.draggables,droppables:v},impact:_,viewport:s,scrollJumpRequest:i||null,forceShouldAnimate:!i&&null})},un=function(e){var t=e.impact,o=e.viewport,n=e.draggables,a=e.destination,r=e.forceShouldAnimate,i=t.displaced;return l({},t,{displaced:No({afterDragging:(function(e,t){return e.map((function(e){return t[e]}))})(i.all,n),destination:a,displacedBy:t.displacedBy,viewport:o.frame,forceShouldAnimate:r,last:i})})},dn=function(e){var t=e.impact,o=e.draggable,n=e.droppable,a=e.draggables,r=e.viewport,i=e.afterCritical,s=Wo({impact:t,draggable:o,draggables:a,droppable:n,afterCritical:i});return qo({pageBorderBoxCenter:s,draggable:o,viewport:r})},pn=function(e){var t=e.state,o=e.dimensions,n=e.viewport;"SNAP"!==t.movementMode&&jt(!1);var a=t.impact,r=n||t.viewport,i=o||t.dimensions,s=i.draggables,l=i.droppables,c=s[t.critical.draggable.id],u=Qo(a);u||jt(!1);var d=l[u],p=un({impact:a,viewport:r,destination:d,draggables:s}),f=dn({impact:p,draggable:c,droppable:d,draggables:s,viewport:r,afterCritical:t.afterCritical});return cn({impact:p,clientSelection:f,state:t,dimensions:i,viewport:r})},fn=function(e){var t=e.draggable,o=e.home,n=e.draggables,a=e.viewport,r=Ho(o.axis,t.displaceBy),i=_o(o.descriptor.id,n),s=i.indexOf(t);-1===s&&jt(!1);var l,c=i.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===o.descriptor.mode,displacedBy:r,effected:u};return{impact:{displaced:No({afterDragging:c,destination:o,displacedBy:r,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:r,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},mn=function(e){return"SNAP"===e.movementMode},gn=function(e,t,o){var n=(function(e,t){return{draggables:e.draggables,droppables:sn(e.droppables,t)}})(e.dimensions,t);return!mn(e)||o?cn({state:e,dimensions:n}):pn({state:e,dimensions:n})};function _n(e){return e.isDragging&&"SNAP"===e.movementMode?l({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var vn={phase:"IDLE",completed:null,shouldFlush:!1},bn=function(e,t){if(void 0===e&&(e=vn),"FLUSH"===t.type)return l({},vn,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&jt(!1);var o=t.payload,n=o.critical,a=o.clientSelection,r=o.viewport,i=o.dimensions,s=o.movementMode,c=i.draggables[n.draggable.id],u=i.droppables[n.droppable.id],d={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Kt},p={client:d,page:{selection:Zt(d.selection,r.scroll.initial),borderBoxCenter:Zt(d.selection,r.scroll.initial),offset:Zt(d.selection,r.scroll.diff.value)}},f=mo(i.droppables).every((function(e){return!e.isFixedOnPage})),m=fn({draggable:c,home:u,draggables:i.draggables,viewport:r}),g=m.impact;return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:i,initial:p,current:p,isWindowScrollAllowed:f,impact:g,afterCritical:m.afterCritical,onLiftImpact:g,viewport:r,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&jt(!1),l({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&jt(!1),(function(e){var t=e.state,o=e.published,n=o.modified.map((function(e){var o=t.dimensions.droppables[e.droppableId];return io(o,e.scroll)})),a=l({},t.dimensions.droppables,{},po(n)),r=fo((function(e){var t=e.additions,o=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,r=(function(e){var t=e.frame;return t||jt(!1),t})(o[t]).scroll.diff.value;return(function(e){var t=e.draggable,o=e.offset,n=e.initialWindowScroll,a=Tt(t.client,o),r=Ct(a,n);return l({},t,{placeholder:l({},t.placeholder,{client:a}),client:a,page:r})})({draggable:e,offset:Zt(a,r),initialWindowScroll:n.scroll.initial})}))})({additions:o.additions,updatedDroppables:a,viewport:t.viewport})),i=l({},t.dimensions.draggables,{},r);o.removals.forEach((function(e){delete i[e]}));var s={droppables:a,draggables:i},c=Qo(t.impact),u=c?s.droppables[c]:null,d=s.draggables[t.critical.draggable.id],p=s.droppables[t.critical.droppable.id],f=fn({draggable:d,home:p,draggables:i,viewport:t.viewport}),m=f.impact,g=f.afterCritical,_=u&&u.isCombineEnabled?t.impact:m,v=rn({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:_,viewport:t.viewport,afterCritical:g}),b=l({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:m,dimensions:s,afterCritical:g,forceShouldAnimate:!1});return"COLLECTING"===t.phase?b:l({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;tn(e)||jt(!1);var _=t.payload.client;return Ht(_,e.current.client.selection)?e:cn({state:e,clientSelection:_,impact:mn(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return _n(e);if("COLLECTING"===e.phase)return _n(e);tn(e)||jt(!1);var v=t.payload,b=v.id,w=v.newScroll,y=e.dimensions.droppables[b];if(!y)return e;var h=io(y,w);return gn(e,h,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;tn(e)||jt(!1);var S=t.payload,E=S.id,A=S.isEnabled,O=e.dimensions.droppables[E];O||jt(!1),O.isEnabled===A&&jt(!1);var T=l({},O,{isEnabled:A});return gn(e,T,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;tn(e)||jt(!1);var C=t.payload,M=C.id,L=C.isCombineEnabled,I=e.dimensions.droppables[M];I||jt(!1),I.isCombineEnabled===L&&jt(!1);var F=l({},I,{isCombineEnabled:L});return gn(e,F,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;tn(e)||jt(!1),e.isWindowScrollAllowed||jt(!1);var N=t.payload.newScroll;if(Ht(e.viewport.scroll.current,N))return _n(e);var P=Go(e.viewport,N);return mn(e)?pn({state:e,viewport:P}):cn({state:e,viewport:P})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!tn(e))return e;var x=t.payload.maxScroll;if(Ht(x,e.viewport.scroll.max))return e;var R=l({},e.viewport,{scroll:l({},e.viewport.scroll,{max:x})});return l({phase:"DRAGGING"},e,{viewport:R})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&jt(!1);var D=en({state:e,type:t.type});return D?cn({state:e,impact:D.impact,clientSelection:D.clientSelection,scrollJumpRequest:D.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var k=t.payload.reason;return"COLLECTING"!==e.phase&&jt(!1),l({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:k})}if("DROP_ANIMATE"===t.type){var j=t.payload,U=j.completed,B=j.dropDuration,W=j.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&jt(!1),{phase:"DROP_ANIMATING",completed:U,dropDuration:B,newHomeClientOffset:W,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},wn=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},yn=function(){return{type:"COLLECTION_STARTING",payload:null}},hn=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Sn=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},En=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},An=function(e){return{type:"MOVE",payload:e}},On=function(){return{type:"MOVE_UP",payload:null}},Tn=function(){return{type:"MOVE_DOWN",payload:null}},Cn=function(){return{type:"MOVE_RIGHT",payload:null}},Mn=function(){return{type:"MOVE_LEFT",payload:null}},Ln=function(e){return{type:"DROP_COMPLETE",payload:e}},In=function(e){return{type:"DROP",payload:e}},Fn="cubic-bezier(.2,1,.1,1)",Nn=0,Pn=.7,xn=.75,Rn="0.2s cubic-bezier(0.2, 0, 0, 1)",Dn={fluid:"opacity "+Rn,snap:"transform "+Rn+", opacity "+Rn,drop:function(e){var t=e+"s "+Fn;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Rn,placeholder:"height "+Rn+", width "+Rn+", margin "+Rn},kn=function(e){return Ht(e,Kt)?null:"translate("+e.x+"px, "+e.y+"px)"},jn=kn,Un=function(e){var t=e.getState,o=e.dispatch;return function(e){return function(n){if("DROP"===n.type){var a=t(),r=n.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&jt(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&jt(!1);var i=a.critical,s=a.dimensions,c=s.draggables[a.critical.draggable.id],u=(function(e){var t=e.draggables,o=e.reason,n=e.lastImpact,a=e.home,r=e.viewport,i=e.onLiftImpact;return n.at&&"DROP"===o?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:l({},n,{displaced:So}),didDropInsideDroppable:!0}:{impact:un({draggables:t,impact:i,destination:a,viewport:r,forceShouldAnimate:!0}),didDropInsideDroppable:!1}})({reason:r,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),d=u.impact,p=u.didDropInsideDroppable,f=p?vo(d):null,m=p?bo(d):null,g={index:i.draggable.index,droppableId:i.droppable.id},_={draggableId:c.descriptor.id,type:c.descriptor.type,source:g,reason:r,mode:a.movementMode,destination:f,combine:m},v=(function(e){var t=e.impact,o=e.draggable,n=e.dimensions,a=e.viewport,r=e.afterCritical,i=n.draggables,s=n.droppables,l=Qo(t),c=l?s[l]:null,u=s[o.descriptor.droppableId],d=dn({impact:t,draggable:o,draggables:i,afterCritical:r,droppable:c||u,viewport:a});return Xt(d,o.client.borderBox.center)})({impact:d,draggable:c,dimensions:s,viewport:a.viewport,afterCritical:a.afterCritical}),b={critical:a.critical,afterCritical:a.afterCritical,result:_,impact:d};if(!Ht(a.current.client.offset,v)||Boolean(_.combine)){var w=(function(e){var t=e.reason,o=Qt(e.current,e.destination);if(o<=0)return.33;if(o>=1500)return.55;var n=.33+o/1500*(.55-.33);return Number(("CANCEL"===t?.6*n:n).toFixed(2))})({current:a.current.client.offset,destination:v,reason:r});o((function(e){return{type:"DROP_ANIMATE",payload:e}})({newHomeClientOffset:v,dropDuration:w,completed:b}))}else o(Ln({completed:b}))}}else o((function(e){return{type:"DROP_PENDING",payload:e}})({reason:r}))}else e(n)}}},Bn=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var Wn=function(e){var t=(function(e){var t=e.onWindowScroll,o=Pt((function(){t(Bn())})),n=(function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}})(o),a=Rt;function r(){return a!==Rt}return{start:function(){r()&&jt(!1),a=Dt(window,[n])},stop:function(){r()||jt(!1),o.cancel(),a(),a=Rt},isActive:r}})({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(o){t.isActive()||"INITIAL_PUBLISH"!==o.type||t.start(),t.isActive()&&(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type})(o)&&t.stop(),e(o)}}},Gn=function(e,t){t()},Vn=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},qn=function(e,t,o,n){if(e){var a=(function(e){var t=!1,o=!1,n=setTimeout((function(){o=!0})),a=function(a){t||o||(t=!0,e(a),clearTimeout(n))};return a.wasCalled=function(){return t},a})(o);e(t,{announce:a}),a.wasCalled()||o(n(t))}else o(n(t))},zn=function(e,t){var o=(function(e,t){var o=(function(){var e=[];return{add:function(t){var o=setTimeout((function(){return(function(t){var o=lo(e,(function(e){return e.timerId===t}));-1===o&&jt(!1),e.splice(o,1)[0].callback()})(o)})),n={timerId:o,callback:t};e.push(n)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}})(),n=null,a=function(o){n||jt(!1),n=null,Gn(0,(function(){return qn(e().onDragEnd,o,t,Yt)}))};return{beforeCapture:function(t,o){n&&jt(!1),Gn(0,(function(){var n=e().onBeforeCapture;n&&n({draggableId:t,mode:o})}))},beforeStart:function(t,o){n&&jt(!1),Gn(0,(function(){var n=e().onBeforeDragStart;n&&n(Vn(t,o))}))},start:function(a,r){n&&jt(!1);var i=Vn(a,r);n={mode:r,lastCritical:a,lastLocation:i.source,lastCombine:null},o.add((function(){Gn(0,(function(){return qn(e().onDragStart,i,t,qt)}))}))},update:function(a,r){var i=vo(r),s=bo(r);n||jt(!1);var c=!(function(e,t){if(e===t)return!0;var o=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return o&&n})(a,n.lastCritical);c&&(n.lastCritical=a);var u,d,p=(d=i,!(null==(u=n.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));p&&(n.lastLocation=i);var f=!(function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId})(n.lastCombine,s);if(f&&(n.lastCombine=s),c||p||f){var m=l({},Vn(a,n.mode),{combine:s,destination:i});o.add((function(){Gn(0,(function(){return qn(e().onDragUpdate,m,t,zt)}))}))}},flush:function(){n||jt(!1),o.flush()},drop:a,abort:function(){if(n){var e=l({},Vn(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}})(e,t);return function(e){return function(t){return function(n){if("BEFORE_INITIAL_CAPTURE"!==n.type){if("INITIAL_PUBLISH"===n.type){var a=n.payload.critical;return o.beforeStart(a,n.payload.movementMode),t(n),void o.start(a,n.payload.movementMode)}if("DROP_COMPLETE"===n.type){var r=n.payload.completed.result;return o.flush(),t(n),void o.drop(r)}if(t(n),"FLUSH"!==n.type){var i=e.getState();"DRAGGING"===i.phase&&o.update(i.critical,i.impact)}else o.abort()}else o.beforeCapture(n.payload.draggableId,n.payload.movementMode)}}}},Yn=function(e){return function(t){return function(o){if("DROP_ANIMATION_FINISHED"===o.type){var n=e.getState();"DROP_ANIMATING"!==n.phase&&jt(!1),e.dispatch(Ln({completed:n.completed}))}else t(o)}}},Kn=function(e){var t=null,o=null;return function(n){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(o&&(cancelAnimationFrame(o),o=null),t&&(t(),t=null)),n(a),"DROP_ANIMATE"===a.type){var r={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};o=requestAnimationFrame((function(){o=null,t=Dt(window,[r])}))}}}},Zn=function(e){return function(t){return function(o){if(t(o),"PUBLISH_WHILE_DRAGGING"===o.type){var n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(In({reason:n.reason})))}}}},Xn=y,Hn=function(e){var t,o=e.dimensionMarshal,n=e.focusMarshal,a=e.styleMarshal,r=e.getResponders,i=e.announce,s=e.autoScroller;return v(bn,Xn((function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(e){return function(){var o=e.apply(void 0,arguments),n=function(){throw new Error(p(15))},a={getState:o.getState,dispatch:function(){return n.apply(void 0,arguments)}},r=t.map((function(e){return e(a)}));return n=y.apply(void 0,r)(o.dispatch),d(d({},o),{},{dispatch:n})}}})((t=a,function(){return function(e){return function(o){"INITIAL_PUBLISH"===o.type&&t.dragging(),"DROP_ANIMATE"===o.type&&t.dropping(o.payload.completed.result.reason),"FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type||t.resting(),e(o)}}}),(function(e){return function(){return function(t){return function(o){"DROP_COMPLETE"!==o.type&&"FLUSH"!==o.type&&"DROP_ANIMATE"!==o.type||e.stopPublishing(),t(o)}}}})(o),(function(e){return function(t){var o=t.getState,n=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var r=a.payload,i=r.id,s=r.clientSelection,l=r.movementMode,c=o();"DROP_ANIMATING"===c.phase&&n(Ln({completed:c.completed})),"IDLE"!==o().phase&&jt(!1),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:l}});var u={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,m=d.viewport;n({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:m}})}else t(a)}}}})(o),Un,Yn,Kn,Zn,(function(e){return function(t){return function(o){return function(n){if((function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type})(n))return e.stop(),void o(n);if("INITIAL_PUBLISH"===n.type){o(n);var a=t.getState();return"DRAGGING"!==a.phase&&jt(!1),void e.start(a)}o(n),e.scroll(t.getState())}}}})(s),Wn,(function(e){var t=!1;return function(){return function(o){return function(n){if("INITIAL_PUBLISH"===n.type)return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),o(n),void e.tryRestoreFocusRecorded();if(o(n),t){if("FLUSH"===n.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===n.type){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}})(n),zn(r,i))))},$n=function(e){var t=e.scrollHeight,o=e.scrollWidth,n=e.height,a=e.width,r=Xt({x:o,y:t},{x:a,y:n});return{x:Math.max(0,r.x),y:Math.max(0,r.y)}},Jn=function(){var e=document.documentElement;return e||jt(!1),e},Qn=function(){var e=Jn();return $n({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function ea(e,t,o){return o.descriptor.id!==t.id&&o.descriptor.type===t.type&&"virtual"===e.droppable.getById(o.descriptor.droppableId).descriptor.mode}var ta,oa,na=function(e,t){var o=null,n=(function(e){var t=e.registry,o=e.callbacks,n={additions:{},removals:{},modified:{}},a=null,r=function(){a||(o.collectionStarting(),a=requestAnimationFrame((function(){a=null;var e=n,r=e.additions,i=e.removals,s=e.modified,l=Object.keys(r).map((function(e){return t.draggable.getById(e).getDimension(Kt)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(i),modified:c};n={additions:{},removals:{},modified:{}},o.publish(u)})))};return{add:function(e){var t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],r()},remove:function(e){var t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],r()},stop:function(){a&&(cancelAnimationFrame(a),a=null,n={additions:{},removals:{},modified:{}})}}})({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){o||jt(!1);var a=o.critical.draggable;"ADDITION"===t.type&&ea(e,a,t.value)&&n.add(t.value),"REMOVAL"===t.type&&ea(e,a,t.value)&&n.remove(t.value)};return{updateDroppableIsEnabled:function(n,a){e.droppable.exists(n)||jt(!1),o&&t.updateDroppableIsEnabled({id:n,isEnabled:a})},updateDroppableIsCombineEnabled:function(n,a){o&&(e.droppable.exists(n)||jt(!1),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:a}))},scrollDroppable:function(t,n){o&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:function(n,a){o&&(e.droppable.exists(n)||jt(!1),t.updateDroppableScroll({id:n,newScroll:a}))},startPublishing:function(t){o&&jt(!1);var n=e.draggable.getById(t.draggableId),r=e.droppable.getById(n.descriptor.droppableId),i={draggable:n.descriptor,droppable:r.descriptor},s=e.subscribe(a);return o={critical:i,unsubscribe:s},(function(e){var t=e.critical,o=e.scrollOptions,n=e.registry,a=(function(){var e=Bn(),t=Qn(),o=e.y,n=e.x,a=Jn(),r=a.clientWidth,i=a.clientHeight;return{frame:yt({top:o,left:n,right:n+r,bottom:o+i}),scroll:{initial:e,current:e,max:t,diff:{value:Kt,displacement:Kt}}}})(),r=a.scroll.current,i=t.droppable,s=n.droppable.getAllByType(i.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(r,o)})),l=n.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(r)}));return{dimensions:{draggables:fo(l),droppables:po(s)},critical:t,viewport:a}})({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(o){n.stop();var t=o.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),o.unsubscribe(),o=null}}}},aa=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},ra=function(e){window.scrollBy(e.x,e.y)},ia=Nt((function(e){return mo(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),sa=function(e){return Math.pow(e,2)},la=function(e){var t=e.startOfRange,o=e.endOfRange,n=e.current,a=o-t;return 0===a?0:(n-t)/a},ca=360,ua=1200,da=function(e){var t=e.distanceToEdge,o=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,r=(function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var o=la({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=28*sa(1-o);return Math.ceil(n)})(t,o);return 0===r?0:a?Math.max((function(e,t){var o=t,n=ua,a=Date.now()-o;if(a>=ua)return e;if(a<ca)return 1;var r=la({startOfRange:ca,endOfRange:n,current:a}),i=e*sa(r);return Math.ceil(i)})(r,n),1):r},pa=function(e){var t=e.container,o=e.distanceToEdges,n=e.dragStartTime,a=e.axis,r=e.shouldUseTimeDampening,i=(function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}})(t,a);return o[a.end]<o[a.start]?da({distanceToEdge:o[a.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:r}):-1*da({distanceToEdge:o[a.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:r})},fa=to((function(e){return 0===e?0:e})),ma=function(e){var t=e.dragStartTime,o=e.container,n=e.subject,a=e.center,r=e.shouldUseTimeDampening,i={top:a.y-o.top,right:o.right-a.x,bottom:o.bottom-a.y,left:a.x-o.left},s=pa({container:o,distanceToEdges:i,dragStartTime:t,axis:Co,shouldUseTimeDampening:r}),l=pa({container:o,distanceToEdges:i,dragStartTime:t,axis:Mo,shouldUseTimeDampening:r}),c=fa({x:l,y:s});if(Ht(c,Kt))return null;var u=(function(e){var t=e.container,o=e.subject,n=e.proposedScroll,a=o.height>t.height,r=o.width>t.width;return r||a?r&&a?null:{x:r?0:n.x,y:a?0:n.y}:n})({container:o,subject:n,proposedScroll:c});return u?Ht(u,Kt)?null:u:null},ga=to((function(e){return 0===e?0:e>0?1:-1})),_a=(ta=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,o=e.max,n=e.change,a=Zt(t,n),r={x:ta(a.x,o.x),y:ta(a.y,o.y)};return Ht(r,Kt)?null:r}),va=function(e){var t=e.max,o=e.current,n=e.change,a={x:Math.max(o.x,t.x),y:Math.max(o.y,t.y)},r=ga(n),i=_a({max:a,current:o,change:r});return!i||0!==r.x&&0===i.x||0!==r.y&&0===i.y},ba=function(e,t){return va({current:e.scroll.current,max:e.scroll.max,change:t})},wa=function(e,t){var o=e.frame;return!!o&&va({current:o.scroll.current,max:o.scroll.max,change:t})},ya=function(e){var t=e.state,o=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,r=e.scrollDroppable,i=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=(function(e){var t=e.viewport,o=e.subject,n=e.center,a=e.shouldUseTimeDampening,r=ma({dragStartTime:e.dragStartTime,container:t.frame,subject:o,center:n,shouldUseTimeDampening:a});return r&&ba(t,r)?r:null})({dragStartTime:o,viewport:t.viewport,subject:s,center:i,shouldUseTimeDampening:n});if(l)return void a(l)}var c=(function(e){var t=e.center,o=e.destination,n=e.droppables;if(o){var a=n[o];return a.frame?a:null}return(function(e,t){return co(ia(t),(function(t){return t.frame||jt(!1),on(t.frame.pageMarginBox)(e)}))})(t,n)})({center:i,destination:Qo(t.impact),droppables:t.dimensions.droppables});if(c){var u=(function(e){var t=e.droppable,o=e.subject,n=e.center,a=e.dragStartTime,r=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var s=ma({dragStartTime:a,container:i.pageMarginBox,subject:o,center:n,shouldUseTimeDampening:r});return s&&wa(t,s)?s:null})({dragStartTime:o,droppable:c,subject:s,center:i,shouldUseTimeDampening:n});u&&r(c.descriptor.id,u)}},ha=function(e){var t=e.scrollDroppable,o=e.scrollWindow,n=e.move,a=(function(e){var t=e.scrollDroppable,o=Pt(e.scrollWindow),n=Pt(t),a=null,r=function(e){a||jt(!1);var t=a,r=t.shouldUseTimeDampening,i=t.dragStartTime;ya({state:e,scrollWindow:o,scrollDroppable:n,dragStartTime:i,shouldUseTimeDampening:r})};return{start:function(e){a&&jt(!1);var t=Date.now(),o=!1,n=function(){o=!0};ya({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:n,scrollDroppable:n}),a={dragStartTime:t,shouldUseTimeDampening:o},o&&r(e)},stop:function(){a&&(o.cancel(),n.cancel(),a=null)},scroll:r}})({scrollWindow:o,scrollDroppable:t}),r=(function(e){var t=e.move,o=e.scrollDroppable,n=e.scrollWindow,a=function(e,t){if(!wa(e,t))return t;var n=(function(e,t){var o=e.frame;return o&&wa(e,t)?_a({current:o.scroll.current,max:o.scroll.max,change:t}):null})(e,t);if(!n)return o(e.descriptor.id,t),null;var a=Xt(t,n);return o(e.descriptor.id,a),Xt(t,a)},r=function(e,t,o){if(!e)return o;if(!ba(t,o))return o;var a=(function(e,t){if(!ba(e,t))return null;var o=e.scroll.max,n=e.scroll.current;return _a({current:n,max:o,change:t})})(t,o);if(!a)return n(o),null;var r=Xt(o,a);return n(r),Xt(o,r)};return function(e){var o=e.scrollJumpRequest;if(o){var n=Qo(e.impact);n||jt(!1);var i=a(e.dimensions.droppables[n],o);if(i){var s=e.viewport,l=r(e.isWindowScrollAllowed,s,i);l&&(function(e,o){var n=Zt(e.current.client.selection,o);t({client:n})})(e,l)}}}})({move:n,scrollWindow:o,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&r(e):a.scroll(e))},start:a.start,stop:a.stop}},Sa={base:oa="data-rbd-drag-handle",draggableId:oa+"-draggable-id",contextId:oa+"-context-id"},Ea=(function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),Aa=(function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),Oa="data-rbd-scroll-container-context-id",Ta=function(e,t){return e.map((function(e){var o=e.styles[t];return o?e.selector+" { "+o+" }":""})).join(" ")},Ca="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect,Ma=function(){var e=document.querySelector("head");return e||jt(!1),e},La=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var Ia=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Fa(e){return e instanceof Ia(e).HTMLElement}function Na(){var e={draggables:{},droppables:{}},t=[];function o(e){t.length&&t.forEach((function(t){return t(e)}))}function n(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,o({type:"ADDITION",value:t})},update:function(t,o){var n=e.draggables[o.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[o.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,r=n(a);r&&t.uniqueId===r.uniqueId&&(delete e.draggables[a],o({type:"REMOVAL",value:t}))},getById:function(e){var t=n(e);return t||jt(!1),t},findById:n,exists:function(e){return Boolean(n(e))},getAllByType:function(t){return so(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var o=a(t.descriptor.id);o&&t.uniqueId===o.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||jt(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return so(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var o=t.indexOf(e);-1!==o&&t.splice(o,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Pa=a.default.createContext(null),xa=function(){var e=document.body;return e||jt(!1),e},Ra={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Da=0,ka={separator:"::"};function ja(e,t){return void 0===t&&(t=ka),bt((function(){return""+e+t.separator+Da++}),[t.separator,e])}var Ua=a.default.createContext(null);function Ba(e){var o=t.useRef(e);return t.useEffect((function(){o.current=e})),o}var Wa,Ga,Va=((Wa={})[13]=!0,Wa[9]=!0,Wa),qa=function(e){Va[e.keyCode]&&e.preventDefault()},za=(function(){var e="visibilitychange";return"undefined"==typeof document?e:co([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e})(),Ya={type:"IDLE"};function Ka(e){var o=t.useRef(Ya),n=t.useRef(Rt),a=bt((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var o=e.findClosestDraggableId(t);if(o){var a=e.tryGetLock(o,s,{sourceEvent:t});if(a){t.preventDefault();var r={x:t.clientX,y:t.clientY};n.current(),u(a,r)}}}}}}),[e]),r=bt((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var o=e.findClosestDraggableId(t);if(o){var n=e.findOptionsForDraggable(o);n&&(n.shouldRespectForcePress||e.canGetLock(o)&&t.preventDefault())}}}}}),[e]),i=wt((function(){n.current=Dt(window,[r,a],{passive:!1,capture:!0})}),[r,a]),s=wt((function(){"IDLE"!==o.current.type&&(o.current=Ya,n.current(),i())}),[i]),l=wt((function(){var e=o.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=wt((function(){var e=(function(e){var t=e.cancel,o=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,o=e.clientX,r=e.clientY;if(0===t){var i={x:o,y:r},s=n();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(i);if("PENDING"!==s.type&&jt(!1),l=s.point,c=i,Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5){var l,c;e.preventDefault();var u=s.actions.fluidLift(i);a({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var a=n();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),o()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==n().type)return 27===e.keyCode?(e.preventDefault(),void t()):void qa(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var o=n();"IDLE"===o.type&&jt(!1),o.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:za,fn:t}]})({cancel:l,completed:s,getPhase:function(){return o.current},setPhase:function(e){o.current=e}});n.current=Dt(window,e,{capture:!0,passive:!1})}),[l,s]),u=wt((function(e,t){"IDLE"!==o.current.type&&jt(!1),o.current={type:"PENDING",point:t,actions:e},c()}),[c]);Ca((function(){return i(),function(){n.current()}}),[i])}function Za(){}var Xa=((Ga={})[34]=!0,Ga[33]=!0,Ga[36]=!0,Ga[35]=!0,Ga);function Ha(e){var o=t.useRef(Za),n=bt((function(){return{eventName:"keydown",fn:function(t){if(!t.defaultPrevented&&32===t.keyCode){var n=e.findClosestDraggableId(t);if(n){var r=e.tryGetLock(n,l,{sourceEvent:t});if(r){t.preventDefault();var i=!0,s=r.snapLift();o.current(),o.current=Dt(window,(function(e,t){function o(){t(),e.cancel()}return[{eventName:"keydown",fn:function(n){return 27===n.keyCode?(n.preventDefault(),void o()):32===n.keyCode?(n.preventDefault(),t(),void e.drop()):40===n.keyCode?(n.preventDefault(),void e.moveDown()):38===n.keyCode?(n.preventDefault(),void e.moveUp()):39===n.keyCode?(n.preventDefault(),void e.moveRight()):37===n.keyCode?(n.preventDefault(),void e.moveLeft()):void(Xa[n.keyCode]?n.preventDefault():qa(n))}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:za,fn:o}]})(s,l),{capture:!0,passive:!1})}}}function l(){i||jt(!1),i=!1,o.current(),a()}}}}),[e]),a=wt((function(){o.current=Dt(window,[n],{passive:!1,capture:!0})}),[n]);Ca((function(){return a(),function(){o.current()}}),[a])}var $a={type:"IDLE"};function Ja(e){var o=t.useRef($a),n=t.useRef(Rt),a=wt((function(){return o.current}),[]),r=wt((function(e){o.current=e}),[]),i=bt((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var o=e.findClosestDraggableId(t);if(o){var a=e.tryGetLock(o,l,{sourceEvent:t});if(a){var r=t.touches[0],i={x:r.clientX,y:r.clientY};n.current(),p(a,i)}}}}}}),[e]),s=wt((function(){n.current=Dt(window,[i],{capture:!0,passive:!1})}),[i]),l=wt((function(){var e=o.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),r($a),n.current(),s())}),[s,r]),c=wt((function(){var e=o.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=wt((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:a},o=Dt(window,(function(e){var t=e.cancel,o=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var o=n();if("DRAGGING"===o.type){o.hasMoved=!0;var a=e.touches[0],r={x:a.clientX,y:a.clientY};e.preventDefault(),o.actions.move(r)}else t()}},{eventName:"touchend",fn:function(e){var a=n();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),o()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var o=n();"IDLE"===o.type&&jt(!1);var a=e.touches[0];if(a&&a.force>=.15){var r=o.actions.shouldRespectForcePress();if("PENDING"!==o.type)return r?o.hasMoved?void e.preventDefault():void t():void e.preventDefault();r&&t()}}},{eventName:za,fn:t}]})(t),e),r=Dt(window,(function(e){var t=e.cancel,o=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===o().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:za,fn:t}]})(t),e);n.current=function(){o(),r()}}),[c,a,l]),d=wt((function(){var e=a();"PENDING"!==e.type&&jt(!1);var t=e.actions.fluidLift(e.point);r({type:"DRAGGING",actions:t,hasMoved:!1})}),[a,r]),p=wt((function(e,t){"IDLE"!==a().type&&jt(!1);var o=setTimeout(d,120);r({type:"PENDING",point:t,actions:e,longPressTimerId:o}),u()}),[u,a,r,d]);Ca((function(){return s(),function(){n.current();var e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),r($a))}}),[a,s,r]),Ca((function(){return Dt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}var Qa={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function er(e,t){var o=t.target;return!!Fa(o)&&(function e(t,o){if(null==o)return!1;if(Boolean(Qa[o.tagName.toLowerCase()]))return!0;var n=o.getAttribute("contenteditable");return"true"===n||""===n||o!==t&&e(t,o.parentElement)})(e,o)}var tr=function(e){return yt(e.getBoundingClientRect()).center},or=(function(){var e="matches";return"undefined"==typeof document?e:co([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e})();function nr(e,t){return e.closest?e.closest(t):(function e(t,o){return null==t?null:t[or](o)?t:e(t.parentElement,o)})(e,t)}function ar(e){e.preventDefault()}function rr(e){var t=e.expected,o=e.phase,n=e.isLockActive;return e.shouldWarn,!!n()&&t===o}function ir(e){var t=e.lockAPI,o=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var r=n.draggable.findById(a);return!!r&&!!r.options.isEnabled&&!!aa(o.getState(),a)}function sr(e){var t=e.lockAPI,o=e.contextId,n=e.store,a=e.registry,r=e.draggableId,i=e.forceSensorStop,s=e.sourceEvent;if(!ir({lockAPI:t,store:n,registry:a,draggableId:r}))return null;var c=a.draggable.getById(r),u=(function(e,t){var o="["+Ea.contextId+'="'+e+'"]',n=co(uo(document.querySelectorAll(o)),(function(e){return e.getAttribute(Ea.id)===t}));return n&&Fa(n)?n:null})(o,c.descriptor.id);if(!u)return null;if(s&&!c.options.canDragInteractiveElements&&er(u,s))return null;var d=t.claim(i||Rt),p="PRE_DRAG";function f(){return c.options.shouldRespectForcePress}function m(){return t.isActive(d)}var g=function(e,t){rr({expected:e,phase:p,isLockActive:m,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function _(e){function o(){t.release(),p="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var r=Dt(window,[{eventName:"click",fn:ar,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(r)}o(),n.dispatch(In({reason:t}))}return"PRE_DRAG"!==p&&(o(),"PRE_DRAG"!==p&&jt(!1)),n.dispatch((function(e){return{type:"LIFT",payload:e}})(e.liftActionArgs)),p="DRAGGING",l({isActive:function(){return rr({expected:"DRAGGING",phase:p,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}return{isActive:function(){return rr({expected:"PRE_DRAG",phase:p,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=Pt((function(e){g((function(){return An({client:e})}))}));return l({},_({liftActionArgs:{id:r,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return g(On)},moveRight:function(){return g(Cn)},moveDown:function(){return g(Tn)},moveLeft:function(){return g(Mn)}};return _({liftActionArgs:{id:r,clientSelection:tr(u),movementMode:"SNAP"},cleanup:Rt,actions:e})},abort:function(){rr({expected:"PRE_DRAG",phase:p,isLockActive:m,shouldWarn:!0})&&t.release()}}}var lr=[Ka,Ha,Ja];function cr(e){var o=e.contextId,n=e.store,a=e.registry,r=e.customSensors,i=e.enableDefaultSensors,s=[].concat(i?lr:[],r||[]),l=t.useState((function(){return(function(){var e=null;function t(){e||jt(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&jt(!1);var o={abandon:t};return e=o,o},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}})()}))[0],c=wt((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Ca((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),Ca((function(){return l.tryAbandon}),[l.tryAbandon]);for(var u=wt((function(e){return ir({lockAPI:l,registry:a,store:n,draggableId:e})}),[l,a,n]),d=wt((function(e,t,r){return sr({lockAPI:l,registry:a,contextId:o,store:n,draggableId:e,forceSensorStop:t,sourceEvent:r&&r.sourceEvent?r.sourceEvent:null})}),[o,l,a,n]),p=wt((function(e){return(function(e,t){var o=(function(e,t){var o,n=t.target;if(!((o=n)instanceof Ia(o).Element))return null;var a=nr(n,(function(e){return"["+Sa.contextId+'="'+e+'"]'})(e));return a&&Fa(a)?a:null})(e,t);return o?o.getAttribute(Sa.draggableId):null})(o,e)}),[o]),f=wt((function(e){var t=a.draggable.findById(e);return t?t.options:null}),[a.draggable]),m=wt((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=wt(l.isClaimed,[l]),_=bt((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:g}}),[u,d,p,f,m,g]),v=0;v<s.length;v++)s[v](_)}function ur(e){return e.current||jt(!1),e.current}function dr(e){var o=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,s=e.dragHandleUsageInstructions,c=t.useRef(null),u=Ba(e),d=wt((function(){return(function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}})(u.current)}),[u]),p=(function(e){var o=bt((function(){return(function(e){return"rbd-announcement-"+e})(e)}),[e]),n=t.useRef(null);return t.useEffect((function(){var e=document.createElement("div");return n.current=e,e.id=o,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),l(e.style,Ra),xa().appendChild(e),function(){setTimeout((function(){var t=xa();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[o]),wt((function(e){var t=n.current;t&&(t.textContent=e)}),[])})(o),f=(function(e){var o=e.contextId,n=e.text,a=ja("hidden-text",{separator:"-"}),r=bt((function(){return"rbd-hidden-text-"+(e={contextId:o,uniqueId:a}).contextId+"-"+e.uniqueId;var e}),[a,o]);return t.useEffect((function(){var e=document.createElement("div");return e.id=r,e.textContent=n,e.style.display="none",xa().appendChild(e),function(){var t=xa();t.contains(e)&&t.removeChild(e)}}),[r,n]),r})({contextId:o,text:s}),m=(function(e,o){var n=bt((function(){return(function(e){var t,o,n,a=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=(o="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:a(Sa.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:o,dragging:"pointer-events: none;",dropAnimating:o}}),i=[(n="\n      transition: "+Dn.outOfTheWay+";\n    ",{selector:a(Ea.contextId),styles:{dragging:n,dropAnimating:n,userCancel:n}}),r,{selector:a(Aa.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Ta(i,"always"),resting:Ta(i,"resting"),dragging:Ta(i,"dragging"),dropAnimating:Ta(i,"dropAnimating"),userCancel:Ta(i,"userCancel")}})(e)}),[e]),a=t.useRef(null),r=t.useRef(null),i=wt(Nt((function(e){var t=r.current;t||jt(!1),t.textContent=e})),[]),s=wt((function(e){var t=a.current;t||jt(!1),t.textContent=e}),[]);Ca((function(){(a.current||r.current)&&jt(!1);var t=La(o),l=La(o);return a.current=t,r.current=l,t.setAttribute("data-rbd-always",e),l.setAttribute("data-rbd-dynamic",e),Ma().appendChild(t),Ma().appendChild(l),s(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||jt(!1),Ma().removeChild(t),e.current=null};e(a),e(r)}}),[o,s,i,n.always,n.resting,e]);var l=wt((function(){return i(n.dragging)}),[i,n.dragging]),c=wt((function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)}),[i,n.dropAnimating,n.userCancel]),u=wt((function(){r.current&&i(n.resting)}),[i,n.resting]);return bt((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])})(o,i),g=wt((function(e){ur(c).dispatch(e)}),[]),_=bt((function(){return w({publishWhileDragging:wn,updateDroppableScroll:hn,updateDroppableIsEnabled:Sn,updateDroppableIsCombineEnabled:En,collectionStarting:yn},g)}),[g]),v=(function(){var e=bt(Na,[]);return t.useEffect((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e})(),b=bt((function(){return na(v,_)}),[v,_]),y=bt((function(){return ha(l({scrollWindow:ra,scrollDroppable:b.scrollDroppable},w({move:An},g)))}),[b.scrollDroppable,g]),h=(function(e){var o=t.useRef({}),n=t.useRef(null),a=t.useRef(null),r=t.useRef(!1),i=wt((function(e,t){var n={id:e,focus:t};return o.current[e]=n,function(){var t=o.current;t[e]!==n&&delete t[e]}}),[]),s=wt((function(t){var o=(function(e,t){var o="["+Sa.contextId+'="'+e+'"]',n=uo(document.querySelectorAll(o));if(!n.length)return null;var a=co(n,(function(e){return e.getAttribute(Sa.draggableId)===t}));return a&&Fa(a)?a:null})(e,t);o&&o!==document.activeElement&&o.focus()}),[e]),l=wt((function(e,t){n.current===e&&(n.current=t)}),[]),c=wt((function(){a.current||r.current&&(a.current=requestAnimationFrame((function(){a.current=null;var e=n.current;e&&s(e)})))}),[s]),u=wt((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Sa.draggableId)===e&&(n.current=e)}),[]);return Ca((function(){return r.current=!0,function(){r.current=!1;var e=a.current;e&&cancelAnimationFrame(e)}}),[]),bt((function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[i,u,c,l])})(o),S=bt((function(){return Hn({announce:p,autoScroller:y,dimensionMarshal:b,focusMarshal:h,getResponders:d,styleMarshal:m})}),[p,y,b,h,d,m]);c.current=S;var E=wt((function(){var e=ur(c);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),A=wt((function(){var e=ur(c).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(bt((function(){return{isDragging:A,tryAbort:E}}),[A,E]));var O=wt((function(e){return aa(ur(c).getState(),e)}),[]),T=wt((function(){return tn(ur(c).getState())}),[]),C=bt((function(){return{marshal:b,focus:h,contextId:o,canLift:O,isMovementAllowed:T,dragHandleUsageInstructionsId:f,registry:v}}),[o,b,f,h,O,T,v]);return cr({contextId:o,store:S,registry:v,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),t.useEffect((function(){return E}),[E]),a.default.createElement(Ua.Provider,{value:C},a.default.createElement(M,{context:Pa,store:S},e.children))}var pr=0,fr=function(e){return function(t){return e===t}},mr=fr("scroll"),gr=fr("auto"),_r=function(e,t){return t(e.overflowX)||t(e.overflowY)},vr=function e(t){return null==t||t===document.body||t===document.documentElement?null:(function(e){var t=window.getComputedStyle(e),o={overflowX:t.overflowX,overflowY:t.overflowY};return _r(o,mr)||_r(o,gr)})(t)?t:e(t.parentElement)},br=function(e){return{x:e.scrollLeft,y:e.scrollTop}},wr=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},yr={passive:!1},hr={passive:!0},Sr=function(e){return e.shouldPublishImmediately?yr:hr};function Er(e){var o=t.useContext(e);return o||jt(!1),o}var Ar=function(e){return e&&e.env.closestScrollable||null};function Or(){}var Tr={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Cr=a.default.memo((function(e){var o=t.useRef(null),n=wt((function(){o.current&&(clearTimeout(o.current),o.current=null)}),[]),r=e.animate,i=e.onTransitionEnd,s=e.onClose,l=e.contextId,c=t.useState("open"===e.animate),u=c[0],d=c[1];t.useEffect((function(){return u?"open"!==r?(n(),d(!1),Or):o.current?Or:(o.current=setTimeout((function(){o.current=null,d(!1)})),n):Or}),[r,u,n]);var p=wt((function(e){"height"===e.propertyName&&(i(),"close"===r&&s())}),[r,s,i]),f=(function(e){var t=e.isAnimatingOpenOnMount,o=e.placeholder,n=e.animate,a=(function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?Tr:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}})({isAnimatingOpenOnMount:t,placeholder:o,animate:n});return{display:o.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Dn.placeholder:null}})({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return a.default.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":l,onTransitionEnd:p,ref:e.innerRef})})),Mr=a.default.createContext(null),Lr=(function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return s(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t})(a.default.PureComponent),Ir=function(e,t){return t?Dn.drop(t.duration):e?Dn.snap:Dn.fluid},Fr=function(e,t){return e?t?Nn:Pn:null};function Nr(e){return"DRAGGING"===e.type?(function(e){var t=e.dimension.client,o=e.offset,n=e.combineWith,a=e.dropping,r=Boolean(n),i=(function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode})(e),s=Boolean(a),l=s?(function(e,t){var o=kn(e);return o?t?o+" scale("+xn+")":o:null})(o,r):jn(o);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Ir(i,a),transform:l,opacity:Fr(r,s),zIndex:s?4500:5e3,pointerEvents:"none"}})(e):{transform:jn((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function Pr(e){e.preventDefault()}var xr=function(e,t){return e===t},Rr=function(e){var t=e.combine,o=e.destination;return o?o.droppableId:t?t.droppableId:null};function Dr(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var kr={mapped:{type:"SECONDARY",offset:Kt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Dr(null)}},jr=_t((function(){var e,t,o,n=(e=Nt((function(e,t){return{x:e,y:t}})),t=Nt((function(e,t,o,n,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:o,combineWith:n,combineTargetFor:null}})),o=Nt((function(e,o,n,a,r,i,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:r,combineWith:i,mode:o,offset:e,dimension:n,forceShouldAnimate:s,snapshot:t(o,a,r,i,null)}}})),function(n,a){if(n.isDragging){if(n.critical.draggable.id!==a.draggableId)return null;var r=n.current.client.offset,i=n.dimensions.draggables[a.draggableId],s=Qo(n.impact),l=(u=n.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=n.forceShouldAnimate;return o(e(r.x,r.y),n.movementMode,i,a.isClone,s,l,c)}var u;if("DROP_ANIMATING"===n.phase){var d=n.completed;if(d.result.draggableId!==a.draggableId)return null;var p=a.isClone,f=n.dimensions.draggables[a.draggableId],m=d.result,g=m.mode,_=Rr(m),v=(function(e){return e.combine?e.combine.draggableId:null})(m),b={duration:n.dropDuration,curve:Fn,moveTo:n.newHomeClientOffset,opacity:v?Nn:null,scale:v?xn:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:f,dropping:b,draggingOver:_,combineWith:v,mode:g,forceShouldAnimate:null,snapshot:t(g,p,_,v,b)}}}return null}),a=(function(){var e=Nt((function(e,t){return{x:e,y:t}})),t=Nt(Dr),o=Nt((function(e,o,n){return void 0===o&&(o=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:o,shouldAnimateDisplacement:n,snapshot:t(o)}}})),n=function(e){return e?o(Kt,e,!0):null},a=function(t,a,r,i){var s=r.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),c=bo(r),u=c&&c.draggableId===t?a:null;if(!s){if(!l)return n(u);if(r.displaced.invisible[t])return null;var d=$t(i.displacedBy.point),p=e(d.x,d.y);return o(p,u,!0)}if(l)return n(u);var f=r.displacedBy.point,m=e(f.x,f.y);return o(m,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var o=e.completed;return o.result.draggableId===t.draggableId?null:a(t.draggableId,o.result.draggableId,o.impact,o.afterCritical)}return null}})();return function(e,t){return n(e,t)||a(e,t)||kr}}),{dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},null,{context:Pa,pure:!0,areStatePropsEqual:xr})((function(e){var o=t.useRef(null),n=wt((function(e){o.current=e}),[]),a=wt((function(){return o.current}),[]),r=Er(Ua),i=r.contextId,s=r.dragHandleUsageInstructionsId,l=r.registry,c=Er(Mr),u=c.type,d=c.droppableId,p=bt((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,m=e.draggableId,g=e.isEnabled,_=e.shouldRespectForcePress,v=e.canDragInteractiveElements,b=e.isClone,w=e.mapped,y=e.dropAnimationFinished;b||(function(e){var o=ja("draggable"),n=e.descriptor,a=e.registry,r=e.getDraggableRef,i=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=bt((function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l}}),[i,l,s]),u=wt((function(e){var t=r();return t||jt(!1),(function(e,t,o){void 0===o&&(o=Kt);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),r=Mt(a,n),i=Ct(r,o);return{descriptor:e,placeholder:{client:r,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:r.marginBox.width,y:r.marginBox.height},client:r,page:i}})(n,t,e)}),[n,r]),d=bt((function(){return{uniqueId:o,descriptor:n,options:c,getDimension:u}}),[n,u,c,o]),p=t.useRef(d),f=t.useRef(!0);Ca((function(){return a.draggable.register(p.current),function(){return a.draggable.unregister(p.current)}}),[a.draggable]),Ca((function(){if(f.current)f.current=!1;else{var e=p.current;p.current=d,a.draggable.update(d,e)}}),[d,a.draggable])})(bt((function(){return{descriptor:p,registry:l,getDraggableRef:a,canDragInteractiveElements:v,shouldRespectForcePress:_,isEnabled:g}}),[p,l,a,v,_,g]));var h=bt((function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Pr}:null}),[i,s,m,g]),S=wt((function(e){"DRAGGING"===w.type&&w.dropping&&"transform"===e.propertyName&&y()}),[y,w]),E=bt((function(){var e=Nr(w),t="DRAGGING"===w.type&&w.dropping?S:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":m,style:e,onTransitionEnd:t},dragHandleProps:h}}),[i,h,m,w,S,n]),A=bt((function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}}),[p.droppableId,p.id,p.index,p.type]);return f(E,w.snapshot,A)}));function Ur(e){return Er(Mr).isUsingCloneFor!==e.draggableId||e.isClone?a.default.createElement(jr,e):null}var Br=function(e,t){return e===t.droppable.type},Wr=function(e,t){return t.draggables[e.draggable.id]},Gr={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||jt(!1),document.body}},Vr=_t((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=l({},e,{shouldAnimatePlaceholder:!1}),o=Nt((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),n=Nt((function(n,a,r,i,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===n){var u=l?{render:l,dragging:o(s.descriptor)}:null,d={isDraggingOver:r,draggingOverWith:r?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!a)return t;if(!i)return e;var p={isDraggingOver:r,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(o,a){var r=a.droppableId,i=a.type,s=!a.isDropDisabled,l=a.renderClone;if(o.isDragging){var c=o.critical;if(!Br(i,c))return t;var u=Wr(c,o.dimensions),d=Qo(o.impact)===r;return n(r,s,d,d,u,l)}if("DROP_ANIMATING"===o.phase){var p=o.completed;if(!Br(i,p.critical))return t;var f=Wr(p.critical,o.dimensions);return n(r,s,Rr(p.result)===r,Qo(p.impact)===r,f,l)}if("IDLE"===o.phase&&o.completed&&!o.shouldFlush){var m=o.completed;if(!Br(i,m.critical))return t;var g=Qo(m.impact)===r,_=Boolean(m.impact.at&&"COMBINE"===m.impact.at.type),v=m.critical.droppable.id===r;return g?_?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Pa,pure:!0,areStatePropsEqual:xr})((function(e){var o=t.useContext(Ua);o||jt(!1);var n=o.contextId,i=o.isMovementAllowed,s=t.useRef(null),l=t.useRef(null),c=e.children,u=e.droppableId,d=e.type,p=e.mode,f=e.direction,m=e.ignoreContainerClipping,g=e.isDropDisabled,_=e.isCombineEnabled,v=e.snapshot,b=e.useClone,w=e.updateViewportMaxScroll,y=e.getContainerForClone,h=wt((function(){return s.current}),[]),S=wt((function(e){s.current=e}),[]);wt((function(){return l.current}),[]);var E=wt((function(e){l.current=e}),[]),A=wt((function(){i()&&w({maxScroll:Qn()})}),[i,w]);!(function(e){var o=t.useRef(null),n=Er(Ua),a=ja("droppable"),r=n.registry,i=n.marshal,s=Ba(e),l=bt((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=t.useRef(l),u=bt((function(){return Nt((function(e,t){o.current||jt(!1);var n={x:e,y:t};i.updateDroppableScroll(l.id,n)}))}),[l.id,i]),d=wt((function(){var e=o.current;return e&&e.env.closestScrollable?br(e.env.closestScrollable):Kt}),[]),p=wt((function(){var e=d();u(e.x,e.y)}),[d,u]),f=bt((function(){return Pt(p)}),[p]),m=wt((function(){var e=o.current,t=Ar(e);e&&t||jt(!1),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),g=wt((function(e,t){o.current&&jt(!1);var a=s.current,r=a.getDroppableRef();r||jt(!1);var i=(function(e){return{closestScrollable:vr(e),isFixedOnPage:wr(e)}})(r),c={ref:r,descriptor:l,env:i,scrollOptions:t};o.current=c;var u=(function(e){var t=e.ref,o=e.descriptor,n=e.env,a=e.windowScroll,r=e.direction,i=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=n.closestScrollable,u=(function(e,t){var o=Lt(e);if(!t)return o;if(e!==t)return o;var n=o.paddingBox.top-t.scrollTop,a=o.paddingBox.left-t.scrollLeft,r=n+t.scrollHeight,i=a+t.scrollWidth,s=ht({top:n,right:i,bottom:r,left:a},o.border);return At({borderBox:s,margin:o.margin,border:o.border,padding:o.padding})})(t,c),d=Ct(u,a),p=(function(){if(!c)return null;var e=Lt(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:Ct(e,a),scroll:br(c),scrollSize:t,shouldClipSubject:l}})();return(function(e){var t=e.descriptor,o=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,r=e.direction,i=e.client,s=e.page,l=e.closest,c=(function(){if(!l)return null;var e=l.scrollSize,t=l.client,o=$n({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:o,diff:{value:Kt,displacement:Kt}}}})(),u="vertical"===r?Co:Mo;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:u,isEnabled:o,client:i,page:s,frame:c,subject:ro({page:s,withPlaceholder:null,axis:u,frame:c})}})({descriptor:o,isEnabled:!i,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:r,client:u,page:d,closest:p})})({ref:r,descriptor:l,env:i,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=i.closestScrollable;return d&&(d.setAttribute(Oa,n.contextId),d.addEventListener("scroll",m,Sr(c.scrollOptions))),u}),[n.contextId,l,m,s]),_=wt((function(){var e=o.current,t=Ar(e);return e&&t||jt(!1),br(t)}),[]),v=wt((function(){var e=o.current;e||jt(!1);var t=Ar(e);o.current=null,t&&(f.cancel(),t.removeAttribute(Oa),t.removeEventListener("scroll",m,Sr(e.scrollOptions)))}),[m,f]),b=wt((function(e){var t=o.current;t||jt(!1);var n=Ar(t);n||jt(!1),n.scrollTop+=e.y,n.scrollLeft+=e.x}),[]),w=bt((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:_,dragStopped:v,scroll:b}}),[v,g,_,b]),y=bt((function(){return{uniqueId:a,descriptor:l,callbacks:w}}),[w,l,a]);Ca((function(){return c.current=y.descriptor,r.droppable.register(y),function(){o.current&&v(),r.droppable.unregister(y)}}),[w,l,v,y,i,r.droppable]),Ca((function(){o.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,i]),Ca((function(){o.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,i])})({droppableId:u,type:d,mode:p,direction:f,isDropDisabled:g,isCombineEnabled:_,ignoreContainerClipping:m,getDroppableRef:h});var O=a.default.createElement(Lr,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,o=e.data,r=e.animate;return a.default.createElement(Cr,{placeholder:o,onClose:t,innerRef:E,animate:r,contextId:n,onTransitionEnd:A})})),T=bt((function(){return{innerRef:S,placeholder:O,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":n}}}),[n,u,O,S]),C=b?b.dragging.draggableId:null,M=bt((function(){return{droppableId:u,type:d,isUsingCloneFor:C}}),[u,C,d]);return a.default.createElement(Mr.Provider,{value:M},c(T,v),(function(){if(!b)return null;var e=b.dragging,t=b.render,o=a.default.createElement(Ur,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(o,n){return t(o,n,e)}));return r.default.createPortal(o,y())})())}));Vr.defaultProps=Gr,e.DragDropContext=function(e){var t=bt((function(){return""+pr++}),[]),o=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return a.default.createElement(Ut,null,(function(n){return a.default.createElement(dr,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:o,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))},e.Draggable=function(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,o=Boolean(e.disableInteractiveElementBlocking),n=Boolean(e.shouldRespectForcePress);return a.default.createElement(Ur,l({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:o,shouldRespectForcePress:n}))},e.Droppable=Vr,e.resetServerContext=function(){pr=0,Da=0},e.useKeyboardSensor=Ha,e.useMouseSensor=Ka,e.useTouchSensor=Ja,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pkg-flows.min.js-vflIRd3JT.map