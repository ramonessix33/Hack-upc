define("typescript/libraries/file-viewer/src/skeleton/preview_skeleton",["require","exports","tslib","react","typescript/libraries/file-viewer/src/skeleton/preview_skeleton_viewport","typescript/libraries/file-viewer/src/modes/constants"],(function(e,t,i,l,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Skeleton=void 0,l=i.__importDefault(l);t.Skeleton=({rightRailCollapsed:e,preview:t})=>{const i=e?a.SIDEBAR_CLOSED_WIDTH_RIGHT_RAIL:a.SIDEBAR_OPEN_WIDTH_RIGHT_RAIL,o=window.innerWidth-i,s=window.innerHeight-64;return l.default.createElement("div",{className:"skeleton-holder prerender-preview",style:{position:"absolute",top:0,left:0,width:"100%",height:"100vh",backgroundColor:"#f7f5f2"}},l.default.createElement("div",{className:"skeleton-action-bar",style:{position:"relative",top:0,left:0,width:"100%",height:"64px",borderBottom:"1px solid rgba(166,158,146,0.6)",backgroundColor:"#FFFFFF",boxSizing:"border-box"}}),l.default.createElement("div",{style:{display:"flex",width:"100%",height:"calc(100% - 64px)"}},l.default.createElement("div",{style:{flexGrow:1,height:"100%"}},l.default.createElement(r.SkeletonViewport,{width:o,height:s,preview:t})),l.default.createElement("div",{className:"skeleton-right-rail",style:{width:`${i}px`,height:"100%",borderLeft:"1px solid rgba(166,158,146,0.6)",backgroundColor:"#FFFFFF"}})))},t.Skeleton.displayName="Skeleton"})),define("typescript/libraries/file-viewer/src/skeleton/preview_skeleton_viewport",["require","exports","tslib","react","typescript/libraries/file-viewer/src/core/data/models","typescript/libraries/file-viewer/src/core/utils/image_utils"],(function(e,t,i,l,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonViewport=t.isEligibleToShowSkeletonPreview=void 0,l=i.__importDefault(l);function o(e){if(!(null==e?void 0:e.content))return!1;return e.content[".tag"]==r.PreviewType.Image}t.isEligibleToShowSkeletonPreview=o,t.SkeletonViewport=({width:e,height:t,preview:i})=>{var s;let n,d;const c=null===(s=null==i?void 0:i.content)||void 0===s?void 0:s[".tag"];if((null==i?void 0:i.content)&&o(i))switch(c){case r.PreviewType.Image:{const e=i.content;n=e.default_src,d=e.src_set;break}}const[u,p]=l.default.useState(NaN),[f,v]=l.default.useState(0),[w,h]=l.default.useState(0),[m,_]=l.default.useState(0),[k,g]=l.default.useState(0);return l.default.useEffect(()=>{const[i,l]=a.calculateFitBox(e-72,t-80,u);v(i),h(l),i<e&&_((e-i)/2),l<t&&g((t-l)/2)},[e,t,u]),l.default.createElement("div",{className:"skeleton-viewport",style:{width:e,height:t}},o(i)&&l.default.createElement("div",{className:"skeleton-sizer",style:{position:"absolute",width:`${f}px`,height:`${w}px`,transform:`translate(${m}px, ${k}px)`}},l.default.createElement("img",{className:"skeleton-image",src:n,srcSet:d,onLoad:({currentTarget:{naturalWidth:e,naturalHeight:t}})=>{p(e/t)},style:{width:"100%",height:"100%"},alt:""})))},t.SkeletonViewport.displayName="SkeletonViewport"})),define("metaserver/static/js/modules/clean/react/file_viewer/container_with_skeleton",["require","exports","tslib","react","typescript/libraries/file-viewer/src/skeleton/preview_skeleton","metaserver/static/js/modules/clean/react/file_viewer/sdk_file_viewer/preferences_util"],(function(e,t,i,l,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerWithSkeleton=void 0;const o=(l=i.__importDefault(l)).default.lazy(()=>i.__awaiter(void 0,void 0,void 0,(function*(){const{FileViewerContainer:t}=yield new Promise((t,i)=>{e(["metaserver/static/js/modules/clean/react/file_viewer/container"],t,i)}).then(i.__importStar);return{default:t}})));t.ContainerWithSkeleton=e=>{const{isEmbedded:t,fileViewerProps:{appDownloadInterstitialDismissed:i=!0}}=e,s=!e.userId||a.getRightRailIsCollapsed(e.userId),n=e.shouldShowSkeletonFilePreview?e.file.preview:void 0;return l.default.createElement(l.default.Fragment,null,!t&&i&&l.default.createElement(r.Skeleton,{rightRailCollapsed:s,preview:n}),l.default.createElement(l.default.Suspense,{fallback:l.default.createElement("div",null)},l.default.createElement(o,Object.assign({},e))))},t.ContainerWithSkeleton.displayName="ContainerWithSkeleton"}));
//# sourceMappingURL=pkg-fvsdk-skeleton.min.js-vflpafG6d.map