define("metaserver/static/js/modules/clean/components/loading_indicator",["require","exports","tslib","classnames","react","prop-types","lodash","metaserver/static/js/modules/core/accessible_announce","metaserver/static/js/modules/core/i18n"],(function(e,t,s,a,n,r,i,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingIndicator=t.LoadingIndicatorStyle=void 0,a=s.__importDefault(a),n=s.__importDefault(n),r=s.__importDefault(r),i=s.__importStar(i),t.LoadingIndicatorStyle={DOTS:"dots",SPINNER:"spinner",BLUE_SPINNER:"blue_spinner"};class d extends n.default.Component{componentDidMount(){this.props.shouldAnnounceMessage&&o.AccessibleAnnounce.polite(this.props.startMessage)}componentWillUnmount(){this.props.finishMessage&&this.props.shouldAnnounceMessage&&o.AccessibleAnnounce.polite(this.props.finishMessage)}render(){let e={};if(this.props.className){const t=this.props.className.split(" ");e=i.zipObject(t,t.map(e=>!0))}return e=Object.assign(Object.assign({},e),{"c-loader":!0,"c-loader--spinner":this.props.style===t.LoadingIndicatorStyle.SPINNER,"c-loader--spinner--blue":this.props.style===t.LoadingIndicatorStyle.BLUE_SPINNER}),n.default.createElement("div",{className:a.default(e)},this.props.startMessage)}}t.LoadingIndicator=d,d.displayName="LoadingIndicator",d.LoadingIndicatorStyle=t.LoadingIndicatorStyle,d.propTypes={style:r.default.oneOf(i.values(t.LoadingIndicatorStyle)),className:r.default.string,startMessage:r.default.string,finishMessage:r.default.string,shouldAnnounceMessage:r.default.bool},d.defaultProps={style:t.LoadingIndicatorStyle.DOTS,className:"",startMessage:l.intl.formatMessage({id:"M85BdF",defaultMessage:"Loading…"}),finishMessage:null,shouldAnnounceMessage:!0}}));var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,s,a){void 0===a&&(a=s),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,a){void 0===a&&(a=s),e[a]=t[s]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&__createBinding(t,e,s);return __setModuleDefault(t,e),t};define("metaserver/static/js/modules/clean/sharing/async_share_modal_util",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncShowPrefilledShareModal=t.asyncShowShareModal=t.asyncShowNewFolderShareModal=void 0,t.asyncShowNewFolderShareModal=function({contentManagerValidateFolderPath:t,defaultBasePath:s,initialContentName:a,isNonUserRelativeContext:n=!1,logShareModalView:r=!0,modalSessionId:i,onCancel:o,onClose:l,onSetContentNameAndSendShareFail:d,onShareClick:c,onSuccessSharing:h,setUrl:u,shareAsConfidential:p=!1,shareButtonLabelOverride:m,shouldCloseImmediately:f,shouldSuppressRedirectToBrowse:g,shouldSyncThisFolder:_,user:S,experiments:P={}}){new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/sharing/share_modal_util"],t,s)}).then(__importStar).then(e=>e.showNewFolderShareModal(S,i,s,a,p,n,_,u,t,h,c,g,f,o,l,d,m,r,P))},t.asyncShowShareModal=function(t,s,a={},n,r,i=!0){return new Promise(o=>{new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/sharing/share_modal_util"],t,s)}).then(__importStar).then(e=>{o(e.showShareModal(t,s,a,n,r,i))})})},t.asyncShowPrefilledShareModal=function({user:t,sharePrefillEmails:s,content:a,setUrl:n,contentManagerValidateFolderPath:r,extras:i}){new Promise((t,s)=>{e(["metaserver/static/js/modules/clean/sharing/share_modal_util"],t,s)}).then(__importStar).then(e=>{e.showPrefilledShareModal({user:t,sharePrefillEmails:s,content:a,setUrl:n,contentManagerValidateFolderPath:r,extras:i})})}})),define("metaserver/static/js/modules/clean/react/file_path_breadcrumb",["require","exports","tslib","classnames","react","lodash","metaserver/static/js/modules/clean/react/title_bubble","metaserver/static/js/modules/clean/react/sticky_position","metaserver/static/js/modules/clean/em_string"],(function(e,t,s,a,n,r,i,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilePathBreadcrumb=void 0,a=s.__importDefault(a),n=s.__importDefault(n),r=s.__importStar(r);const d=e=>Math.floor(1e3*e),c=e=>e/1e3;function h(e){const t=new l.Emstring(e.name).length;return{name:e.name,href:e.url,width:t,workingWidth:d(t)}}class u extends n.default.Component{constructor(){super(...arguments),this.handlePathClick=e=>{this.props.handlePathClick(e)}}getTotalPathWidth(e){let t=0;const s=d(this.props.pathDividerWidth);for(let a=0;a<e.length;a++){t+=e[a].workingWidth,a<e.length-1&&(t+=s)}return t}getPathsAvailable(){const{paths:e}=this.props;return e.length>1?e.slice(1):e}getPathsToShow(){const e=d(this.props.minPathWidth),t=d(this.props.pathDividerWidth),s=d(this.props.maxWidth),a=this.getPathsAvailable();let n=a.map(h),i=0,o=0;for(;this.getTotalPathWidth(n)>s;){if(o++>100)return l();if(i+3<=a.length){const e=[n[0],h({name:this.props.morePathsString})],t=0===i?2:3,s=n.slice(t,n.length);n=[...e,...s],i++}else{if(1===n.length)return l();{let a=s;for(let e=0;e<n.length-1;e++){a-=n[e].workingWidth+t}if(a<e)return l();{const e=r.last(n);e.width=c(a),e.workingWidth=a}}}}return n;function l(){const e=r.last(n);return e.width=c(s),e.workingWidth=s,[e]}}render(){const e=this.props.pathClassname,{morePathsString:t,useLinks:s}=this.props;let r=!1;const d=this.getPathsToShow().map(i=>{const{name:o,width:d,href:c}=i;r=r||o===t;const h=l.Emstring.em_snippet(o,d),u=[e];return c&&s?(u.push(`${e}--level`),n.default.createElement("a",{href:c,className:a.default(u),onClick:this.handlePathClick},h)):(u.push(`${e}--more`),n.default.createElement("span",{className:a.default(u)},h))}),c=n.default.createElement("span",{className:`${e}--wrapper`},d);return r&&this.props.showTooltipOnTruncated?n.default.createElement(i.TitleBubble,{content:this.getPathsAvailable().map(e=>e.name).join(" > "),position:o.StickyPosition.TOP,isTargetPositionFixed:!0},c):c}}t.FilePathBreadcrumb=u,u.defaultProps={pathClassname:"file-path-breadcrumb-component",maxWidth:46,minPathWidth:3,morePathsString:"…",pathDividerWidth:1.077,handlePathClick:r.noop,useLinks:!0,showTooltipOnTruncated:!1},u.displayName="FilePathBreadcrumb"}));
//# sourceMappingURL=pkg-pagelet-shared.min.js-vfleeKy_b.map